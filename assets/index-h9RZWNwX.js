var pme=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var drt=pme((Krt,LR)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var f1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var aq={exports:{}},B_={},sq={exports:{}},ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f2=Symbol.for("react.element"),gme=Symbol.for("react.portal"),mme=Symbol.for("react.fragment"),yme=Symbol.for("react.strict_mode"),vme=Symbol.for("react.profiler"),bme=Symbol.for("react.provider"),xme=Symbol.for("react.context"),wme=Symbol.for("react.forward_ref"),Ame=Symbol.for("react.suspense"),_me=Symbol.for("react.memo"),Sme=Symbol.for("react.lazy"),jL=Symbol.iterator;function Eme(e){return e===null||typeof e!="object"?null:(e=jL&&e[jL]||e["@@iterator"],typeof e=="function"?e:null)}var uq={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lq=Object.assign,cq={};function hg(e,t,n){this.props=e,this.context=t,this.refs=cq,this.updater=n||uq}hg.prototype.isReactComponent={};hg.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};hg.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function fq(){}fq.prototype=hg.prototype;function K$(e,t,n){this.props=e,this.context=t,this.refs=cq,this.updater=n||uq}var Q$=K$.prototype=new fq;Q$.constructor=K$;lq(Q$,hg.prototype);Q$.isPureReactComponent=!0;var WL=Array.isArray,dq=Object.prototype.hasOwnProperty,Z$={current:null},hq={key:!0,ref:!0,__self:!0,__source:!0};function pq(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)dq.call(t,r)&&!hq.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var u=Array(s),l=0;l<s;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:f2,type:e,key:o,ref:a,props:i,_owner:Z$.current}}function Cme(e,t){return{$$typeof:f2,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ek(e){return typeof e=="object"&&e!==null&&e.$$typeof===f2}function $me(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var HL=/\/+/g;function VE(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$me(""+e.key):t.toString(36)}function Lx(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case f2:case gme:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+VE(a,0):r,WL(i)?(n="",e!=null&&(n=e.replace(HL,"$&/")+"/"),Lx(i,t,n,"",function(l){return l})):i!=null&&(ek(i)&&(i=Cme(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(HL,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",WL(e))for(var s=0;s<e.length;s++){o=e[s];var u=r+VE(o,s);a+=Lx(o,t,n,u,i)}else if(u=Eme(e),typeof u=="function")for(e=u.call(e),s=0;!(o=e.next()).done;)o=o.value,u=r+VE(o,s++),a+=Lx(o,t,n,u,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function yb(e,t,n){if(e==null)return e;var r=[],i=0;return Lx(e,r,"","",function(o){return t.call(n,o,i++)}),r}function kme(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var pi={current:null},Px={transition:null},Tme={ReactCurrentDispatcher:pi,ReactCurrentBatchConfig:Px,ReactCurrentOwner:Z$};ft.Children={map:yb,forEach:function(e,t,n){yb(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return yb(e,function(){t++}),t},toArray:function(e){return yb(e,function(t){return t})||[]},only:function(e){if(!ek(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ft.Component=hg;ft.Fragment=mme;ft.Profiler=vme;ft.PureComponent=K$;ft.StrictMode=yme;ft.Suspense=Ame;ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tme;ft.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=lq({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=Z$.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in t)dq.call(t,u)&&!hq.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&s!==void 0?s[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){s=Array(u);for(var l=0;l<u;l++)s[l]=arguments[l+2];r.children=s}return{$$typeof:f2,type:e.type,key:i,ref:o,props:r,_owner:a}};ft.createContext=function(e){return e={$$typeof:xme,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bme,_context:e},e.Consumer=e};ft.createElement=pq;ft.createFactory=function(e){var t=pq.bind(null,e);return t.type=e,t};ft.createRef=function(){return{current:null}};ft.forwardRef=function(e){return{$$typeof:wme,render:e}};ft.isValidElement=ek;ft.lazy=function(e){return{$$typeof:Sme,_payload:{_status:-1,_result:e},_init:kme}};ft.memo=function(e,t){return{$$typeof:_me,type:e,compare:t===void 0?null:t}};ft.startTransition=function(e){var t=Px.transition;Px.transition={};try{e()}finally{Px.transition=t}};ft.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ft.useCallback=function(e,t){return pi.current.useCallback(e,t)};ft.useContext=function(e){return pi.current.useContext(e)};ft.useDebugValue=function(){};ft.useDeferredValue=function(e){return pi.current.useDeferredValue(e)};ft.useEffect=function(e,t){return pi.current.useEffect(e,t)};ft.useId=function(){return pi.current.useId()};ft.useImperativeHandle=function(e,t,n){return pi.current.useImperativeHandle(e,t,n)};ft.useInsertionEffect=function(e,t){return pi.current.useInsertionEffect(e,t)};ft.useLayoutEffect=function(e,t){return pi.current.useLayoutEffect(e,t)};ft.useMemo=function(e,t){return pi.current.useMemo(e,t)};ft.useReducer=function(e,t,n){return pi.current.useReducer(e,t,n)};ft.useRef=function(e){return pi.current.useRef(e)};ft.useState=function(e){return pi.current.useState(e)};ft.useSyncExternalStore=function(e,t,n){return pi.current.useSyncExternalStore(e,t,n)};ft.useTransition=function(){return pi.current.useTransition()};ft.version="18.2.0";sq.exports=ft;var J=sq.exports;const Oi=dg(J);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mme=J,Nme=Symbol.for("react.element"),Ome=Symbol.for("react.fragment"),Rme=Object.prototype.hasOwnProperty,Fme=Mme.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Dme={key:!0,ref:!0,__self:!0,__source:!0};function gq(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Rme.call(t,r)&&!Dme.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Nme,type:e,key:o,ref:a,props:i,_owner:Fme.current}}B_.Fragment=Ome;B_.jsx=gq;B_.jsxs=gq;aq.exports=B_;var V=aq.exports,v8={},mq={exports:{}},Co={},yq={exports:{}},vq={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,H){var j=z.length;z.push(H);e:for(;0<j;){var X=j-1>>>1,G=z[X];if(0<i(G,H))z[X]=H,z[j]=G,j=X;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var H=z[0],j=z.pop();if(j!==H){z[0]=j;e:for(var X=0,G=z.length,ee=G>>>1;X<ee;){var ne=2*(X+1)-1,de=z[ne],me=ne+1,ce=z[me];if(0>i(de,j))me<G&&0>i(ce,de)?(z[X]=ce,z[me]=j,X=me):(z[X]=de,z[ne]=j,X=ne);else if(me<G&&0>i(ce,j))z[X]=ce,z[me]=j,X=me;else break e}}return H}function i(z,H){var j=z.sortIndex-H.sortIndex;return j!==0?j:z.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var u=[],l=[],c=1,f=null,d=3,p=!1,g=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(z){for(var H=n(l);H!==null;){if(H.callback===null)r(l);else if(H.startTime<=z)r(l),H.sortIndex=H.expirationTime,t(u,H);else break;H=n(l)}}function A(z){if(y=!1,_(z),!g)if(n(u)!==null)g=!0,P(S);else{var H=n(l);H!==null&&U(A,H.startTime-z)}}function S(z,H){g=!1,y&&(y=!1,b(k),k=-1),p=!0;var j=d;try{for(_(H),f=n(u);f!==null&&(!(f.expirationTime>H)||z&&!F());){var X=f.callback;if(typeof X=="function"){f.callback=null,d=f.priorityLevel;var G=X(f.expirationTime<=H);H=e.unstable_now(),typeof G=="function"?f.callback=G:f===n(u)&&r(u),_(H)}else r(u);f=n(u)}if(f!==null)var ee=!0;else{var ne=n(l);ne!==null&&U(A,ne.startTime-H),ee=!1}return ee}finally{f=null,d=j,p=!1}}var C=!1,E=null,k=-1,O=5,N=-1;function F(){return!(e.unstable_now()-N<O)}function W(){if(E!==null){var z=e.unstable_now();N=z;var H=!0;try{H=E(!0,z)}finally{H?I():(C=!1,E=null)}}else C=!1}var I;if(typeof x=="function")I=function(){x(W)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,D=M.port2;M.port1.onmessage=W,I=function(){D.postMessage(null)}}else I=function(){v(W,0)};function P(z){E=z,C||(C=!0,I())}function U(z,H){k=v(function(){z(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,P(S))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(z){switch(d){case 1:case 2:case 3:var H=3;break;default:H=d}var j=d;d=H;try{return z()}finally{d=j}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,H){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var j=d;d=z;try{return H()}finally{d=j}},e.unstable_scheduleCallback=function(z,H,j){var X=e.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?X+j:X):j=X,z){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=j+G,z={id:c++,callback:H,priorityLevel:z,startTime:j,expirationTime:G,sortIndex:-1},j>X?(z.sortIndex=j,t(l,z),n(u)===null&&z===n(l)&&(y?(b(k),k=-1):y=!0,U(A,j-X))):(z.sortIndex=G,t(u,z),g||p||(g=!0,P(S))),z},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(z){var H=d;return function(){var j=d;d=H;try{return z.apply(this,arguments)}finally{d=j}}}})(vq);yq.exports=vq;var Lme=yq.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bq=J,vo=Lme;function ye(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xq=new Set,ny={};function b0(e,t){hp(e,t),hp(e+"Capture",t)}function hp(e,t){for(ny[e]=t,e=0;e<t.length;e++)xq.add(t[e])}var al=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),b8=Object.prototype.hasOwnProperty,Pme=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qL={},GL={};function Ime(e){return b8.call(GL,e)?!0:b8.call(qL,e)?!1:Pme.test(e)?GL[e]=!0:(qL[e]=!0,!1)}function zme(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Bme(e,t,n,r){if(t===null||typeof t>"u"||zme(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function gi(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var yr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){yr[e]=new gi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];yr[t]=new gi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){yr[e]=new gi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){yr[e]=new gi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){yr[e]=new gi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){yr[e]=new gi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){yr[e]=new gi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){yr[e]=new gi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){yr[e]=new gi(e,5,!1,e.toLowerCase(),null,!1,!1)});var tk=/[\-:]([a-z])/g;function nk(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(tk,nk);yr[t]=new gi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(tk,nk);yr[t]=new gi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(tk,nk);yr[t]=new gi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){yr[e]=new gi(e,1,!1,e.toLowerCase(),null,!1,!1)});yr.xlinkHref=new gi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){yr[e]=new gi(e,1,!1,e.toLowerCase(),null,!0,!0)});function rk(e,t,n,r){var i=yr.hasOwnProperty(t)?yr[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Bme(t,n,i,r)&&(n=null),r||i===null?Ime(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var bl=bq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vb=Symbol.for("react.element"),Ch=Symbol.for("react.portal"),$h=Symbol.for("react.fragment"),ik=Symbol.for("react.strict_mode"),x8=Symbol.for("react.profiler"),wq=Symbol.for("react.provider"),Aq=Symbol.for("react.context"),ok=Symbol.for("react.forward_ref"),w8=Symbol.for("react.suspense"),A8=Symbol.for("react.suspense_list"),ak=Symbol.for("react.memo"),Kl=Symbol.for("react.lazy"),_q=Symbol.for("react.offscreen"),VL=Symbol.iterator;function d1(e){return e===null||typeof e!="object"?null:(e=VL&&e[VL]||e["@@iterator"],typeof e=="function"?e:null)}var dn=Object.assign,YE;function K1(e){if(YE===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);YE=t&&t[1]||""}return`
`+YE+e}var JE=!1;function XE(e,t){if(!e||JE)return"";JE=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var u=`
`+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=s);break}}}finally{JE=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?K1(e):""}function Ume(e){switch(e.tag){case 5:return K1(e.type);case 16:return K1("Lazy");case 13:return K1("Suspense");case 19:return K1("SuspenseList");case 0:case 2:case 15:return e=XE(e.type,!1),e;case 11:return e=XE(e.type.render,!1),e;case 1:return e=XE(e.type,!0),e;default:return""}}function _8(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $h:return"Fragment";case Ch:return"Portal";case x8:return"Profiler";case ik:return"StrictMode";case w8:return"Suspense";case A8:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Aq:return(e.displayName||"Context")+".Consumer";case wq:return(e._context.displayName||"Context")+".Provider";case ok:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ak:return t=e.displayName||null,t!==null?t:_8(e.type)||"Memo";case Kl:t=e._payload,e=e._init;try{return _8(e(t))}catch{}}return null}function jme(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _8(t);case 8:return t===ik?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Pc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sq(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Wme(e){var t=Sq(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bb(e){e._valueTracker||(e._valueTracker=Wme(e))}function Eq(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Sq(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Sw(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function S8(e,t){var n=t.checked;return dn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function YL(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Pc(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Cq(e,t){t=t.checked,t!=null&&rk(e,"checked",t,!1)}function E8(e,t){Cq(e,t);var n=Pc(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?C8(e,t.type,n):t.hasOwnProperty("defaultValue")&&C8(e,t.type,Pc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function JL(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function C8(e,t,n){(t!=="number"||Sw(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Q1=Array.isArray;function Vh(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Pc(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function $8(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ye(91));return dn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function XL(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ye(92));if(Q1(n)){if(1<n.length)throw Error(ye(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Pc(n)}}function $q(e,t){var n=Pc(t.value),r=Pc(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function KL(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function kq(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function k8(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?kq(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xb,Tq=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xb=xb||document.createElement("div"),xb.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ry(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var km={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hme=["Webkit","ms","Moz","O"];Object.keys(km).forEach(function(e){Hme.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),km[t]=km[e]})});function Mq(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||km.hasOwnProperty(e)&&km[e]?(""+t).trim():t+"px"}function Nq(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Mq(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var qme=dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function T8(e,t){if(t){if(qme[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ye(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ye(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ye(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ye(62))}}function M8(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var N8=null;function sk(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var O8=null,Yh=null,Jh=null;function QL(e){if(e=p2(e)){if(typeof O8!="function")throw Error(ye(280));var t=e.stateNode;t&&(t=q_(t),O8(e.stateNode,e.type,t))}}function Oq(e){Yh?Jh?Jh.push(e):Jh=[e]:Yh=e}function Rq(){if(Yh){var e=Yh,t=Jh;if(Jh=Yh=null,QL(e),t)for(e=0;e<t.length;e++)QL(t[e])}}function Fq(e,t){return e(t)}function Dq(){}var KE=!1;function Lq(e,t,n){if(KE)return e(t,n);KE=!0;try{return Fq(e,t,n)}finally{KE=!1,(Yh!==null||Jh!==null)&&(Dq(),Rq())}}function iy(e,t){var n=e.stateNode;if(n===null)return null;var r=q_(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ye(231,t,typeof n));return n}var R8=!1;if(al)try{var h1={};Object.defineProperty(h1,"passive",{get:function(){R8=!0}}),window.addEventListener("test",h1,h1),window.removeEventListener("test",h1,h1)}catch{R8=!1}function Gme(e,t,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Tm=!1,Ew=null,Cw=!1,F8=null,Vme={onError:function(e){Tm=!0,Ew=e}};function Yme(e,t,n,r,i,o,a,s,u){Tm=!1,Ew=null,Gme.apply(Vme,arguments)}function Jme(e,t,n,r,i,o,a,s,u){if(Yme.apply(this,arguments),Tm){if(Tm){var l=Ew;Tm=!1,Ew=null}else throw Error(ye(198));Cw||(Cw=!0,F8=l)}}function x0(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Pq(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ZL(e){if(x0(e)!==e)throw Error(ye(188))}function Xme(e){var t=e.alternate;if(!t){if(t=x0(e),t===null)throw Error(ye(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ZL(i),e;if(o===r)return ZL(i),t;o=o.sibling}throw Error(ye(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(ye(189))}}if(n.alternate!==r)throw Error(ye(190))}if(n.tag!==3)throw Error(ye(188));return n.stateNode.current===n?e:t}function Iq(e){return e=Xme(e),e!==null?zq(e):null}function zq(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=zq(e);if(t!==null)return t;e=e.sibling}return null}var Bq=vo.unstable_scheduleCallback,eP=vo.unstable_cancelCallback,Kme=vo.unstable_shouldYield,Qme=vo.unstable_requestPaint,Sn=vo.unstable_now,Zme=vo.unstable_getCurrentPriorityLevel,uk=vo.unstable_ImmediatePriority,Uq=vo.unstable_UserBlockingPriority,$w=vo.unstable_NormalPriority,eye=vo.unstable_LowPriority,jq=vo.unstable_IdlePriority,U_=null,Is=null;function tye(e){if(Is&&typeof Is.onCommitFiberRoot=="function")try{Is.onCommitFiberRoot(U_,e,void 0,(e.current.flags&128)===128)}catch{}}var Va=Math.clz32?Math.clz32:iye,nye=Math.log,rye=Math.LN2;function iye(e){return e>>>=0,e===0?32:31-(nye(e)/rye|0)|0}var wb=64,Ab=4194304;function Z1(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function kw(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=Z1(s):(o&=a,o!==0&&(r=Z1(o)))}else a=n&~i,a!==0?r=Z1(a):o!==0&&(r=Z1(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Va(t),i=1<<n,r|=e[n],t&=~i;return r}function oye(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aye(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Va(o),s=1<<a,u=i[a];u===-1?(!(s&n)||s&r)&&(i[a]=oye(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}function D8(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Wq(){var e=wb;return wb<<=1,!(wb&4194240)&&(wb=64),e}function QE(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function d2(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Va(t),e[t]=n}function sye(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Va(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function lk(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Va(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Lt=0;function Hq(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var qq,ck,Gq,Vq,Yq,L8=!1,_b=[],xc=null,wc=null,Ac=null,oy=new Map,ay=new Map,oc=[],uye="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tP(e,t){switch(e){case"focusin":case"focusout":xc=null;break;case"dragenter":case"dragleave":wc=null;break;case"mouseover":case"mouseout":Ac=null;break;case"pointerover":case"pointerout":oy.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ay.delete(t.pointerId)}}function p1(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=p2(t),t!==null&&ck(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function lye(e,t,n,r,i){switch(t){case"focusin":return xc=p1(xc,e,t,n,r,i),!0;case"dragenter":return wc=p1(wc,e,t,n,r,i),!0;case"mouseover":return Ac=p1(Ac,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return oy.set(o,p1(oy.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ay.set(o,p1(ay.get(o)||null,e,t,n,r,i)),!0}return!1}function Jq(e){var t=hd(e.target);if(t!==null){var n=x0(t);if(n!==null){if(t=n.tag,t===13){if(t=Pq(n),t!==null){e.blockedOn=t,Yq(e.priority,function(){Gq(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ix(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=P8(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);N8=r,n.target.dispatchEvent(r),N8=null}else return t=p2(n),t!==null&&ck(t),e.blockedOn=n,!1;t.shift()}return!0}function nP(e,t,n){Ix(e)&&n.delete(t)}function cye(){L8=!1,xc!==null&&Ix(xc)&&(xc=null),wc!==null&&Ix(wc)&&(wc=null),Ac!==null&&Ix(Ac)&&(Ac=null),oy.forEach(nP),ay.forEach(nP)}function g1(e,t){e.blockedOn===t&&(e.blockedOn=null,L8||(L8=!0,vo.unstable_scheduleCallback(vo.unstable_NormalPriority,cye)))}function sy(e){function t(i){return g1(i,e)}if(0<_b.length){g1(_b[0],e);for(var n=1;n<_b.length;n++){var r=_b[n];r.blockedOn===e&&(r.blockedOn=null)}}for(xc!==null&&g1(xc,e),wc!==null&&g1(wc,e),Ac!==null&&g1(Ac,e),oy.forEach(t),ay.forEach(t),n=0;n<oc.length;n++)r=oc[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<oc.length&&(n=oc[0],n.blockedOn===null);)Jq(n),n.blockedOn===null&&oc.shift()}var Xh=bl.ReactCurrentBatchConfig,Tw=!0;function fye(e,t,n,r){var i=Lt,o=Xh.transition;Xh.transition=null;try{Lt=1,fk(e,t,n,r)}finally{Lt=i,Xh.transition=o}}function dye(e,t,n,r){var i=Lt,o=Xh.transition;Xh.transition=null;try{Lt=4,fk(e,t,n,r)}finally{Lt=i,Xh.transition=o}}function fk(e,t,n,r){if(Tw){var i=P8(e,t,n,r);if(i===null)u9(e,t,r,Mw,n),tP(e,r);else if(lye(i,e,t,n,r))r.stopPropagation();else if(tP(e,r),t&4&&-1<uye.indexOf(e)){for(;i!==null;){var o=p2(i);if(o!==null&&qq(o),o=P8(e,t,n,r),o===null&&u9(e,t,r,Mw,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else u9(e,t,r,null,n)}}var Mw=null;function P8(e,t,n,r){if(Mw=null,e=sk(r),e=hd(e),e!==null)if(t=x0(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Pq(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Mw=e,null}function Xq(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zme()){case uk:return 1;case Uq:return 4;case $w:case eye:return 16;case jq:return 536870912;default:return 16}default:return 16}}var lc=null,dk=null,zx=null;function Kq(){if(zx)return zx;var e,t=dk,n=t.length,r,i="value"in lc?lc.value:lc.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return zx=i.slice(e,1<r?1-r:void 0)}function Bx(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Sb(){return!0}function rP(){return!1}function $o(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Sb:rP,this.isPropagationStopped=rP,this}return dn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sb)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sb)},persist:function(){},isPersistent:Sb}),t}var pg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hk=$o(pg),h2=dn({},pg,{view:0,detail:0}),hye=$o(h2),ZE,e9,m1,j_=dn({},h2,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pk,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==m1&&(m1&&e.type==="mousemove"?(ZE=e.screenX-m1.screenX,e9=e.screenY-m1.screenY):e9=ZE=0,m1=e),ZE)},movementY:function(e){return"movementY"in e?e.movementY:e9}}),iP=$o(j_),pye=dn({},j_,{dataTransfer:0}),gye=$o(pye),mye=dn({},h2,{relatedTarget:0}),t9=$o(mye),yye=dn({},pg,{animationName:0,elapsedTime:0,pseudoElement:0}),vye=$o(yye),bye=dn({},pg,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xye=$o(bye),wye=dn({},pg,{data:0}),oP=$o(wye),Aye={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_ye={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sye={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eye(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Sye[e])?!!t[e]:!1}function pk(){return Eye}var Cye=dn({},h2,{key:function(e){if(e.key){var t=Aye[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bx(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_ye[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pk,charCode:function(e){return e.type==="keypress"?Bx(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bx(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$ye=$o(Cye),kye=dn({},j_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),aP=$o(kye),Tye=dn({},h2,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pk}),Mye=$o(Tye),Nye=dn({},pg,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oye=$o(Nye),Rye=dn({},j_,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fye=$o(Rye),Dye=[9,13,27,32],gk=al&&"CompositionEvent"in window,Mm=null;al&&"documentMode"in document&&(Mm=document.documentMode);var Lye=al&&"TextEvent"in window&&!Mm,Qq=al&&(!gk||Mm&&8<Mm&&11>=Mm),sP=String.fromCharCode(32),uP=!1;function Zq(e,t){switch(e){case"keyup":return Dye.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eG(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var kh=!1;function Pye(e,t){switch(e){case"compositionend":return eG(t);case"keypress":return t.which!==32?null:(uP=!0,sP);case"textInput":return e=t.data,e===sP&&uP?null:e;default:return null}}function Iye(e,t){if(kh)return e==="compositionend"||!gk&&Zq(e,t)?(e=Kq(),zx=dk=lc=null,kh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qq&&t.locale!=="ko"?null:t.data;default:return null}}var zye={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zye[e.type]:t==="textarea"}function tG(e,t,n,r){Oq(r),t=Nw(t,"onChange"),0<t.length&&(n=new hk("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Nm=null,uy=null;function Bye(e){dG(e,0)}function W_(e){var t=Nh(e);if(Eq(t))return e}function Uye(e,t){if(e==="change")return t}var nG=!1;if(al){var n9;if(al){var r9="oninput"in document;if(!r9){var cP=document.createElement("div");cP.setAttribute("oninput","return;"),r9=typeof cP.oninput=="function"}n9=r9}else n9=!1;nG=n9&&(!document.documentMode||9<document.documentMode)}function fP(){Nm&&(Nm.detachEvent("onpropertychange",rG),uy=Nm=null)}function rG(e){if(e.propertyName==="value"&&W_(uy)){var t=[];tG(t,uy,e,sk(e)),Lq(Bye,t)}}function jye(e,t,n){e==="focusin"?(fP(),Nm=t,uy=n,Nm.attachEvent("onpropertychange",rG)):e==="focusout"&&fP()}function Wye(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return W_(uy)}function Hye(e,t){if(e==="click")return W_(t)}function qye(e,t){if(e==="input"||e==="change")return W_(t)}function Gye(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Za=typeof Object.is=="function"?Object.is:Gye;function ly(e,t){if(Za(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!b8.call(t,i)||!Za(e[i],t[i]))return!1}return!0}function dP(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hP(e,t){var n=dP(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dP(n)}}function iG(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?iG(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function oG(){for(var e=window,t=Sw();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Sw(e.document)}return t}function mk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Vye(e){var t=oG(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&iG(n.ownerDocument.documentElement,n)){if(r!==null&&mk(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=hP(n,o);var a=hP(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Yye=al&&"documentMode"in document&&11>=document.documentMode,Th=null,I8=null,Om=null,z8=!1;function pP(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;z8||Th==null||Th!==Sw(r)||(r=Th,"selectionStart"in r&&mk(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Om&&ly(Om,r)||(Om=r,r=Nw(I8,"onSelect"),0<r.length&&(t=new hk("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Th)))}function Eb(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Mh={animationend:Eb("Animation","AnimationEnd"),animationiteration:Eb("Animation","AnimationIteration"),animationstart:Eb("Animation","AnimationStart"),transitionend:Eb("Transition","TransitionEnd")},i9={},aG={};al&&(aG=document.createElement("div").style,"AnimationEvent"in window||(delete Mh.animationend.animation,delete Mh.animationiteration.animation,delete Mh.animationstart.animation),"TransitionEvent"in window||delete Mh.transitionend.transition);function H_(e){if(i9[e])return i9[e];if(!Mh[e])return e;var t=Mh[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in aG)return i9[e]=t[n];return e}var sG=H_("animationend"),uG=H_("animationiteration"),lG=H_("animationstart"),cG=H_("transitionend"),fG=new Map,gP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function df(e,t){fG.set(e,t),b0(t,[e])}for(var o9=0;o9<gP.length;o9++){var a9=gP[o9],Jye=a9.toLowerCase(),Xye=a9[0].toUpperCase()+a9.slice(1);df(Jye,"on"+Xye)}df(sG,"onAnimationEnd");df(uG,"onAnimationIteration");df(lG,"onAnimationStart");df("dblclick","onDoubleClick");df("focusin","onFocus");df("focusout","onBlur");df(cG,"onTransitionEnd");hp("onMouseEnter",["mouseout","mouseover"]);hp("onMouseLeave",["mouseout","mouseover"]);hp("onPointerEnter",["pointerout","pointerover"]);hp("onPointerLeave",["pointerout","pointerover"]);b0("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));b0("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));b0("onBeforeInput",["compositionend","keypress","textInput","paste"]);b0("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));b0("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));b0("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var em="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kye=new Set("cancel close invalid load scroll toggle".split(" ").concat(em));function mP(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Jme(r,t,void 0,e),e.currentTarget=null}function dG(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;mP(i,s,l),o=u}else for(a=0;a<r.length;a++){if(s=r[a],u=s.instance,l=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;mP(i,s,l),o=u}}}if(Cw)throw e=F8,Cw=!1,F8=null,e}function Xt(e,t){var n=t[H8];n===void 0&&(n=t[H8]=new Set);var r=e+"__bubble";n.has(r)||(hG(t,e,2,!1),n.add(r))}function s9(e,t,n){var r=0;t&&(r|=4),hG(n,e,r,t)}var Cb="_reactListening"+Math.random().toString(36).slice(2);function cy(e){if(!e[Cb]){e[Cb]=!0,xq.forEach(function(n){n!=="selectionchange"&&(Kye.has(n)||s9(n,!1,e),s9(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Cb]||(t[Cb]=!0,s9("selectionchange",!1,t))}}function hG(e,t,n,r){switch(Xq(t)){case 1:var i=fye;break;case 4:i=dye;break;default:i=fk}n=i.bind(null,t,n,e),i=void 0,!R8||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function u9(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;s!==null;){if(a=hd(s),a===null)return;if(u=a.tag,u===5||u===6){r=o=a;continue e}s=s.parentNode}}r=r.return}Lq(function(){var l=o,c=sk(n),f=[];e:{var d=fG.get(e);if(d!==void 0){var p=hk,g=e;switch(e){case"keypress":if(Bx(n)===0)break e;case"keydown":case"keyup":p=$ye;break;case"focusin":g="focus",p=t9;break;case"focusout":g="blur",p=t9;break;case"beforeblur":case"afterblur":p=t9;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=iP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=gye;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Mye;break;case sG:case uG:case lG:p=vye;break;case cG:p=Oye;break;case"scroll":p=hye;break;case"wheel":p=Fye;break;case"copy":case"cut":case"paste":p=xye;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=aP}var y=(t&4)!==0,v=!y&&e==="scroll",b=y?d!==null?d+"Capture":null:d;y=[];for(var x=l,_;x!==null;){_=x;var A=_.stateNode;if(_.tag===5&&A!==null&&(_=A,b!==null&&(A=iy(x,b),A!=null&&y.push(fy(x,A,_)))),v)break;x=x.return}0<y.length&&(d=new p(d,g,null,n,c),f.push({event:d,listeners:y}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",d&&n!==N8&&(g=n.relatedTarget||n.fromElement)&&(hd(g)||g[sl]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=l,g=g?hd(g):null,g!==null&&(v=x0(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=l),p!==g)){if(y=iP,A="onMouseLeave",b="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(y=aP,A="onPointerLeave",b="onPointerEnter",x="pointer"),v=p==null?d:Nh(p),_=g==null?d:Nh(g),d=new y(A,x+"leave",p,n,c),d.target=v,d.relatedTarget=_,A=null,hd(c)===l&&(y=new y(b,x+"enter",g,n,c),y.target=_,y.relatedTarget=v,A=y),v=A,p&&g)t:{for(y=p,b=g,x=0,_=y;_;_=oh(_))x++;for(_=0,A=b;A;A=oh(A))_++;for(;0<x-_;)y=oh(y),x--;for(;0<_-x;)b=oh(b),_--;for(;x--;){if(y===b||b!==null&&y===b.alternate)break t;y=oh(y),b=oh(b)}y=null}else y=null;p!==null&&yP(f,d,p,y,!1),g!==null&&v!==null&&yP(f,v,g,y,!0)}}e:{if(d=l?Nh(l):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var S=Uye;else if(lP(d))if(nG)S=qye;else{S=Wye;var C=jye}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=Hye);if(S&&(S=S(e,l))){tG(f,S,n,c);break e}C&&C(e,d,l),e==="focusout"&&(C=d._wrapperState)&&C.controlled&&d.type==="number"&&C8(d,"number",d.value)}switch(C=l?Nh(l):window,e){case"focusin":(lP(C)||C.contentEditable==="true")&&(Th=C,I8=l,Om=null);break;case"focusout":Om=I8=Th=null;break;case"mousedown":z8=!0;break;case"contextmenu":case"mouseup":case"dragend":z8=!1,pP(f,n,c);break;case"selectionchange":if(Yye)break;case"keydown":case"keyup":pP(f,n,c)}var E;if(gk)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else kh?Zq(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Qq&&n.locale!=="ko"&&(kh||k!=="onCompositionStart"?k==="onCompositionEnd"&&kh&&(E=Kq()):(lc=c,dk="value"in lc?lc.value:lc.textContent,kh=!0)),C=Nw(l,k),0<C.length&&(k=new oP(k,e,null,n,c),f.push({event:k,listeners:C}),E?k.data=E:(E=eG(n),E!==null&&(k.data=E)))),(E=Lye?Pye(e,n):Iye(e,n))&&(l=Nw(l,"onBeforeInput"),0<l.length&&(c=new oP("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:l}),c.data=E))}dG(f,t)})}function fy(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Nw(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=iy(e,n),o!=null&&r.unshift(fy(e,o,i)),o=iy(e,t),o!=null&&r.push(fy(e,o,i))),e=e.return}return r}function oh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function yP(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(u!==null&&u===r)break;s.tag===5&&l!==null&&(s=l,i?(u=iy(n,o),u!=null&&a.unshift(fy(n,u,s))):i||(u=iy(n,o),u!=null&&a.push(fy(n,u,s)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Qye=/\r\n?/g,Zye=/\u0000|\uFFFD/g;function vP(e){return(typeof e=="string"?e:""+e).replace(Qye,`
`).replace(Zye,"")}function $b(e,t,n){if(t=vP(t),vP(e)!==t&&n)throw Error(ye(425))}function Ow(){}var B8=null,U8=null;function j8(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var W8=typeof setTimeout=="function"?setTimeout:void 0,e2e=typeof clearTimeout=="function"?clearTimeout:void 0,bP=typeof Promise=="function"?Promise:void 0,t2e=typeof queueMicrotask=="function"?queueMicrotask:typeof bP<"u"?function(e){return bP.resolve(null).then(e).catch(n2e)}:W8;function n2e(e){setTimeout(function(){throw e})}function l9(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),sy(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);sy(t)}function _c(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xP(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var gg=Math.random().toString(36).slice(2),Ns="__reactFiber$"+gg,dy="__reactProps$"+gg,sl="__reactContainer$"+gg,H8="__reactEvents$"+gg,r2e="__reactListeners$"+gg,i2e="__reactHandles$"+gg;function hd(e){var t=e[Ns];if(t)return t;for(var n=e.parentNode;n;){if(t=n[sl]||n[Ns]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=xP(e);e!==null;){if(n=e[Ns])return n;e=xP(e)}return t}e=n,n=e.parentNode}return null}function p2(e){return e=e[Ns]||e[sl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Nh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ye(33))}function q_(e){return e[dy]||null}var q8=[],Oh=-1;function hf(e){return{current:e}}function Zt(e){0>Oh||(e.current=q8[Oh],q8[Oh]=null,Oh--)}function Vt(e,t){Oh++,q8[Oh]=e.current,e.current=t}var Ic={},Br=hf(Ic),Di=hf(!1),Id=Ic;function pp(e,t){var n=e.type.contextTypes;if(!n)return Ic;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Li(e){return e=e.childContextTypes,e!=null}function Rw(){Zt(Di),Zt(Br)}function wP(e,t,n){if(Br.current!==Ic)throw Error(ye(168));Vt(Br,t),Vt(Di,n)}function pG(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ye(108,jme(e)||"Unknown",i));return dn({},n,r)}function Fw(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ic,Id=Br.current,Vt(Br,e),Vt(Di,Di.current),!0}function AP(e,t,n){var r=e.stateNode;if(!r)throw Error(ye(169));n?(e=pG(e,t,Id),r.__reactInternalMemoizedMergedChildContext=e,Zt(Di),Zt(Br),Vt(Br,e)):Zt(Di),Vt(Di,n)}var Uu=null,G_=!1,c9=!1;function gG(e){Uu===null?Uu=[e]:Uu.push(e)}function o2e(e){G_=!0,gG(e)}function pf(){if(!c9&&Uu!==null){c9=!0;var e=0,t=Lt;try{var n=Uu;for(Lt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Uu=null,G_=!1}catch(i){throw Uu!==null&&(Uu=Uu.slice(e+1)),Bq(uk,pf),i}finally{Lt=t,c9=!1}}return null}var Rh=[],Fh=0,Dw=null,Lw=0,Uo=[],jo=0,zd=null,Gu=1,Vu="";function ed(e,t){Rh[Fh++]=Lw,Rh[Fh++]=Dw,Dw=e,Lw=t}function mG(e,t,n){Uo[jo++]=Gu,Uo[jo++]=Vu,Uo[jo++]=zd,zd=e;var r=Gu;e=Vu;var i=32-Va(r)-1;r&=~(1<<i),n+=1;var o=32-Va(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Gu=1<<32-Va(t)+i|n<<i|r,Vu=o+e}else Gu=1<<o|n<<i|r,Vu=e}function yk(e){e.return!==null&&(ed(e,1),mG(e,1,0))}function vk(e){for(;e===Dw;)Dw=Rh[--Fh],Rh[Fh]=null,Lw=Rh[--Fh],Rh[Fh]=null;for(;e===zd;)zd=Uo[--jo],Uo[jo]=null,Vu=Uo[--jo],Uo[jo]=null,Gu=Uo[--jo],Uo[jo]=null}var go=null,co=null,on=!1,La=null;function yG(e,t){var n=qo(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function _P(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,go=e,co=_c(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,go=e,co=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=zd!==null?{id:Gu,overflow:Vu}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=qo(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,go=e,co=null,!0):!1;default:return!1}}function G8(e){return(e.mode&1)!==0&&(e.flags&128)===0}function V8(e){if(on){var t=co;if(t){var n=t;if(!_P(e,t)){if(G8(e))throw Error(ye(418));t=_c(n.nextSibling);var r=go;t&&_P(e,t)?yG(r,n):(e.flags=e.flags&-4097|2,on=!1,go=e)}}else{if(G8(e))throw Error(ye(418));e.flags=e.flags&-4097|2,on=!1,go=e}}}function SP(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;go=e}function kb(e){if(e!==go)return!1;if(!on)return SP(e),on=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!j8(e.type,e.memoizedProps)),t&&(t=co)){if(G8(e))throw vG(),Error(ye(418));for(;t;)yG(e,t),t=_c(t.nextSibling)}if(SP(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ye(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){co=_c(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}co=null}}else co=go?_c(e.stateNode.nextSibling):null;return!0}function vG(){for(var e=co;e;)e=_c(e.nextSibling)}function gp(){co=go=null,on=!1}function bk(e){La===null?La=[e]:La.push(e)}var a2e=bl.ReactCurrentBatchConfig;function Oa(e,t){if(e&&e.defaultProps){t=dn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Pw=hf(null),Iw=null,Dh=null,xk=null;function wk(){xk=Dh=Iw=null}function Ak(e){var t=Pw.current;Zt(Pw),e._currentValue=t}function Y8(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Kh(e,t){Iw=e,xk=Dh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ri=!0),e.firstContext=null)}function ta(e){var t=e._currentValue;if(xk!==e)if(e={context:e,memoizedValue:t,next:null},Dh===null){if(Iw===null)throw Error(ye(308));Dh=e,Iw.dependencies={lanes:0,firstContext:e}}else Dh=Dh.next=e;return t}var pd=null;function _k(e){pd===null?pd=[e]:pd.push(e)}function bG(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,_k(t)):(n.next=i.next,i.next=n),t.interleaved=n,ul(e,r)}function ul(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ql=!1;function Sk(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xG(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function el(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Sc(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,bt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ul(e,n)}return i=r.interleaved,i===null?(t.next=t,_k(r)):(t.next=i.next,i.next=t),r.interleaved=t,ul(e,n)}function Ux(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,lk(e,n)}}function EP(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zw(e,t,n,r){var i=e.updateQueue;Ql=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var u=s,l=u.next;u.next=null,a===null?o=l:a.next=l,a=u;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(o!==null){var f=i.baseState;a=0,c=l=u=null,s=o;do{var d=s.lane,p=s.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=e,y=s;switch(d=t,p=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){f=g.call(p,f,d);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,d=typeof g=="function"?g.call(p,f,d):g,d==null)break e;f=dn({},f,d);break e;case 2:Ql=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(l=c=p,u=f):c=c.next=p,a|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Ud|=a,e.lanes=a,e.memoizedState=f}}function CP(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ye(191,i));i.call(r)}}}var wG=new bq.Component().refs;function J8(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:dn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var V_={isMounted:function(e){return(e=e._reactInternals)?x0(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=oi(),i=Cc(e),o=el(r,i);o.payload=t,n!=null&&(o.callback=n),t=Sc(e,o,i),t!==null&&(Ya(t,e,i,r),Ux(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=oi(),i=Cc(e),o=el(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Sc(e,o,i),t!==null&&(Ya(t,e,i,r),Ux(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=oi(),r=Cc(e),i=el(n,r);i.tag=2,t!=null&&(i.callback=t),t=Sc(e,i,r),t!==null&&(Ya(t,e,r,n),Ux(t,e,r))}};function $P(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!ly(n,r)||!ly(i,o):!0}function AG(e,t,n){var r=!1,i=Ic,o=t.contextType;return typeof o=="object"&&o!==null?o=ta(o):(i=Li(t)?Id:Br.current,r=t.contextTypes,o=(r=r!=null)?pp(e,i):Ic),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=V_,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function kP(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&V_.enqueueReplaceState(t,t.state,null)}function X8(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=wG,Sk(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=ta(o):(o=Li(t)?Id:Br.current,i.context=pp(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(J8(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&V_.enqueueReplaceState(i,i.state,null),zw(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function y1(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ye(309));var r=n.stateNode}if(!r)throw Error(ye(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;s===wG&&(s=i.refs={}),a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(ye(284));if(!n._owner)throw Error(ye(290,e))}return e}function Tb(e,t){throw e=Object.prototype.toString.call(t),Error(ye(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function TP(e){var t=e._init;return t(e._payload)}function _G(e){function t(b,x){if(e){var _=b.deletions;_===null?(b.deletions=[x],b.flags|=16):_.push(x)}}function n(b,x){if(!e)return null;for(;x!==null;)t(b,x),x=x.sibling;return null}function r(b,x){for(b=new Map;x!==null;)x.key!==null?b.set(x.key,x):b.set(x.index,x),x=x.sibling;return b}function i(b,x){return b=$c(b,x),b.index=0,b.sibling=null,b}function o(b,x,_){return b.index=_,e?(_=b.alternate,_!==null?(_=_.index,_<x?(b.flags|=2,x):_):(b.flags|=2,x)):(b.flags|=1048576,x)}function a(b){return e&&b.alternate===null&&(b.flags|=2),b}function s(b,x,_,A){return x===null||x.tag!==6?(x=y9(_,b.mode,A),x.return=b,x):(x=i(x,_),x.return=b,x)}function u(b,x,_,A){var S=_.type;return S===$h?c(b,x,_.props.children,A,_.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Kl&&TP(S)===x.type)?(A=i(x,_.props),A.ref=y1(b,x,_),A.return=b,A):(A=Vx(_.type,_.key,_.props,null,b.mode,A),A.ref=y1(b,x,_),A.return=b,A)}function l(b,x,_,A){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=v9(_,b.mode,A),x.return=b,x):(x=i(x,_.children||[]),x.return=b,x)}function c(b,x,_,A,S){return x===null||x.tag!==7?(x=Ed(_,b.mode,A,S),x.return=b,x):(x=i(x,_),x.return=b,x)}function f(b,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return x=y9(""+x,b.mode,_),x.return=b,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case vb:return _=Vx(x.type,x.key,x.props,null,b.mode,_),_.ref=y1(b,null,x),_.return=b,_;case Ch:return x=v9(x,b.mode,_),x.return=b,x;case Kl:var A=x._init;return f(b,A(x._payload),_)}if(Q1(x)||d1(x))return x=Ed(x,b.mode,_,null),x.return=b,x;Tb(b,x)}return null}function d(b,x,_,A){var S=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:s(b,x,""+_,A);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case vb:return _.key===S?u(b,x,_,A):null;case Ch:return _.key===S?l(b,x,_,A):null;case Kl:return S=_._init,d(b,x,S(_._payload),A)}if(Q1(_)||d1(_))return S!==null?null:c(b,x,_,A,null);Tb(b,_)}return null}function p(b,x,_,A,S){if(typeof A=="string"&&A!==""||typeof A=="number")return b=b.get(_)||null,s(x,b,""+A,S);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case vb:return b=b.get(A.key===null?_:A.key)||null,u(x,b,A,S);case Ch:return b=b.get(A.key===null?_:A.key)||null,l(x,b,A,S);case Kl:var C=A._init;return p(b,x,_,C(A._payload),S)}if(Q1(A)||d1(A))return b=b.get(_)||null,c(x,b,A,S,null);Tb(x,A)}return null}function g(b,x,_,A){for(var S=null,C=null,E=x,k=x=0,O=null;E!==null&&k<_.length;k++){E.index>k?(O=E,E=null):O=E.sibling;var N=d(b,E,_[k],A);if(N===null){E===null&&(E=O);break}e&&E&&N.alternate===null&&t(b,E),x=o(N,x,k),C===null?S=N:C.sibling=N,C=N,E=O}if(k===_.length)return n(b,E),on&&ed(b,k),S;if(E===null){for(;k<_.length;k++)E=f(b,_[k],A),E!==null&&(x=o(E,x,k),C===null?S=E:C.sibling=E,C=E);return on&&ed(b,k),S}for(E=r(b,E);k<_.length;k++)O=p(E,b,k,_[k],A),O!==null&&(e&&O.alternate!==null&&E.delete(O.key===null?k:O.key),x=o(O,x,k),C===null?S=O:C.sibling=O,C=O);return e&&E.forEach(function(F){return t(b,F)}),on&&ed(b,k),S}function y(b,x,_,A){var S=d1(_);if(typeof S!="function")throw Error(ye(150));if(_=S.call(_),_==null)throw Error(ye(151));for(var C=S=null,E=x,k=x=0,O=null,N=_.next();E!==null&&!N.done;k++,N=_.next()){E.index>k?(O=E,E=null):O=E.sibling;var F=d(b,E,N.value,A);if(F===null){E===null&&(E=O);break}e&&E&&F.alternate===null&&t(b,E),x=o(F,x,k),C===null?S=F:C.sibling=F,C=F,E=O}if(N.done)return n(b,E),on&&ed(b,k),S;if(E===null){for(;!N.done;k++,N=_.next())N=f(b,N.value,A),N!==null&&(x=o(N,x,k),C===null?S=N:C.sibling=N,C=N);return on&&ed(b,k),S}for(E=r(b,E);!N.done;k++,N=_.next())N=p(E,b,k,N.value,A),N!==null&&(e&&N.alternate!==null&&E.delete(N.key===null?k:N.key),x=o(N,x,k),C===null?S=N:C.sibling=N,C=N);return e&&E.forEach(function(W){return t(b,W)}),on&&ed(b,k),S}function v(b,x,_,A){if(typeof _=="object"&&_!==null&&_.type===$h&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case vb:e:{for(var S=_.key,C=x;C!==null;){if(C.key===S){if(S=_.type,S===$h){if(C.tag===7){n(b,C.sibling),x=i(C,_.props.children),x.return=b,b=x;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Kl&&TP(S)===C.type){n(b,C.sibling),x=i(C,_.props),x.ref=y1(b,C,_),x.return=b,b=x;break e}n(b,C);break}else t(b,C);C=C.sibling}_.type===$h?(x=Ed(_.props.children,b.mode,A,_.key),x.return=b,b=x):(A=Vx(_.type,_.key,_.props,null,b.mode,A),A.ref=y1(b,x,_),A.return=b,b=A)}return a(b);case Ch:e:{for(C=_.key;x!==null;){if(x.key===C)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){n(b,x.sibling),x=i(x,_.children||[]),x.return=b,b=x;break e}else{n(b,x);break}else t(b,x);x=x.sibling}x=v9(_,b.mode,A),x.return=b,b=x}return a(b);case Kl:return C=_._init,v(b,x,C(_._payload),A)}if(Q1(_))return g(b,x,_,A);if(d1(_))return y(b,x,_,A);Tb(b,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,x!==null&&x.tag===6?(n(b,x.sibling),x=i(x,_),x.return=b,b=x):(n(b,x),x=y9(_,b.mode,A),x.return=b,b=x),a(b)):n(b,x)}return v}var mp=_G(!0),SG=_G(!1),g2={},zs=hf(g2),hy=hf(g2),py=hf(g2);function gd(e){if(e===g2)throw Error(ye(174));return e}function Ek(e,t){switch(Vt(py,t),Vt(hy,e),Vt(zs,g2),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:k8(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=k8(t,e)}Zt(zs),Vt(zs,t)}function yp(){Zt(zs),Zt(hy),Zt(py)}function EG(e){gd(py.current);var t=gd(zs.current),n=k8(t,e.type);t!==n&&(Vt(hy,e),Vt(zs,n))}function Ck(e){hy.current===e&&(Zt(zs),Zt(hy))}var cn=hf(0);function Bw(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var f9=[];function $k(){for(var e=0;e<f9.length;e++)f9[e]._workInProgressVersionPrimary=null;f9.length=0}var jx=bl.ReactCurrentDispatcher,d9=bl.ReactCurrentBatchConfig,Bd=0,fn=null,Rn=null,Vn=null,Uw=!1,Rm=!1,gy=0,s2e=0;function Sr(){throw Error(ye(321))}function kk(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Za(e[n],t[n]))return!1;return!0}function Tk(e,t,n,r,i,o){if(Bd=o,fn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,jx.current=e===null||e.memoizedState===null?f2e:d2e,e=n(r,i),Rm){o=0;do{if(Rm=!1,gy=0,25<=o)throw Error(ye(301));o+=1,Vn=Rn=null,t.updateQueue=null,jx.current=h2e,e=n(r,i)}while(Rm)}if(jx.current=jw,t=Rn!==null&&Rn.next!==null,Bd=0,Vn=Rn=fn=null,Uw=!1,t)throw Error(ye(300));return e}function Mk(){var e=gy!==0;return gy=0,e}function Ss(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vn===null?fn.memoizedState=Vn=e:Vn=Vn.next=e,Vn}function na(){if(Rn===null){var e=fn.alternate;e=e!==null?e.memoizedState:null}else e=Rn.next;var t=Vn===null?fn.memoizedState:Vn.next;if(t!==null)Vn=t,Rn=e;else{if(e===null)throw Error(ye(310));Rn=e,e={memoizedState:Rn.memoizedState,baseState:Rn.baseState,baseQueue:Rn.baseQueue,queue:Rn.queue,next:null},Vn===null?fn.memoizedState=Vn=e:Vn=Vn.next=e}return Vn}function my(e,t){return typeof t=="function"?t(e):t}function h9(e){var t=na(),n=t.queue;if(n===null)throw Error(ye(311));n.lastRenderedReducer=e;var r=Rn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,u=null,l=o;do{var c=l.lane;if((Bd&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(s=u=f,a=r):u=u.next=f,fn.lanes|=c,Ud|=c}l=l.next}while(l!==null&&l!==o);u===null?a=r:u.next=s,Za(r,t.memoizedState)||(Ri=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,fn.lanes|=o,Ud|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function p9(e){var t=na(),n=t.queue;if(n===null)throw Error(ye(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);Za(o,t.memoizedState)||(Ri=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function CG(){}function $G(e,t){var n=fn,r=na(),i=t(),o=!Za(r.memoizedState,i);if(o&&(r.memoizedState=i,Ri=!0),r=r.queue,Nk(MG.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Vn!==null&&Vn.memoizedState.tag&1){if(n.flags|=2048,yy(9,TG.bind(null,n,r,i,t),void 0,null),nr===null)throw Error(ye(349));Bd&30||kG(n,t,i)}return i}function kG(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=fn.updateQueue,t===null?(t={lastEffect:null,stores:null},fn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function TG(e,t,n,r){t.value=n,t.getSnapshot=r,NG(t)&&OG(e)}function MG(e,t,n){return n(function(){NG(t)&&OG(e)})}function NG(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Za(e,n)}catch{return!0}}function OG(e){var t=ul(e,1);t!==null&&Ya(t,e,1,-1)}function MP(e){var t=Ss();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:my,lastRenderedState:e},t.queue=e,e=e.dispatch=c2e.bind(null,fn,e),[t.memoizedState,e]}function yy(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=fn.updateQueue,t===null?(t={lastEffect:null,stores:null},fn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function RG(){return na().memoizedState}function Wx(e,t,n,r){var i=Ss();fn.flags|=e,i.memoizedState=yy(1|t,n,void 0,r===void 0?null:r)}function Y_(e,t,n,r){var i=na();r=r===void 0?null:r;var o=void 0;if(Rn!==null){var a=Rn.memoizedState;if(o=a.destroy,r!==null&&kk(r,a.deps)){i.memoizedState=yy(t,n,o,r);return}}fn.flags|=e,i.memoizedState=yy(1|t,n,o,r)}function NP(e,t){return Wx(8390656,8,e,t)}function Nk(e,t){return Y_(2048,8,e,t)}function FG(e,t){return Y_(4,2,e,t)}function DG(e,t){return Y_(4,4,e,t)}function LG(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function PG(e,t,n){return n=n!=null?n.concat([e]):null,Y_(4,4,LG.bind(null,t,e),n)}function Ok(){}function IG(e,t){var n=na();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&kk(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function zG(e,t){var n=na();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&kk(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function BG(e,t,n){return Bd&21?(Za(n,t)||(n=Wq(),fn.lanes|=n,Ud|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ri=!0),e.memoizedState=n)}function u2e(e,t){var n=Lt;Lt=n!==0&&4>n?n:4,e(!0);var r=d9.transition;d9.transition={};try{e(!1),t()}finally{Lt=n,d9.transition=r}}function UG(){return na().memoizedState}function l2e(e,t,n){var r=Cc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},jG(e))WG(t,n);else if(n=bG(e,t,n,r),n!==null){var i=oi();Ya(n,e,r,i),HG(n,t,r)}}function c2e(e,t,n){var r=Cc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(jG(e))WG(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Za(s,a)){var u=t.interleaved;u===null?(i.next=i,_k(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=bG(e,t,i,r),n!==null&&(i=oi(),Ya(n,e,r,i),HG(n,t,r))}}function jG(e){var t=e.alternate;return e===fn||t!==null&&t===fn}function WG(e,t){Rm=Uw=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function HG(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,lk(e,n)}}var jw={readContext:ta,useCallback:Sr,useContext:Sr,useEffect:Sr,useImperativeHandle:Sr,useInsertionEffect:Sr,useLayoutEffect:Sr,useMemo:Sr,useReducer:Sr,useRef:Sr,useState:Sr,useDebugValue:Sr,useDeferredValue:Sr,useTransition:Sr,useMutableSource:Sr,useSyncExternalStore:Sr,useId:Sr,unstable_isNewReconciler:!1},f2e={readContext:ta,useCallback:function(e,t){return Ss().memoizedState=[e,t===void 0?null:t],e},useContext:ta,useEffect:NP,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Wx(4194308,4,LG.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Wx(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wx(4,2,e,t)},useMemo:function(e,t){var n=Ss();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ss();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=l2e.bind(null,fn,e),[r.memoizedState,e]},useRef:function(e){var t=Ss();return e={current:e},t.memoizedState=e},useState:MP,useDebugValue:Ok,useDeferredValue:function(e){return Ss().memoizedState=e},useTransition:function(){var e=MP(!1),t=e[0];return e=u2e.bind(null,e[1]),Ss().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=fn,i=Ss();if(on){if(n===void 0)throw Error(ye(407));n=n()}else{if(n=t(),nr===null)throw Error(ye(349));Bd&30||kG(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,NP(MG.bind(null,r,o,e),[e]),r.flags|=2048,yy(9,TG.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Ss(),t=nr.identifierPrefix;if(on){var n=Vu,r=Gu;n=(r&~(1<<32-Va(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=gy++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=s2e++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},d2e={readContext:ta,useCallback:IG,useContext:ta,useEffect:Nk,useImperativeHandle:PG,useInsertionEffect:FG,useLayoutEffect:DG,useMemo:zG,useReducer:h9,useRef:RG,useState:function(){return h9(my)},useDebugValue:Ok,useDeferredValue:function(e){var t=na();return BG(t,Rn.memoizedState,e)},useTransition:function(){var e=h9(my)[0],t=na().memoizedState;return[e,t]},useMutableSource:CG,useSyncExternalStore:$G,useId:UG,unstable_isNewReconciler:!1},h2e={readContext:ta,useCallback:IG,useContext:ta,useEffect:Nk,useImperativeHandle:PG,useInsertionEffect:FG,useLayoutEffect:DG,useMemo:zG,useReducer:p9,useRef:RG,useState:function(){return p9(my)},useDebugValue:Ok,useDeferredValue:function(e){var t=na();return Rn===null?t.memoizedState=e:BG(t,Rn.memoizedState,e)},useTransition:function(){var e=p9(my)[0],t=na().memoizedState;return[e,t]},useMutableSource:CG,useSyncExternalStore:$G,useId:UG,unstable_isNewReconciler:!1};function vp(e,t){try{var n="",r=t;do n+=Ume(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function g9(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function K8(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var p2e=typeof WeakMap=="function"?WeakMap:Map;function qG(e,t,n){n=el(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hw||(Hw=!0,s4=r),K8(e,t)},n}function GG(e,t,n){n=el(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){K8(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){K8(e,t),typeof r!="function"&&(Ec===null?Ec=new Set([this]):Ec.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function OP(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new p2e;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=k2e.bind(null,e,t,n),t.then(e,e))}function RP(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function FP(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=el(-1,1),t.tag=2,Sc(n,t,1))),n.lanes|=1),e)}var g2e=bl.ReactCurrentOwner,Ri=!1;function Xr(e,t,n,r){t.child=e===null?SG(t,null,n,r):mp(t,e.child,n,r)}function DP(e,t,n,r,i){n=n.render;var o=t.ref;return Kh(t,i),r=Tk(e,t,n,r,o,i),n=Mk(),e!==null&&!Ri?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ll(e,t,i)):(on&&n&&yk(t),t.flags|=1,Xr(e,t,r,i),t.child)}function LP(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Bk(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,VG(e,t,o,r,i)):(e=Vx(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:ly,n(a,r)&&e.ref===t.ref)return ll(e,t,i)}return t.flags|=1,e=$c(o,r),e.ref=t.ref,e.return=t,t.child=e}function VG(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(ly(o,r)&&e.ref===t.ref)if(Ri=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Ri=!0);else return t.lanes=e.lanes,ll(e,t,i)}return Q8(e,t,n,r,i)}function YG(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vt(Ph,oo),oo|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Vt(Ph,oo),oo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Vt(Ph,oo),oo|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Vt(Ph,oo),oo|=r;return Xr(e,t,i,n),t.child}function JG(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Q8(e,t,n,r,i){var o=Li(n)?Id:Br.current;return o=pp(t,o),Kh(t,i),n=Tk(e,t,n,r,o,i),r=Mk(),e!==null&&!Ri?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ll(e,t,i)):(on&&r&&yk(t),t.flags|=1,Xr(e,t,n,i),t.child)}function PP(e,t,n,r,i){if(Li(n)){var o=!0;Fw(t)}else o=!1;if(Kh(t,i),t.stateNode===null)Hx(e,t),AG(t,n,r),X8(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,l=n.contextType;typeof l=="object"&&l!==null?l=ta(l):(l=Li(n)?Id:Br.current,l=pp(t,l));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||u!==l)&&kP(t,a,r,l),Ql=!1;var d=t.memoizedState;a.state=d,zw(t,r,a,i),u=t.memoizedState,s!==r||d!==u||Di.current||Ql?(typeof c=="function"&&(J8(t,n,c,r),u=t.memoizedState),(s=Ql||$P(t,n,s,r,d,u,l))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,xG(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Oa(t.type,s),a.props=l,f=t.pendingProps,d=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=ta(u):(u=Li(n)?Id:Br.current,u=pp(t,u));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||d!==u)&&kP(t,a,r,u),Ql=!1,d=t.memoizedState,a.state=d,zw(t,r,a,i);var g=t.memoizedState;s!==f||d!==g||Di.current||Ql?(typeof p=="function"&&(J8(t,n,p,r),g=t.memoizedState),(l=Ql||$P(t,n,l,r,d,g,u)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),a.props=r,a.state=g,a.context=u,r=l):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Z8(e,t,n,r,o,i)}function Z8(e,t,n,r,i,o){JG(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&AP(t,n,!1),ll(e,t,o);r=t.stateNode,g2e.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=mp(t,e.child,null,o),t.child=mp(t,null,s,o)):Xr(e,t,s,o),t.memoizedState=r.state,i&&AP(t,n,!0),t.child}function XG(e){var t=e.stateNode;t.pendingContext?wP(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wP(e,t.context,!1),Ek(e,t.containerInfo)}function IP(e,t,n,r,i){return gp(),bk(i),t.flags|=256,Xr(e,t,n,r),t.child}var e4={dehydrated:null,treeContext:null,retryLane:0};function t4(e){return{baseLanes:e,cachePool:null,transitions:null}}function KG(e,t,n){var r=t.pendingProps,i=cn.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Vt(cn,i&1),e===null)return V8(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=K_(a,r,0,null),e=Ed(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=t4(n),t.memoizedState=e4,e):Rk(t,a));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return m2e(e,t,a,r,s,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,s=i.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=$c(i,u),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=$c(s,o):(o=Ed(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?t4(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=e4,r}return o=e.child,e=o.sibling,r=$c(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Rk(e,t){return t=K_({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Mb(e,t,n,r){return r!==null&&bk(r),mp(t,e.child,null,n),e=Rk(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function m2e(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=g9(Error(ye(422))),Mb(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=K_({mode:"visible",children:r.children},i,0,null),o=Ed(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&mp(t,e.child,null,a),t.child.memoizedState=t4(a),t.memoizedState=e4,o);if(!(t.mode&1))return Mb(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(ye(419)),r=g9(o,r,void 0),Mb(e,t,a,r)}if(s=(a&e.childLanes)!==0,Ri||s){if(r=nr,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ul(e,i),Ya(r,e,i,-1))}return zk(),r=g9(Error(ye(421))),Mb(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=T2e.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,co=_c(i.nextSibling),go=t,on=!0,La=null,e!==null&&(Uo[jo++]=Gu,Uo[jo++]=Vu,Uo[jo++]=zd,Gu=e.id,Vu=e.overflow,zd=t),t=Rk(t,r.children),t.flags|=4096,t)}function zP(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Y8(e.return,t,n)}function m9(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function QG(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Xr(e,t,r.children,n),r=cn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zP(e,n,t);else if(e.tag===19)zP(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Vt(cn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Bw(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),m9(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Bw(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}m9(t,!0,n,null,o);break;case"together":m9(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hx(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ll(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ud|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ye(153));if(t.child!==null){for(e=t.child,n=$c(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=$c(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function y2e(e,t,n){switch(t.tag){case 3:XG(t),gp();break;case 5:EG(t);break;case 1:Li(t.type)&&Fw(t);break;case 4:Ek(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Vt(Pw,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Vt(cn,cn.current&1),t.flags|=128,null):n&t.child.childLanes?KG(e,t,n):(Vt(cn,cn.current&1),e=ll(e,t,n),e!==null?e.sibling:null);Vt(cn,cn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return QG(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Vt(cn,cn.current),r)break;return null;case 22:case 23:return t.lanes=0,YG(e,t,n)}return ll(e,t,n)}var ZG,n4,eV,tV;ZG=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};n4=function(){};eV=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,gd(zs.current);var o=null;switch(n){case"input":i=S8(e,i),r=S8(e,r),o=[];break;case"select":i=dn({},i,{value:void 0}),r=dn({},r,{value:void 0}),o=[];break;case"textarea":i=$8(e,i),r=$8(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ow)}T8(n,r);var a;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(ny.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var u=r[l];if(s=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==s&&(u!=null||s!=null))if(l==="style")if(s){for(a in s)!s.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&s[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,s=s?s.__html:void 0,u!=null&&s!==u&&(o=o||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(ny.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&Xt("scroll",e),o||s===u||(o=[])):(o=o||[]).push(l,u))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}};tV=function(e,t,n,r){n!==r&&(t.flags|=4)};function v1(e,t){if(!on)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Er(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function v2e(e,t,n){var r=t.pendingProps;switch(vk(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Er(t),null;case 1:return Li(t.type)&&Rw(),Er(t),null;case 3:return r=t.stateNode,yp(),Zt(Di),Zt(Br),$k(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(kb(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,La!==null&&(c4(La),La=null))),n4(e,t),Er(t),null;case 5:Ck(t);var i=gd(py.current);if(n=t.type,e!==null&&t.stateNode!=null)eV(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ye(166));return Er(t),null}if(e=gd(zs.current),kb(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Ns]=t,r[dy]=o,e=(t.mode&1)!==0,n){case"dialog":Xt("cancel",r),Xt("close",r);break;case"iframe":case"object":case"embed":Xt("load",r);break;case"video":case"audio":for(i=0;i<em.length;i++)Xt(em[i],r);break;case"source":Xt("error",r);break;case"img":case"image":case"link":Xt("error",r),Xt("load",r);break;case"details":Xt("toggle",r);break;case"input":YL(r,o),Xt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Xt("invalid",r);break;case"textarea":XL(r,o),Xt("invalid",r)}T8(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&$b(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&$b(r.textContent,s,e),i=["children",""+s]):ny.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Xt("scroll",r)}switch(n){case"input":bb(r),JL(r,o,!0);break;case"textarea":bb(r),KL(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ow)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kq(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Ns]=t,e[dy]=r,ZG(e,t,!1,!1),t.stateNode=e;e:{switch(a=M8(n,r),n){case"dialog":Xt("cancel",e),Xt("close",e),i=r;break;case"iframe":case"object":case"embed":Xt("load",e),i=r;break;case"video":case"audio":for(i=0;i<em.length;i++)Xt(em[i],e);i=r;break;case"source":Xt("error",e),i=r;break;case"img":case"image":case"link":Xt("error",e),Xt("load",e),i=r;break;case"details":Xt("toggle",e),i=r;break;case"input":YL(e,r),i=S8(e,r),Xt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=dn({},r,{value:void 0}),Xt("invalid",e);break;case"textarea":XL(e,r),i=$8(e,r),Xt("invalid",e);break;default:i=r}T8(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="style"?Nq(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Tq(e,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ry(e,u):typeof u=="number"&&ry(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ny.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Xt("scroll",e):u!=null&&rk(e,o,u,a))}switch(n){case"input":bb(e),JL(e,r,!1);break;case"textarea":bb(e),KL(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Pc(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Vh(e,!!r.multiple,o,!1):r.defaultValue!=null&&Vh(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ow)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Er(t),null;case 6:if(e&&t.stateNode!=null)tV(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ye(166));if(n=gd(py.current),gd(zs.current),kb(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ns]=t,(o=r.nodeValue!==n)&&(e=go,e!==null))switch(e.tag){case 3:$b(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$b(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ns]=t,t.stateNode=r}return Er(t),null;case 13:if(Zt(cn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(on&&co!==null&&t.mode&1&&!(t.flags&128))vG(),gp(),t.flags|=98560,o=!1;else if(o=kb(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(ye(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ye(317));o[Ns]=t}else gp(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Er(t),o=!1}else La!==null&&(c4(La),La=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||cn.current&1?Ln===0&&(Ln=3):zk())),t.updateQueue!==null&&(t.flags|=4),Er(t),null);case 4:return yp(),n4(e,t),e===null&&cy(t.stateNode.containerInfo),Er(t),null;case 10:return Ak(t.type._context),Er(t),null;case 17:return Li(t.type)&&Rw(),Er(t),null;case 19:if(Zt(cn),o=t.memoizedState,o===null)return Er(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)v1(o,!1);else{if(Ln!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Bw(e),a!==null){for(t.flags|=128,v1(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Vt(cn,cn.current&1|2),t.child}e=e.sibling}o.tail!==null&&Sn()>bp&&(t.flags|=128,r=!0,v1(o,!1),t.lanes=4194304)}else{if(!r)if(e=Bw(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),v1(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!on)return Er(t),null}else 2*Sn()-o.renderingStartTime>bp&&n!==1073741824&&(t.flags|=128,r=!0,v1(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Sn(),t.sibling=null,n=cn.current,Vt(cn,r?n&1|2:n&1),t):(Er(t),null);case 22:case 23:return Ik(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?oo&1073741824&&(Er(t),t.subtreeFlags&6&&(t.flags|=8192)):Er(t),null;case 24:return null;case 25:return null}throw Error(ye(156,t.tag))}function b2e(e,t){switch(vk(t),t.tag){case 1:return Li(t.type)&&Rw(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yp(),Zt(Di),Zt(Br),$k(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ck(t),null;case 13:if(Zt(cn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ye(340));gp()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Zt(cn),null;case 4:return yp(),null;case 10:return Ak(t.type._context),null;case 22:case 23:return Ik(),null;case 24:return null;default:return null}}var Nb=!1,Nr=!1,x2e=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function Lh(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){mn(e,t,r)}else n.current=null}function r4(e,t,n){try{n()}catch(r){mn(e,t,r)}}var BP=!1;function w2e(e,t){if(B8=Tw,e=oG(),mk(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,u=-1,l=0,c=0,f=e,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(u=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++l===i&&(s=a),d===o&&++c===r&&(u=a),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=s===-1||u===-1?null:{start:s,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(U8={focusedElem:e,selectionRange:n},Tw=!1,Ne=t;Ne!==null;)if(t=Ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ne=e;else for(;Ne!==null;){t=Ne;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,v=g.memoizedState,b=t.stateNode,x=b.getSnapshotBeforeUpdate(t.elementType===t.type?y:Oa(t.type,y),v);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ye(163))}}catch(A){mn(t,t.return,A)}if(e=t.sibling,e!==null){e.return=t.return,Ne=e;break}Ne=t.return}return g=BP,BP=!1,g}function Fm(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&r4(t,n,o)}i=i.next}while(i!==r)}}function J_(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function i4(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function nV(e){var t=e.alternate;t!==null&&(e.alternate=null,nV(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ns],delete t[dy],delete t[H8],delete t[r2e],delete t[i2e])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rV(e){return e.tag===5||e.tag===3||e.tag===4}function UP(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rV(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function o4(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ow));else if(r!==4&&(e=e.child,e!==null))for(o4(e,t,n),e=e.sibling;e!==null;)o4(e,t,n),e=e.sibling}function a4(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(a4(e,t,n),e=e.sibling;e!==null;)a4(e,t,n),e=e.sibling}var lr=null,Ra=!1;function Hl(e,t,n){for(n=n.child;n!==null;)iV(e,t,n),n=n.sibling}function iV(e,t,n){if(Is&&typeof Is.onCommitFiberUnmount=="function")try{Is.onCommitFiberUnmount(U_,n)}catch{}switch(n.tag){case 5:Nr||Lh(n,t);case 6:var r=lr,i=Ra;lr=null,Hl(e,t,n),lr=r,Ra=i,lr!==null&&(Ra?(e=lr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):lr.removeChild(n.stateNode));break;case 18:lr!==null&&(Ra?(e=lr,n=n.stateNode,e.nodeType===8?l9(e.parentNode,n):e.nodeType===1&&l9(e,n),sy(e)):l9(lr,n.stateNode));break;case 4:r=lr,i=Ra,lr=n.stateNode.containerInfo,Ra=!0,Hl(e,t,n),lr=r,Ra=i;break;case 0:case 11:case 14:case 15:if(!Nr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&r4(n,t,a),i=i.next}while(i!==r)}Hl(e,t,n);break;case 1:if(!Nr&&(Lh(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){mn(n,t,s)}Hl(e,t,n);break;case 21:Hl(e,t,n);break;case 22:n.mode&1?(Nr=(r=Nr)||n.memoizedState!==null,Hl(e,t,n),Nr=r):Hl(e,t,n);break;default:Hl(e,t,n)}}function jP(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new x2e),t.forEach(function(r){var i=M2e.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ea(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:lr=s.stateNode,Ra=!1;break e;case 3:lr=s.stateNode.containerInfo,Ra=!0;break e;case 4:lr=s.stateNode.containerInfo,Ra=!0;break e}s=s.return}if(lr===null)throw Error(ye(160));iV(o,a,i),lr=null,Ra=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){mn(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)oV(t,e),t=t.sibling}function oV(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ea(t,e),xs(e),r&4){try{Fm(3,e,e.return),J_(3,e)}catch(y){mn(e,e.return,y)}try{Fm(5,e,e.return)}catch(y){mn(e,e.return,y)}}break;case 1:Ea(t,e),xs(e),r&512&&n!==null&&Lh(n,n.return);break;case 5:if(Ea(t,e),xs(e),r&512&&n!==null&&Lh(n,n.return),e.flags&32){var i=e.stateNode;try{ry(i,"")}catch(y){mn(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,s=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&Cq(i,o),M8(s,a);var l=M8(s,o);for(a=0;a<u.length;a+=2){var c=u[a],f=u[a+1];c==="style"?Nq(i,f):c==="dangerouslySetInnerHTML"?Tq(i,f):c==="children"?ry(i,f):rk(i,c,f,l)}switch(s){case"input":E8(i,o);break;case"textarea":$q(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Vh(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?Vh(i,!!o.multiple,o.defaultValue,!0):Vh(i,!!o.multiple,o.multiple?[]:"",!1))}i[dy]=o}catch(y){mn(e,e.return,y)}}break;case 6:if(Ea(t,e),xs(e),r&4){if(e.stateNode===null)throw Error(ye(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){mn(e,e.return,y)}}break;case 3:if(Ea(t,e),xs(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{sy(t.containerInfo)}catch(y){mn(e,e.return,y)}break;case 4:Ea(t,e),xs(e);break;case 13:Ea(t,e),xs(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Lk=Sn())),r&4&&jP(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Nr=(l=Nr)||c,Ea(t,e),Nr=l):Ea(t,e),xs(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!c&&e.mode&1)for(Ne=e,c=e.child;c!==null;){for(f=Ne=c;Ne!==null;){switch(d=Ne,p=d.child,d.tag){case 0:case 11:case 14:case 15:Fm(4,d,d.return);break;case 1:Lh(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){mn(r,n,y)}}break;case 5:Lh(d,d.return);break;case 22:if(d.memoizedState!==null){HP(f);continue}}p!==null?(p.return=d,Ne=p):HP(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,l?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,u=f.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,s.style.display=Mq("display",a))}catch(y){mn(e,e.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(y){mn(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ea(t,e),xs(e),r&4&&jP(e);break;case 21:break;default:Ea(t,e),xs(e)}}function xs(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(rV(n)){var r=n;break e}n=n.return}throw Error(ye(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ry(i,""),r.flags&=-33);var o=UP(e);a4(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=UP(e);o4(e,s,a);break;default:throw Error(ye(161))}}catch(u){mn(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function A2e(e,t,n){Ne=e,aV(e)}function aV(e,t,n){for(var r=(e.mode&1)!==0;Ne!==null;){var i=Ne,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Nb;if(!a){var s=i.alternate,u=s!==null&&s.memoizedState!==null||Nr;s=Nb;var l=Nr;if(Nb=a,(Nr=u)&&!l)for(Ne=i;Ne!==null;)a=Ne,u=a.child,a.tag===22&&a.memoizedState!==null?qP(i):u!==null?(u.return=a,Ne=u):qP(i);for(;o!==null;)Ne=o,aV(o),o=o.sibling;Ne=i,Nb=s,Nr=l}WP(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Ne=o):WP(e)}}function WP(e){for(;Ne!==null;){var t=Ne;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Nr||J_(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Nr)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Oa(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&CP(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}CP(t,a,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&sy(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ye(163))}Nr||t.flags&512&&i4(t)}catch(d){mn(t,t.return,d)}}if(t===e){Ne=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ne=n;break}Ne=t.return}}function HP(e){for(;Ne!==null;){var t=Ne;if(t===e){Ne=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ne=n;break}Ne=t.return}}function qP(e){for(;Ne!==null;){var t=Ne;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{J_(4,t)}catch(u){mn(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){mn(t,i,u)}}var o=t.return;try{i4(t)}catch(u){mn(t,o,u)}break;case 5:var a=t.return;try{i4(t)}catch(u){mn(t,a,u)}}}catch(u){mn(t,t.return,u)}if(t===e){Ne=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Ne=s;break}Ne=t.return}}var _2e=Math.ceil,Ww=bl.ReactCurrentDispatcher,Fk=bl.ReactCurrentOwner,Ko=bl.ReactCurrentBatchConfig,bt=0,nr=null,kn=null,pr=0,oo=0,Ph=hf(0),Ln=0,vy=null,Ud=0,X_=0,Dk=0,Dm=null,$i=null,Lk=0,bp=1/0,Pu=null,Hw=!1,s4=null,Ec=null,Ob=!1,cc=null,qw=0,Lm=0,u4=null,qx=-1,Gx=0;function oi(){return bt&6?Sn():qx!==-1?qx:qx=Sn()}function Cc(e){return e.mode&1?bt&2&&pr!==0?pr&-pr:a2e.transition!==null?(Gx===0&&(Gx=Wq()),Gx):(e=Lt,e!==0||(e=window.event,e=e===void 0?16:Xq(e.type)),e):1}function Ya(e,t,n,r){if(50<Lm)throw Lm=0,u4=null,Error(ye(185));d2(e,n,r),(!(bt&2)||e!==nr)&&(e===nr&&(!(bt&2)&&(X_|=n),Ln===4&&ac(e,pr)),Pi(e,r),n===1&&bt===0&&!(t.mode&1)&&(bp=Sn()+500,G_&&pf()))}function Pi(e,t){var n=e.callbackNode;aye(e,t);var r=kw(e,e===nr?pr:0);if(r===0)n!==null&&eP(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&eP(n),t===1)e.tag===0?o2e(GP.bind(null,e)):gG(GP.bind(null,e)),t2e(function(){!(bt&6)&&pf()}),n=null;else{switch(Hq(r)){case 1:n=uk;break;case 4:n=Uq;break;case 16:n=$w;break;case 536870912:n=jq;break;default:n=$w}n=pV(n,sV.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sV(e,t){if(qx=-1,Gx=0,bt&6)throw Error(ye(327));var n=e.callbackNode;if(Qh()&&e.callbackNode!==n)return null;var r=kw(e,e===nr?pr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Gw(e,r);else{t=r;var i=bt;bt|=2;var o=lV();(nr!==e||pr!==t)&&(Pu=null,bp=Sn()+500,Sd(e,t));do try{C2e();break}catch(s){uV(e,s)}while(1);wk(),Ww.current=o,bt=i,kn!==null?t=0:(nr=null,pr=0,t=Ln)}if(t!==0){if(t===2&&(i=D8(e),i!==0&&(r=i,t=l4(e,i))),t===1)throw n=vy,Sd(e,0),ac(e,r),Pi(e,Sn()),n;if(t===6)ac(e,r);else{if(i=e.current.alternate,!(r&30)&&!S2e(i)&&(t=Gw(e,r),t===2&&(o=D8(e),o!==0&&(r=o,t=l4(e,o))),t===1))throw n=vy,Sd(e,0),ac(e,r),Pi(e,Sn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ye(345));case 2:td(e,$i,Pu);break;case 3:if(ac(e,r),(r&130023424)===r&&(t=Lk+500-Sn(),10<t)){if(kw(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){oi(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=W8(td.bind(null,e,$i,Pu),t);break}td(e,$i,Pu);break;case 4:if(ac(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Va(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=Sn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_2e(r/1960))-r,10<r){e.timeoutHandle=W8(td.bind(null,e,$i,Pu),r);break}td(e,$i,Pu);break;case 5:td(e,$i,Pu);break;default:throw Error(ye(329))}}}return Pi(e,Sn()),e.callbackNode===n?sV.bind(null,e):null}function l4(e,t){var n=Dm;return e.current.memoizedState.isDehydrated&&(Sd(e,t).flags|=256),e=Gw(e,t),e!==2&&(t=$i,$i=n,t!==null&&c4(t)),e}function c4(e){$i===null?$i=e:$i.push.apply($i,e)}function S2e(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Za(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ac(e,t){for(t&=~Dk,t&=~X_,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Va(t),r=1<<n;e[n]=-1,t&=~r}}function GP(e){if(bt&6)throw Error(ye(327));Qh();var t=kw(e,0);if(!(t&1))return Pi(e,Sn()),null;var n=Gw(e,t);if(e.tag!==0&&n===2){var r=D8(e);r!==0&&(t=r,n=l4(e,r))}if(n===1)throw n=vy,Sd(e,0),ac(e,t),Pi(e,Sn()),n;if(n===6)throw Error(ye(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,td(e,$i,Pu),Pi(e,Sn()),null}function Pk(e,t){var n=bt;bt|=1;try{return e(t)}finally{bt=n,bt===0&&(bp=Sn()+500,G_&&pf())}}function jd(e){cc!==null&&cc.tag===0&&!(bt&6)&&Qh();var t=bt;bt|=1;var n=Ko.transition,r=Lt;try{if(Ko.transition=null,Lt=1,e)return e()}finally{Lt=r,Ko.transition=n,bt=t,!(bt&6)&&pf()}}function Ik(){oo=Ph.current,Zt(Ph)}function Sd(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,e2e(n)),kn!==null)for(n=kn.return;n!==null;){var r=n;switch(vk(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Rw();break;case 3:yp(),Zt(Di),Zt(Br),$k();break;case 5:Ck(r);break;case 4:yp();break;case 13:Zt(cn);break;case 19:Zt(cn);break;case 10:Ak(r.type._context);break;case 22:case 23:Ik()}n=n.return}if(nr=e,kn=e=$c(e.current,null),pr=oo=t,Ln=0,vy=null,Dk=X_=Ud=0,$i=Dm=null,pd!==null){for(t=0;t<pd.length;t++)if(n=pd[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}pd=null}return e}function uV(e,t){do{var n=kn;try{if(wk(),jx.current=jw,Uw){for(var r=fn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Uw=!1}if(Bd=0,Vn=Rn=fn=null,Rm=!1,gy=0,Fk.current=null,n===null||n.return===null){Ln=1,vy=t,kn=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=pr,s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=RP(a);if(p!==null){p.flags&=-257,FP(p,a,s,o,t),p.mode&1&&OP(o,l,t),t=p,u=l;var g=t.updateQueue;if(g===null){var y=new Set;y.add(u),t.updateQueue=y}else g.add(u);break e}else{if(!(t&1)){OP(o,l,t),zk();break e}u=Error(ye(426))}}else if(on&&s.mode&1){var v=RP(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),FP(v,a,s,o,t),bk(vp(u,s));break e}}o=u=vp(u,s),Ln!==4&&(Ln=2),Dm===null?Dm=[o]:Dm.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var b=qG(o,u,t);EP(o,b);break e;case 1:s=u;var x=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ec===null||!Ec.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t;var A=GG(o,s,t);EP(o,A);break e}}o=o.return}while(o!==null)}fV(n)}catch(S){t=S,kn===n&&n!==null&&(kn=n=n.return);continue}break}while(1)}function lV(){var e=Ww.current;return Ww.current=jw,e===null?jw:e}function zk(){(Ln===0||Ln===3||Ln===2)&&(Ln=4),nr===null||!(Ud&268435455)&&!(X_&268435455)||ac(nr,pr)}function Gw(e,t){var n=bt;bt|=2;var r=lV();(nr!==e||pr!==t)&&(Pu=null,Sd(e,t));do try{E2e();break}catch(i){uV(e,i)}while(1);if(wk(),bt=n,Ww.current=r,kn!==null)throw Error(ye(261));return nr=null,pr=0,Ln}function E2e(){for(;kn!==null;)cV(kn)}function C2e(){for(;kn!==null&&!Kme();)cV(kn)}function cV(e){var t=hV(e.alternate,e,oo);e.memoizedProps=e.pendingProps,t===null?fV(e):kn=t,Fk.current=null}function fV(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=b2e(n,t),n!==null){n.flags&=32767,kn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ln=6,kn=null;return}}else if(n=v2e(n,t,oo),n!==null){kn=n;return}if(t=t.sibling,t!==null){kn=t;return}kn=t=e}while(t!==null);Ln===0&&(Ln=5)}function td(e,t,n){var r=Lt,i=Ko.transition;try{Ko.transition=null,Lt=1,$2e(e,t,n,r)}finally{Ko.transition=i,Lt=r}return null}function $2e(e,t,n,r){do Qh();while(cc!==null);if(bt&6)throw Error(ye(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ye(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(sye(e,o),e===nr&&(kn=nr=null,pr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ob||(Ob=!0,pV($w,function(){return Qh(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ko.transition,Ko.transition=null;var a=Lt;Lt=1;var s=bt;bt|=4,Fk.current=null,w2e(e,n),oV(n,e),Vye(U8),Tw=!!B8,U8=B8=null,e.current=n,A2e(n),Qme(),bt=s,Lt=a,Ko.transition=o}else e.current=n;if(Ob&&(Ob=!1,cc=e,qw=i),o=e.pendingLanes,o===0&&(Ec=null),tye(n.stateNode),Pi(e,Sn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hw)throw Hw=!1,e=s4,s4=null,e;return qw&1&&e.tag!==0&&Qh(),o=e.pendingLanes,o&1?e===u4?Lm++:(Lm=0,u4=e):Lm=0,pf(),null}function Qh(){if(cc!==null){var e=Hq(qw),t=Ko.transition,n=Lt;try{if(Ko.transition=null,Lt=16>e?16:e,cc===null)var r=!1;else{if(e=cc,cc=null,qw=0,bt&6)throw Error(ye(331));var i=bt;for(bt|=4,Ne=e.current;Ne!==null;){var o=Ne,a=o.child;if(Ne.flags&16){var s=o.deletions;if(s!==null){for(var u=0;u<s.length;u++){var l=s[u];for(Ne=l;Ne!==null;){var c=Ne;switch(c.tag){case 0:case 11:case 15:Fm(8,c,o)}var f=c.child;if(f!==null)f.return=c,Ne=f;else for(;Ne!==null;){c=Ne;var d=c.sibling,p=c.return;if(nV(c),c===l){Ne=null;break}if(d!==null){d.return=p,Ne=d;break}Ne=p}}}var g=o.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}Ne=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Ne=a;else e:for(;Ne!==null;){if(o=Ne,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Fm(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,Ne=b;break e}Ne=o.return}}var x=e.current;for(Ne=x;Ne!==null;){a=Ne;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,Ne=_;else e:for(a=x;Ne!==null;){if(s=Ne,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:J_(9,s)}}catch(S){mn(s,s.return,S)}if(s===a){Ne=null;break e}var A=s.sibling;if(A!==null){A.return=s.return,Ne=A;break e}Ne=s.return}}if(bt=i,pf(),Is&&typeof Is.onPostCommitFiberRoot=="function")try{Is.onPostCommitFiberRoot(U_,e)}catch{}r=!0}return r}finally{Lt=n,Ko.transition=t}}return!1}function VP(e,t,n){t=vp(n,t),t=qG(e,t,1),e=Sc(e,t,1),t=oi(),e!==null&&(d2(e,1,t),Pi(e,t))}function mn(e,t,n){if(e.tag===3)VP(e,e,n);else for(;t!==null;){if(t.tag===3){VP(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ec===null||!Ec.has(r))){e=vp(n,e),e=GG(t,e,1),t=Sc(t,e,1),e=oi(),t!==null&&(d2(t,1,e),Pi(t,e));break}}t=t.return}}function k2e(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=oi(),e.pingedLanes|=e.suspendedLanes&n,nr===e&&(pr&n)===n&&(Ln===4||Ln===3&&(pr&130023424)===pr&&500>Sn()-Lk?Sd(e,0):Dk|=n),Pi(e,t)}function dV(e,t){t===0&&(e.mode&1?(t=Ab,Ab<<=1,!(Ab&130023424)&&(Ab=4194304)):t=1);var n=oi();e=ul(e,t),e!==null&&(d2(e,t,n),Pi(e,n))}function T2e(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),dV(e,n)}function M2e(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ye(314))}r!==null&&r.delete(t),dV(e,n)}var hV;hV=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Di.current)Ri=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ri=!1,y2e(e,t,n);Ri=!!(e.flags&131072)}else Ri=!1,on&&t.flags&1048576&&mG(t,Lw,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hx(e,t),e=t.pendingProps;var i=pp(t,Br.current);Kh(t,n),i=Tk(null,t,r,e,i,n);var o=Mk();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Li(r)?(o=!0,Fw(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Sk(t),i.updater=V_,t.stateNode=i,i._reactInternals=t,X8(t,r,e,n),t=Z8(null,t,r,!0,o,n)):(t.tag=0,on&&o&&yk(t),Xr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hx(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=O2e(r),e=Oa(r,e),i){case 0:t=Q8(null,t,r,e,n);break e;case 1:t=PP(null,t,r,e,n);break e;case 11:t=DP(null,t,r,e,n);break e;case 14:t=LP(null,t,r,Oa(r.type,e),n);break e}throw Error(ye(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Oa(r,i),Q8(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Oa(r,i),PP(e,t,r,i,n);case 3:e:{if(XG(t),e===null)throw Error(ye(387));r=t.pendingProps,o=t.memoizedState,i=o.element,xG(e,t),zw(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=vp(Error(ye(423)),t),t=IP(e,t,r,n,i);break e}else if(r!==i){i=vp(Error(ye(424)),t),t=IP(e,t,r,n,i);break e}else for(co=_c(t.stateNode.containerInfo.firstChild),go=t,on=!0,La=null,n=SG(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(gp(),r===i){t=ll(e,t,n);break e}Xr(e,t,r,n)}t=t.child}return t;case 5:return EG(t),e===null&&V8(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,j8(r,i)?a=null:o!==null&&j8(r,o)&&(t.flags|=32),JG(e,t),Xr(e,t,a,n),t.child;case 6:return e===null&&V8(t),null;case 13:return KG(e,t,n);case 4:return Ek(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=mp(t,null,r,n):Xr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Oa(r,i),DP(e,t,r,i,n);case 7:return Xr(e,t,t.pendingProps,n),t.child;case 8:return Xr(e,t,t.pendingProps.children,n),t.child;case 12:return Xr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Vt(Pw,r._currentValue),r._currentValue=a,o!==null)if(Za(o.value,a)){if(o.children===i.children&&!Di.current){t=ll(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var u=s.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=el(-1,n&-n),u.tag=2;var l=o.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Y8(o.return,n,t),s.lanes|=n;break}u=u.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(ye(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Y8(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Xr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Kh(t,n),i=ta(i),r=r(i),t.flags|=1,Xr(e,t,r,n),t.child;case 14:return r=t.type,i=Oa(r,t.pendingProps),i=Oa(r.type,i),LP(e,t,r,i,n);case 15:return VG(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Oa(r,i),Hx(e,t),t.tag=1,Li(r)?(e=!0,Fw(t)):e=!1,Kh(t,n),AG(t,r,i),X8(t,r,i,n),Z8(null,t,r,!0,e,n);case 19:return QG(e,t,n);case 22:return YG(e,t,n)}throw Error(ye(156,t.tag))};function pV(e,t){return Bq(e,t)}function N2e(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qo(e,t,n,r){return new N2e(e,t,n,r)}function Bk(e){return e=e.prototype,!(!e||!e.isReactComponent)}function O2e(e){if(typeof e=="function")return Bk(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ok)return 11;if(e===ak)return 14}return 2}function $c(e,t){var n=e.alternate;return n===null?(n=qo(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vx(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")Bk(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case $h:return Ed(n.children,i,o,t);case ik:a=8,i|=8;break;case x8:return e=qo(12,n,t,i|2),e.elementType=x8,e.lanes=o,e;case w8:return e=qo(13,n,t,i),e.elementType=w8,e.lanes=o,e;case A8:return e=qo(19,n,t,i),e.elementType=A8,e.lanes=o,e;case _q:return K_(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case wq:a=10;break e;case Aq:a=9;break e;case ok:a=11;break e;case ak:a=14;break e;case Kl:a=16,r=null;break e}throw Error(ye(130,e==null?e:typeof e,""))}return t=qo(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Ed(e,t,n,r){return e=qo(7,e,r,t),e.lanes=n,e}function K_(e,t,n,r){return e=qo(22,e,r,t),e.elementType=_q,e.lanes=n,e.stateNode={isHidden:!1},e}function y9(e,t,n){return e=qo(6,e,null,t),e.lanes=n,e}function v9(e,t,n){return t=qo(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function R2e(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=QE(0),this.expirationTimes=QE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=QE(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uk(e,t,n,r,i,o,a,s,u){return e=new R2e(e,t,n,s,u),t===1?(t=1,o===!0&&(t|=8)):t=0,o=qo(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sk(o),e}function F2e(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ch,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function gV(e){if(!e)return Ic;e=e._reactInternals;e:{if(x0(e)!==e||e.tag!==1)throw Error(ye(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Li(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ye(171))}if(e.tag===1){var n=e.type;if(Li(n))return pG(e,n,t)}return t}function mV(e,t,n,r,i,o,a,s,u){return e=Uk(n,r,!0,e,i,o,a,s,u),e.context=gV(null),n=e.current,r=oi(),i=Cc(n),o=el(r,i),o.callback=t??null,Sc(n,o,i),e.current.lanes=i,d2(e,i,r),Pi(e,r),e}function Q_(e,t,n,r){var i=t.current,o=oi(),a=Cc(i);return n=gV(n),t.context===null?t.context=n:t.pendingContext=n,t=el(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Sc(i,t,a),e!==null&&(Ya(e,i,a,o),Ux(e,i,a)),a}function Vw(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function YP(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function jk(e,t){YP(e,t),(e=e.alternate)&&YP(e,t)}function D2e(){return null}var yV=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wk(e){this._internalRoot=e}Z_.prototype.render=Wk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ye(409));Q_(e,t,null,null)};Z_.prototype.unmount=Wk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jd(function(){Q_(null,e,null,null)}),t[sl]=null}};function Z_(e){this._internalRoot=e}Z_.prototype.unstable_scheduleHydration=function(e){if(e){var t=Vq();e={blockedOn:null,target:e,priority:t};for(var n=0;n<oc.length&&t!==0&&t<oc[n].priority;n++);oc.splice(n,0,e),n===0&&Jq(e)}};function Hk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function e3(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function JP(){}function L2e(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var l=Vw(a);o.call(l)}}var a=mV(t,r,e,0,null,!1,!1,"",JP);return e._reactRootContainer=a,e[sl]=a.current,cy(e.nodeType===8?e.parentNode:e),jd(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var l=Vw(u);s.call(l)}}var u=Uk(e,0,!1,null,null,!1,!1,"",JP);return e._reactRootContainer=u,e[sl]=u.current,cy(e.nodeType===8?e.parentNode:e),jd(function(){Q_(t,u,n,r)}),u}function t3(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var u=Vw(a);s.call(u)}}Q_(t,a,e,i)}else a=L2e(n,t,e,i,r);return Vw(a)}qq=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Z1(t.pendingLanes);n!==0&&(lk(t,n|1),Pi(t,Sn()),!(bt&6)&&(bp=Sn()+500,pf()))}break;case 13:jd(function(){var r=ul(e,1);if(r!==null){var i=oi();Ya(r,e,1,i)}}),jk(e,1)}};ck=function(e){if(e.tag===13){var t=ul(e,134217728);if(t!==null){var n=oi();Ya(t,e,134217728,n)}jk(e,134217728)}};Gq=function(e){if(e.tag===13){var t=Cc(e),n=ul(e,t);if(n!==null){var r=oi();Ya(n,e,t,r)}jk(e,t)}};Vq=function(){return Lt};Yq=function(e,t){var n=Lt;try{return Lt=e,t()}finally{Lt=n}};O8=function(e,t,n){switch(t){case"input":if(E8(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=q_(r);if(!i)throw Error(ye(90));Eq(r),E8(r,i)}}}break;case"textarea":$q(e,n);break;case"select":t=n.value,t!=null&&Vh(e,!!n.multiple,t,!1)}};Fq=Pk;Dq=jd;var P2e={usingClientEntryPoint:!1,Events:[p2,Nh,q_,Oq,Rq,Pk]},b1={findFiberByHostInstance:hd,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},I2e={bundleType:b1.bundleType,version:b1.version,rendererPackageName:b1.rendererPackageName,rendererConfig:b1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Iq(e),e===null?null:e.stateNode},findFiberByHostInstance:b1.findFiberByHostInstance||D2e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rb.isDisabled&&Rb.supportsFiber)try{U_=Rb.inject(I2e),Is=Rb}catch{}}Co.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P2e;Co.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hk(t))throw Error(ye(200));return F2e(e,t,null,n)};Co.createRoot=function(e,t){if(!Hk(e))throw Error(ye(299));var n=!1,r="",i=yV;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Uk(e,1,!1,null,null,n,!1,r,i),e[sl]=t.current,cy(e.nodeType===8?e.parentNode:e),new Wk(t)};Co.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ye(188)):(e=Object.keys(e).join(","),Error(ye(268,e)));return e=Iq(t),e=e===null?null:e.stateNode,e};Co.flushSync=function(e){return jd(e)};Co.hydrate=function(e,t,n){if(!e3(t))throw Error(ye(200));return t3(null,e,t,!0,n)};Co.hydrateRoot=function(e,t,n){if(!Hk(e))throw Error(ye(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=yV;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=mV(t,null,e,1,n??null,i,!1,o,a),e[sl]=t.current,cy(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Z_(t)};Co.render=function(e,t,n){if(!e3(t))throw Error(ye(200));return t3(null,e,t,!1,n)};Co.unmountComponentAtNode=function(e){if(!e3(e))throw Error(ye(40));return e._reactRootContainer?(jd(function(){t3(null,null,e,!1,function(){e._reactRootContainer=null,e[sl]=null})}),!0):!1};Co.unstable_batchedUpdates=Pk;Co.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!e3(n))throw Error(ye(200));if(e==null||e._reactInternals===void 0)throw Error(ye(38));return t3(e,t,n,!1,r)};Co.version="18.2.0-next-9e3b772b8-20220608";function vV(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vV)}catch(e){console.error(e)}}vV(),mq.exports=Co;var bV=mq.exports;const tm=dg(bV);var XP=bV;v8.createRoot=XP.createRoot,v8.hydrateRoot=XP.hydrateRoot;var xV={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var a=typeof o;if(a==="string"||a==="number")r.push(o);else if(Array.isArray(o)){if(o.length){var s=n.apply(null,o);s&&r.push(s)}}else if(a==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){r.push(o.toString());continue}for(var u in o)t.call(o,u)&&o[u]&&r.push(u)}}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(xV);var z2e=xV.exports;const st=dg(z2e);function f4(){return f4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f4.apply(this,arguments)}function wV(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function KP(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function B2e(e){var t=U2e(e,"string");return typeof t=="symbol"?t:String(t)}function U2e(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j2e(e,t,n){var r=J.useRef(e!==void 0),i=J.useState(t),o=i[0],a=i[1],s=e!==void 0,u=r.current;return r.current=s,!s&&u&&o!==t&&a(t),[s?e:o,J.useCallback(function(l){for(var c=arguments.length,f=new Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];n&&n.apply(void 0,[l].concat(f)),a(l)},[n])]}function qk(e,t){return Object.keys(t).reduce(function(n,r){var i,o=n,a=o[KP(r)],s=o[r],u=wV(o,[KP(r),r].map(B2e)),l=t[r],c=j2e(s,a,e[l]),f=c[0],d=c[1];return f4({},u,(i={},i[r]=f,i[l]=d,i))},e)}function d4(e,t){return d4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},d4(e,t)}function W2e(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,d4(e,t)}const H2e=["xxl","xl","lg","md","sm","xs"],q2e="xs",n3=J.createContext({prefixes:{},breakpoints:H2e,minBreakpoint:q2e});function Ct(e,t){const{prefixes:n}=J.useContext(n3);return e||n[t]||t}function AV(){const{breakpoints:e}=J.useContext(n3);return e}function _V(){const{minBreakpoint:e}=J.useContext(n3);return e}function G2e(){const{dir:e}=J.useContext(n3);return e==="rtl"}function SV(e){return e&&e.ownerDocument||document}function V2e(e){var t=SV(e);return t&&t.defaultView||window}function Y2e(e,t){return V2e(e).getComputedStyle(e,t)}var J2e=/([A-Z])/g;function X2e(e){return e.replace(J2e,"-$1").toLowerCase()}var K2e=/^ms-/;function Fb(e){return X2e(e).replace(K2e,"-ms-")}var Q2e=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Z2e(e){return!!(e&&Q2e.test(e))}function EV(e,t){var n="",r="";if(typeof t=="string")return e.style.getPropertyValue(Fb(t))||Y2e(e).getPropertyValue(Fb(t));Object.keys(t).forEach(function(i){var o=t[i];!o&&o!==0?e.style.removeProperty(Fb(i)):Z2e(i)?r+=i+"("+o+") ":n+=Fb(i)+": "+o+";"}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}var CV={exports:{}},eve="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",tve=eve,nve=tve;function $V(){}function kV(){}kV.resetWarningCache=$V;var rve=function(){function e(r,i,o,a,s,u){if(u!==nve){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:kV,resetWarningCache:$V};return n.PropTypes=n,n};CV.exports=rve();var ive=CV.exports;const so=dg(ive),QP={disabled:!1},TV=Oi.createContext(null);var ove=function(t){return t.scrollTop},nm="unmounted",nd="exited",Zl="entering",ad="entered",h4="exiting",xl=function(e){W2e(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var a=i,s=a&&!a.isMounting?r.enter:r.appear,u;return o.appearStatus=null,r.in?s?(u=nd,o.appearStatus=Zl):u=ad:r.unmountOnExit||r.mountOnEnter?u=nm:u=nd,o.state={status:u},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var a=i.in;return a&&o.status===nm?{status:nd}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==Zl&&a!==ad&&(o=Zl):(a===Zl||a===ad)&&(o=h4)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,a,s;return o=a=s=i,i!=null&&typeof i!="number"&&(o=i.exit,a=i.enter,s=i.appear!==void 0?i.appear:a),{exit:o,enter:a,appear:s}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Zl){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:tm.findDOMNode(this);a&&ove(a)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===nd&&this.setState({status:nm})},n.performEnter=function(i){var o=this,a=this.props.enter,s=this.context?this.context.isMounting:i,u=this.props.nodeRef?[s]:[tm.findDOMNode(this),s],l=u[0],c=u[1],f=this.getTimeouts(),d=s?f.appear:f.enter;if(!i&&!a||QP.disabled){this.safeSetState({status:ad},function(){o.props.onEntered(l)});return}this.props.onEnter(l,c),this.safeSetState({status:Zl},function(){o.props.onEntering(l,c),o.onTransitionEnd(d,function(){o.safeSetState({status:ad},function(){o.props.onEntered(l,c)})})})},n.performExit=function(){var i=this,o=this.props.exit,a=this.getTimeouts(),s=this.props.nodeRef?void 0:tm.findDOMNode(this);if(!o||QP.disabled){this.safeSetState({status:nd},function(){i.props.onExited(s)});return}this.props.onExit(s),this.safeSetState({status:h4},function(){i.props.onExiting(s),i.onTransitionEnd(a.exit,function(){i.safeSetState({status:nd},function(){i.props.onExited(s)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,a=!0;return this.nextCallback=function(s){a&&(a=!1,o.nextCallback=null,i(s))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var a=this.props.nodeRef?this.props.nodeRef.current:tm.findDOMNode(this),s=i==null&&!this.props.addEndListener;if(!a||s){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],l=u[0],c=u[1];this.props.addEndListener(l,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===nm)return null;var o=this.props,a=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var s=wV(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Oi.createElement(TV.Provider,{value:null},typeof a=="function"?a(i,s):Oi.cloneElement(Oi.Children.only(a),s))},t}(Oi.Component);xl.contextType=TV;xl.propTypes={};function ah(){}xl.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ah,onEntering:ah,onEntered:ah,onExit:ah,onExiting:ah,onExited:ah};xl.UNMOUNTED=nm;xl.EXITED=nd;xl.ENTERING=Zl;xl.ENTERED=ad;xl.EXITING=h4;const ave=xl,MV=!!(typeof window<"u"&&window.document&&window.document.createElement);var p4=!1,g4=!1;try{var b9={get passive(){return p4=!0},get once(){return g4=p4=!0}};MV&&(window.addEventListener("test",b9,b9),window.removeEventListener("test",b9,!0))}catch{}function NV(e,t,n,r){if(r&&typeof r!="boolean"&&!g4){var i=r.once,o=r.capture,a=n;!g4&&i&&(a=n.__once||function s(u){this.removeEventListener(t,s,o),n.call(this,u)},n.__once=a),e.addEventListener(t,a,p4?r:o)}e.addEventListener(t,n,r)}function sve(e,t,n,r){var i=r&&typeof r!="boolean"?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)}function Ih(e,t,n,r){return NV(e,t,n,r),function(){sve(e,t,n,r)}}function uve(e,t,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}function lve(e){var t=EV(e,"transitionDuration")||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function cve(e,t,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||uve(e,"transitionend",!0)},t+n),o=Ih(e,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),o()}}function fve(e,t,n,r){n==null&&(n=lve(e)||0);var i=cve(e,n,r),o=Ih(e,"transitionend",t);return function(){i(),o()}}function ZP(e,t){const n=EV(e,t)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function dve(e,t){const n=ZP(e,"transitionDuration"),r=ZP(e,"transitionDelay"),i=fve(e,o=>{o.target===e&&(i(),t(o))},n+r)}function hve(e){e.offsetHeight}const eI=e=>!e||typeof e=="function"?e:t=>{e.current=t};function pve(e,t){const n=eI(e),r=eI(t);return i=>{n&&n(i),r&&r(i)}}function m2(e,t){return J.useMemo(()=>pve(e,t),[e,t])}function gve(e){return e&&"setState"in e?tm.findDOMNode(e):e??null}const mve=Oi.forwardRef(({onEnter:e,onEntering:t,onEntered:n,onExit:r,onExiting:i,onExited:o,addEndListener:a,children:s,childRef:u,...l},c)=>{const f=J.useRef(null),d=m2(f,u),p=C=>{d(gve(C))},g=C=>E=>{C&&f.current&&C(f.current,E)},y=J.useCallback(g(e),[e]),v=J.useCallback(g(t),[t]),b=J.useCallback(g(n),[n]),x=J.useCallback(g(r),[r]),_=J.useCallback(g(i),[i]),A=J.useCallback(g(o),[o]),S=J.useCallback(g(a),[a]);return V.jsx(ave,{ref:c,...l,onEnter:y,onEntered:b,onEntering:v,onExit:x,onExited:A,onExiting:_,addEndListener:S,nodeRef:f,children:typeof s=="function"?(C,E)=>s(C,{...E,ref:p}):Oi.cloneElement(s,{ref:p})})}),yve=mve;function vve(e){const t=J.useRef(e);return J.useEffect(()=>{t.current=e},[e]),t}function Qo(e){const t=vve(e);return J.useCallback(function(...n){return t.current&&t.current(...n)},[t])}const OV=e=>J.forwardRef((t,n)=>V.jsx("div",{...t,ref:n,className:st(t.className,e)}));function bve(){return J.useState(null)}function xve(e,t,n,r=!1){const i=Qo(n);J.useEffect(()=>{const o=typeof e=="function"?e():e;return o.addEventListener(t,i,r),()=>o.removeEventListener(t,i,r)},[e])}function wve(){const e=J.useRef(!0),t=J.useRef(()=>e.current);return J.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function Ave(e){const t=J.useRef(null);return J.useEffect(()=>{t.current=e}),t.current}const _ve=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Sve=typeof document<"u",Eve=Sve||_ve?J.useLayoutEffect:J.useEffect,Cve=["as","disabled"];function $ve(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function kve(e){return!e||e.trim()==="#"}function Gk({tagName:e,disabled:t,href:n,target:r,rel:i,role:o,onClick:a,tabIndex:s=0,type:u}){e||(n!=null||r!=null||i!=null?e="a":e="button");const l={tagName:e};if(e==="button")return[{type:u||"button",disabled:t},l];const c=d=>{if((t||e==="a"&&kve(n))&&d.preventDefault(),t){d.stopPropagation();return}a==null||a(d)},f=d=>{d.key===" "&&(d.preventDefault(),c(d))};return e==="a"&&(n||(n="#"),t&&(n=void 0)),[{role:o??"button",disabled:void 0,tabIndex:t?void 0:s,href:n,target:e==="a"?r:void 0,"aria-disabled":t||void 0,rel:e==="a"?i:void 0,onClick:c,onKeyDown:f},l]}const Vk=J.forwardRef((e,t)=>{let{as:n,disabled:r}=e,i=$ve(e,Cve);const[o,{tagName:a}]=Gk(Object.assign({tagName:n,disabled:r},i));return V.jsx(a,Object.assign({},i,o,{ref:t}))});Vk.displayName="Button";const Tve=["onKeyDown"];function Mve(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Nve(e){return!e||e.trim()==="#"}const RV=J.forwardRef((e,t)=>{let{onKeyDown:n}=e,r=Mve(e,Tve);const[i]=Gk(Object.assign({tagName:"a"},r)),o=Qo(a=>{i.onKeyDown(a),n==null||n(a)});return Nve(r.href)||r.role==="button"?V.jsx("a",Object.assign({ref:t},r,i,{onKeyDown:o})):V.jsx("a",Object.assign({ref:t},r,{onKeyDown:n}))});RV.displayName="Anchor";const FV=RV,Ove={[Zl]:"show",[ad]:"show"},DV=J.forwardRef(({className:e,children:t,transitionClasses:n={},onEnter:r,...i},o)=>{const a={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},s=J.useCallback((u,l)=>{hve(u),r==null||r(u,l)},[r]);return V.jsx(yve,{ref:o,addEndListener:dve,...a,onEnter:s,childRef:t.ref,children:(u,l)=>J.cloneElement(t,{...l,className:st("fade",e,t.props.className,Ove[u],n[u])})})});DV.displayName="Fade";const LV=DV,Rve={"aria-label":so.string,onClick:so.func,variant:so.oneOf(["white"])},Yk=J.forwardRef(({className:e,variant:t,"aria-label":n="Close",...r},i)=>V.jsx("button",{ref:i,type:"button",className:st("btn-close",t&&`btn-close-${t}`,e),"aria-label":n,...r}));Yk.displayName="CloseButton";Yk.propTypes=Rve;const Fve=Yk,PV=J.forwardRef(({bsPrefix:e,bg:t="primary",pill:n=!1,text:r,className:i,as:o="span",...a},s)=>{const u=Ct(e,"badge");return V.jsx(o,{ref:s,...a,className:st(i,u,n&&"rounded-pill",r&&`text-${r}`,t&&`bg-${t}`)})});PV.displayName="Badge";const Dve=PV,IV=J.forwardRef(({as:e,bsPrefix:t,variant:n="primary",size:r,active:i=!1,disabled:o=!1,className:a,...s},u)=>{const l=Ct(t,"btn"),[c,{tagName:f}]=Gk({tagName:e,disabled:o,...s}),d=f;return V.jsx(d,{...c,...s,ref:u,disabled:o,className:st(a,l,i&&"active",n&&`${l}-${n}`,r&&`${l}-${r}`,s.href&&o&&"disabled")})});IV.displayName="Button";const Jk=IV,zV=J.forwardRef(({bsPrefix:e,size:t,vertical:n=!1,className:r,role:i="group",as:o="div",...a},s)=>{const u=Ct(e,"btn-group");let l=u;return n&&(l=`${u}-vertical`),V.jsx(o,{...a,ref:s,role:i,className:st(r,l,t&&`${u}-${t}`)})});zV.displayName="ButtonGroup";const Lve=zV,BV=J.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Ct(t,"card-body"),V.jsx(n,{ref:i,className:st(e,t),...r})));BV.displayName="CardBody";const UV=BV,jV=J.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Ct(t,"card-footer"),V.jsx(n,{ref:i,className:st(e,t),...r})));jV.displayName="CardFooter";const Pve=jV,WV=J.createContext(null);WV.displayName="CardHeaderContext";const HV=WV,qV=J.forwardRef(({bsPrefix:e,className:t,as:n="div",...r},i)=>{const o=Ct(e,"card-header"),a=J.useMemo(()=>({cardHeaderBsPrefix:o}),[o]);return V.jsx(HV.Provider,{value:a,children:V.jsx(n,{ref:i,...r,className:st(t,o)})})});qV.displayName="CardHeader";const Ive=qV,GV=J.forwardRef(({bsPrefix:e,className:t,variant:n,as:r="img",...i},o)=>{const a=Ct(e,"card-img");return V.jsx(r,{ref:o,className:st(n?`${a}-${n}`:a,t),...i})});GV.displayName="CardImg";const zve=GV,VV=J.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Ct(t,"card-img-overlay"),V.jsx(n,{ref:i,className:st(e,t),...r})));VV.displayName="CardImgOverlay";const Bve=VV,YV=J.forwardRef(({className:e,bsPrefix:t,as:n="a",...r},i)=>(t=Ct(t,"card-link"),V.jsx(n,{ref:i,className:st(e,t),...r})));YV.displayName="CardLink";const Uve=YV,jve=OV("h6"),JV=J.forwardRef(({className:e,bsPrefix:t,as:n=jve,...r},i)=>(t=Ct(t,"card-subtitle"),V.jsx(n,{ref:i,className:st(e,t),...r})));JV.displayName="CardSubtitle";const Wve=JV,XV=J.forwardRef(({className:e,bsPrefix:t,as:n="p",...r},i)=>(t=Ct(t,"card-text"),V.jsx(n,{ref:i,className:st(e,t),...r})));XV.displayName="CardText";const Hve=XV,qve=OV("h5"),KV=J.forwardRef(({className:e,bsPrefix:t,as:n=qve,...r},i)=>(t=Ct(t,"card-title"),V.jsx(n,{ref:i,className:st(e,t),...r})));KV.displayName="CardTitle";const Gve=KV,QV=J.forwardRef(({bsPrefix:e,className:t,bg:n,text:r,border:i,body:o=!1,children:a,as:s="div",...u},l)=>{const c=Ct(e,"card");return V.jsx(s,{ref:l,...u,className:st(t,c,n&&`bg-${n}`,r&&`text-${r}`,i&&`border-${i}`),children:o?V.jsx(UV,{children:a}):a})});QV.displayName="Card";const x9=Object.assign(QV,{Img:zve,Title:Gve,Subtitle:Wve,Body:UV,Link:Uve,Text:Hve,Header:Ive,Footer:Pve,ImgOverlay:Bve});function Vve({as:e,bsPrefix:t,className:n,...r}){t=Ct(t,"col");const i=AV(),o=_V(),a=[],s=[];return i.forEach(u=>{const l=r[u];delete r[u];let c,f,d;typeof l=="object"&&l!=null?{span:c,offset:f,order:d}=l:c=l;const p=u!==o?`-${u}`:"";c&&a.push(c===!0?`${t}${p}`:`${t}${p}-${c}`),d!=null&&s.push(`order${p}-${d}`),f!=null&&s.push(`offset${p}-${f}`)}),[{...r,className:st(n,...a,...s)},{as:e,bsPrefix:t,spans:a}]}const ZV=J.forwardRef((e,t)=>{const[{className:n,...r},{as:i="div",bsPrefix:o,spans:a}]=Vve(e);return V.jsx(i,{...r,ref:t,className:st(n,!a.length&&o)})});ZV.displayName="Col";const Wo=ZV,eY=J.forwardRef(({bsPrefix:e,fluid:t=!1,as:n="div",className:r,...i},o)=>{const a=Ct(e,"container"),s=typeof t=="string"?`-${t}`:"-fluid";return V.jsx(n,{ref:o,...i,className:st(r,t?`${a}${s}`:a)})});eY.displayName="Container";const tI=eY;var Yve=Function.prototype.bind.call(Function.prototype.call,[].slice);function m4(e,t){return Yve(e.querySelectorAll(t))}function tY(e,t,n){const r=J.useRef(e!==void 0),[i,o]=J.useState(t),a=e!==void 0,s=r.current;return r.current=a,!a&&s&&i!==t&&o(t),[a?e:i,J.useCallback((...u)=>{const[l,...c]=u;let f=n==null?void 0:n(l,...c);return o(l),f},[n])]}function nY(){const[,e]=J.useReducer(t=>!t,!1);return e}const Jve=J.createContext(null),r3=Jve;var nI=Object.prototype.hasOwnProperty;function rI(e,t,n){for(n of e.keys())if(Pm(n,t))return n}function Pm(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Pm(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if(i=r,i&&typeof i=="object"&&(i=rI(t,i),!i)||!t.has(i))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if(i=r[0],i&&typeof i=="object"&&(i=rI(t,i),!i)||!Pm(r[1],t.get(i)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(nI.call(e,n)&&++r&&!nI.call(t,n)||!(n in t)||!Pm(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}function Xve(e){const t=wve();return[e[0],J.useCallback(n=>{if(t())return e[1](n)},[t,e[1]])]}var Ii="top",ra="bottom",ia="right",zi="left",Xk="auto",y2=[Ii,ra,ia,zi],xp="start",by="end",Kve="clippingParents",rY="viewport",x1="popper",Qve="reference",iI=y2.reduce(function(e,t){return e.concat([t+"-"+xp,t+"-"+by])},[]),iY=[].concat(y2,[Xk]).reduce(function(e,t){return e.concat([t,t+"-"+xp,t+"-"+by])},[]),Zve="beforeRead",ebe="read",tbe="afterRead",nbe="beforeMain",rbe="main",ibe="afterMain",obe="beforeWrite",abe="write",sbe="afterWrite",ube=[Zve,ebe,tbe,nbe,rbe,ibe,obe,abe,sbe];function Bs(e){return e.split("-")[0]}function bo(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Wd(e){var t=bo(e).Element;return e instanceof t||e instanceof Element}function Us(e){var t=bo(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Kk(e){if(typeof ShadowRoot>"u")return!1;var t=bo(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var Cd=Math.max,Yw=Math.min,wp=Math.round;function y4(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function oY(){return!/^((?!chrome|android).)*safari/i.test(y4())}function Ap(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&Us(e)&&(i=e.offsetWidth>0&&wp(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&wp(r.height)/e.offsetHeight||1);var a=Wd(e)?bo(e):window,s=a.visualViewport,u=!oY()&&n,l=(r.left+(u&&s?s.offsetLeft:0))/i,c=(r.top+(u&&s?s.offsetTop:0))/o,f=r.width/i,d=r.height/o;return{width:f,height:d,top:c,right:l+f,bottom:c+d,left:l,x:l,y:c}}function Qk(e){var t=Ap(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function aY(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Kk(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function zc(e){return e?(e.nodeName||"").toLowerCase():null}function cl(e){return bo(e).getComputedStyle(e)}function lbe(e){return["table","td","th"].indexOf(zc(e))>=0}function gf(e){return((Wd(e)?e.ownerDocument:e.document)||window.document).documentElement}function i3(e){return zc(e)==="html"?e:e.assignedSlot||e.parentNode||(Kk(e)?e.host:null)||gf(e)}function oI(e){return!Us(e)||cl(e).position==="fixed"?null:e.offsetParent}function cbe(e){var t=/firefox/i.test(y4()),n=/Trident/i.test(y4());if(n&&Us(e)){var r=cl(e);if(r.position==="fixed")return null}var i=i3(e);for(Kk(i)&&(i=i.host);Us(i)&&["html","body"].indexOf(zc(i))<0;){var o=cl(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function v2(e){for(var t=bo(e),n=oI(e);n&&lbe(n)&&cl(n).position==="static";)n=oI(n);return n&&(zc(n)==="html"||zc(n)==="body"&&cl(n).position==="static")?t:n||cbe(e)||t}function Zk(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Im(e,t,n){return Cd(e,Yw(t,n))}function fbe(e,t,n){var r=Im(e,t,n);return r>n?n:r}function sY(){return{top:0,right:0,bottom:0,left:0}}function uY(e){return Object.assign({},sY(),e)}function lY(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var dbe=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,uY(typeof t!="number"?t:lY(t,y2))};function hbe(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=Bs(n.placement),u=Zk(s),l=[zi,ia].indexOf(s)>=0,c=l?"height":"width";if(!(!o||!a)){var f=dbe(i.padding,n),d=Qk(o),p=u==="y"?Ii:zi,g=u==="y"?ra:ia,y=n.rects.reference[c]+n.rects.reference[u]-a[u]-n.rects.popper[c],v=a[u]-n.rects.reference[u],b=v2(o),x=b?u==="y"?b.clientHeight||0:b.clientWidth||0:0,_=y/2-v/2,A=f[p],S=x-d[c]-f[g],C=x/2-d[c]/2+_,E=Im(A,C,S),k=u;n.modifiersData[r]=(t={},t[k]=E,t.centerOffset=E-C,t)}}function pbe(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||aY(t.elements.popper,i)&&(t.elements.arrow=i))}const gbe={name:"arrow",enabled:!0,phase:"main",fn:hbe,effect:pbe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function _p(e){return e.split("-")[1]}var mbe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ybe(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:wp(n*i)/i||0,y:wp(r*i)/i||0}}function aI(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,a=e.offsets,s=e.position,u=e.gpuAcceleration,l=e.adaptive,c=e.roundOffsets,f=e.isFixed,d=a.x,p=d===void 0?0:d,g=a.y,y=g===void 0?0:g,v=typeof c=="function"?c({x:p,y}):{x:p,y};p=v.x,y=v.y;var b=a.hasOwnProperty("x"),x=a.hasOwnProperty("y"),_=zi,A=Ii,S=window;if(l){var C=v2(n),E="clientHeight",k="clientWidth";if(C===bo(n)&&(C=gf(n),cl(C).position!=="static"&&s==="absolute"&&(E="scrollHeight",k="scrollWidth")),C=C,i===Ii||(i===zi||i===ia)&&o===by){A=ra;var O=f&&C===S&&S.visualViewport?S.visualViewport.height:C[E];y-=O-r.height,y*=u?1:-1}if(i===zi||(i===Ii||i===ra)&&o===by){_=ia;var N=f&&C===S&&S.visualViewport?S.visualViewport.width:C[k];p-=N-r.width,p*=u?1:-1}}var F=Object.assign({position:s},l&&mbe),W=c===!0?ybe({x:p,y},bo(n)):{x:p,y};if(p=W.x,y=W.y,u){var I;return Object.assign({},F,(I={},I[A]=x?"0":"",I[_]=b?"0":"",I.transform=(S.devicePixelRatio||1)<=1?"translate("+p+"px, "+y+"px)":"translate3d("+p+"px, "+y+"px, 0)",I))}return Object.assign({},F,(t={},t[A]=x?y+"px":"",t[_]=b?p+"px":"",t.transform="",t))}function vbe(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,a=o===void 0?!0:o,s=n.roundOffsets,u=s===void 0?!0:s,l={placement:Bs(t.placement),variation:_p(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,aI(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:u})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,aI(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const bbe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:vbe,data:{}};var Db={passive:!0};function xbe(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=i===void 0?!0:i,a=r.resize,s=a===void 0?!0:a,u=bo(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&l.forEach(function(c){c.addEventListener("scroll",n.update,Db)}),s&&u.addEventListener("resize",n.update,Db),function(){o&&l.forEach(function(c){c.removeEventListener("scroll",n.update,Db)}),s&&u.removeEventListener("resize",n.update,Db)}}const wbe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:xbe,data:{}};var Abe={left:"right",right:"left",bottom:"top",top:"bottom"};function Yx(e){return e.replace(/left|right|bottom|top/g,function(t){return Abe[t]})}var _be={start:"end",end:"start"};function sI(e){return e.replace(/start|end/g,function(t){return _be[t]})}function e7(e){var t=bo(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function t7(e){return Ap(gf(e)).left+e7(e).scrollLeft}function Sbe(e,t){var n=bo(e),r=gf(e),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,u=0;if(i){o=i.width,a=i.height;var l=oY();(l||!l&&t==="fixed")&&(s=i.offsetLeft,u=i.offsetTop)}return{width:o,height:a,x:s+t7(e),y:u}}function Ebe(e){var t,n=gf(e),r=e7(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=Cd(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Cd(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+t7(e),u=-r.scrollTop;return cl(i||n).direction==="rtl"&&(s+=Cd(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:u}}function n7(e){var t=cl(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function cY(e){return["html","body","#document"].indexOf(zc(e))>=0?e.ownerDocument.body:Us(e)&&n7(e)?e:cY(i3(e))}function zm(e,t){var n;t===void 0&&(t=[]);var r=cY(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=bo(r),a=i?[o].concat(o.visualViewport||[],n7(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(zm(i3(a)))}function v4(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Cbe(e,t){var n=Ap(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function uI(e,t,n){return t===rY?v4(Sbe(e,n)):Wd(t)?Cbe(t,n):v4(Ebe(gf(e)))}function $be(e){var t=zm(i3(e)),n=["absolute","fixed"].indexOf(cl(e).position)>=0,r=n&&Us(e)?v2(e):e;return Wd(r)?t.filter(function(i){return Wd(i)&&aY(i,r)&&zc(i)!=="body"}):[]}function kbe(e,t,n,r){var i=t==="clippingParents"?$be(e):[].concat(t),o=[].concat(i,[n]),a=o[0],s=o.reduce(function(u,l){var c=uI(e,l,r);return u.top=Cd(c.top,u.top),u.right=Yw(c.right,u.right),u.bottom=Yw(c.bottom,u.bottom),u.left=Cd(c.left,u.left),u},uI(e,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function fY(e){var t=e.reference,n=e.element,r=e.placement,i=r?Bs(r):null,o=r?_p(r):null,a=t.x+t.width/2-n.width/2,s=t.y+t.height/2-n.height/2,u;switch(i){case Ii:u={x:a,y:t.y-n.height};break;case ra:u={x:a,y:t.y+t.height};break;case ia:u={x:t.x+t.width,y:s};break;case zi:u={x:t.x-n.width,y:s};break;default:u={x:t.x,y:t.y}}var l=i?Zk(i):null;if(l!=null){var c=l==="y"?"height":"width";switch(o){case xp:u[l]=u[l]-(t[c]/2-n[c]/2);break;case by:u[l]=u[l]+(t[c]/2-n[c]/2);break}}return u}function xy(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,o=n.strategy,a=o===void 0?e.strategy:o,s=n.boundary,u=s===void 0?Kve:s,l=n.rootBoundary,c=l===void 0?rY:l,f=n.elementContext,d=f===void 0?x1:f,p=n.altBoundary,g=p===void 0?!1:p,y=n.padding,v=y===void 0?0:y,b=uY(typeof v!="number"?v:lY(v,y2)),x=d===x1?Qve:x1,_=e.rects.popper,A=e.elements[g?x:d],S=kbe(Wd(A)?A:A.contextElement||gf(e.elements.popper),u,c,a),C=Ap(e.elements.reference),E=fY({reference:C,element:_,strategy:"absolute",placement:i}),k=v4(Object.assign({},_,E)),O=d===x1?k:C,N={top:S.top-O.top+b.top,bottom:O.bottom-S.bottom+b.bottom,left:S.left-O.left+b.left,right:O.right-S.right+b.right},F=e.modifiersData.offset;if(d===x1&&F){var W=F[i];Object.keys(N).forEach(function(I){var M=[ia,ra].indexOf(I)>=0?1:-1,D=[Ii,ra].indexOf(I)>=0?"y":"x";N[I]+=W[D]*M})}return N}function Tbe(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,l=u===void 0?iY:u,c=_p(r),f=c?s?iI:iI.filter(function(g){return _p(g)===c}):y2,d=f.filter(function(g){return l.indexOf(g)>=0});d.length===0&&(d=f);var p=d.reduce(function(g,y){return g[y]=xy(e,{placement:y,boundary:i,rootBoundary:o,padding:a})[Bs(y)],g},{});return Object.keys(p).sort(function(g,y){return p[g]-p[y]})}function Mbe(e){if(Bs(e)===Xk)return[];var t=Yx(e);return[sI(e),t,sI(t)]}function Nbe(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,s=a===void 0?!0:a,u=n.fallbackPlacements,l=n.padding,c=n.boundary,f=n.rootBoundary,d=n.altBoundary,p=n.flipVariations,g=p===void 0?!0:p,y=n.allowedAutoPlacements,v=t.options.placement,b=Bs(v),x=b===v,_=u||(x||!g?[Yx(v)]:Mbe(v)),A=[v].concat(_).reduce(function(ne,de){return ne.concat(Bs(de)===Xk?Tbe(t,{placement:de,boundary:c,rootBoundary:f,padding:l,flipVariations:g,allowedAutoPlacements:y}):de)},[]),S=t.rects.reference,C=t.rects.popper,E=new Map,k=!0,O=A[0],N=0;N<A.length;N++){var F=A[N],W=Bs(F),I=_p(F)===xp,M=[Ii,ra].indexOf(W)>=0,D=M?"width":"height",P=xy(t,{placement:F,boundary:c,rootBoundary:f,altBoundary:d,padding:l}),U=M?I?ia:zi:I?ra:Ii;S[D]>C[D]&&(U=Yx(U));var z=Yx(U),H=[];if(o&&H.push(P[W]<=0),s&&H.push(P[U]<=0,P[z]<=0),H.every(function(ne){return ne})){O=F,k=!1;break}E.set(F,H)}if(k)for(var j=g?3:1,X=function(de){var me=A.find(function(ce){var be=E.get(ce);if(be)return be.slice(0,de).every(function(re){return re})});if(me)return O=me,"break"},G=j;G>0;G--){var ee=X(G);if(ee==="break")break}t.placement!==O&&(t.modifiersData[r]._skip=!0,t.placement=O,t.reset=!0)}}const Obe={name:"flip",enabled:!0,phase:"main",fn:Nbe,requiresIfExists:["offset"],data:{_skip:!1}};function lI(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function cI(e){return[Ii,ia,ra,zi].some(function(t){return e[t]>=0})}function Rbe(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=xy(t,{elementContext:"reference"}),s=xy(t,{altBoundary:!0}),u=lI(a,r),l=lI(s,i,o),c=cI(u),f=cI(l);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:l,isReferenceHidden:c,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}const Fbe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Rbe};function Dbe(e,t,n){var r=Bs(e),i=[zi,Ii].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[zi,ia].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}function Lbe(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=i===void 0?[0,0]:i,a=iY.reduce(function(c,f){return c[f]=Dbe(f,t.rects,o),c},{}),s=a[t.placement],u=s.x,l=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=l),t.modifiersData[r]=a}const Pbe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Lbe};function Ibe(e){var t=e.state,n=e.name;t.modifiersData[n]=fY({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const zbe={name:"popperOffsets",enabled:!0,phase:"read",fn:Ibe,data:{}};function Bbe(e){return e==="x"?"y":"x"}function Ube(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,s=a===void 0?!1:a,u=n.boundary,l=n.rootBoundary,c=n.altBoundary,f=n.padding,d=n.tether,p=d===void 0?!0:d,g=n.tetherOffset,y=g===void 0?0:g,v=xy(t,{boundary:u,rootBoundary:l,padding:f,altBoundary:c}),b=Bs(t.placement),x=_p(t.placement),_=!x,A=Zk(b),S=Bbe(A),C=t.modifiersData.popperOffsets,E=t.rects.reference,k=t.rects.popper,O=typeof y=="function"?y(Object.assign({},t.rects,{placement:t.placement})):y,N=typeof O=="number"?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),F=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,W={x:0,y:0};if(C){if(o){var I,M=A==="y"?Ii:zi,D=A==="y"?ra:ia,P=A==="y"?"height":"width",U=C[A],z=U+v[M],H=U-v[D],j=p?-k[P]/2:0,X=x===xp?E[P]:k[P],G=x===xp?-k[P]:-E[P],ee=t.elements.arrow,ne=p&&ee?Qk(ee):{width:0,height:0},de=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:sY(),me=de[M],ce=de[D],be=Im(0,E[P],ne[P]),re=_?E[P]/2-j-be-me-N.mainAxis:X-be-me-N.mainAxis,_e=_?-E[P]/2+j+be+ce+N.mainAxis:G+be+ce+N.mainAxis,Ae=t.elements.arrow&&v2(t.elements.arrow),te=Ae?A==="y"?Ae.clientTop||0:Ae.clientLeft||0:0,Le=(I=F==null?void 0:F[A])!=null?I:0,Te=U+re-Le-te,Ue=U+_e-Le,dt=Im(p?Yw(z,Te):z,U,p?Cd(H,Ue):H);C[A]=dt,W[A]=dt-U}if(s){var $t,xr=A==="x"?Ii:zi,Mn=A==="x"?ra:ia,ke=C[S],yt=S==="y"?"height":"width",wt=ke+v[xr],kt=ke-v[Mn],wr=[Ii,zi].indexOf(b)!==-1,Wn=($t=F==null?void 0:F[S])!=null?$t:0,ba=wr?wt:ke-E[yt]-k[yt]-Wn+N.altAxis,bi=wr?ke+E[yt]+k[yt]-Wn-N.altAxis:kt,xa=p&&wr?fbe(ba,ke,bi):Im(p?ba:wt,ke,p?bi:kt);C[S]=xa,W[S]=xa-ke}t.modifiersData[r]=W}}const jbe={name:"preventOverflow",enabled:!0,phase:"main",fn:Ube,requiresIfExists:["offset"]};function Wbe(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Hbe(e){return e===bo(e)||!Us(e)?e7(e):Wbe(e)}function qbe(e){var t=e.getBoundingClientRect(),n=wp(t.width)/e.offsetWidth||1,r=wp(t.height)/e.offsetHeight||1;return n!==1||r!==1}function Gbe(e,t,n){n===void 0&&(n=!1);var r=Us(t),i=Us(t)&&qbe(t),o=gf(t),a=Ap(e,i,n),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((zc(t)!=="body"||n7(o))&&(s=Hbe(t)),Us(t)?(u=Ap(t,!0),u.x+=t.clientLeft,u.y+=t.clientTop):o&&(u.x=t7(o))),{x:a.left+s.scrollLeft-u.x,y:a.top+s.scrollTop-u.y,width:a.width,height:a.height}}function Vbe(e){var t=new Map,n=new Set,r=[];e.forEach(function(o){t.set(o.name,o)});function i(o){n.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(s){if(!n.has(s)){var u=t.get(s);u&&i(u)}}),r.push(o)}return e.forEach(function(o){n.has(o.name)||i(o)}),r}function Ybe(e){var t=Vbe(e);return ube.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function Jbe(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function Xbe(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var fI={placement:"bottom",modifiers:[],strategy:"absolute"};function dI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Kbe(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,o=i===void 0?fI:i;return function(s,u,l){l===void 0&&(l=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},fI,o),modifiersData:{},elements:{reference:s,popper:u},attributes:{},styles:{}},f=[],d=!1,p={state:c,setOptions:function(b){var x=typeof b=="function"?b(c.options):b;y(),c.options=Object.assign({},o,c.options,x),c.scrollParents={reference:Wd(s)?zm(s):s.contextElement?zm(s.contextElement):[],popper:zm(u)};var _=Ybe(Xbe([].concat(r,c.options.modifiers)));return c.orderedModifiers=_.filter(function(A){return A.enabled}),g(),p.update()},forceUpdate:function(){if(!d){var b=c.elements,x=b.reference,_=b.popper;if(dI(x,_)){c.rects={reference:Gbe(x,v2(_),c.options.strategy==="fixed"),popper:Qk(_)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(N){return c.modifiersData[N.name]=Object.assign({},N.data)});for(var A=0;A<c.orderedModifiers.length;A++){if(c.reset===!0){c.reset=!1,A=-1;continue}var S=c.orderedModifiers[A],C=S.fn,E=S.options,k=E===void 0?{}:E,O=S.name;typeof C=="function"&&(c=C({state:c,options:k,name:O,instance:p})||c)}}}},update:Jbe(function(){return new Promise(function(v){p.forceUpdate(),v(c)})}),destroy:function(){y(),d=!0}};if(!dI(s,u))return p;p.setOptions(l).then(function(v){!d&&l.onFirstUpdate&&l.onFirstUpdate(v)});function g(){c.orderedModifiers.forEach(function(v){var b=v.name,x=v.options,_=x===void 0?{}:x,A=v.effect;if(typeof A=="function"){var S=A({state:c,name:b,instance:p,options:_}),C=function(){};f.push(S||C)}})}function y(){f.forEach(function(v){return v()}),f=[]}return p}}const Qbe=Kbe({defaultModifiers:[Fbe,zbe,bbe,wbe,Pbe,Obe,jbe,gbe]}),Zbe=["enabled","placement","strategy","modifiers"];function exe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const txe={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},nxe={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:e})=>()=>{const{reference:t,popper:n}=e.elements;if("removeAttribute"in t){const r=(t.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==n.id);r.length?t.setAttribute("aria-describedby",r.join(",")):t.removeAttribute("aria-describedby")}},fn:({state:e})=>{var t;const{popper:n,reference:r}=e.elements,i=(t=n.getAttribute("role"))==null?void 0:t.toLowerCase();if(n.id&&i==="tooltip"&&"setAttribute"in r){const o=r.getAttribute("aria-describedby");if(o&&o.split(",").indexOf(n.id)!==-1)return;r.setAttribute("aria-describedby",o?`${o},${n.id}`:n.id)}}},rxe=[];function ixe(e,t,n={}){let{enabled:r=!0,placement:i="bottom",strategy:o="absolute",modifiers:a=rxe}=n,s=exe(n,Zbe);const u=J.useRef(a),l=J.useRef(),c=J.useCallback(()=>{var v;(v=l.current)==null||v.update()},[]),f=J.useCallback(()=>{var v;(v=l.current)==null||v.forceUpdate()},[]),[d,p]=Xve(J.useState({placement:i,update:c,forceUpdate:f,attributes:{},styles:{popper:{},arrow:{}}})),g=J.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:v})=>{const b={},x={};Object.keys(v.elements).forEach(_=>{b[_]=v.styles[_],x[_]=v.attributes[_]}),p({state:v,styles:b,attributes:x,update:c,forceUpdate:f,placement:v.placement})}}),[c,f,p]),y=J.useMemo(()=>(Pm(u.current,a)||(u.current=a),u.current),[a]);return J.useEffect(()=>{!l.current||!r||l.current.setOptions({placement:i,strategy:o,modifiers:[...y,g,txe]})},[o,i,g,r,y]),J.useEffect(()=>{if(!(!r||e==null||t==null))return l.current=Qbe(e,t,Object.assign({},s,{placement:i,strategy:o,modifiers:[...y,nxe,g]})),()=>{l.current!=null&&(l.current.destroy(),l.current=void 0,p(v=>Object.assign({},v,{attributes:{},styles:{popper:{}}})))}},[r,e,t]),d}function hI(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}var oxe=function(){},axe=oxe;const sxe=dg(axe),pI=()=>{};function uxe(e){return e.button===0}function lxe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}const w9=e=>e&&("current"in e?e.current:e),gI={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function cxe(e,t=pI,{disabled:n,clickTrigger:r="click"}={}){const i=J.useRef(!1),o=J.useRef(!1),a=J.useCallback(l=>{const c=w9(e);sxe(!!c,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!c||lxe(l)||!uxe(l)||!!hI(c,l.target)||o.current,o.current=!1},[e]),s=Qo(l=>{const c=w9(e);c&&hI(c,l.target)&&(o.current=!0)}),u=Qo(l=>{i.current||t(l)});J.useEffect(()=>{var l,c;if(n||e==null)return;const f=SV(w9(e)),d=f.defaultView||window;let p=(l=d.event)!=null?l:(c=d.parent)==null?void 0:c.event,g=null;gI[r]&&(g=Ih(f,gI[r],s,!0));const y=Ih(f,r,a,!0),v=Ih(f,r,x=>{if(x===p){p=void 0;return}u(x)});let b=[];return"ontouchstart"in f.documentElement&&(b=[].slice.call(f.body.children).map(x=>Ih(x,"mousemove",pI))),()=>{g==null||g(),y(),v(),b.forEach(x=>x())}},[e,n,r,a,s,u])}function fxe(e){const t={};return Array.isArray(e)?(e==null||e.forEach(n=>{t[n.name]=n}),t):e||t}function dxe(e={}){return Array.isArray(e)?e:Object.keys(e).map(t=>(e[t].name=t,e[t]))}function hxe({enabled:e,enableEvents:t,placement:n,flip:r,offset:i,fixed:o,containerPadding:a,arrowElement:s,popperConfig:u={}}){var l,c,f,d,p;const g=fxe(u.modifiers);return Object.assign({},u,{placement:n,enabled:e,strategy:o?"fixed":u.strategy,modifiers:dxe(Object.assign({},g,{eventListeners:{enabled:t,options:(l=g.eventListeners)==null?void 0:l.options},preventOverflow:Object.assign({},g.preventOverflow,{options:a?Object.assign({padding:a},(c=g.preventOverflow)==null?void 0:c.options):(f=g.preventOverflow)==null?void 0:f.options}),offset:{options:Object.assign({offset:i},(d=g.offset)==null?void 0:d.options)},arrow:Object.assign({},g.arrow,{enabled:!!s,options:Object.assign({},(p=g.arrow)==null?void 0:p.options,{element:s})}),flip:Object.assign({enabled:!!r},g.flip)}))})}const pxe=["children"];function gxe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const mxe=()=>{};function dY(e={}){const t=J.useContext(r3),[n,r]=bve(),i=J.useRef(!1),{flip:o,offset:a,rootCloseEvent:s,fixed:u=!1,placement:l,popperConfig:c={},enableEventListeners:f=!0,usePopper:d=!!t}=e,p=(t==null?void 0:t.show)==null?!!e.show:t.show;p&&!i.current&&(i.current=!0);const g=C=>{t==null||t.toggle(!1,C)},{placement:y,setMenu:v,menuElement:b,toggleElement:x}=t||{},_=ixe(x,b,hxe({placement:l||y||"bottom-start",enabled:d,enableEvents:f??p,offset:a,flip:o,fixed:u,arrowElement:n,popperConfig:c})),A=Object.assign({ref:v||mxe,"aria-labelledby":x==null?void 0:x.id},_.attributes.popper,{style:_.styles.popper}),S={show:p,placement:y,hasShown:i.current,toggle:t==null?void 0:t.toggle,popper:d?_:null,arrowProps:d?Object.assign({ref:r},_.attributes.arrow,{style:_.styles.arrow}):{}};return cxe(b,g,{clickTrigger:s,disabled:!p}),[A,S]}const yxe={usePopper:!0};function r7(e){let{children:t}=e,n=gxe(e,pxe);const[r,i]=dY(n);return V.jsx(V.Fragment,{children:t(r,i)})}r7.displayName="DropdownMenu";r7.defaultProps=yxe;const Jw={prefix:String(Math.round(Math.random()*1e10)),current:0},hY=Oi.createContext(Jw),vxe=Oi.createContext(!1);let bxe=!!(typeof window<"u"&&window.document&&window.document.createElement),A9=new WeakMap;function xxe(e=!1){let t=J.useContext(hY),n=J.useRef(null);if(n.current===null&&!e){var r,i;let o=(i=Oi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(r=i.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(o){let a=A9.get(o);a==null?A9.set(o,{id:t.current,state:o.memoizedState}):o.memoizedState!==a.state&&(t.current=a.id,A9.delete(o))}n.current=++t.current}return n.current}function wxe(e){let t=J.useContext(hY);t===Jw&&!bxe&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=xxe(!!e),r=`react-aria${t.prefix}`;return e||`${r}-${n}`}function Axe(e){let t=Oi.useId(),[n]=J.useState(Cxe()),r=n?"react-aria":`react-aria${Jw.prefix}`;return e||`${r}-${t}`}const pY=typeof Oi.useId=="function"?Axe:wxe;function _xe(){return!1}function Sxe(){return!0}function Exe(e){return()=>{}}function Cxe(){return typeof Oi.useSyncExternalStore=="function"?Oi.useSyncExternalStore(Exe,_xe,Sxe):J.useContext(vxe)}const gY=e=>{var t;return((t=e.getAttribute("role"))==null?void 0:t.toLowerCase())==="menu"},mI=()=>{};function mY(){const e=pY(),{show:t=!1,toggle:n=mI,setToggle:r,menuElement:i}=J.useContext(r3)||{},o=J.useCallback(s=>{n(!t,s)},[t,n]),a={id:e,ref:r||mI,onClick:o,"aria-expanded":!!t};return i&&gY(i)&&(a["aria-haspopup"]=!0),[a,{show:t,toggle:n}]}function yY({children:e}){const[t,n]=mY();return V.jsx(V.Fragment,{children:e(t,n)})}yY.displayName="DropdownToggle";const $xe=J.createContext(null),Bc=(e,t=null)=>e!=null?String(e):t||null,fl=$xe,vY=J.createContext(null);vY.displayName="NavContext";const i7=vY,kxe="data-rr-ui-",Txe="rrUi";function b2(e){return`${kxe}${e}`}function Mxe(e){return`${Txe}${e}`}const Nxe=["eventKey","disabled","onClick","active","as"];function Oxe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function bY({key:e,href:t,active:n,disabled:r,onClick:i}){const o=J.useContext(fl),a=J.useContext(i7),{activeKey:s}=a||{},u=Bc(e,t),l=n==null&&e!=null?Bc(s)===u:n;return[{onClick:Qo(f=>{r||(i==null||i(f),o&&!f.isPropagationStopped()&&o(u,f))}),"aria-disabled":r||void 0,"aria-selected":l,[b2("dropdown-item")]:""},{isActive:l}]}const xY=J.forwardRef((e,t)=>{let{eventKey:n,disabled:r,onClick:i,active:o,as:a=Vk}=e,s=Oxe(e,Nxe);const[u]=bY({key:n,href:s.href,disabled:r,onClick:i,active:o});return V.jsx(a,Object.assign({},s,{ref:t},u))});xY.displayName="DropdownItem";const wY=J.createContext(MV?window:void 0);wY.Provider;function Rxe(){return J.useContext(wY)}function yI(){const e=nY(),t=J.useRef(null),n=J.useCallback(r=>{t.current=r,e()},[e]);return[t,n]}function x2({defaultShow:e,show:t,onSelect:n,onToggle:r,itemSelector:i=`* [${b2("dropdown-item")}]`,focusFirstItemOnShow:o,placement:a="bottom-start",children:s}){const u=Rxe(),[l,c]=tY(t,e,r),[f,d]=yI(),p=f.current,[g,y]=yI(),v=g.current,b=Ave(l),x=J.useRef(null),_=J.useRef(!1),A=J.useContext(fl),S=J.useCallback((F,W,I=W==null?void 0:W.type)=>{c(F,{originalEvent:W,source:I})},[c]),C=Qo((F,W)=>{n==null||n(F,W),S(!1,W,"select"),W.isPropagationStopped()||A==null||A(F,W)}),E=J.useMemo(()=>({toggle:S,placement:a,show:l,menuElement:p,toggleElement:v,setMenu:d,setToggle:y}),[S,a,l,p,v,d,y]);p&&b&&!l&&(_.current=p.contains(p.ownerDocument.activeElement));const k=Qo(()=>{v&&v.focus&&v.focus()}),O=Qo(()=>{const F=x.current;let W=o;if(W==null&&(W=f.current&&gY(f.current)?"keyboard":!1),W===!1||W==="keyboard"&&!/^key.+$/.test(F))return;const I=m4(f.current,i)[0];I&&I.focus&&I.focus()});J.useEffect(()=>{l?O():_.current&&(_.current=!1,k())},[l,_,k,O]),J.useEffect(()=>{x.current=null});const N=(F,W)=>{if(!f.current)return null;const I=m4(f.current,i);let M=I.indexOf(F)+W;return M=Math.max(0,Math.min(M,I.length)),I[M]};return xve(J.useCallback(()=>u.document,[u]),"keydown",F=>{var W,I;const{key:M}=F,D=F.target,P=(W=f.current)==null?void 0:W.contains(D),U=(I=g.current)==null?void 0:I.contains(D);if(/input|textarea/i.test(D.tagName)&&(M===" "||M!=="Escape"&&P||M==="Escape"&&D.type==="search")||!P&&!U||M==="Tab"&&(!f.current||!l))return;x.current=F.type;const H={originalEvent:F,source:F.type};switch(M){case"ArrowUp":{const j=N(D,-1);j&&j.focus&&j.focus(),F.preventDefault();return}case"ArrowDown":if(F.preventDefault(),!l)c(!0,H);else{const j=N(D,1);j&&j.focus&&j.focus()}return;case"Tab":NV(D.ownerDocument,"keyup",j=>{var X;(j.key==="Tab"&&!j.target||!((X=f.current)!=null&&X.contains(j.target)))&&c(!1,H)},{once:!0});break;case"Escape":M==="Escape"&&(F.preventDefault(),F.stopPropagation()),c(!1,H);break}}),V.jsx(fl.Provider,{value:C,children:V.jsx(r3.Provider,{value:E,children:s})})}x2.displayName="Dropdown";x2.Menu=r7;x2.Toggle=yY;x2.Item=xY;const AY=J.createContext({});AY.displayName="DropdownContext";const _Y=AY,SY=J.forwardRef(({className:e,bsPrefix:t,as:n="hr",role:r="separator",...i},o)=>(t=Ct(t,"dropdown-divider"),V.jsx(n,{ref:o,className:st(e,t),role:r,...i})));SY.displayName="DropdownDivider";const Fxe=SY,EY=J.forwardRef(({className:e,bsPrefix:t,as:n="div",role:r="heading",...i},o)=>(t=Ct(t,"dropdown-header"),V.jsx(n,{ref:o,className:st(e,t),role:r,...i})));EY.displayName="DropdownHeader";const Dxe=EY,CY=J.forwardRef(({bsPrefix:e,className:t,eventKey:n,disabled:r=!1,onClick:i,active:o,as:a=FV,...s},u)=>{const l=Ct(e,"dropdown-item"),[c,f]=bY({key:n,href:s.href,disabled:r,onClick:i,active:o});return V.jsx(a,{...s,...c,ref:u,className:st(t,l,f.isActive&&"active",r&&"disabled")})});CY.displayName="DropdownItem";const Lxe=CY,$Y=J.forwardRef(({className:e,bsPrefix:t,as:n="span",...r},i)=>(t=Ct(t,"dropdown-item-text"),V.jsx(n,{ref:i,className:st(e,t),...r})));$Y.displayName="DropdownItemText";const Pxe=$Y,kY=J.createContext(null);kY.displayName="InputGroupContext";const TY=kY,MY=J.createContext(null);MY.displayName="NavbarContext";const NY=MY;function OY(e,t){return e}function RY(e,t,n){const r=n?"top-end":"top-start",i=n?"top-start":"top-end",o=n?"bottom-end":"bottom-start",a=n?"bottom-start":"bottom-end",s=n?"right-start":"left-start",u=n?"right-end":"left-end",l=n?"left-start":"right-start",c=n?"left-end":"right-end";let f=e?a:o;return t==="up"?f=e?i:r:t==="end"?f=e?c:l:t==="start"?f=e?u:s:t==="down-centered"?f="bottom":t==="up-centered"&&(f="top"),f}const FY=J.forwardRef(({bsPrefix:e,className:t,align:n,rootCloseEvent:r,flip:i=!0,show:o,renderOnMount:a,as:s="div",popperConfig:u,variant:l,...c},f)=>{let d=!1;const p=J.useContext(NY),g=Ct(e,"dropdown-menu"),{align:y,drop:v,isRTL:b}=J.useContext(_Y);n=n||y;const x=J.useContext(TY),_=[];if(n)if(typeof n=="object"){const F=Object.keys(n);if(F.length){const W=F[0],I=n[W];d=I==="start",_.push(`${g}-${W}-${I}`)}}else n==="end"&&(d=!0);const A=RY(d,v,b),[S,{hasShown:C,popper:E,show:k,toggle:O}]=dY({flip:i,rootCloseEvent:r,show:o,usePopper:!p&&_.length===0,offset:[0,2],popperConfig:u,placement:A});if(S.ref=m2(OY(f),S.ref),Eve(()=>{k&&(E==null||E.update())},[k]),!C&&!a&&!x)return null;typeof s!="string"&&(S.show=k,S.close=()=>O==null?void 0:O(!1),S.align=n);let N=c.style;return E!=null&&E.placement&&(N={...c.style,...S.style},c["x-placement"]=E.placement),V.jsx(s,{...c,...S,style:N,...(_.length||p)&&{"data-bs-popper":"static"},className:st(t,g,k&&"show",d&&`${g}-end`,l&&`${g}-${l}`,..._)})});FY.displayName="DropdownMenu";const Ixe=FY,DY=J.forwardRef(({bsPrefix:e,split:t,className:n,childBsPrefix:r,as:i=Jk,...o},a)=>{const s=Ct(e,"dropdown-toggle"),u=J.useContext(r3);r!==void 0&&(o.bsPrefix=r);const[l]=mY();return l.ref=m2(l.ref,OY(a)),V.jsx(i,{className:st(n,s,t&&`${s}-split`,(u==null?void 0:u.show)&&"show"),...l,...o})});DY.displayName="DropdownToggle";const zxe=DY,LY=J.forwardRef((e,t)=>{const{bsPrefix:n,drop:r="down",show:i,className:o,align:a="start",onSelect:s,onToggle:u,focusFirstItemOnShow:l,as:c="div",navbar:f,autoClose:d=!0,...p}=qk(e,{show:"onToggle"}),g=J.useContext(TY),y=Ct(n,"dropdown"),v=G2e(),b=E=>d===!1?E==="click":d==="inside"?E!=="rootClose":d==="outside"?E!=="select":!0,x=Qo((E,k)=>{k.originalEvent.currentTarget===document&&(k.source!=="keydown"||k.originalEvent.key==="Escape")&&(k.source="rootClose"),b(k.source)&&(u==null||u(E,k))}),A=RY(a==="end",r,v),S=J.useMemo(()=>({align:a,drop:r,isRTL:v}),[a,r,v]),C={down:y,"down-centered":`${y}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return V.jsx(_Y.Provider,{value:S,children:V.jsx(x2,{placement:A,show:i,onSelect:s,onToggle:x,focusFirstItemOnShow:l,itemSelector:`.${y}-item:not(.disabled):not(:disabled)`,children:g?p.children:V.jsx(c,{...p,ref:t,className:st(o,i&&"show",C[r])})})})});LY.displayName="Dropdown";const Lb=Object.assign(LY,{Toggle:zxe,Menu:Ixe,Item:Lxe,ItemText:Pxe,Divider:Fxe,Header:Dxe}),Bxe={type:so.string,tooltip:so.bool,as:so.elementType},o7=J.forwardRef(({as:e="div",className:t,type:n="valid",tooltip:r=!1,...i},o)=>V.jsx(e,{...i,ref:o,className:st(t,`${n}-${r?"tooltip":"feedback"}`)}));o7.displayName="Feedback";o7.propTypes=Bxe;const Uxe=o7,jxe=J.createContext({}),Wxe=jxe,PY=J.forwardRef(({bsPrefix:e,type:t,size:n,htmlSize:r,id:i,className:o,isValid:a=!1,isInvalid:s=!1,plaintext:u,readOnly:l,as:c="input",...f},d)=>{const{controlId:p}=J.useContext(Wxe);return e=Ct(e,"form-control"),V.jsx(c,{...f,type:t,size:r,ref:d,readOnly:l,id:i||p,className:st(o,u?`${e}-plaintext`:e,n&&`${e}-${n}`,t==="color"&&`${e}-color`,a&&"is-valid",s&&"is-invalid")})});PY.displayName="FormControl";const Hxe=Object.assign(PY,{Feedback:Uxe}),qxe=J.createContext(null),mg=qxe,Gxe=["as","active","eventKey"];function Vxe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function a7({key:e,onClick:t,active:n,id:r,role:i,disabled:o}){const a=J.useContext(fl),s=J.useContext(i7),u=J.useContext(mg);let l=n;const c={role:i};if(s){!i&&s.role==="tablist"&&(c.role="tab");const f=s.getControllerId(e??null),d=s.getControlledId(e??null);c[b2("event-key")]=e,c.id=f||r,l=n==null&&e!=null?s.activeKey===e:n,(l||!(u!=null&&u.unmountOnExit)&&!(u!=null&&u.mountOnEnter))&&(c["aria-controls"]=d)}return c.role==="tab"&&(c["aria-selected"]=l,l||(c.tabIndex=-1),o&&(c.tabIndex=-1,c["aria-disabled"]=!0)),c.onClick=Qo(f=>{o||(t==null||t(f),e!=null&&a&&!f.isPropagationStopped()&&a(e,f))}),[c,{isActive:l}]}const IY=J.forwardRef((e,t)=>{let{as:n=Vk,active:r,eventKey:i}=e,o=Vxe(e,Gxe);const[a,s]=a7(Object.assign({key:Bc(i,o.href),active:r},o));return a[b2("active")]=s.isActive,V.jsx(n,Object.assign({},o,a,{ref:t}))});IY.displayName="NavItem";const Yxe=IY,Jxe=["as","onSelect","activeKey","role","onKeyDown"];function Xxe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const vI=()=>{},bI=b2("event-key"),zY=J.forwardRef((e,t)=>{let{as:n="div",onSelect:r,activeKey:i,role:o,onKeyDown:a}=e,s=Xxe(e,Jxe);const u=nY(),l=J.useRef(!1),c=J.useContext(fl),f=J.useContext(mg);let d,p;f&&(o=o||"tablist",i=f.activeKey,d=f.getControlledId,p=f.getControllerId);const g=J.useRef(null),y=_=>{const A=g.current;if(!A)return null;const S=m4(A,`[${bI}]:not([aria-disabled=true])`),C=A.querySelector("[aria-selected=true]");if(!C||C!==document.activeElement)return null;const E=S.indexOf(C);if(E===-1)return null;let k=E+_;return k>=S.length&&(k=0),k<0&&(k=S.length-1),S[k]},v=(_,A)=>{_!=null&&(r==null||r(_,A),c==null||c(_,A))},b=_=>{if(a==null||a(_),!f)return;let A;switch(_.key){case"ArrowLeft":case"ArrowUp":A=y(-1);break;case"ArrowRight":case"ArrowDown":A=y(1);break;default:return}A&&(_.preventDefault(),v(A.dataset[Mxe("EventKey")]||null,_),l.current=!0,u())};J.useEffect(()=>{if(g.current&&l.current){const _=g.current.querySelector(`[${bI}][aria-selected=true]`);_==null||_.focus()}l.current=!1});const x=m2(t,g);return V.jsx(fl.Provider,{value:v,children:V.jsx(i7.Provider,{value:{role:o,activeKey:Bc(i),getControlledId:d||vI,getControllerId:p||vI},children:V.jsx(n,Object.assign({},s,{onKeyDown:b,ref:x,role:o}))})})});zY.displayName="Nav";const BY=Object.assign(zY,{Item:Yxe}),UY=J.forwardRef(({bsPrefix:e,active:t,disabled:n,eventKey:r,className:i,variant:o,action:a,as:s,...u},l)=>{e=Ct(e,"list-group-item");const[c,f]=a7({key:Bc(r,u.href),active:t,...u}),d=Qo(g=>{if(n){g.preventDefault(),g.stopPropagation();return}c.onClick(g)});n&&u.tabIndex===void 0&&(u.tabIndex=-1,u["aria-disabled"]=!0);const p=s||(a?u.href?"a":"button":"div");return V.jsx(p,{ref:l,...u,...c,onClick:d,className:st(i,e,f.isActive&&"active",n&&"disabled",o&&`${e}-${o}`,a&&`${e}-action`)})});UY.displayName="ListGroupItem";const Kxe=UY,jY=J.forwardRef((e,t)=>{const{className:n,bsPrefix:r,variant:i,horizontal:o,numbered:a,as:s="div",...u}=qk(e,{activeKey:"onSelect"}),l=Ct(r,"list-group");let c;return o&&(c=o===!0?"horizontal":`horizontal-${o}`),V.jsx(BY,{ref:t,...u,as:s,className:st(n,l,i&&`${l}-${i}`,c&&`${l}-${c}`,a&&`${l}-numbered`)})});jY.displayName="ListGroup";const xI=Object.assign(jY,{Item:Kxe});function WY({children:e,in:t,onExited:n,mountOnEnter:r,unmountOnExit:i}){const o=J.useRef(null),a=J.useRef(t),s=Qo(n);J.useEffect(()=>{t?a.current=!0:s(o.current)},[t,s]);const u=m2(o,e.ref),l=J.cloneElement(e,{ref:u});return t?l:i||!a.current&&r?null:l}var wI={exports:{}},b4={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){function i(a,s,u,l,c,f){var d=l||"<<anonymous>>",p=f||u;if(s[u]==null)return a?new Error("Required "+c+" `"+p+"` was not specified "+("in `"+d+"`.")):null;for(var g=arguments.length,y=Array(g>6?g-6:0),v=6;v<g;v++)y[v-6]=arguments[v];return r.apply(void 0,[s,u,d,c,p].concat(y))}var o=i.bind(null,!1);return o.isRequired=i.bind(null,!0),o}e.exports=t.default})(b4,b4.exports);var Qxe=b4.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=Qxe,r=i(n);function i(a){return a&&a.__esModule?a:{default:a}}function o(){for(var a=arguments.length,s=Array(a),u=0;u<a;u++)s[u]=arguments[u];function l(){for(var c=arguments.length,f=Array(c),d=0;d<c;d++)f[d]=arguments[d];var p=null;return s.forEach(function(g){if(p==null){var y=g.apply(void 0,f);y!=null&&(p=y)}}),p}return(0,r.default)(l)}e.exports=t.default})(wI,wI.exports);const HY=J.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Ct(t,"nav-item"),V.jsx(n,{ref:i,className:st(e,t),...r})));HY.displayName="NavItem";const Zxe=HY,qY=J.forwardRef(({bsPrefix:e,className:t,as:n=FV,active:r,eventKey:i,disabled:o=!1,...a},s)=>{e=Ct(e,"nav-link");const[u,l]=a7({key:Bc(i,a.href),active:r,disabled:o,...a});return V.jsx(n,{...a,...u,ref:s,disabled:o,className:st(t,e,o&&"disabled",l.isActive&&"active")})});qY.displayName="NavLink";const ewe=qY,GY=J.forwardRef((e,t)=>{const{as:n="div",bsPrefix:r,variant:i,fill:o=!1,justify:a=!1,navbar:s,navbarScroll:u,className:l,activeKey:c,...f}=qk(e,{activeKey:"onSelect"}),d=Ct(r,"nav");let p,g,y=!1;const v=J.useContext(NY),b=J.useContext(HV);return v?(p=v.bsPrefix,y=s??!0):b&&({cardHeaderBsPrefix:g}=b),V.jsx(BY,{as:n,ref:t,activeKey:c,className:st(l,{[d]:!y,[`${p}-nav`]:y,[`${p}-nav-scroll`]:y&&u,[`${g}-${i}`]:!!g,[`${d}-${i}`]:!!i,[`${d}-fill`]:o,[`${d}-justified`]:a}),...f})});GY.displayName="Nav";const Cu=Object.assign(GY,{Item:Zxe,Link:ewe}),VY=J.forwardRef(({bsPrefix:e,className:t,as:n="div",...r},i)=>{const o=Ct(e,"row"),a=AV(),s=_V(),u=`${o}-cols`,l=[];return a.forEach(c=>{const f=r[c];delete r[c];let d;f!=null&&typeof f=="object"?{cols:d}=f:d=f;const p=c!==s?`-${c}`:"";d!=null&&l.push(`${u}${p}-${d}`)}),V.jsx(n,{ref:i,...r,className:st(t,o,...l)})});VY.displayName="Row";const kc=VY,twe=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],nwe=["activeKey","getControlledId","getControllerId"],rwe=["as"];function x4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function YY(e){let{active:t,eventKey:n,mountOnEnter:r,transition:i,unmountOnExit:o,role:a="tabpanel",onEnter:s,onEntering:u,onEntered:l,onExit:c,onExiting:f,onExited:d}=e,p=x4(e,twe);const g=J.useContext(mg);if(!g)return[Object.assign({},p,{role:a}),{eventKey:n,isActive:t,mountOnEnter:r,transition:i,unmountOnExit:o,onEnter:s,onEntering:u,onEntered:l,onExit:c,onExiting:f,onExited:d}];const{activeKey:y,getControlledId:v,getControllerId:b}=g,x=x4(g,nwe),_=Bc(n);return[Object.assign({},p,{role:a,id:v(n),"aria-labelledby":b(n)}),{eventKey:n,isActive:t==null&&_!=null?Bc(y)===_:t,transition:i||x.transition,mountOnEnter:r??x.mountOnEnter,unmountOnExit:o??x.unmountOnExit,onEnter:s,onEntering:u,onEntered:l,onExit:c,onExiting:f,onExited:d}]}const JY=J.forwardRef((e,t)=>{let{as:n="div"}=e,r=x4(e,rwe);const[i,{isActive:o,onEnter:a,onEntering:s,onEntered:u,onExit:l,onExiting:c,onExited:f,mountOnEnter:d,unmountOnExit:p,transition:g=WY}]=YY(r);return V.jsx(mg.Provider,{value:null,children:V.jsx(fl.Provider,{value:null,children:V.jsx(g,{in:o,onEnter:a,onEntering:s,onEntered:u,onExit:l,onExiting:c,onExited:f,mountOnEnter:d,unmountOnExit:p,children:V.jsx(n,Object.assign({},i,{ref:t,hidden:!o,"aria-hidden":!o}))})})})});JY.displayName="TabPanel";const XY=e=>{const{id:t,generateChildId:n,onSelect:r,activeKey:i,defaultActiveKey:o,transition:a,mountOnEnter:s,unmountOnExit:u,children:l}=e,[c,f]=tY(i,o,r),d=pY(t),p=J.useMemo(()=>n||((y,v)=>d?`${d}-${v}-${y}`:null),[d,n]),g=J.useMemo(()=>({onSelect:f,activeKey:c,transition:a,mountOnEnter:s||!1,unmountOnExit:u||!1,getControlledId:y=>p(y,"tabpane"),getControllerId:y=>p(y,"tab")}),[f,c,a,s,u,p]);return V.jsx(mg.Provider,{value:g,children:V.jsx(fl.Provider,{value:f||null,children:l})})};XY.Panel=JY;const iwe=XY;function KY(e){return typeof e=="boolean"?e?LV:WY:e}const QY=({transition:e,...t})=>V.jsx(iwe,{...t,transition:KY(e)});QY.displayName="TabContainer";const owe=QY,ZY=J.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Ct(t,"tab-content"),V.jsx(n,{ref:i,className:st(e,t),...r})));ZY.displayName="TabContent";const awe=ZY,eJ=J.forwardRef(({bsPrefix:e,transition:t,...n},r)=>{const[{className:i,as:o="div",...a},{isActive:s,onEnter:u,onEntering:l,onEntered:c,onExit:f,onExiting:d,onExited:p,mountOnEnter:g,unmountOnExit:y,transition:v=LV}]=YY({...n,transition:KY(t)}),b=Ct(e,"tab-pane");return V.jsx(mg.Provider,{value:null,children:V.jsx(fl.Provider,{value:null,children:V.jsx(v,{in:s,onEnter:u,onEntering:l,onEntered:c,onExit:f,onExiting:d,onExited:p,mountOnEnter:g,unmountOnExit:y,children:V.jsx(o,{...a,ref:r,className:st(i,b,s&&"active")})})})})});eJ.displayName="TabPane";const swe=eJ,uwe={eventKey:so.oneOfType([so.string,so.number]),title:so.node.isRequired,disabled:so.bool,tabClassName:so.string,tabAttrs:so.object},tJ=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};tJ.propTypes=uwe;const sh=Object.assign(tJ,{Container:owe,Content:awe,Pane:swe}),lwe=()=>{},nJ=J.forwardRef(({bsPrefix:e,name:t,className:n,checked:r,type:i,onChange:o,value:a,disabled:s,id:u,inputRef:l,...c},f)=>(e=Ct(e,"btn-check"),V.jsxs(V.Fragment,{children:[V.jsx("input",{className:e,name:t,type:i,value:a,ref:l,autoComplete:"off",checked:!!r,disabled:!!s,onChange:o||lwe,id:u}),V.jsx(Jk,{...c,ref:f,className:st(n,s&&"disabled"),type:void 0,role:void 0,as:"label",htmlFor:u})]})));nJ.displayName="ToggleButton";const cwe=nJ,wy=[{name:"Sunil ARYA",rank:"Associate Professor",tel:"(852) 2358 8769",email:"arya@ust.hk",gs_id:"Azu2w_MAAAAJ",orcid:"0000-0003-0939-4192",linked_arxiv:1,citedby:7286,citedby5y:1601,hindex:29,hindex5y:19,i10index:48,i10index5y:29,cites_per_year:{1995:20,1996:23,1997:44,1998:72,1999:98,2e3:120,2001:144,2002:160,2003:174,2004:245,2005:228,2006:291,2007:274,2008:327,2009:368,2010:427,2011:377,2012:381,2013:391,2014:362,2015:298,2016:316,2017:387,2018:300,2019:289,2020:266,2021:278,2022:235,2023:232},url_picture:null,pub_per_year:[{1993:3,1994:3,1995:3,1996:1,1997:1,1998:3,1999:2,2e3:4,2001:1,2002:3,2003:2,2006:3,2007:2,2008:2,2009:1,2010:2,2011:1,2012:3,2013:1,2014:1,2015:2,2016:1,2017:3,2018:2,2019:5,2022:1,2023:2}]},{name:"Brahim BENSAOU",rank:"Associate Professor",tel:"(852) 2358 7014",email:"csbb@ust.hk",gs_id:"aQblKVwAAAAJ",orcid:"0000-0002-4473-3658",linked_arxiv:0,citedby:4638,citedby5y:939,hindex:31,hindex5y:17,i10index:78,i10index5y:31,cites_per_year:{1997:15,1998:16,1999:16,2e3:38,2001:52,2002:74,2003:134,2004:169,2005:203,2006:263,2007:291,2008:282,2009:320,2010:284,2011:257,2012:212,2013:189,2014:199,2015:211,2016:211,2017:172,2018:177,2019:193,2020:178,2021:176,2022:126,2023:88},url_picture:"https://scholar.googleusercontent.com/citations?view_op=view_photo&user=aQblKVwAAAAJ&citpid=2",pub_per_year:[{1990:1,1992:1,1993:2,1994:1,1996:3,1997:4,1998:3,1999:5,2e3:13,2001:10,2002:4,2003:5,2004:15,2005:10,2006:4,2007:13,2008:11,2009:7,2010:4,2011:3,2012:3,2013:6,2014:10,2015:11,2016:10,2017:5,2018:5,2019:9,2020:6,2021:3,2022:3,2023:2}]},{name:"Gary Shueng Han CHAN",rank:"Professor",tel:"(852) 2358 6990",email:"gchan@ust.hk",gs_id:"uiCSOycAAAAJ",orcid:"0000-0003-4207-764X",linked_arxiv:0,citedby:7225,citedby5y:2835,hindex:43,hindex5y:22,i10index:140,i10index5y:55,cites_per_year:{1999:31,2e3:15,2001:44,2002:78,2003:143,2004:145,2005:181,2006:184,2007:233,2008:261,2009:313,2010:295,2011:314,2012:359,2013:349,2014:308,2015:263,2016:312,2017:428,2018:508,2019:525,2020:452,2021:420,2022:453,2023:472},url_picture:"https://scholar.googleusercontent.com/citations?view_op=view_photo&user=uiCSOycAAAAJ&citpid=2",pub_per_year:[{1983:1,1990:2,1993:4,1994:6,1995:9,1996:2,1997:2,1998:4,1999:14,2e3:10,2001:18,2002:13,2003:19,2004:12,2005:15,2006:22,2007:23,2008:14,2009:17,2010:19,2011:17,2012:23,2013:10,2014:12,2015:21,2016:15,2017:15,2018:12,2019:8,2020:3,2021:12,2022:14,2023:12}]},{name:"Hao CHEN",rank:"Assistant Professor",tel:"(852) 2358 8346",email:"jhc@ust.hk",gs_id:"Z_t5DjwAAAAJ",orcid:"0000-0002-8400-3780",linked_arxiv:1,citedby:22097,citedby5y:21297,hindex:63,hindex5y:62,i10index:98,i10index5y:98,cites_per_year:{2016:125,2017:554,2018:1243,2019:2543,2020:3464,2021:4428,2022:4858,2023:4695},url_picture:"https://scholar.googleusercontent.com/citations?view_op=view_photo&user=Z_t5DjwAAAAJ&citpid=5",pub_per_year:[{2014:2,2015:6,2016:14,2017:17,2018:14,2019:25,2020:14,2021:15,2022:21,2023:43}]},{name:"Kai CHEN",rank:"Professor",tel:"(852) 2358 7028",email:"kaichen@ust.hk",gs_id:"tnRV5QYAAAAJ",orcid:"0000-0003-2587-6028",linked_arxiv:1,citedby:5673,citedby5y:4395,hindex:38,hindex5y:33,i10index:91,i10index5y:78,cites_per_year:{2010:17,2011:43,2012:72,2013:92,2014:116,2015:222,2016:288,2017:360,2018:444,2019:606,2020:676,2021:831,2022:925,2023:904},url_picture:"https://scholar.googleusercontent.com/citations?view_op=view_photo&user=tnRV5QYAAAAJ&citpid=2",pub_per_year:[{2006:4,2007:2,2009:2,2010:4,2011:6,2012:3,2013:4,2014:9,2015:8,2016:8,2017:9,2018:9,2019:8,2020:17,2021:16,2022:32,2023:23}]},{name:"Lei CHEN",rank:"Chair Professor",tel:"(852) 2358 6980",email:"leichen@ust.hk",gs_id:"gtglwgYAAAAJ",orcid:"0000-0002-8257-5806",linked_arxiv:0,citedby:24780,citedby5y:14477,hindex:78,hindex5y:59,i10index:362,i10index5y:276,cites_per_year:{2006:112,2007:142,2008:234,2009:426,2010:612,2011:638,2012:811,2013:1051,2014:1191,2015:1393,2016:1582,2017:1749,2018:1866,2019:2220,2020:2508,2021:2288,2022:2765,2023:2785},url_picture:"https://scholar.googleusercontent.com/citations?view_op=view_photo&user=gtglwgYAAAAJ&citpid=3",pub_per_year:[{1980:1,1998:1,2002:3,2003:5,2004:7,2005:5,2006:9,2007:19,2008:35,2009:31,2010:30,2011:26,2012:24,2013:39,2014:43,2015:38,2016:32,2017:30,2018:33,2019:44,2020:59,2021:77,2022:63,2023:67}]},{name:"Long CHEN",rank:"Assistant Professor",tel:"(852) 2358 8836",email:"longchen@ust.hk",gs_id:"-gtmMpIAAAAJ",orcid:"0000-0001-6148-9709",linked_arxiv:1,citedby:4328,citedby5y:4291,hindex:23,hindex5y:23,i10index:33,i10index5y:33,cites_per_year:{2017:22,2018:132,2019:338,2020:503,2021:775,2022:1170,2023:1362},url_picture:"https://scholar.googleusercontent.com/citations?view_op=view_photo&user=-gtmMpIAAAAJ&citpid=6",pub_per_year:[{2017:2,2018:1,2019:3,2020:4,2021:12,2022:22,2023:27}]},{name:"Qifeng CHEN",rank:"Assistant Professor",tel:"(852) 2358 8838",email:"cqf@ust.hk",gs_id:"lLMX9hcAAAAJ",orcid:"0000-0003-2199-3948",linked_arxiv:0,citedby:8328,citedby5y:7853,hindex:37,hindex5y:36,i10index:73,i10index5y:73,cites_per_year:{2013:25,2014:43,2015:81,2016:99,2017:173,2018:406,2019:692,2020:987,2021:1332,2022:1976,2023:2433},url_picture:"https://scholar.googleusercontent.com/citations?view_op=view_photo&user=lLMX9hcAAAAJ&citpid=3",pub_per_year:[{2012:1,2013:3,2014:2,2015:1,2016:2,2017:2,2018:5,2019:7,2020:13,2021:28,2022:35,2023:35}]},{name:"Minhao CHENG",rank:"Assistant Professor",tel:"(852) 2358 7011",email:"minhaocheng@ust.hk",gs_id:"_LkC1yoAAAAJ",orcid:"0000-0003-3965-4215",linked_arxiv:0,citedby:2024,citedby5y:2019,hindex:15,hindex5y:15,i10index:18,i10index5y:18,cites_per_year:{2018:22,2019:148,2020:297,2021:447,2022:565,2023:520},url_picture:"https://scholar.googleusercontent.com/citations?view_op=view_photo&user=_LkC1yoAAAAJ&citpid=1",pub_per_year:[{2015:1,2017:1,2018:7,2019:7,2020:6,2021:5,2022:10,2023:9}]},{name:"Siu Wing CHENG",rank:"Professor",tel:"(852) 2358 6973",email:"scheng@ust.hk",gs_id:"0nquEkQAAAAJ",orcid:"0000-0002-3557-9935",linked_arxiv:0,citedby:3870,citedby5y:1014,hindex:31,hindex5y:14,i10index:60,i10index5y:21,cites_per_year:{1991:11,1992:18,1993:19,1994:30,1995:31,1996:52,1997:48,1998:51,1999:41,2e3:60,2001:49,2002:50,2003:58,2004:96,2005:137,2006:122,2007:163,2008:166,2009:198,2010:179,2011:151,2012:140,2013:172,2014:181,2015:176,2016:176,2017:194,2018:172,2019:213,2020:179,2021:169,2022:135,2023:146},url_picture:"https://scholar.googleusercontent.com/citations?view_op=view_photo&user=0nquEkQAAAAJ&citpid=2",pub_per_year:[{1989:1,1990:1,1991:1,1992:5,1993:6,1994:3,1995:4,1996:4,1997:1,1998:3,1999:4,2e3:6,2001:2,2002:3,2003:2,2004:6,2005:6,2006:5,2007:3,2008:3,2009:6,2010:2,2011:1,2012:4,2013:3,2014:6,2015:7,2016:5,2017:6,2018:4,2019:3,2020:4,2021:6,2022:4,2023:6}]},{name:"Shing Chi CHEUNG",rank:"Chair Professor",tel:"(852) 2358 7016",email:"sccheung@ust.hk",gs_id:"5RIgb3wAAAAJ",orcid:"0000-0002-3508-7172",linked_arxiv:1,citedby:9827,citedby5y:4362,hindex:50,hindex5y:32,i10index:168,i10index5y:73,cites_per_year:{1995:44,1996:44,1997:54,1998:43,1999:58,2e3:41,2001:64,2002:55,2003:141,2004:144,2005:204,2006:225,2007:272,2008:278,2009:368,2010:359,2011:342,2012:353,2013:429,2014:356,2015:437,2016:464,2017:406,2018:530,2019:643,2020:586,2021:739,2022:892,2023:965},url_picture:"https://scholar.googleusercontent.com/citations?view_op=view_photo&user=5RIgb3wAAAAJ&citpid=2",pub_per_year:[{1991:2,1992:1,1993:2,1994:3,1995:5,1996:6,1997:6,1998:7,1999:9,2e3:1,2001:6,2002:10,2003:22,2004:14,2005:16,2006:21,2007:19,2008:8,2009:14,2010:16,2011:11,2012:7,2013:6,2014:7,2015:8,2016:12,2017:3,2018:13,2019:13,2020:7,2021:10,2022:11,2023:17}]},{name:"Albert Chi Shing CHUNG",rank:"Professor",tel:"(852) 2358 8776",email:"achung@ust.hk",gs_id:"MVf7Lq0AAAAJ",orcid:"0000-0003-4400-9261",linked_arxiv:0,citedby:6159,citedby5y:2400,hindex:40,hindex5y:22,i10index:105,i10index5y:43,cites_per_year:{2002:20,2003:37,2004:26,2005:40,2006:79,2007:128,2008:136,2009:185,2010:238,2011:292,2012:387,2013:381,2014:377,2015:406,2016:356,2017:349,2018:328,2019:284,2020:313,2021:409,2022:542,2023:519},url_picture:"https://scholar.googleusercontent.com/citations?view_op=view_photo&user=MVf7Lq0AAAAJ&citpid=3",pub_per_year:[{1950:1,1951:2,1952:2,1953:2,1954:1,1955:5,1956:1,1957:2,1958:1,1959:1,1962:3,1964:1,1967:1,1969:2,1977:1,1997:1,1998:3,1999:1,2e3:6,2001:5,2002:3,2003:3,2004:13,2005:10,2006:19,2007:13,2008:9,2009:15,2010:10,2011:9,2012:5,2013:5,2014:1,2016:4,2017:7,2018:9,2019:6,2020:9,2021:5,2022:10,2023:2}]},{name:"Cunsheng DING",rank:"Professor",tel:"(852) 2358 7021",email:"cding@ust.hk",gs_id:"H9zO5eYAAAAJ",orcid:"0000-0001-9392-9860",linked_arxiv:0,citedby:13858,citedby5y:6537,hindex:63,hindex5y:44,i10index:164,i10index5y:130,cites_per_year:{1998:39,1999:69,2e3:48,2001:68,2002:89,2003:127,2004:146,2005:168,2006:215,2007:288,2008:319,2009:330,2010:358,2011:441,2012:419,2013:550,2014:625,2015:879,2016:936,2017:1011,2018:808,2019:1153,2020:1025,2021:1069,2022:1219,2023:1251},url_picture:"https://scholar.googleusercontent.com/citations?view_op=view_photo&user=H9zO5eYAAAAJ&citpid=7",pub_per_year:[{1988:2,1990:1,1991:2,1993:2,1994:6,1996:6,1997:5,1998:9,1999:8,2e3:12,2001:9,2002:4,2003:8,2004:12,2005:8,2006:10,2007:9,2008:10,2009:6,2010:5,2011:8,2012:6,2013:12,2014:14,2015:8,2016:7,2017:14,2018:10,2019:10,2020:9,2021:10,2022:8,2023:13}]},{name:"Amir KAFSHDAR GOHARSHADY",rank:"Assistant Professor",tel:"(852) 2358 8339",email:"goharshady@ust.hk",gs_id:"4o8gvAYAAAAJ",orcid:"0000-0003-1702-6584",linked_arxiv:1,citedby:851,citedby5y:802,hindex:17,hindex5y:17,i10index:28,i10index5y:27,cites_per_year:{2016:11,2017:26,2018:25,2019:93,2020:119,2021:136,2022:139,2023:290},url_picture:"https://scholar.googleusercontent.com/citations?view_op=view_photo&user=4o8gvAYAAAAJ&citpid=23",pub_per_year:[{2014:1,2015:1,2016:3,2017:2,2018:5,2019:8,2020:5,2021:4,2022:4,2023:13}]},{name:"Mordecai Jay GOLIN",rank:"Professor",tel:"(852) 2358 6993",email:"golin@ust.hk",gs_id:"YooPxQwAAAAJ",orcid:"0000-0002-1260-6574",linked_arxiv:1,citedby:2872,citedby5y:611,hindex:27,hindex5y:13,i10index:63,i10index5y:19,cites_per_year:{1993:17,1994:12,1995:21,1996:27,1997:20,1998:44,1999:30,2e3:45,2001:62,2002:81,2003:102,2004:126,2005:150,2006:135,2007:161,2008:118,2009:125,2010:136,2011:114,2012:113,2013:129,2014:131,2015:106,2016:109,2017:82,2018:115,2019:140,2020:60,2021:107,2022:91,2023:96},url_picture:"https://scholar.googleusercontent.com/citations?view_op=view_photo&user=YooPxQwAAAAJ&citpid=2",pub_per_year:[{1988:1,1990:1,1991:3,1992:4,1993:6,1994:5,1995:7,1996:4,1997:1,1998:10,1999:3,2e3:5,2001:8,2002:10,2003:6,2004:10,2005:10,2006:3,2007:6,2008:3,2009:4,2010:4,2011:1,2012:2,2013:3,2014:5,2015:5,2016:6,2017:2,2018:3,2019:6,2021:4,2022:3,2023:4}]},{name:"Song GUO",rank:"Professor",tel:"(852) 2358 8833",email:"songguo@ust.hk",gs_id:"Ib-sizwAAAAJ",orcid:"0000-0001-9831-2202",linked_arxiv:0,citedby:29688,citedby5y:23830,hindex:86,hindex5y:73,i10index:456,i10index5y:383,cites_per_year:{2008:127,2009:102,2010:147,2011:131,2012:226,2013:390,2014:540,2015:803,2016:1202,2017:1813,2018:2691,2019:3108,2020:3932,2021:4559,2022:4916,2023:4549},url_picture:"https://scholar.googleusercontent.com/citations?view_op=view_photo&user=Ib-sizwAAAAJ&citpid=8",pub_per_year:[{1994:1,2e3:1,2001:1,2002:1,2003:5,2004:8,2005:7,2006:13,2007:10,2008:18,2009:25,2010:32,2011:31,2012:31,2013:45,2014:67,2015:60,2016:57,2017:67,2018:63,2019:90,2020:88,2021:60,2022:81,2023:77}]},{name:"Yike GUO",rank:"Chair Professor",tel:"(852) 2358 6122",email:"yikeguo@ust.hk",gs_id:"-0q6cIYAAAAJ",orcid:"0000-0002-3075-2161",linked_arxiv:1,citedby:19158,citedby5y:13806,hindex:67,hindex5y:54,i10index:282,i10index5y:198,cites_per_year:{1997:63,1998:66,1999:80,2e3:84,2001:98,2002:96,2003:107,2004:146,2005:155,2006:162,2007:193,2008:196,2009:183,2010:192,2011:173,2012:303,2013:392,2014:483,2015:506,2016:558,2017:711,2018:1182,2019:1626,2020:2171,2021:2723,2022:3147,2023:2913},url_picture:null,pub_per_year:[{1989:3,1990:3,1991:4,1992:6,1993:2,1994:8,1995:5,1996:4,1997:12,1998:4,1999:7,2e3:9,2001:8,2002:12,2003:7,2004:10,2005:11,2006:6,2007:6,2008:10,2009:12,2010:14,2011:14,2012:22,2013:18,2014:27,2015:20,2016:26,2017:37,2018:43,2019:65,2020:53,2021:60,2022:64,2023:28,2024:2}]},{name:"Junxian HE",rank:"Assistant Professor",tel:"(852) 2358 8765",email:"junxianh@ust.hk",gs_id:"BIFGeoUAAAAJ",orcid:null,linked_arxiv:0,citedby:2465,citedby5y:2461,hindex:19,hindex5y:19,i10index:23,i10index5y:23,cites_per_year:{2018:20,2019:113,2020:267,2021:444,2022:699,2023:911},url_picture:"https://scholar.googleusercontent.com/citations?view_op=view_photo&user=BIFGeoUAAAAJ&citpid=4",pub_per_year:[{2016:1,2017:1,2018:3,2019:5,2020:5,2021:2,2022:7,2023:13}]},{name:"Andrew Brian HORNER",rank:"Professor",tel:"(852) 2358 6998",email:"horner@ust.hk",gs_id:"irCp0RIAAAAJ",orcid:"0000-0002-9795-5190",linked_arxiv:0,citedby:2576,citedby5y:854,hindex:25,hindex5y:13,i10index:60,i10index5y:20,cites_per_year:{1993:13,1994:22,1995:30,1996:31,1997:38,1998:44,1999:42,2e3:36,2001:51,2002:27,2003:45,2004:37,2005:87,2006:72,2007:120,2008:61,2009:59,2010:75,2011:86,2012:77,2013:107,2014:98,2015:85,2016:147,2017:184,2018:150,2019:154,2020:131,2021:146,2022:152,2023:121},url_picture:null,pub_per_year:[{1983:2,1984:3,1985:3,1986:1,1991:1,1992:2,1993:7,1994:2,1995:8,1996:13,1997:6,1998:5,1999:4,2e3:4,2001:4,2002:3,2003:6,2004:5,2005:7,2006:10,2007:8,2008:2,2009:10,2010:4,2011:5,2012:3,2013:5,2014:10,2015:3,2016:8,2017:8,2018:9,2019:4,2020:2,2021:2,2022:5}]},{name:"Sung Hun KIM",rank:"Associate Professor",tel:"(852) 2358 6992",email:"hunkim@ust.hk",gs_id:"JE_m2UgAAAAJ",orcid:"0000-0003-4478-9720",linked_arxiv:0,citedby:18124,citedby5y:11919,hindex:57,hindex5y:44,i10index:79,i10index5y:68,cites_per_year:{2006:59,2007:90,2008:140,2009:180,2010:336,2011:355,2012:543,2013:582,2014:674,2015:891,2016:1047,2017:975,2018:1538,2019:1955,2020:2102,2021:2343,2022:2191,2023:1772},url_picture:"https://scholar.googleusercontent.com/citations?view_op=view_photo&user=JE_m2UgAAAAJ&citpid=2",pub_per_year:[{2004:4,2005:3,2006:8,2007:4,2008:5,2009:10,2010:6,2011:11,2012:6,2013:9,2014:8,2015:7,2016:4,2017:4,2018:7,2019:4,2020:1}]},{name:"James Tin Yau KWOK",rank:"Professor",tel:"(852) 2358 7013",email:"jamesk@ust.hk",gs_id:"-oTraZ4AAAAJ",orcid:"0000-0002-4828-8248",linked_arxiv:0,citedby:25344,citedby5y:13373,hindex:71,hindex5y:46,i10index:165,i10index5y:122,cites_per_year:{2001:75,2002:118,2003:155,2004:185,2005:295,2006:382,2007:462,2008:581,2009:660,2010:819,2011:893,2012:925,2013:1016,2014:1170,2015:1211,2016:1326,2017:1339,2018:1530,2019:1714,2020:2121,2021:2498,2022:2868,2023:2618},url_picture:"https://scholar.googleusercontent.com/citations?view_op=view_photo&user=-oTraZ4AAAAJ&citpid=2",pub_per_year:[{1997:2,1998:2,1999:3,2e3:3,2001:6,2002:7,2003:9,2004:20,2005:13,2006:24,2007:12,2008:10,2009:14,2010:13,2011:9,2012:7,2013:10,2014:12,2015:8,2016:10,2017:6,2018:10,2019:16,2020:16,2021:16,2022:13,2023:14}]},{name:"Bo LI",rank:"Chair Professor",tel:"(852) 2358 6976",email:"bli@ust.hk",gs_id:"SLgWQLEAAAAJ",orcid:"0000-0003-2955-750X",linked_arxiv:0,citedby:32310,citedby5y:13820,hindex:72,hindex5y:42,i10index:690,i10index5y:441,cites_per_year:{2e3:81,2001:116,2002:168,2003:283,2004:441,2005:598,2006:780,2007:940,2008:1126,2009:1301,2010:1469,2011:1349,2012:1477,2013:1321,2014:1507,2015:1552,2016:1607,2017:1708,2018:1803,2019:1901,2020:2229,2021:2487,2022:2722,2023:2634},url_picture:null,pub_per_year:[{1964:1,1984:1,1989:1,1992:5,1993:2,1994:7,1995:7,1996:3,1997:4,1998:18,1999:7,2e3:26,2001:13,2002:33,2003:43,2004:40,2005:32,2006:46,2007:34,2008:34,2009:45,2010:57,2011:48,2012:66,2013:63,2014:73,2015:78,2016:100,2017:91,2018:103,2019:127,2020:54,2021:44,2022:37,2023:57}]},{name:"Mo LI",rank:"Professor",tel:"(852) 2358 7017",email:"lim@ust.hk",gs_id:"kjiwE6IAAAAJ",orcid:"0000-0002-6047-9709",linked_arxiv:0,citedby:11599,citedby5y:5940,hindex:49,hindex5y:37,i10index:106,i10index5y:93,cites_per_year:{2007:31,2008:137,2009:204,2010:253,2011:321,2012:380,2013:534,2014:747,2015:877,2016:951,2017:1030,2018:1079,2019:1143,2020:1026,2021:911,2022:987,2023:792},url_picture:"https://scholar.googleusercontent.com/citations?view_op=view_photo&user=kjiwE6IAAAAJ&citpid=9",pub_per_year:[{2006:2,2007:2,2008:9,2009:7,2010:7,2011:14,2012:9,2013:13,2014:19,2015:10,2016:12,2017:10,2018:11,2019:6,2020:5,2021:9,2022:7,2023:5}]},{name:"Fangzhen LIN",rank:"Professor",tel:"(852) 2358 6975",email:"flin@ust.hk",gs_id:"klFoxpYAAAAJ",orcid:"0000-0002-3141-8675",linked_arxiv:0,citedby:6264,citedby5y:918,hindex:33,hindex5y:15,i10index:64,i10index5y:19,cites_per_year:{1991:16,1992:24,1993:56,1994:76,1995:98,1996:104,1997:158,1998:187,1999:174,2e3:159,2001:177,2002:175,2003:213,2004:225,2005:294,2006:264,2007:325,2008:339,2009:239,2010:269,2011:317,2012:233,2013:269,2014:239,2015:235,2016:205,2017:159,2018:159,2019:164,2020:153,2021:160,2022:133,2023:147},url_picture:null,pub_per_year:[{1980:1,1983:1,1985:1,1988:1,1989:1,1990:1,1991:2,1992:3,1993:2,1994:6,1995:6,1996:4,1997:8,1998:4,1999:4,2e3:3,2001:8,2002:3,2003:4,2004:3,2005:2,2006:5,2007:8,2008:8,2009:8,2010:3,2011:8,2012:6,2013:5,2014:2,2015:4,2016:4,2017:6,2018:2,2019:4,2020:2,2021:4,2022:3,2023:6}]},{name:"Qiong LUO",rank:"Professor",tel:"(852) 2358 6995",email:"luo@ust.hk",gs_id:"SqAsppUAAAAJ",orcid:"0000-0002-2861-9492",linked_arxiv:0,citedby:9752,citedby5y:2574,hindex:41,hindex5y:27,i10index:93,i10index5y:55,cites_per_year:{2001:29,2002:151,2003:216,2004:242,2005:277,2006:242,2007:273,2008:300,2009:374,2010:536,2011:558,2012:706,2013:658,2014:702,2015:626,2016:638,2017:467,2018:499,2019:437,2020:386,2021:462,2022:422,2023:366},url_picture:"https://scholar.googleusercontent.com/citations?view_op=view_photo&user=SqAsppUAAAAJ&citpid=2",pub_per_year:[{2001:7,2002:4,2003:1,2004:9,2005:9,2006:10,2007:14,2008:13,2009:11,2010:11,2011:8,2012:7,2013:7,2014:3,2015:3,2016:5,2017:10,2018:10,2019:8,2020:11,2021:3,2022:8,2023:6}]},{name:"Xiaojuan MA",rank:"Associate Head and Associate Professor",tel:"(852) 2358 6991",email:"mxj@ust.hk",gs_id:"TN0zm80AAAAJ",orcid:"0000-0002-9847-7784",linked_arxiv:0,citedby:4582,citedby5y:4187,hindex:35,hindex5y:34,i10index:114,i10index5y:105,cites_per_year:{2010:22,2011:8,2012:14,2013:20,2014:18,2015:40,2016:65,2017:181,2018:386,2019:481,2020:575,2021:771,2022:972,2023:991},url_picture:null,pub_per_year:[{2006:1,2008:3,2009:3,2010:8,2011:1,2012:1,2014:9,2015:7,2016:18,2017:23,2018:21,2019:26,2020:17,2021:21,2022:35,2023:13,2024:1}]},{name:"Brian Kan Wing MAK",rank:"Associate Professor",tel:"(852) 2358 7012",email:"bmak@ust.hk",gs_id:"Zx8p8RsAAAAJ",orcid:"0000-0001-6787-5555",linked_arxiv:0,citedby:2850,citedby5y:1051,hindex:25,hindex5y:17,i10index:48,i10index5y:19,cites_per_year:{1996:8,1997:20,1998:27,1999:18,2e3:26,2001:43,2002:50,2003:72,2004:89,2005:72,2006:115,2007:123,2008:132,2009:139,2010:120,2011:102,2012:98,2013:110,2014:103,2015:93,2016:92,2017:90,2018:106,2019:130,2020:206,2021:190,2022:194,2023:220},url_picture:"https://scholar.googleusercontent.com/citations?view_op=view_photo&user=Zx8p8RsAAAAJ&citpid=5",pub_per_year:[{1989:1,1990:1,1991:1,1992:1,1993:1,1994:1,1995:1,1996:2,1997:3,1998:3,2e3:5,2001:4,2002:5,2003:6,2004:7,2005:7,2006:9,2007:4,2008:3,2009:3,2010:4,2011:2,2012:4,2013:2,2014:5,2015:2,2016:3,2017:6,2018:12,2019:3,2020:5,2021:3,2022:6,2023:4}]},{name:"Wilfred Siu Hung NG",rank:"Associate Professor",tel:"(852) 2358 6979",email:"wng@ust.hk",gs_id:"NJ6YPT4AAAAJ",orcid:"0000-0001-6639-0521",linked_arxiv:0,citedby:5410,citedby5y:2133,hindex:42,hindex5y:23,i10index:96,i10index5y:53,cites_per_year:{2003:18,2004:15,2005:26,2006:76,2007:117,2008:162,2009:193,2010:178,2011:204,2012:234,2013:269,2014:346,2015:382,2016:468,2017:462,2018:392,2019:355,2020:393,2021:384,2022:342,2023:267},url_picture:null,pub_per_year:[{1997:4,1998:1,1999:4,2e3:4,2001:4,2002:6,2003:9,2004:5,2005:3,2006:12,2007:20,2008:12,2009:6,2010:2,2011:8,2012:8,2013:13,2014:12,2015:12,2016:5,2017:3,2019:3,2020:6,2022:4}]},{name:"Dimitris PAPADIAS",rank:"Professor",tel:"(852) 2358 6971",email:"dimitris@ust.hk",gs_id:"7BPMWSkAAAAJ",orcid:"0000-0001-5588-1026",linked_arxiv:0,citedby:21986,citedby5y:3787,hindex:72,hindex5y:31,i10index:155,i10index5y:73,cites_per_year:{1995:81,1996:105,1997:128,1998:170,1999:186,2e3:234,2001:206,2002:272,2003:429,2004:507,2005:845,2006:1021,2007:987,2008:1045,2009:1380,2010:1377,2011:1221,2012:1384,2013:1386,2014:1269,2015:1326,2016:1132,2017:1088,2018:881,2019:813,2020:677,2021:563,2022:515,2023:338},url_picture:null,pub_per_year:[{1991:2,1992:1,1993:2,1994:7,1995:10,1996:5,1997:7,1998:12,1999:10,2e3:1,2001:11,2002:16,2003:15,2004:13,2005:16,2006:9,2007:8,2008:6,2009:16,2010:6,2011:4,2012:1,2013:5,2014:2,2015:6,2017:2,2018:2,2019:2,2020:1,2021:1,2022:1}]},{name:"Dimitris PAPADOPOULOS",rank:"Associate Professor",tel:"(852) 2358 8767",email:"dipapado@ust.hk",gs_id:"9Q8DH5sAAAAJ",orcid:"0000-0003-2621-3015",linked_arxiv:0,citedby:2109,citedby5y:1928,hindex:22,hindex5y:21,i10index:30,i10index5y:28,cites_per_year:{2014:16,2015:37,2016:45,2017:59,2018:106,2019:170,2020:272,2021:407,2022:444,2023:508},url_picture:"https://scholar.googleusercontent.com/citations?view_op=view_photo&user=9Q8DH5sAAAAJ&citpid=3",pub_per_year:[{2011:1,2014:5,2015:5,2016:5,2017:7,2018:8,2019:4,2020:4,2021:7,2022:3,2023:5}]},{name:"Lionel PARREAUX",rank:"Assistant Professor",tel:"(852) 2358 8341",email:"parreaux@ust.hk",gs_id:"jQqTdHwAAAAJ",orcid:"0000-0002-8805-0728",linked_arxiv:1,citedby:223,citedby5y:207,hindex:7,hindex5y:7,i10index:7,i10index5y:7,cites_per_year:{2016:3,2017:13,2018:29,2019:37,2020:23,2021:37,2022:39,2023:42},url_picture:"https://scholar.googleusercontent.com/citations?view_op=view_photo&user=jQqTdHwAAAAJ&citpid=1",pub_per_year:[{2016:1,2017:3,2018:1,2019:2,2020:3,2021:1,2022:3,2023:3}]},{name:"Huamin QU",rank:"Chair Professor",tel:"(852) 2358 6985",email:"huamin@ust.hk",gs_id:"J7a5zGEAAAAJ",orcid:"0000-0002-3344-9694",linked_arxiv:0,citedby:11636,citedby5y:7783,hindex:56,hindex5y:51,i10index:192,i10index5y:160,cites_per_year:{2007:35,2008:46,2009:96,2010:102,2011:195,2012:273,2013:353,2014:406,2015:563,2016:733,2017:781,2018:952,2019:1014,2020:1202,2021:1403,2022:1592,2023:1605},url_picture:"https://scholar.googleusercontent.com/citations?view_op=view_photo&user=J7a5zGEAAAAJ&citpid=7",pub_per_year:[{1912:1,1998:1,1999:1,2e3:2,2001:3,2002:1,2003:2,2004:4,2005:4,2006:9,2007:9,2008:7,2009:9,2010:9,2011:14,2012:12,2013:18,2014:17,2015:17,2016:24,2017:23,2018:20,2019:27,2020:25,2021:27,2022:29,2023:33}]},{name:"Long QUAN",rank:"Professor",tel:"(852) 2358 7018",email:"quan@ust.hk",gs_id:"ZMLhZJ8AAAAJ",orcid:"0000-0002-0329-9437",linked_arxiv:0,citedby:16278,citedby5y:6709,hindex:66,hindex5y:41,i10index:157,i10index5y:87,cites_per_year:{1994:60,1995:90,1996:73,1997:112,1998:133,1999:111,2e3:149,2001:134,2002:156,2003:154,2004:237,2005:270,2006:375,2007:385,2008:487,2009:597,2010:687,2011:647,2012:784,2013:784,2014:769,2015:741,2016:647,2017:617,2018:552,2019:669,2020:917,2021:1200,2022:1608,2023:1748},url_picture:null,pub_per_year:[{1983:1,1988:4,1989:3,1990:4,1991:2,1992:4,1993:6,1994:4,1995:11,1996:4,1997:8,1998:8,1999:8,2e3:11,2001:7,2002:9,2003:10,2004:18,2005:11,2006:10,2007:9,2008:10,2009:6,2010:14,2011:4,2012:4,2013:5,2014:11,2015:11,2016:4,2017:8,2018:6,2019:7,2020:8,2021:3,2022:4,2023:2}]},{name:"Pedro SANDER",rank:"Professor",tel:"(852) 2358 6983",email:"psander@ust.hk",gs_id:"GIToYFwAAAAJ",orcid:"0000-0002-0435-9833",linked_arxiv:0,citedby:6246,citedby5y:2083,hindex:36,hindex5y:22,i10index:63,i10index5y:38,cites_per_year:{2001:27,2002:65,2003:139,2004:192,2005:231,2006:263,2007:224,2008:224,2009:241,2010:277,2011:290,2012:398,2013:323,2014:299,2015:287,2016:331,2017:222,2018:296,2019:281,2020:292,2021:381,2022:452,2023:379},url_picture:"https://scholar.googleusercontent.com/citations?view_op=view_photo&user=GIToYFwAAAAJ&citpid=2",pub_per_year:[{1999:1,2e3:2,2001:2,2002:2,2003:5,2004:6,2005:7,2006:6,2007:10,2008:7,2009:8,2010:3,2011:4,2012:7,2013:3,2014:3,2015:1,2016:4,2017:8,2018:5,2019:5,2020:1,2021:3,2022:4,2023:1}]},{name:"Dongdong SHE",rank:"Assistant Professor",tel:"(852) 2358 7029",email:"dongdong@ust.hk",gs_id:"CAd3jhcAAAAJ",orcid:"0000-0001-6655-0468",linked_arxiv:0,citedby:537,citedby5y:510,hindex:7,hindex5y:7,i10index:7,i10index5y:7,cites_per_year:{2016:10,2017:16,2018:23,2019:32,2020:83,2021:97,2022:131,2023:143},url_picture:"https://scholar.googleusercontent.com/citations?view_op=view_photo&user=CAd3jhcAAAAJ&citpid=5",pub_per_year:[{2015:1,2016:1,2019:1,2020:3,2021:1,2022:3,2023:2}]},{name:"Jiasi SHEN",rank:"Assistant Professor",tel:"(852) 2358 8835",email:"sjs@ust.hk",gs_id:"pyLCHy0AAAAJ",orcid:"0000-0002-5904-3641",linked_arxiv:1,citedby:110,citedby5y:106,hindex:7,hindex5y:6,i10index:5,i10index5y:5,cites_per_year:{2016:1,2017:3,2018:8,2019:9,2020:10,2021:30,2022:34,2023:15},url_picture:"https://scholar.googleusercontent.com/citations?view_op=view_photo&user=pyLCHy0AAAAJ&citpid=3",pub_per_year:[{2017:2,2018:2,2019:3,2020:1,2021:4,2022:2}]},{name:"Yangqiu SONG",rank:"Associate Professor",tel:"(852) 2358 6987",email:"yqsong@ust.hk",gs_id:"MdQZ-q8AAAAJ",orcid:"0000-0002-7818-6090",linked_arxiv:0,citedby:12545,citedby5y:8948,hindex:54,hindex5y:47,i10index:144,i10index5y:128,cites_per_year:{2008:41,2009:81,2010:141,2011:206,2012:300,2013:399,2014:452,2015:526,2016:622,2017:642,2018:855,2019:1081,2020:1358,2021:1656,2022:1909,2023:2074},url_picture:"https://scholar.googleusercontent.com/citations?view_op=view_photo&user=MdQZ-q8AAAAJ&citpid=3",pub_per_year:[{2005:1,2006:1,2007:8,2008:10,2009:9,2010:5,2011:5,2012:4,2013:4,2014:8,2015:16,2016:15,2017:19,2018:18,2019:18,2020:24,2021:27,2022:26,2023:34}]},{name:"Chiew Lan TAI",rank:"Professor",tel:"(852) 2358 7020",email:"taicl@ust.hk",gs_id:"DORzgBQAAAAJ",orcid:"0000-0002-1486-1974",linked_arxiv:0,citedby:7422,citedby5y:3212,hindex:44,hindex5y:26,i10index:82,i10index5y:57,cites_per_year:{2002:19,2003:29,2004:65,2005:96,2006:154,2007:195,2008:171,2009:271,2010:328,2011:344,2012:413,2013:441,2014:405,2015:411,2016:411,2017:359,2018:366,2019:412,2020:427,2021:481,2022:644,2023:875},url_picture:null,pub_per_year:[{1990:1,1993:1,1994:1,1996:1,1999:3,2e3:2,2001:5,2002:8,2003:2,2004:7,2005:8,2006:1,2007:6,2008:7,2009:2,2010:7,2011:4,2012:5,2013:3,2014:3,2015:5,2016:2,2017:2,2018:6,2019:1,2020:7,2021:4,2022:5}]},{name:"Chi Keung TANG",rank:"Professor",tel:"(852) 2358 8775",email:"cktang@ust.hk",gs_id:"EWfpM74AAAAJ",orcid:"0000-0003-2488-1589",linked_arxiv:0,citedby:16082,citedby5y:7686,hindex:64,hindex5y:40,i10index:116,i10index5y:85,cites_per_year:{2001:65,2002:90,2003:98,2004:162,2005:263,2006:359,2007:481,2008:436,2009:574,2010:618,2011:654,2012:642,2013:729,2014:735,2015:780,2016:757,2017:680,2018:731,2019:941,2020:1048,2021:1335,2022:1783,2023:1833},url_picture:"https://scholar.googleusercontent.com/citations?view_op=view_photo&user=EWfpM74AAAAJ&citpid=2",pub_per_year:[{1994:1,1995:1,1998:5,1999:3,2e3:5,2001:3,2002:1,2003:4,2004:14,2005:7,2006:10,2007:6,2008:11,2009:9,2010:3,2011:4,2012:1,2013:5,2014:8,2015:5,2016:4,2017:5,2018:10,2019:7,2020:12,2021:9,2022:15,2023:18}]},{name:"Shuai WANG",rank:"Assistant Professor",tel:"(852) 2358 8328",email:"shuaiw@ust.hk",gs_id:"POlWWAsAAAAJ",orcid:"0000-0002-0866-0308",linked_arxiv:0,citedby:1807,citedby5y:1708,hindex:21,hindex5y:21,i10index:40,i10index5y:40,cites_per_year:{2016:17,2017:70,2018:150,2019:163,2020:227,2021:285,2022:375,2023:503},url_picture:"https://scholar.googleusercontent.com/citations?view_op=view_photo&user=POlWWAsAAAAJ&citpid=3",pub_per_year:[{2015:2,2016:5,2017:10,2018:9,2019:8,2020:11,2021:11,2022:26,2023:34}]},{name:"Wei WANG",rank:"Associate Professor",tel:"(852) 2358 6972",email:"weiwa@ust.hk",gs_id:"FeJrzPMAAAAJ",orcid:"0000-0002-4585-4152",linked_arxiv:0,citedby:3702,citedby5y:3104,hindex:32,hindex5y:29,i10index:56,i10index5y:54,cites_per_year:{2012:15,2013:34,2014:97,2015:135,2016:115,2017:147,2018:189,2019:204,2020:329,2021:575,2022:875,2023:921},url_picture:"https://scholar.googleusercontent.com/citations?view_op=view_photo&user=FeJrzPMAAAAJ&citpid=3",pub_per_year:[{2009:2,2010:1,2011:1,2012:1,2013:6,2014:6,2015:1,2016:3,2017:8,2018:10,2019:9,2020:11,2021:14,2022:11,2023:10}]},{name:"Raymond Chi Wing WONG",rank:"Professor and Associate Head",tel:"(852) 2358 6982",email:"raywong@ust.hk",gs_id:"IKgiD0AAAAAJ",orcid:"0000-0001-7045-6503",linked_arxiv:0,citedby:6014,citedby5y:2892,hindex:43,hindex5y:31,i10index:93,i10index5y:79,cites_per_year:{2005:18,2006:27,2007:76,2008:124,2009:189,2010:256,2011:232,2012:286,2013:329,2014:331,2015:378,2016:376,2017:405,2018:374,2019:411,2020:433,2021:592,2022:591,2023:487},url_picture:"https://scholar.googleusercontent.com/citations?view_op=view_photo&user=IKgiD0AAAAAJ&citpid=2",pub_per_year:[{1994:1,2003:1,2004:4,2005:11,2006:6,2007:13,2008:7,2009:18,2010:14,2011:10,2012:11,2013:11,2014:13,2015:11,2016:6,2017:10,2018:4,2019:19,2020:17,2021:14,2022:11,2023:17}]},{name:"Dekai WU",rank:"Professor",tel:"(852) 2358 6989",email:"dekai@ust.hk",gs_id:"NMkg-64AAAAJ",orcid:"0000-0001-9833-361X",linked_arxiv:0,citedby:6303,citedby5y:859,hindex:39,hindex5y:13,i10index:84,i10index5y:19,cites_per_year:{1989:19,1990:17,1991:21,1992:41,1993:133,1994:48,1995:69,1996:57,1997:73,1998:76,1999:79,2e3:120,2001:86,2002:120,2003:148,2004:162,2005:209,2006:207,2007:263,2008:352,2009:304,2010:371,2011:386,2012:309,2013:406,2014:405,2015:335,2016:363,2017:182,2018:179,2019:129,2020:141,2021:164,2022:131,2023:113},url_picture:"https://scholar.googleusercontent.com/citations?view_op=view_photo&user=NMkg-64AAAAJ&citpid=2",pub_per_year:[{1986:2,1987:3,1989:1,1990:1,1991:1,1992:3,1993:5,1994:7,1995:6,1996:3,1997:4,1998:2,1999:12,2e3:6,2002:1,2003:2,2004:11,2005:11,2006:6,2007:6,2008:2,2009:8,2010:7,2011:13,2012:9,2013:21,2014:15,2015:6,2016:9,2018:2,2020:3}]},{name:"Dan XU",rank:"Assistant Professor",tel:"(852) 2358 8837",email:"danxu@ust.hk",gs_id:"OuSPv-AAAAAJ",orcid:"0000-0003-0136-9603",linked_arxiv:0,citedby:6668,citedby5y:6240,hindex:40,hindex5y:39,i10index:73,i10index5y:70,cites_per_year:{2014:42,2015:63,2016:119,2017:153,2018:408,2019:708,2020:907,2021:1177,2022:1437,2023:1595},url_picture:"https://scholar.googleusercontent.com/citations?view_op=view_photo&user=OuSPv-AAAAAJ&citpid=13",pub_per_year:[{2011:2,2013:4,2014:3,2015:4,2016:4,2017:6,2018:9,2019:14,2020:9,2021:12,2022:11,2023:14}]},{name:"Dit Yan YEUNG",rank:"Chair Professor",tel:"(852) 2358 6977",email:"dyyeung@ust.hk",gs_id:"nEsOOx8AAAAJ",orcid:"0000-0003-3716-8125",linked_arxiv:0,citedby:36248,citedby5y:23830,hindex:73,hindex5y:52,i10index:180,i10index5y:116,cites_per_year:{2001:94,2002:112,2003:135,2004:197,2005:235,2006:318,2007:360,2008:489,2009:551,2010:590,2011:700,2012:780,2013:877,2014:1076,2015:1263,2016:1666,2017:2226,2018:3020,2019:3708,2020:4107,2021:4526,2022:4647,2023:3817},url_picture:"https://scholar.googleusercontent.com/citations?view_op=view_photo&user=nEsOOx8AAAAJ&citpid=6",pub_per_year:[{1985:2,1986:1,1987:3,1988:4,1989:1,1991:3,1993:4,1994:6,1995:9,1996:8,1997:3,1998:8,1999:6,2e3:3,2001:3,2002:9,2003:5,2004:16,2005:4,2006:25,2007:15,2008:13,2009:10,2010:12,2011:7,2012:8,2013:7,2014:6,2015:15,2016:5,2017:14,2018:4,2019:9,2020:3,2021:9,2022:11,2023:18}]},{name:"Ke YI",rank:"Professor",tel:"(852) 2358 8770",email:"yike@ust.hk",gs_id:"dWcZPFEAAAAJ",orcid:"0000-0002-2178-3716",linked_arxiv:0,citedby:7009,citedby5y:2913,hindex:49,hindex5y:30,i10index:94,i10index5y:68,cites_per_year:{2005:47,2006:57,2007:73,2008:114,2009:200,2010:349,2011:380,2012:422,2013:488,2014:444,2015:479,2016:448,2017:459,2018:478,2019:517,2020:488,2021:452,2022:492,2023:484},url_picture:"https://scholar.googleusercontent.com/citations?view_op=view_photo&user=dWcZPFEAAAAJ&citpid=7",pub_per_year:[{1991:1,2002:1,2003:2,2004:1,2005:4,2006:2,2007:3,2008:8,2009:12,2010:13,2011:12,2012:10,2013:9,2014:5,2015:6,2016:9,2017:6,2018:4,2019:9,2020:8,2021:11,2022:12,2023:8}]},{name:"Binhang YUAN",rank:"Assistant Professor",tel:"(852) 2358 6978",email:"biyuan@ust.hk",gs_id:"TflKxcIAAAAJ",orcid:"0000-0002-3188-2769",linked_arxiv:1,citedby:737,citedby5y:726,hindex:13,hindex5y:13,i10index:15,i10index5y:15,cites_per_year:{2016:6,2017:2,2018:11,2019:17,2020:36,2021:58,2022:129,2023:473},url_picture:"https://scholar.googleusercontent.com/citations?view_op=view_photo&user=TflKxcIAAAAJ&citpid=1",pub_per_year:[{2013:1,2014:1,2015:1,2016:2,2017:1,2018:1,2019:2,2020:4,2021:7,2022:10,2023:5}]},{name:"Charles Chuan ZHANG",rank:"Professor",tel:"(852) 2358 6997",email:"charlesz@ust.hk",gs_id:"Zmppp9kAAAAJ",orcid:"0000-0001-6417-1034",linked_arxiv:0,citedby:2952,citedby5y:1012,hindex:24,hindex5y:15,i10index:52,i10index5y:23,cites_per_year:{2002:8,2003:31,2004:60,2005:99,2006:130,2007:119,2008:111,2009:101,2010:95,2011:93,2012:102,2013:168,2014:181,2015:194,2016:204,2017:154,2018:158,2019:142,2020:121,2021:155,2022:201,2023:233},url_picture:"https://scholar.googleusercontent.com/citations?view_op=view_photo&user=Zmppp9kAAAAJ&citpid=2",pub_per_year:[{1979:1,1982:1,1983:1,1984:1,1986:2,1988:1,1989:5,1990:1,1991:1,1992:8,1993:3,1994:4,1995:8,1996:10,1997:15,1998:19,1999:14,2e3:15,2001:15,2002:19,2003:28,2004:30,2005:37,2006:38,2007:32,2008:26,2009:17,2010:31,2011:40,2012:35,2013:25,2014:12,2015:6,2016:6,2017:3,2018:3,2019:5,2020:7,2021:13,2022:7,2023:9}]},{name:"Nevin Lianwen ZHANG",rank:"Professor",tel:"(852) 2358 7015",email:"lzhang@ust.hk",gs_id:"18_xlPUAAAAJ",orcid:"0000-0002-4662-3217",linked_arxiv:0,citedby:6476,citedby5y:1867,hindex:38,hindex5y:24,i10index:70,i10index5y:45,cites_per_year:{1994:16,1995:21,1996:11,1997:21,1998:64,1999:52,2e3:65,2001:84,2002:102,2003:130,2004:178,2005:199,2006:240,2007:228,2008:307,2009:279,2010:329,2011:308,2012:366,2013:359,2014:286,2015:343,2016:261,2017:250,2018:299,2019:288,2020:291,2021:300,2022:382,2023:305},url_picture:null,pub_per_year:[{1803:1,1986:2,1989:1,1992:2,1993:2,1994:9,1995:3,1996:5,1997:3,1998:6,1999:4,2e3:2,2001:10,2002:3,2003:6,2004:6,2005:6,2006:11,2007:5,2008:9,2009:7,2010:5,2011:17,2012:14,2013:17,2014:11,2015:6,2016:4,2017:9,2018:8,2019:8,2020:6,2021:5,2022:14,2023:6}]},{name:"Qian ZHANG",rank:"Chair Professor",tel:"(852) 2358 8766",email:"qianzh@ust.hk",gs_id:"XTlaQMkAAAAJ",orcid:"0000-0001-9205-1881",linked_arxiv:0,citedby:29921,citedby5y:8329,hindex:86,hindex5y:42,i10index:432,i10index5y:201,cites_per_year:{2002:94,2003:170,2004:330,2005:495,2006:680,2007:830,2008:1149,2009:1388,2010:1689,2011:1815,2012:2139,2013:2178,2014:2277,2015:2027,2016:1972,2017:1880,2018:1694,2019:1517,2020:1296,2021:1306,2022:1363,2023:1142},url_picture:"https://scholar.googleusercontent.com/citations?view_op=view_photo&user=XTlaQMkAAAAJ&citpid=1",pub_per_year:[{1998:1,2e3:8,2001:24,2002:18,2003:35,2004:18,2005:35,2006:55,2007:57,2008:41,2009:65,2010:42,2011:22,2012:41,2013:36,2014:46,2015:44,2016:30,2017:14,2018:30,2019:25,2020:20,2021:35,2022:33,2023:28}]},{name:"Xiaofang ZHOU",rank:"Head and Chair Professor",tel:"(852) 2358 8340",email:"zxf@ust.hk",gs_id:"y6m820wAAAAJ",orcid:"0000-0001-6343-1455",linked_arxiv:0,citedby:21770,citedby5y:13315,hindex:69,hindex5y:55,i10index:302,i10index5y:209,cites_per_year:{2004:63,2005:79,2006:102,2007:121,2008:214,2009:276,2010:354,2011:501,2012:601,2013:809,2014:823,2015:1108,2016:1416,2017:1511,2018:1905,2019:1986,2020:2230,2021:2284,2022:2381,2023:2488},url_picture:"https://scholar.googleusercontent.com/citations?view_op=view_photo&user=y6m820wAAAAJ&citpid=3",pub_per_year:[{1986:1,1993:5,1994:7,1995:3,1996:2,1997:5,1998:3,1999:9,2e3:12,2001:3,2002:4,2003:13,2004:13,2005:22,2006:27,2007:26,2008:23,2009:33,2010:30,2011:39,2012:30,2013:25,2014:35,2015:39,2016:35,2017:30,2018:27,2019:41,2020:37,2021:27,2022:24,2023:32}]}];var Xw={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Xw.exports;(function(e,t){(function(){var n,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",s="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",l=500,c="__lodash_placeholder__",f=1,d=2,p=4,g=1,y=2,v=1,b=2,x=4,_=8,A=16,S=32,C=64,E=128,k=256,O=512,N=30,F="...",W=800,I=16,M=1,D=2,P=3,U=1/0,z=9007199254740991,H=17976931348623157e292,j=0/0,X=4294967295,G=X-1,ee=X>>>1,ne=[["ary",E],["bind",v],["bindKey",b],["curry",_],["curryRight",A],["flip",O],["partial",S],["partialRight",C],["rearg",k]],de="[object Arguments]",me="[object Array]",ce="[object AsyncFunction]",be="[object Boolean]",re="[object Date]",_e="[object DOMException]",Ae="[object Error]",te="[object Function]",Le="[object GeneratorFunction]",Te="[object Map]",Ue="[object Number]",dt="[object Null]",$t="[object Object]",xr="[object Promise]",Mn="[object Proxy]",ke="[object RegExp]",yt="[object Set]",wt="[object String]",kt="[object Symbol]",wr="[object Undefined]",Wn="[object WeakMap]",ba="[object WeakSet]",bi="[object ArrayBuffer]",xa="[object DataView]",Ol="[object Float32Array]",Rl="[object Float64Array]",Ff="[object Int8Array]",Fl="[object Int16Array]",Yg="[object Int32Array]",Jg="[object Uint8Array]",OS="[object Uint8ClampedArray]",RS="[object Uint16Array]",FS="[object Uint32Array]",Dce=/\b__p \+= '';/g,Lce=/\b(__p \+=) '' \+/g,Pce=/(__e\(.*?\)|\b__t\)) \+\n'';/g,hF=/&(?:amp|lt|gt|quot|#39);/g,pF=/[&<>"']/g,Ice=RegExp(hF.source),zce=RegExp(pF.source),Bce=/<%-([\s\S]+?)%>/g,Uce=/<%([\s\S]+?)%>/g,gF=/<%=([\s\S]+?)%>/g,jce=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Wce=/^\w*$/,Hce=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,DS=/[\\^$.*+?()[\]{}|]/g,qce=RegExp(DS.source),LS=/^\s+/,Gce=/\s/,Vce=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Yce=/\{\n\/\* \[wrapped with (.+)\] \*/,Jce=/,? & /,Xce=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Kce=/[()=,{}\[\]\/\s]/,Qce=/\\(\\)?/g,Zce=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,mF=/\w*$/,efe=/^[-+]0x[0-9a-f]+$/i,tfe=/^0b[01]+$/i,nfe=/^\[object .+?Constructor\]$/,rfe=/^0o[0-7]+$/i,ife=/^(?:0|[1-9]\d*)$/,ofe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Tv=/($^)/,afe=/['\n\r\u2028\u2029\\]/g,Mv="\\ud800-\\udfff",sfe="\\u0300-\\u036f",ufe="\\ufe20-\\ufe2f",lfe="\\u20d0-\\u20ff",yF=sfe+ufe+lfe,vF="\\u2700-\\u27bf",bF="a-z\\xdf-\\xf6\\xf8-\\xff",cfe="\\xac\\xb1\\xd7\\xf7",ffe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",dfe="\\u2000-\\u206f",hfe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",xF="A-Z\\xc0-\\xd6\\xd8-\\xde",wF="\\ufe0e\\ufe0f",AF=cfe+ffe+dfe+hfe,PS="['’]",pfe="["+Mv+"]",_F="["+AF+"]",Nv="["+yF+"]",SF="\\d+",gfe="["+vF+"]",EF="["+bF+"]",CF="[^"+Mv+AF+SF+vF+bF+xF+"]",IS="\\ud83c[\\udffb-\\udfff]",mfe="(?:"+Nv+"|"+IS+")",$F="[^"+Mv+"]",zS="(?:\\ud83c[\\udde6-\\uddff]){2}",BS="[\\ud800-\\udbff][\\udc00-\\udfff]",q0="["+xF+"]",kF="\\u200d",TF="(?:"+EF+"|"+CF+")",yfe="(?:"+q0+"|"+CF+")",MF="(?:"+PS+"(?:d|ll|m|re|s|t|ve))?",NF="(?:"+PS+"(?:D|LL|M|RE|S|T|VE))?",OF=mfe+"?",RF="["+wF+"]?",vfe="(?:"+kF+"(?:"+[$F,zS,BS].join("|")+")"+RF+OF+")*",bfe="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",xfe="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",FF=RF+OF+vfe,wfe="(?:"+[gfe,zS,BS].join("|")+")"+FF,Afe="(?:"+[$F+Nv+"?",Nv,zS,BS,pfe].join("|")+")",_fe=RegExp(PS,"g"),Sfe=RegExp(Nv,"g"),US=RegExp(IS+"(?="+IS+")|"+Afe+FF,"g"),Efe=RegExp([q0+"?"+EF+"+"+MF+"(?="+[_F,q0,"$"].join("|")+")",yfe+"+"+NF+"(?="+[_F,q0+TF,"$"].join("|")+")",q0+"?"+TF+"+"+MF,q0+"+"+NF,xfe,bfe,SF,wfe].join("|"),"g"),Cfe=RegExp("["+kF+Mv+yF+wF+"]"),$fe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,kfe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Tfe=-1,Jt={};Jt[Ol]=Jt[Rl]=Jt[Ff]=Jt[Fl]=Jt[Yg]=Jt[Jg]=Jt[OS]=Jt[RS]=Jt[FS]=!0,Jt[de]=Jt[me]=Jt[bi]=Jt[be]=Jt[xa]=Jt[re]=Jt[Ae]=Jt[te]=Jt[Te]=Jt[Ue]=Jt[$t]=Jt[ke]=Jt[yt]=Jt[wt]=Jt[Wn]=!1;var qt={};qt[de]=qt[me]=qt[bi]=qt[xa]=qt[be]=qt[re]=qt[Ol]=qt[Rl]=qt[Ff]=qt[Fl]=qt[Yg]=qt[Te]=qt[Ue]=qt[$t]=qt[ke]=qt[yt]=qt[wt]=qt[kt]=qt[Jg]=qt[OS]=qt[RS]=qt[FS]=!0,qt[Ae]=qt[te]=qt[Wn]=!1;var Mfe={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Nfe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ofe={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Rfe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ffe=parseFloat,Dfe=parseInt,DF=typeof f1=="object"&&f1&&f1.Object===Object&&f1,Lfe=typeof self=="object"&&self&&self.Object===Object&&self,sr=DF||Lfe||Function("return this")(),jS=t&&!t.nodeType&&t,Df=jS&&!0&&e&&!e.nodeType&&e,LF=Df&&Df.exports===jS,WS=LF&&DF.process,To=function(){try{var Y=Df&&Df.require&&Df.require("util").types;return Y||WS&&WS.binding&&WS.binding("util")}catch{}}(),PF=To&&To.isArrayBuffer,IF=To&&To.isDate,zF=To&&To.isMap,BF=To&&To.isRegExp,UF=To&&To.isSet,jF=To&&To.isTypedArray;function Ki(Y,oe,Q){switch(Q.length){case 0:return Y.call(oe);case 1:return Y.call(oe,Q[0]);case 2:return Y.call(oe,Q[0],Q[1]);case 3:return Y.call(oe,Q[0],Q[1],Q[2])}return Y.apply(oe,Q)}function Pfe(Y,oe,Q,Me){for(var Je=-1,Tt=Y==null?0:Y.length;++Je<Tt;){var Nn=Y[Je];oe(Me,Nn,Q(Nn),Y)}return Me}function Mo(Y,oe){for(var Q=-1,Me=Y==null?0:Y.length;++Q<Me&&oe(Y[Q],Q,Y)!==!1;);return Y}function Ife(Y,oe){for(var Q=Y==null?0:Y.length;Q--&&oe(Y[Q],Q,Y)!==!1;);return Y}function WF(Y,oe){for(var Q=-1,Me=Y==null?0:Y.length;++Q<Me;)if(!oe(Y[Q],Q,Y))return!1;return!0}function Dl(Y,oe){for(var Q=-1,Me=Y==null?0:Y.length,Je=0,Tt=[];++Q<Me;){var Nn=Y[Q];oe(Nn,Q,Y)&&(Tt[Je++]=Nn)}return Tt}function Ov(Y,oe){var Q=Y==null?0:Y.length;return!!Q&&G0(Y,oe,0)>-1}function HS(Y,oe,Q){for(var Me=-1,Je=Y==null?0:Y.length;++Me<Je;)if(Q(oe,Y[Me]))return!0;return!1}function tn(Y,oe){for(var Q=-1,Me=Y==null?0:Y.length,Je=Array(Me);++Q<Me;)Je[Q]=oe(Y[Q],Q,Y);return Je}function Ll(Y,oe){for(var Q=-1,Me=oe.length,Je=Y.length;++Q<Me;)Y[Je+Q]=oe[Q];return Y}function qS(Y,oe,Q,Me){var Je=-1,Tt=Y==null?0:Y.length;for(Me&&Tt&&(Q=Y[++Je]);++Je<Tt;)Q=oe(Q,Y[Je],Je,Y);return Q}function zfe(Y,oe,Q,Me){var Je=Y==null?0:Y.length;for(Me&&Je&&(Q=Y[--Je]);Je--;)Q=oe(Q,Y[Je],Je,Y);return Q}function GS(Y,oe){for(var Q=-1,Me=Y==null?0:Y.length;++Q<Me;)if(oe(Y[Q],Q,Y))return!0;return!1}var Bfe=VS("length");function Ufe(Y){return Y.split("")}function jfe(Y){return Y.match(Xce)||[]}function HF(Y,oe,Q){var Me;return Q(Y,function(Je,Tt,Nn){if(oe(Je,Tt,Nn))return Me=Tt,!1}),Me}function Rv(Y,oe,Q,Me){for(var Je=Y.length,Tt=Q+(Me?1:-1);Me?Tt--:++Tt<Je;)if(oe(Y[Tt],Tt,Y))return Tt;return-1}function G0(Y,oe,Q){return oe===oe?ede(Y,oe,Q):Rv(Y,qF,Q)}function Wfe(Y,oe,Q,Me){for(var Je=Q-1,Tt=Y.length;++Je<Tt;)if(Me(Y[Je],oe))return Je;return-1}function qF(Y){return Y!==Y}function GF(Y,oe){var Q=Y==null?0:Y.length;return Q?JS(Y,oe)/Q:j}function VS(Y){return function(oe){return oe==null?n:oe[Y]}}function YS(Y){return function(oe){return Y==null?n:Y[oe]}}function VF(Y,oe,Q,Me,Je){return Je(Y,function(Tt,Nn,jt){Q=Me?(Me=!1,Tt):oe(Q,Tt,Nn,jt)}),Q}function Hfe(Y,oe){var Q=Y.length;for(Y.sort(oe);Q--;)Y[Q]=Y[Q].value;return Y}function JS(Y,oe){for(var Q,Me=-1,Je=Y.length;++Me<Je;){var Tt=oe(Y[Me]);Tt!==n&&(Q=Q===n?Tt:Q+Tt)}return Q}function XS(Y,oe){for(var Q=-1,Me=Array(Y);++Q<Y;)Me[Q]=oe(Q);return Me}function qfe(Y,oe){return tn(oe,function(Q){return[Q,Y[Q]]})}function YF(Y){return Y&&Y.slice(0,QF(Y)+1).replace(LS,"")}function Qi(Y){return function(oe){return Y(oe)}}function KS(Y,oe){return tn(oe,function(Q){return Y[Q]})}function Xg(Y,oe){return Y.has(oe)}function JF(Y,oe){for(var Q=-1,Me=Y.length;++Q<Me&&G0(oe,Y[Q],0)>-1;);return Q}function XF(Y,oe){for(var Q=Y.length;Q--&&G0(oe,Y[Q],0)>-1;);return Q}function Gfe(Y,oe){for(var Q=Y.length,Me=0;Q--;)Y[Q]===oe&&++Me;return Me}var Vfe=YS(Mfe),Yfe=YS(Nfe);function Jfe(Y){return"\\"+Rfe[Y]}function Xfe(Y,oe){return Y==null?n:Y[oe]}function V0(Y){return Cfe.test(Y)}function Kfe(Y){return $fe.test(Y)}function Qfe(Y){for(var oe,Q=[];!(oe=Y.next()).done;)Q.push(oe.value);return Q}function QS(Y){var oe=-1,Q=Array(Y.size);return Y.forEach(function(Me,Je){Q[++oe]=[Je,Me]}),Q}function KF(Y,oe){return function(Q){return Y(oe(Q))}}function Pl(Y,oe){for(var Q=-1,Me=Y.length,Je=0,Tt=[];++Q<Me;){var Nn=Y[Q];(Nn===oe||Nn===c)&&(Y[Q]=c,Tt[Je++]=Q)}return Tt}function Fv(Y){var oe=-1,Q=Array(Y.size);return Y.forEach(function(Me){Q[++oe]=Me}),Q}function Zfe(Y){var oe=-1,Q=Array(Y.size);return Y.forEach(function(Me){Q[++oe]=[Me,Me]}),Q}function ede(Y,oe,Q){for(var Me=Q-1,Je=Y.length;++Me<Je;)if(Y[Me]===oe)return Me;return-1}function tde(Y,oe,Q){for(var Me=Q+1;Me--;)if(Y[Me]===oe)return Me;return Me}function Y0(Y){return V0(Y)?rde(Y):Bfe(Y)}function wa(Y){return V0(Y)?ide(Y):Ufe(Y)}function QF(Y){for(var oe=Y.length;oe--&&Gce.test(Y.charAt(oe)););return oe}var nde=YS(Ofe);function rde(Y){for(var oe=US.lastIndex=0;US.test(Y);)++oe;return oe}function ide(Y){return Y.match(US)||[]}function ode(Y){return Y.match(Efe)||[]}var ade=function Y(oe){oe=oe==null?sr:J0.defaults(sr.Object(),oe,J0.pick(sr,kfe));var Q=oe.Array,Me=oe.Date,Je=oe.Error,Tt=oe.Function,Nn=oe.Math,jt=oe.Object,ZS=oe.RegExp,sde=oe.String,No=oe.TypeError,Dv=Q.prototype,ude=Tt.prototype,X0=jt.prototype,Lv=oe["__core-js_shared__"],Pv=ude.toString,Ft=X0.hasOwnProperty,lde=0,ZF=function(){var h=/[^.]+$/.exec(Lv&&Lv.keys&&Lv.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""}(),Iv=X0.toString,cde=Pv.call(jt),fde=sr._,dde=ZS("^"+Pv.call(Ft).replace(DS,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zv=LF?oe.Buffer:n,Il=oe.Symbol,Bv=oe.Uint8Array,eD=zv?zv.allocUnsafe:n,Uv=KF(jt.getPrototypeOf,jt),tD=jt.create,nD=X0.propertyIsEnumerable,jv=Dv.splice,rD=Il?Il.isConcatSpreadable:n,Kg=Il?Il.iterator:n,Lf=Il?Il.toStringTag:n,Wv=function(){try{var h=Uf(jt,"defineProperty");return h({},"",{}),h}catch{}}(),hde=oe.clearTimeout!==sr.clearTimeout&&oe.clearTimeout,pde=Me&&Me.now!==sr.Date.now&&Me.now,gde=oe.setTimeout!==sr.setTimeout&&oe.setTimeout,Hv=Nn.ceil,qv=Nn.floor,eE=jt.getOwnPropertySymbols,mde=zv?zv.isBuffer:n,iD=oe.isFinite,yde=Dv.join,vde=KF(jt.keys,jt),On=Nn.max,Ar=Nn.min,bde=Me.now,xde=oe.parseInt,oD=Nn.random,wde=Dv.reverse,tE=Uf(oe,"DataView"),Qg=Uf(oe,"Map"),nE=Uf(oe,"Promise"),K0=Uf(oe,"Set"),Zg=Uf(oe,"WeakMap"),e1=Uf(jt,"create"),Gv=Zg&&new Zg,Q0={},Ade=jf(tE),_de=jf(Qg),Sde=jf(nE),Ede=jf(K0),Cde=jf(Zg),Vv=Il?Il.prototype:n,t1=Vv?Vv.valueOf:n,aD=Vv?Vv.toString:n;function R(h){if(hn(h)&&!Xe(h)&&!(h instanceof ut)){if(h instanceof Oo)return h;if(Ft.call(h,"__wrapped__"))return sL(h)}return new Oo(h)}var Z0=function(){function h(){}return function(m){if(!un(m))return{};if(tD)return tD(m);h.prototype=m;var w=new h;return h.prototype=n,w}}();function Yv(){}function Oo(h,m){this.__wrapped__=h,this.__actions__=[],this.__chain__=!!m,this.__index__=0,this.__values__=n}R.templateSettings={escape:Bce,evaluate:Uce,interpolate:gF,variable:"",imports:{_:R}},R.prototype=Yv.prototype,R.prototype.constructor=R,Oo.prototype=Z0(Yv.prototype),Oo.prototype.constructor=Oo;function ut(h){this.__wrapped__=h,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=X,this.__views__=[]}function $de(){var h=new ut(this.__wrapped__);return h.__actions__=xi(this.__actions__),h.__dir__=this.__dir__,h.__filtered__=this.__filtered__,h.__iteratees__=xi(this.__iteratees__),h.__takeCount__=this.__takeCount__,h.__views__=xi(this.__views__),h}function kde(){if(this.__filtered__){var h=new ut(this);h.__dir__=-1,h.__filtered__=!0}else h=this.clone(),h.__dir__*=-1;return h}function Tde(){var h=this.__wrapped__.value(),m=this.__dir__,w=Xe(h),$=m<0,T=w?h.length:0,L=U0e(0,T,this.__views__),B=L.start,q=L.end,K=q-B,ue=$?q:B-1,le=this.__iteratees__,fe=le.length,Ce=0,Fe=Ar(K,this.__takeCount__);if(!w||!$&&T==K&&Fe==K)return MD(h,this.__actions__);var qe=[];e:for(;K--&&Ce<Fe;){ue+=m;for(var tt=-1,Ge=h[ue];++tt<fe;){var at=le[tt],ht=at.iteratee,to=at.type,qr=ht(Ge);if(to==D)Ge=qr;else if(!qr){if(to==M)continue e;break e}}qe[Ce++]=Ge}return qe}ut.prototype=Z0(Yv.prototype),ut.prototype.constructor=ut;function Pf(h){var m=-1,w=h==null?0:h.length;for(this.clear();++m<w;){var $=h[m];this.set($[0],$[1])}}function Mde(){this.__data__=e1?e1(null):{},this.size=0}function Nde(h){var m=this.has(h)&&delete this.__data__[h];return this.size-=m?1:0,m}function Ode(h){var m=this.__data__;if(e1){var w=m[h];return w===u?n:w}return Ft.call(m,h)?m[h]:n}function Rde(h){var m=this.__data__;return e1?m[h]!==n:Ft.call(m,h)}function Fde(h,m){var w=this.__data__;return this.size+=this.has(h)?0:1,w[h]=e1&&m===n?u:m,this}Pf.prototype.clear=Mde,Pf.prototype.delete=Nde,Pf.prototype.get=Ode,Pf.prototype.has=Rde,Pf.prototype.set=Fde;function yu(h){var m=-1,w=h==null?0:h.length;for(this.clear();++m<w;){var $=h[m];this.set($[0],$[1])}}function Dde(){this.__data__=[],this.size=0}function Lde(h){var m=this.__data__,w=Jv(m,h);if(w<0)return!1;var $=m.length-1;return w==$?m.pop():jv.call(m,w,1),--this.size,!0}function Pde(h){var m=this.__data__,w=Jv(m,h);return w<0?n:m[w][1]}function Ide(h){return Jv(this.__data__,h)>-1}function zde(h,m){var w=this.__data__,$=Jv(w,h);return $<0?(++this.size,w.push([h,m])):w[$][1]=m,this}yu.prototype.clear=Dde,yu.prototype.delete=Lde,yu.prototype.get=Pde,yu.prototype.has=Ide,yu.prototype.set=zde;function vu(h){var m=-1,w=h==null?0:h.length;for(this.clear();++m<w;){var $=h[m];this.set($[0],$[1])}}function Bde(){this.size=0,this.__data__={hash:new Pf,map:new(Qg||yu),string:new Pf}}function Ude(h){var m=sb(this,h).delete(h);return this.size-=m?1:0,m}function jde(h){return sb(this,h).get(h)}function Wde(h){return sb(this,h).has(h)}function Hde(h,m){var w=sb(this,h),$=w.size;return w.set(h,m),this.size+=w.size==$?0:1,this}vu.prototype.clear=Bde,vu.prototype.delete=Ude,vu.prototype.get=jde,vu.prototype.has=Wde,vu.prototype.set=Hde;function If(h){var m=-1,w=h==null?0:h.length;for(this.__data__=new vu;++m<w;)this.add(h[m])}function qde(h){return this.__data__.set(h,u),this}function Gde(h){return this.__data__.has(h)}If.prototype.add=If.prototype.push=qde,If.prototype.has=Gde;function Aa(h){var m=this.__data__=new yu(h);this.size=m.size}function Vde(){this.__data__=new yu,this.size=0}function Yde(h){var m=this.__data__,w=m.delete(h);return this.size=m.size,w}function Jde(h){return this.__data__.get(h)}function Xde(h){return this.__data__.has(h)}function Kde(h,m){var w=this.__data__;if(w instanceof yu){var $=w.__data__;if(!Qg||$.length<i-1)return $.push([h,m]),this.size=++w.size,this;w=this.__data__=new vu($)}return w.set(h,m),this.size=w.size,this}Aa.prototype.clear=Vde,Aa.prototype.delete=Yde,Aa.prototype.get=Jde,Aa.prototype.has=Xde,Aa.prototype.set=Kde;function sD(h,m){var w=Xe(h),$=!w&&Wf(h),T=!w&&!$&&Wl(h),L=!w&&!$&&!T&&rh(h),B=w||$||T||L,q=B?XS(h.length,sde):[],K=q.length;for(var ue in h)(m||Ft.call(h,ue))&&!(B&&(ue=="length"||T&&(ue=="offset"||ue=="parent")||L&&(ue=="buffer"||ue=="byteLength"||ue=="byteOffset")||Au(ue,K)))&&q.push(ue);return q}function uD(h){var m=h.length;return m?h[hE(0,m-1)]:n}function Qde(h,m){return ub(xi(h),zf(m,0,h.length))}function Zde(h){return ub(xi(h))}function rE(h,m,w){(w!==n&&!_a(h[m],w)||w===n&&!(m in h))&&bu(h,m,w)}function n1(h,m,w){var $=h[m];(!(Ft.call(h,m)&&_a($,w))||w===n&&!(m in h))&&bu(h,m,w)}function Jv(h,m){for(var w=h.length;w--;)if(_a(h[w][0],m))return w;return-1}function e0e(h,m,w,$){return zl(h,function(T,L,B){m($,T,w(T),B)}),$}function lD(h,m){return h&&vs(m,Hn(m),h)}function t0e(h,m){return h&&vs(m,Ai(m),h)}function bu(h,m,w){m=="__proto__"&&Wv?Wv(h,m,{configurable:!0,enumerable:!0,value:w,writable:!0}):h[m]=w}function iE(h,m){for(var w=-1,$=m.length,T=Q($),L=h==null;++w<$;)T[w]=L?n:IE(h,m[w]);return T}function zf(h,m,w){return h===h&&(w!==n&&(h=h<=w?h:w),m!==n&&(h=h>=m?h:m)),h}function Ro(h,m,w,$,T,L){var B,q=m&f,K=m&d,ue=m&p;if(w&&(B=T?w(h,$,T,L):w(h)),B!==n)return B;if(!un(h))return h;var le=Xe(h);if(le){if(B=W0e(h),!q)return xi(h,B)}else{var fe=_r(h),Ce=fe==te||fe==Le;if(Wl(h))return RD(h,q);if(fe==$t||fe==de||Ce&&!T){if(B=K||Ce?{}:QD(h),!q)return K?O0e(h,t0e(B,h)):N0e(h,lD(B,h))}else{if(!qt[fe])return T?h:{};B=H0e(h,fe,q)}}L||(L=new Aa);var Fe=L.get(h);if(Fe)return Fe;L.set(h,B),$L(h)?h.forEach(function(Ge){B.add(Ro(Ge,m,w,Ge,h,L))}):EL(h)&&h.forEach(function(Ge,at){B.set(at,Ro(Ge,m,w,at,h,L))});var qe=ue?K?SE:_E:K?Ai:Hn,tt=le?n:qe(h);return Mo(tt||h,function(Ge,at){tt&&(at=Ge,Ge=h[at]),n1(B,at,Ro(Ge,m,w,at,h,L))}),B}function n0e(h){var m=Hn(h);return function(w){return cD(w,h,m)}}function cD(h,m,w){var $=w.length;if(h==null)return!$;for(h=jt(h);$--;){var T=w[$],L=m[T],B=h[T];if(B===n&&!(T in h)||!L(B))return!1}return!0}function fD(h,m,w){if(typeof h!="function")throw new No(a);return l1(function(){h.apply(n,w)},m)}function r1(h,m,w,$){var T=-1,L=Ov,B=!0,q=h.length,K=[],ue=m.length;if(!q)return K;w&&(m=tn(m,Qi(w))),$?(L=HS,B=!1):m.length>=i&&(L=Xg,B=!1,m=new If(m));e:for(;++T<q;){var le=h[T],fe=w==null?le:w(le);if(le=$||le!==0?le:0,B&&fe===fe){for(var Ce=ue;Ce--;)if(m[Ce]===fe)continue e;K.push(le)}else L(m,fe,$)||K.push(le)}return K}var zl=ID(ys),dD=ID(aE,!0);function r0e(h,m){var w=!0;return zl(h,function($,T,L){return w=!!m($,T,L),w}),w}function Xv(h,m,w){for(var $=-1,T=h.length;++$<T;){var L=h[$],B=m(L);if(B!=null&&(q===n?B===B&&!eo(B):w(B,q)))var q=B,K=L}return K}function i0e(h,m,w,$){var T=h.length;for(w=Ze(w),w<0&&(w=-w>T?0:T+w),$=$===n||$>T?T:Ze($),$<0&&($+=T),$=w>$?0:TL($);w<$;)h[w++]=m;return h}function hD(h,m){var w=[];return zl(h,function($,T,L){m($,T,L)&&w.push($)}),w}function ur(h,m,w,$,T){var L=-1,B=h.length;for(w||(w=G0e),T||(T=[]);++L<B;){var q=h[L];m>0&&w(q)?m>1?ur(q,m-1,w,$,T):Ll(T,q):$||(T[T.length]=q)}return T}var oE=zD(),pD=zD(!0);function ys(h,m){return h&&oE(h,m,Hn)}function aE(h,m){return h&&pD(h,m,Hn)}function Kv(h,m){return Dl(m,function(w){return _u(h[w])})}function Bf(h,m){m=Ul(m,h);for(var w=0,$=m.length;h!=null&&w<$;)h=h[bs(m[w++])];return w&&w==$?h:n}function gD(h,m,w){var $=m(h);return Xe(h)?$:Ll($,w(h))}function Wr(h){return h==null?h===n?wr:dt:Lf&&Lf in jt(h)?B0e(h):Z0e(h)}function sE(h,m){return h>m}function o0e(h,m){return h!=null&&Ft.call(h,m)}function a0e(h,m){return h!=null&&m in jt(h)}function s0e(h,m,w){return h>=Ar(m,w)&&h<On(m,w)}function uE(h,m,w){for(var $=w?HS:Ov,T=h[0].length,L=h.length,B=L,q=Q(L),K=1/0,ue=[];B--;){var le=h[B];B&&m&&(le=tn(le,Qi(m))),K=Ar(le.length,K),q[B]=!w&&(m||T>=120&&le.length>=120)?new If(B&&le):n}le=h[0];var fe=-1,Ce=q[0];e:for(;++fe<T&&ue.length<K;){var Fe=le[fe],qe=m?m(Fe):Fe;if(Fe=w||Fe!==0?Fe:0,!(Ce?Xg(Ce,qe):$(ue,qe,w))){for(B=L;--B;){var tt=q[B];if(!(tt?Xg(tt,qe):$(h[B],qe,w)))continue e}Ce&&Ce.push(qe),ue.push(Fe)}}return ue}function u0e(h,m,w,$){return ys(h,function(T,L,B){m($,w(T),L,B)}),$}function i1(h,m,w){m=Ul(m,h),h=nL(h,m);var $=h==null?h:h[bs(Do(m))];return $==null?n:Ki($,h,w)}function mD(h){return hn(h)&&Wr(h)==de}function l0e(h){return hn(h)&&Wr(h)==bi}function c0e(h){return hn(h)&&Wr(h)==re}function o1(h,m,w,$,T){return h===m?!0:h==null||m==null||!hn(h)&&!hn(m)?h!==h&&m!==m:f0e(h,m,w,$,o1,T)}function f0e(h,m,w,$,T,L){var B=Xe(h),q=Xe(m),K=B?me:_r(h),ue=q?me:_r(m);K=K==de?$t:K,ue=ue==de?$t:ue;var le=K==$t,fe=ue==$t,Ce=K==ue;if(Ce&&Wl(h)){if(!Wl(m))return!1;B=!0,le=!1}if(Ce&&!le)return L||(L=new Aa),B||rh(h)?JD(h,m,w,$,T,L):I0e(h,m,K,w,$,T,L);if(!(w&g)){var Fe=le&&Ft.call(h,"__wrapped__"),qe=fe&&Ft.call(m,"__wrapped__");if(Fe||qe){var tt=Fe?h.value():h,Ge=qe?m.value():m;return L||(L=new Aa),T(tt,Ge,w,$,L)}}return Ce?(L||(L=new Aa),z0e(h,m,w,$,T,L)):!1}function d0e(h){return hn(h)&&_r(h)==Te}function lE(h,m,w,$){var T=w.length,L=T,B=!$;if(h==null)return!L;for(h=jt(h);T--;){var q=w[T];if(B&&q[2]?q[1]!==h[q[0]]:!(q[0]in h))return!1}for(;++T<L;){q=w[T];var K=q[0],ue=h[K],le=q[1];if(B&&q[2]){if(ue===n&&!(K in h))return!1}else{var fe=new Aa;if($)var Ce=$(ue,le,K,h,m,fe);if(!(Ce===n?o1(le,ue,g|y,$,fe):Ce))return!1}}return!0}function yD(h){if(!un(h)||Y0e(h))return!1;var m=_u(h)?dde:nfe;return m.test(jf(h))}function h0e(h){return hn(h)&&Wr(h)==ke}function p0e(h){return hn(h)&&_r(h)==yt}function g0e(h){return hn(h)&&pb(h.length)&&!!Jt[Wr(h)]}function vD(h){return typeof h=="function"?h:h==null?_i:typeof h=="object"?Xe(h)?wD(h[0],h[1]):xD(h):BL(h)}function cE(h){if(!u1(h))return vde(h);var m=[];for(var w in jt(h))Ft.call(h,w)&&w!="constructor"&&m.push(w);return m}function m0e(h){if(!un(h))return Q0e(h);var m=u1(h),w=[];for(var $ in h)$=="constructor"&&(m||!Ft.call(h,$))||w.push($);return w}function fE(h,m){return h<m}function bD(h,m){var w=-1,$=wi(h)?Q(h.length):[];return zl(h,function(T,L,B){$[++w]=m(T,L,B)}),$}function xD(h){var m=CE(h);return m.length==1&&m[0][2]?eL(m[0][0],m[0][1]):function(w){return w===h||lE(w,h,m)}}function wD(h,m){return kE(h)&&ZD(m)?eL(bs(h),m):function(w){var $=IE(w,h);return $===n&&$===m?zE(w,h):o1(m,$,g|y)}}function Qv(h,m,w,$,T){h!==m&&oE(m,function(L,B){if(T||(T=new Aa),un(L))y0e(h,m,B,w,Qv,$,T);else{var q=$?$(ME(h,B),L,B+"",h,m,T):n;q===n&&(q=L),rE(h,B,q)}},Ai)}function y0e(h,m,w,$,T,L,B){var q=ME(h,w),K=ME(m,w),ue=B.get(K);if(ue){rE(h,w,ue);return}var le=L?L(q,K,w+"",h,m,B):n,fe=le===n;if(fe){var Ce=Xe(K),Fe=!Ce&&Wl(K),qe=!Ce&&!Fe&&rh(K);le=K,Ce||Fe||qe?Xe(q)?le=q:wn(q)?le=xi(q):Fe?(fe=!1,le=RD(K,!0)):qe?(fe=!1,le=FD(K,!0)):le=[]:c1(K)||Wf(K)?(le=q,Wf(q)?le=ML(q):(!un(q)||_u(q))&&(le=QD(K))):fe=!1}fe&&(B.set(K,le),T(le,K,$,L,B),B.delete(K)),rE(h,w,le)}function AD(h,m){var w=h.length;if(w)return m+=m<0?w:0,Au(m,w)?h[m]:n}function _D(h,m,w){m.length?m=tn(m,function(L){return Xe(L)?function(B){return Bf(B,L.length===1?L[0]:L)}:L}):m=[_i];var $=-1;m=tn(m,Qi(He()));var T=bD(h,function(L,B,q){var K=tn(m,function(ue){return ue(L)});return{criteria:K,index:++$,value:L}});return Hfe(T,function(L,B){return M0e(L,B,w)})}function v0e(h,m){return SD(h,m,function(w,$){return zE(h,$)})}function SD(h,m,w){for(var $=-1,T=m.length,L={};++$<T;){var B=m[$],q=Bf(h,B);w(q,B)&&a1(L,Ul(B,h),q)}return L}function b0e(h){return function(m){return Bf(m,h)}}function dE(h,m,w,$){var T=$?Wfe:G0,L=-1,B=m.length,q=h;for(h===m&&(m=xi(m)),w&&(q=tn(h,Qi(w)));++L<B;)for(var K=0,ue=m[L],le=w?w(ue):ue;(K=T(q,le,K,$))>-1;)q!==h&&jv.call(q,K,1),jv.call(h,K,1);return h}function ED(h,m){for(var w=h?m.length:0,$=w-1;w--;){var T=m[w];if(w==$||T!==L){var L=T;Au(T)?jv.call(h,T,1):mE(h,T)}}return h}function hE(h,m){return h+qv(oD()*(m-h+1))}function x0e(h,m,w,$){for(var T=-1,L=On(Hv((m-h)/(w||1)),0),B=Q(L);L--;)B[$?L:++T]=h,h+=w;return B}function pE(h,m){var w="";if(!h||m<1||m>z)return w;do m%2&&(w+=h),m=qv(m/2),m&&(h+=h);while(m);return w}function nt(h,m){return NE(tL(h,m,_i),h+"")}function w0e(h){return uD(ih(h))}function A0e(h,m){var w=ih(h);return ub(w,zf(m,0,w.length))}function a1(h,m,w,$){if(!un(h))return h;m=Ul(m,h);for(var T=-1,L=m.length,B=L-1,q=h;q!=null&&++T<L;){var K=bs(m[T]),ue=w;if(K==="__proto__"||K==="constructor"||K==="prototype")return h;if(T!=B){var le=q[K];ue=$?$(le,K,q):n,ue===n&&(ue=un(le)?le:Au(m[T+1])?[]:{})}n1(q,K,ue),q=q[K]}return h}var CD=Gv?function(h,m){return Gv.set(h,m),h}:_i,_0e=Wv?function(h,m){return Wv(h,"toString",{configurable:!0,enumerable:!1,value:UE(m),writable:!0})}:_i;function S0e(h){return ub(ih(h))}function Fo(h,m,w){var $=-1,T=h.length;m<0&&(m=-m>T?0:T+m),w=w>T?T:w,w<0&&(w+=T),T=m>w?0:w-m>>>0,m>>>=0;for(var L=Q(T);++$<T;)L[$]=h[$+m];return L}function E0e(h,m){var w;return zl(h,function($,T,L){return w=m($,T,L),!w}),!!w}function Zv(h,m,w){var $=0,T=h==null?$:h.length;if(typeof m=="number"&&m===m&&T<=ee){for(;$<T;){var L=$+T>>>1,B=h[L];B!==null&&!eo(B)&&(w?B<=m:B<m)?$=L+1:T=L}return T}return gE(h,m,_i,w)}function gE(h,m,w,$){var T=0,L=h==null?0:h.length;if(L===0)return 0;m=w(m);for(var B=m!==m,q=m===null,K=eo(m),ue=m===n;T<L;){var le=qv((T+L)/2),fe=w(h[le]),Ce=fe!==n,Fe=fe===null,qe=fe===fe,tt=eo(fe);if(B)var Ge=$||qe;else ue?Ge=qe&&($||Ce):q?Ge=qe&&Ce&&($||!Fe):K?Ge=qe&&Ce&&!Fe&&($||!tt):Fe||tt?Ge=!1:Ge=$?fe<=m:fe<m;Ge?T=le+1:L=le}return Ar(L,G)}function $D(h,m){for(var w=-1,$=h.length,T=0,L=[];++w<$;){var B=h[w],q=m?m(B):B;if(!w||!_a(q,K)){var K=q;L[T++]=B===0?0:B}}return L}function kD(h){return typeof h=="number"?h:eo(h)?j:+h}function Zi(h){if(typeof h=="string")return h;if(Xe(h))return tn(h,Zi)+"";if(eo(h))return aD?aD.call(h):"";var m=h+"";return m=="0"&&1/h==-U?"-0":m}function Bl(h,m,w){var $=-1,T=Ov,L=h.length,B=!0,q=[],K=q;if(w)B=!1,T=HS;else if(L>=i){var ue=m?null:L0e(h);if(ue)return Fv(ue);B=!1,T=Xg,K=new If}else K=m?[]:q;e:for(;++$<L;){var le=h[$],fe=m?m(le):le;if(le=w||le!==0?le:0,B&&fe===fe){for(var Ce=K.length;Ce--;)if(K[Ce]===fe)continue e;m&&K.push(fe),q.push(le)}else T(K,fe,w)||(K!==q&&K.push(fe),q.push(le))}return q}function mE(h,m){return m=Ul(m,h),h=nL(h,m),h==null||delete h[bs(Do(m))]}function TD(h,m,w,$){return a1(h,m,w(Bf(h,m)),$)}function eb(h,m,w,$){for(var T=h.length,L=$?T:-1;($?L--:++L<T)&&m(h[L],L,h););return w?Fo(h,$?0:L,$?L+1:T):Fo(h,$?L+1:0,$?T:L)}function MD(h,m){var w=h;return w instanceof ut&&(w=w.value()),qS(m,function($,T){return T.func.apply(T.thisArg,Ll([$],T.args))},w)}function yE(h,m,w){var $=h.length;if($<2)return $?Bl(h[0]):[];for(var T=-1,L=Q($);++T<$;)for(var B=h[T],q=-1;++q<$;)q!=T&&(L[T]=r1(L[T]||B,h[q],m,w));return Bl(ur(L,1),m,w)}function ND(h,m,w){for(var $=-1,T=h.length,L=m.length,B={};++$<T;){var q=$<L?m[$]:n;w(B,h[$],q)}return B}function vE(h){return wn(h)?h:[]}function bE(h){return typeof h=="function"?h:_i}function Ul(h,m){return Xe(h)?h:kE(h,m)?[h]:aL(Nt(h))}var C0e=nt;function jl(h,m,w){var $=h.length;return w=w===n?$:w,!m&&w>=$?h:Fo(h,m,w)}var OD=hde||function(h){return sr.clearTimeout(h)};function RD(h,m){if(m)return h.slice();var w=h.length,$=eD?eD(w):new h.constructor(w);return h.copy($),$}function xE(h){var m=new h.constructor(h.byteLength);return new Bv(m).set(new Bv(h)),m}function $0e(h,m){var w=m?xE(h.buffer):h.buffer;return new h.constructor(w,h.byteOffset,h.byteLength)}function k0e(h){var m=new h.constructor(h.source,mF.exec(h));return m.lastIndex=h.lastIndex,m}function T0e(h){return t1?jt(t1.call(h)):{}}function FD(h,m){var w=m?xE(h.buffer):h.buffer;return new h.constructor(w,h.byteOffset,h.length)}function DD(h,m){if(h!==m){var w=h!==n,$=h===null,T=h===h,L=eo(h),B=m!==n,q=m===null,K=m===m,ue=eo(m);if(!q&&!ue&&!L&&h>m||L&&B&&K&&!q&&!ue||$&&B&&K||!w&&K||!T)return 1;if(!$&&!L&&!ue&&h<m||ue&&w&&T&&!$&&!L||q&&w&&T||!B&&T||!K)return-1}return 0}function M0e(h,m,w){for(var $=-1,T=h.criteria,L=m.criteria,B=T.length,q=w.length;++$<B;){var K=DD(T[$],L[$]);if(K){if($>=q)return K;var ue=w[$];return K*(ue=="desc"?-1:1)}}return h.index-m.index}function LD(h,m,w,$){for(var T=-1,L=h.length,B=w.length,q=-1,K=m.length,ue=On(L-B,0),le=Q(K+ue),fe=!$;++q<K;)le[q]=m[q];for(;++T<B;)(fe||T<L)&&(le[w[T]]=h[T]);for(;ue--;)le[q++]=h[T++];return le}function PD(h,m,w,$){for(var T=-1,L=h.length,B=-1,q=w.length,K=-1,ue=m.length,le=On(L-q,0),fe=Q(le+ue),Ce=!$;++T<le;)fe[T]=h[T];for(var Fe=T;++K<ue;)fe[Fe+K]=m[K];for(;++B<q;)(Ce||T<L)&&(fe[Fe+w[B]]=h[T++]);return fe}function xi(h,m){var w=-1,$=h.length;for(m||(m=Q($));++w<$;)m[w]=h[w];return m}function vs(h,m,w,$){var T=!w;w||(w={});for(var L=-1,B=m.length;++L<B;){var q=m[L],K=$?$(w[q],h[q],q,w,h):n;K===n&&(K=h[q]),T?bu(w,q,K):n1(w,q,K)}return w}function N0e(h,m){return vs(h,$E(h),m)}function O0e(h,m){return vs(h,XD(h),m)}function tb(h,m){return function(w,$){var T=Xe(w)?Pfe:e0e,L=m?m():{};return T(w,h,He($,2),L)}}function eh(h){return nt(function(m,w){var $=-1,T=w.length,L=T>1?w[T-1]:n,B=T>2?w[2]:n;for(L=h.length>3&&typeof L=="function"?(T--,L):n,B&&Hr(w[0],w[1],B)&&(L=T<3?n:L,T=1),m=jt(m);++$<T;){var q=w[$];q&&h(m,q,$,L)}return m})}function ID(h,m){return function(w,$){if(w==null)return w;if(!wi(w))return h(w,$);for(var T=w.length,L=m?T:-1,B=jt(w);(m?L--:++L<T)&&$(B[L],L,B)!==!1;);return w}}function zD(h){return function(m,w,$){for(var T=-1,L=jt(m),B=$(m),q=B.length;q--;){var K=B[h?q:++T];if(w(L[K],K,L)===!1)break}return m}}function R0e(h,m,w){var $=m&v,T=s1(h);function L(){var B=this&&this!==sr&&this instanceof L?T:h;return B.apply($?w:this,arguments)}return L}function BD(h){return function(m){m=Nt(m);var w=V0(m)?wa(m):n,$=w?w[0]:m.charAt(0),T=w?jl(w,1).join(""):m.slice(1);return $[h]()+T}}function th(h){return function(m){return qS(IL(PL(m).replace(_fe,"")),h,"")}}function s1(h){return function(){var m=arguments;switch(m.length){case 0:return new h;case 1:return new h(m[0]);case 2:return new h(m[0],m[1]);case 3:return new h(m[0],m[1],m[2]);case 4:return new h(m[0],m[1],m[2],m[3]);case 5:return new h(m[0],m[1],m[2],m[3],m[4]);case 6:return new h(m[0],m[1],m[2],m[3],m[4],m[5]);case 7:return new h(m[0],m[1],m[2],m[3],m[4],m[5],m[6])}var w=Z0(h.prototype),$=h.apply(w,m);return un($)?$:w}}function F0e(h,m,w){var $=s1(h);function T(){for(var L=arguments.length,B=Q(L),q=L,K=nh(T);q--;)B[q]=arguments[q];var ue=L<3&&B[0]!==K&&B[L-1]!==K?[]:Pl(B,K);if(L-=ue.length,L<w)return qD(h,m,nb,T.placeholder,n,B,ue,n,n,w-L);var le=this&&this!==sr&&this instanceof T?$:h;return Ki(le,this,B)}return T}function UD(h){return function(m,w,$){var T=jt(m);if(!wi(m)){var L=He(w,3);m=Hn(m),w=function(q){return L(T[q],q,T)}}var B=h(m,w,$);return B>-1?T[L?m[B]:B]:n}}function jD(h){return wu(function(m){var w=m.length,$=w,T=Oo.prototype.thru;for(h&&m.reverse();$--;){var L=m[$];if(typeof L!="function")throw new No(a);if(T&&!B&&ab(L)=="wrapper")var B=new Oo([],!0)}for($=B?$:w;++$<w;){L=m[$];var q=ab(L),K=q=="wrapper"?EE(L):n;K&&TE(K[0])&&K[1]==(E|_|S|k)&&!K[4].length&&K[9]==1?B=B[ab(K[0])].apply(B,K[3]):B=L.length==1&&TE(L)?B[q]():B.thru(L)}return function(){var ue=arguments,le=ue[0];if(B&&ue.length==1&&Xe(le))return B.plant(le).value();for(var fe=0,Ce=w?m[fe].apply(this,ue):le;++fe<w;)Ce=m[fe].call(this,Ce);return Ce}})}function nb(h,m,w,$,T,L,B,q,K,ue){var le=m&E,fe=m&v,Ce=m&b,Fe=m&(_|A),qe=m&O,tt=Ce?n:s1(h);function Ge(){for(var at=arguments.length,ht=Q(at),to=at;to--;)ht[to]=arguments[to];if(Fe)var qr=nh(Ge),no=Gfe(ht,qr);if($&&(ht=LD(ht,$,T,Fe)),L&&(ht=PD(ht,L,B,Fe)),at-=no,Fe&&at<ue){var An=Pl(ht,qr);return qD(h,m,nb,Ge.placeholder,w,ht,An,q,K,ue-at)}var Sa=fe?w:this,Eu=Ce?Sa[h]:h;return at=ht.length,q?ht=ehe(ht,q):qe&&at>1&&ht.reverse(),le&&K<at&&(ht.length=K),this&&this!==sr&&this instanceof Ge&&(Eu=tt||s1(Eu)),Eu.apply(Sa,ht)}return Ge}function WD(h,m){return function(w,$){return u0e(w,h,m($),{})}}function rb(h,m){return function(w,$){var T;if(w===n&&$===n)return m;if(w!==n&&(T=w),$!==n){if(T===n)return $;typeof w=="string"||typeof $=="string"?(w=Zi(w),$=Zi($)):(w=kD(w),$=kD($)),T=h(w,$)}return T}}function wE(h){return wu(function(m){return m=tn(m,Qi(He())),nt(function(w){var $=this;return h(m,function(T){return Ki(T,$,w)})})})}function ib(h,m){m=m===n?" ":Zi(m);var w=m.length;if(w<2)return w?pE(m,h):m;var $=pE(m,Hv(h/Y0(m)));return V0(m)?jl(wa($),0,h).join(""):$.slice(0,h)}function D0e(h,m,w,$){var T=m&v,L=s1(h);function B(){for(var q=-1,K=arguments.length,ue=-1,le=$.length,fe=Q(le+K),Ce=this&&this!==sr&&this instanceof B?L:h;++ue<le;)fe[ue]=$[ue];for(;K--;)fe[ue++]=arguments[++q];return Ki(Ce,T?w:this,fe)}return B}function HD(h){return function(m,w,$){return $&&typeof $!="number"&&Hr(m,w,$)&&(w=$=n),m=Su(m),w===n?(w=m,m=0):w=Su(w),$=$===n?m<w?1:-1:Su($),x0e(m,w,$,h)}}function ob(h){return function(m,w){return typeof m=="string"&&typeof w=="string"||(m=Lo(m),w=Lo(w)),h(m,w)}}function qD(h,m,w,$,T,L,B,q,K,ue){var le=m&_,fe=le?B:n,Ce=le?n:B,Fe=le?L:n,qe=le?n:L;m|=le?S:C,m&=~(le?C:S),m&x||(m&=~(v|b));var tt=[h,m,T,Fe,fe,qe,Ce,q,K,ue],Ge=w.apply(n,tt);return TE(h)&&rL(Ge,tt),Ge.placeholder=$,iL(Ge,h,m)}function AE(h){var m=Nn[h];return function(w,$){if(w=Lo(w),$=$==null?0:Ar(Ze($),292),$&&iD(w)){var T=(Nt(w)+"e").split("e"),L=m(T[0]+"e"+(+T[1]+$));return T=(Nt(L)+"e").split("e"),+(T[0]+"e"+(+T[1]-$))}return m(w)}}var L0e=K0&&1/Fv(new K0([,-0]))[1]==U?function(h){return new K0(h)}:HE;function GD(h){return function(m){var w=_r(m);return w==Te?QS(m):w==yt?Zfe(m):qfe(m,h(m))}}function xu(h,m,w,$,T,L,B,q){var K=m&b;if(!K&&typeof h!="function")throw new No(a);var ue=$?$.length:0;if(ue||(m&=~(S|C),$=T=n),B=B===n?B:On(Ze(B),0),q=q===n?q:Ze(q),ue-=T?T.length:0,m&C){var le=$,fe=T;$=T=n}var Ce=K?n:EE(h),Fe=[h,m,w,$,T,le,fe,L,B,q];if(Ce&&K0e(Fe,Ce),h=Fe[0],m=Fe[1],w=Fe[2],$=Fe[3],T=Fe[4],q=Fe[9]=Fe[9]===n?K?0:h.length:On(Fe[9]-ue,0),!q&&m&(_|A)&&(m&=~(_|A)),!m||m==v)var qe=R0e(h,m,w);else m==_||m==A?qe=F0e(h,m,q):(m==S||m==(v|S))&&!T.length?qe=D0e(h,m,w,$):qe=nb.apply(n,Fe);var tt=Ce?CD:rL;return iL(tt(qe,Fe),h,m)}function VD(h,m,w,$){return h===n||_a(h,X0[w])&&!Ft.call($,w)?m:h}function YD(h,m,w,$,T,L){return un(h)&&un(m)&&(L.set(m,h),Qv(h,m,n,YD,L),L.delete(m)),h}function P0e(h){return c1(h)?n:h}function JD(h,m,w,$,T,L){var B=w&g,q=h.length,K=m.length;if(q!=K&&!(B&&K>q))return!1;var ue=L.get(h),le=L.get(m);if(ue&&le)return ue==m&&le==h;var fe=-1,Ce=!0,Fe=w&y?new If:n;for(L.set(h,m),L.set(m,h);++fe<q;){var qe=h[fe],tt=m[fe];if($)var Ge=B?$(tt,qe,fe,m,h,L):$(qe,tt,fe,h,m,L);if(Ge!==n){if(Ge)continue;Ce=!1;break}if(Fe){if(!GS(m,function(at,ht){if(!Xg(Fe,ht)&&(qe===at||T(qe,at,w,$,L)))return Fe.push(ht)})){Ce=!1;break}}else if(!(qe===tt||T(qe,tt,w,$,L))){Ce=!1;break}}return L.delete(h),L.delete(m),Ce}function I0e(h,m,w,$,T,L,B){switch(w){case xa:if(h.byteLength!=m.byteLength||h.byteOffset!=m.byteOffset)return!1;h=h.buffer,m=m.buffer;case bi:return!(h.byteLength!=m.byteLength||!L(new Bv(h),new Bv(m)));case be:case re:case Ue:return _a(+h,+m);case Ae:return h.name==m.name&&h.message==m.message;case ke:case wt:return h==m+"";case Te:var q=QS;case yt:var K=$&g;if(q||(q=Fv),h.size!=m.size&&!K)return!1;var ue=B.get(h);if(ue)return ue==m;$|=y,B.set(h,m);var le=JD(q(h),q(m),$,T,L,B);return B.delete(h),le;case kt:if(t1)return t1.call(h)==t1.call(m)}return!1}function z0e(h,m,w,$,T,L){var B=w&g,q=_E(h),K=q.length,ue=_E(m),le=ue.length;if(K!=le&&!B)return!1;for(var fe=K;fe--;){var Ce=q[fe];if(!(B?Ce in m:Ft.call(m,Ce)))return!1}var Fe=L.get(h),qe=L.get(m);if(Fe&&qe)return Fe==m&&qe==h;var tt=!0;L.set(h,m),L.set(m,h);for(var Ge=B;++fe<K;){Ce=q[fe];var at=h[Ce],ht=m[Ce];if($)var to=B?$(ht,at,Ce,m,h,L):$(at,ht,Ce,h,m,L);if(!(to===n?at===ht||T(at,ht,w,$,L):to)){tt=!1;break}Ge||(Ge=Ce=="constructor")}if(tt&&!Ge){var qr=h.constructor,no=m.constructor;qr!=no&&"constructor"in h&&"constructor"in m&&!(typeof qr=="function"&&qr instanceof qr&&typeof no=="function"&&no instanceof no)&&(tt=!1)}return L.delete(h),L.delete(m),tt}function wu(h){return NE(tL(h,n,cL),h+"")}function _E(h){return gD(h,Hn,$E)}function SE(h){return gD(h,Ai,XD)}var EE=Gv?function(h){return Gv.get(h)}:HE;function ab(h){for(var m=h.name+"",w=Q0[m],$=Ft.call(Q0,m)?w.length:0;$--;){var T=w[$],L=T.func;if(L==null||L==h)return T.name}return m}function nh(h){var m=Ft.call(R,"placeholder")?R:h;return m.placeholder}function He(){var h=R.iteratee||jE;return h=h===jE?vD:h,arguments.length?h(arguments[0],arguments[1]):h}function sb(h,m){var w=h.__data__;return V0e(m)?w[typeof m=="string"?"string":"hash"]:w.map}function CE(h){for(var m=Hn(h),w=m.length;w--;){var $=m[w],T=h[$];m[w]=[$,T,ZD(T)]}return m}function Uf(h,m){var w=Xfe(h,m);return yD(w)?w:n}function B0e(h){var m=Ft.call(h,Lf),w=h[Lf];try{h[Lf]=n;var $=!0}catch{}var T=Iv.call(h);return $&&(m?h[Lf]=w:delete h[Lf]),T}var $E=eE?function(h){return h==null?[]:(h=jt(h),Dl(eE(h),function(m){return nD.call(h,m)}))}:qE,XD=eE?function(h){for(var m=[];h;)Ll(m,$E(h)),h=Uv(h);return m}:qE,_r=Wr;(tE&&_r(new tE(new ArrayBuffer(1)))!=xa||Qg&&_r(new Qg)!=Te||nE&&_r(nE.resolve())!=xr||K0&&_r(new K0)!=yt||Zg&&_r(new Zg)!=Wn)&&(_r=function(h){var m=Wr(h),w=m==$t?h.constructor:n,$=w?jf(w):"";if($)switch($){case Ade:return xa;case _de:return Te;case Sde:return xr;case Ede:return yt;case Cde:return Wn}return m});function U0e(h,m,w){for(var $=-1,T=w.length;++$<T;){var L=w[$],B=L.size;switch(L.type){case"drop":h+=B;break;case"dropRight":m-=B;break;case"take":m=Ar(m,h+B);break;case"takeRight":h=On(h,m-B);break}}return{start:h,end:m}}function j0e(h){var m=h.match(Yce);return m?m[1].split(Jce):[]}function KD(h,m,w){m=Ul(m,h);for(var $=-1,T=m.length,L=!1;++$<T;){var B=bs(m[$]);if(!(L=h!=null&&w(h,B)))break;h=h[B]}return L||++$!=T?L:(T=h==null?0:h.length,!!T&&pb(T)&&Au(B,T)&&(Xe(h)||Wf(h)))}function W0e(h){var m=h.length,w=new h.constructor(m);return m&&typeof h[0]=="string"&&Ft.call(h,"index")&&(w.index=h.index,w.input=h.input),w}function QD(h){return typeof h.constructor=="function"&&!u1(h)?Z0(Uv(h)):{}}function H0e(h,m,w){var $=h.constructor;switch(m){case bi:return xE(h);case be:case re:return new $(+h);case xa:return $0e(h,w);case Ol:case Rl:case Ff:case Fl:case Yg:case Jg:case OS:case RS:case FS:return FD(h,w);case Te:return new $;case Ue:case wt:return new $(h);case ke:return k0e(h);case yt:return new $;case kt:return T0e(h)}}function q0e(h,m){var w=m.length;if(!w)return h;var $=w-1;return m[$]=(w>1?"& ":"")+m[$],m=m.join(w>2?", ":" "),h.replace(Vce,`{
/* [wrapped with `+m+`] */
`)}function G0e(h){return Xe(h)||Wf(h)||!!(rD&&h&&h[rD])}function Au(h,m){var w=typeof h;return m=m??z,!!m&&(w=="number"||w!="symbol"&&ife.test(h))&&h>-1&&h%1==0&&h<m}function Hr(h,m,w){if(!un(w))return!1;var $=typeof m;return($=="number"?wi(w)&&Au(m,w.length):$=="string"&&m in w)?_a(w[m],h):!1}function kE(h,m){if(Xe(h))return!1;var w=typeof h;return w=="number"||w=="symbol"||w=="boolean"||h==null||eo(h)?!0:Wce.test(h)||!jce.test(h)||m!=null&&h in jt(m)}function V0e(h){var m=typeof h;return m=="string"||m=="number"||m=="symbol"||m=="boolean"?h!=="__proto__":h===null}function TE(h){var m=ab(h),w=R[m];if(typeof w!="function"||!(m in ut.prototype))return!1;if(h===w)return!0;var $=EE(w);return!!$&&h===$[0]}function Y0e(h){return!!ZF&&ZF in h}var J0e=Lv?_u:GE;function u1(h){var m=h&&h.constructor,w=typeof m=="function"&&m.prototype||X0;return h===w}function ZD(h){return h===h&&!un(h)}function eL(h,m){return function(w){return w==null?!1:w[h]===m&&(m!==n||h in jt(w))}}function X0e(h){var m=db(h,function($){return w.size===l&&w.clear(),$}),w=m.cache;return m}function K0e(h,m){var w=h[1],$=m[1],T=w|$,L=T<(v|b|E),B=$==E&&w==_||$==E&&w==k&&h[7].length<=m[8]||$==(E|k)&&m[7].length<=m[8]&&w==_;if(!(L||B))return h;$&v&&(h[2]=m[2],T|=w&v?0:x);var q=m[3];if(q){var K=h[3];h[3]=K?LD(K,q,m[4]):q,h[4]=K?Pl(h[3],c):m[4]}return q=m[5],q&&(K=h[5],h[5]=K?PD(K,q,m[6]):q,h[6]=K?Pl(h[5],c):m[6]),q=m[7],q&&(h[7]=q),$&E&&(h[8]=h[8]==null?m[8]:Ar(h[8],m[8])),h[9]==null&&(h[9]=m[9]),h[0]=m[0],h[1]=T,h}function Q0e(h){var m=[];if(h!=null)for(var w in jt(h))m.push(w);return m}function Z0e(h){return Iv.call(h)}function tL(h,m,w){return m=On(m===n?h.length-1:m,0),function(){for(var $=arguments,T=-1,L=On($.length-m,0),B=Q(L);++T<L;)B[T]=$[m+T];T=-1;for(var q=Q(m+1);++T<m;)q[T]=$[T];return q[m]=w(B),Ki(h,this,q)}}function nL(h,m){return m.length<2?h:Bf(h,Fo(m,0,-1))}function ehe(h,m){for(var w=h.length,$=Ar(m.length,w),T=xi(h);$--;){var L=m[$];h[$]=Au(L,w)?T[L]:n}return h}function ME(h,m){if(!(m==="constructor"&&typeof h[m]=="function")&&m!="__proto__")return h[m]}var rL=oL(CD),l1=gde||function(h,m){return sr.setTimeout(h,m)},NE=oL(_0e);function iL(h,m,w){var $=m+"";return NE(h,q0e($,the(j0e($),w)))}function oL(h){var m=0,w=0;return function(){var $=bde(),T=I-($-w);if(w=$,T>0){if(++m>=W)return arguments[0]}else m=0;return h.apply(n,arguments)}}function ub(h,m){var w=-1,$=h.length,T=$-1;for(m=m===n?$:m;++w<m;){var L=hE(w,T),B=h[L];h[L]=h[w],h[w]=B}return h.length=m,h}var aL=X0e(function(h){var m=[];return h.charCodeAt(0)===46&&m.push(""),h.replace(Hce,function(w,$,T,L){m.push(T?L.replace(Qce,"$1"):$||w)}),m});function bs(h){if(typeof h=="string"||eo(h))return h;var m=h+"";return m=="0"&&1/h==-U?"-0":m}function jf(h){if(h!=null){try{return Pv.call(h)}catch{}try{return h+""}catch{}}return""}function the(h,m){return Mo(ne,function(w){var $="_."+w[0];m&w[1]&&!Ov(h,$)&&h.push($)}),h.sort()}function sL(h){if(h instanceof ut)return h.clone();var m=new Oo(h.__wrapped__,h.__chain__);return m.__actions__=xi(h.__actions__),m.__index__=h.__index__,m.__values__=h.__values__,m}function nhe(h,m,w){(w?Hr(h,m,w):m===n)?m=1:m=On(Ze(m),0);var $=h==null?0:h.length;if(!$||m<1)return[];for(var T=0,L=0,B=Q(Hv($/m));T<$;)B[L++]=Fo(h,T,T+=m);return B}function rhe(h){for(var m=-1,w=h==null?0:h.length,$=0,T=[];++m<w;){var L=h[m];L&&(T[$++]=L)}return T}function ihe(){var h=arguments.length;if(!h)return[];for(var m=Q(h-1),w=arguments[0],$=h;$--;)m[$-1]=arguments[$];return Ll(Xe(w)?xi(w):[w],ur(m,1))}var ohe=nt(function(h,m){return wn(h)?r1(h,ur(m,1,wn,!0)):[]}),ahe=nt(function(h,m){var w=Do(m);return wn(w)&&(w=n),wn(h)?r1(h,ur(m,1,wn,!0),He(w,2)):[]}),she=nt(function(h,m){var w=Do(m);return wn(w)&&(w=n),wn(h)?r1(h,ur(m,1,wn,!0),n,w):[]});function uhe(h,m,w){var $=h==null?0:h.length;return $?(m=w||m===n?1:Ze(m),Fo(h,m<0?0:m,$)):[]}function lhe(h,m,w){var $=h==null?0:h.length;return $?(m=w||m===n?1:Ze(m),m=$-m,Fo(h,0,m<0?0:m)):[]}function che(h,m){return h&&h.length?eb(h,He(m,3),!0,!0):[]}function fhe(h,m){return h&&h.length?eb(h,He(m,3),!0):[]}function dhe(h,m,w,$){var T=h==null?0:h.length;return T?(w&&typeof w!="number"&&Hr(h,m,w)&&(w=0,$=T),i0e(h,m,w,$)):[]}function uL(h,m,w){var $=h==null?0:h.length;if(!$)return-1;var T=w==null?0:Ze(w);return T<0&&(T=On($+T,0)),Rv(h,He(m,3),T)}function lL(h,m,w){var $=h==null?0:h.length;if(!$)return-1;var T=$-1;return w!==n&&(T=Ze(w),T=w<0?On($+T,0):Ar(T,$-1)),Rv(h,He(m,3),T,!0)}function cL(h){var m=h==null?0:h.length;return m?ur(h,1):[]}function hhe(h){var m=h==null?0:h.length;return m?ur(h,U):[]}function phe(h,m){var w=h==null?0:h.length;return w?(m=m===n?1:Ze(m),ur(h,m)):[]}function ghe(h){for(var m=-1,w=h==null?0:h.length,$={};++m<w;){var T=h[m];$[T[0]]=T[1]}return $}function fL(h){return h&&h.length?h[0]:n}function mhe(h,m,w){var $=h==null?0:h.length;if(!$)return-1;var T=w==null?0:Ze(w);return T<0&&(T=On($+T,0)),G0(h,m,T)}function yhe(h){var m=h==null?0:h.length;return m?Fo(h,0,-1):[]}var vhe=nt(function(h){var m=tn(h,vE);return m.length&&m[0]===h[0]?uE(m):[]}),bhe=nt(function(h){var m=Do(h),w=tn(h,vE);return m===Do(w)?m=n:w.pop(),w.length&&w[0]===h[0]?uE(w,He(m,2)):[]}),xhe=nt(function(h){var m=Do(h),w=tn(h,vE);return m=typeof m=="function"?m:n,m&&w.pop(),w.length&&w[0]===h[0]?uE(w,n,m):[]});function whe(h,m){return h==null?"":yde.call(h,m)}function Do(h){var m=h==null?0:h.length;return m?h[m-1]:n}function Ahe(h,m,w){var $=h==null?0:h.length;if(!$)return-1;var T=$;return w!==n&&(T=Ze(w),T=T<0?On($+T,0):Ar(T,$-1)),m===m?tde(h,m,T):Rv(h,qF,T,!0)}function _he(h,m){return h&&h.length?AD(h,Ze(m)):n}var She=nt(dL);function dL(h,m){return h&&h.length&&m&&m.length?dE(h,m):h}function Ehe(h,m,w){return h&&h.length&&m&&m.length?dE(h,m,He(w,2)):h}function Che(h,m,w){return h&&h.length&&m&&m.length?dE(h,m,n,w):h}var $he=wu(function(h,m){var w=h==null?0:h.length,$=iE(h,m);return ED(h,tn(m,function(T){return Au(T,w)?+T:T}).sort(DD)),$});function khe(h,m){var w=[];if(!(h&&h.length))return w;var $=-1,T=[],L=h.length;for(m=He(m,3);++$<L;){var B=h[$];m(B,$,h)&&(w.push(B),T.push($))}return ED(h,T),w}function OE(h){return h==null?h:wde.call(h)}function The(h,m,w){var $=h==null?0:h.length;return $?(w&&typeof w!="number"&&Hr(h,m,w)?(m=0,w=$):(m=m==null?0:Ze(m),w=w===n?$:Ze(w)),Fo(h,m,w)):[]}function Mhe(h,m){return Zv(h,m)}function Nhe(h,m,w){return gE(h,m,He(w,2))}function Ohe(h,m){var w=h==null?0:h.length;if(w){var $=Zv(h,m);if($<w&&_a(h[$],m))return $}return-1}function Rhe(h,m){return Zv(h,m,!0)}function Fhe(h,m,w){return gE(h,m,He(w,2),!0)}function Dhe(h,m){var w=h==null?0:h.length;if(w){var $=Zv(h,m,!0)-1;if(_a(h[$],m))return $}return-1}function Lhe(h){return h&&h.length?$D(h):[]}function Phe(h,m){return h&&h.length?$D(h,He(m,2)):[]}function Ihe(h){var m=h==null?0:h.length;return m?Fo(h,1,m):[]}function zhe(h,m,w){return h&&h.length?(m=w||m===n?1:Ze(m),Fo(h,0,m<0?0:m)):[]}function Bhe(h,m,w){var $=h==null?0:h.length;return $?(m=w||m===n?1:Ze(m),m=$-m,Fo(h,m<0?0:m,$)):[]}function Uhe(h,m){return h&&h.length?eb(h,He(m,3),!1,!0):[]}function jhe(h,m){return h&&h.length?eb(h,He(m,3)):[]}var Whe=nt(function(h){return Bl(ur(h,1,wn,!0))}),Hhe=nt(function(h){var m=Do(h);return wn(m)&&(m=n),Bl(ur(h,1,wn,!0),He(m,2))}),qhe=nt(function(h){var m=Do(h);return m=typeof m=="function"?m:n,Bl(ur(h,1,wn,!0),n,m)});function Ghe(h){return h&&h.length?Bl(h):[]}function Vhe(h,m){return h&&h.length?Bl(h,He(m,2)):[]}function Yhe(h,m){return m=typeof m=="function"?m:n,h&&h.length?Bl(h,n,m):[]}function RE(h){if(!(h&&h.length))return[];var m=0;return h=Dl(h,function(w){if(wn(w))return m=On(w.length,m),!0}),XS(m,function(w){return tn(h,VS(w))})}function hL(h,m){if(!(h&&h.length))return[];var w=RE(h);return m==null?w:tn(w,function($){return Ki(m,n,$)})}var Jhe=nt(function(h,m){return wn(h)?r1(h,m):[]}),Xhe=nt(function(h){return yE(Dl(h,wn))}),Khe=nt(function(h){var m=Do(h);return wn(m)&&(m=n),yE(Dl(h,wn),He(m,2))}),Qhe=nt(function(h){var m=Do(h);return m=typeof m=="function"?m:n,yE(Dl(h,wn),n,m)}),Zhe=nt(RE);function epe(h,m){return ND(h||[],m||[],n1)}function tpe(h,m){return ND(h||[],m||[],a1)}var npe=nt(function(h){var m=h.length,w=m>1?h[m-1]:n;return w=typeof w=="function"?(h.pop(),w):n,hL(h,w)});function pL(h){var m=R(h);return m.__chain__=!0,m}function rpe(h,m){return m(h),h}function lb(h,m){return m(h)}var ipe=wu(function(h){var m=h.length,w=m?h[0]:0,$=this.__wrapped__,T=function(L){return iE(L,h)};return m>1||this.__actions__.length||!($ instanceof ut)||!Au(w)?this.thru(T):($=$.slice(w,+w+(m?1:0)),$.__actions__.push({func:lb,args:[T],thisArg:n}),new Oo($,this.__chain__).thru(function(L){return m&&!L.length&&L.push(n),L}))});function ope(){return pL(this)}function ape(){return new Oo(this.value(),this.__chain__)}function spe(){this.__values__===n&&(this.__values__=kL(this.value()));var h=this.__index__>=this.__values__.length,m=h?n:this.__values__[this.__index__++];return{done:h,value:m}}function upe(){return this}function lpe(h){for(var m,w=this;w instanceof Yv;){var $=sL(w);$.__index__=0,$.__values__=n,m?T.__wrapped__=$:m=$;var T=$;w=w.__wrapped__}return T.__wrapped__=h,m}function cpe(){var h=this.__wrapped__;if(h instanceof ut){var m=h;return this.__actions__.length&&(m=new ut(this)),m=m.reverse(),m.__actions__.push({func:lb,args:[OE],thisArg:n}),new Oo(m,this.__chain__)}return this.thru(OE)}function fpe(){return MD(this.__wrapped__,this.__actions__)}var dpe=tb(function(h,m,w){Ft.call(h,w)?++h[w]:bu(h,w,1)});function hpe(h,m,w){var $=Xe(h)?WF:r0e;return w&&Hr(h,m,w)&&(m=n),$(h,He(m,3))}function ppe(h,m){var w=Xe(h)?Dl:hD;return w(h,He(m,3))}var gpe=UD(uL),mpe=UD(lL);function ype(h,m){return ur(cb(h,m),1)}function vpe(h,m){return ur(cb(h,m),U)}function bpe(h,m,w){return w=w===n?1:Ze(w),ur(cb(h,m),w)}function gL(h,m){var w=Xe(h)?Mo:zl;return w(h,He(m,3))}function mL(h,m){var w=Xe(h)?Ife:dD;return w(h,He(m,3))}var xpe=tb(function(h,m,w){Ft.call(h,w)?h[w].push(m):bu(h,w,[m])});function wpe(h,m,w,$){h=wi(h)?h:ih(h),w=w&&!$?Ze(w):0;var T=h.length;return w<0&&(w=On(T+w,0)),gb(h)?w<=T&&h.indexOf(m,w)>-1:!!T&&G0(h,m,w)>-1}var Ape=nt(function(h,m,w){var $=-1,T=typeof m=="function",L=wi(h)?Q(h.length):[];return zl(h,function(B){L[++$]=T?Ki(m,B,w):i1(B,m,w)}),L}),_pe=tb(function(h,m,w){bu(h,w,m)});function cb(h,m){var w=Xe(h)?tn:bD;return w(h,He(m,3))}function Spe(h,m,w,$){return h==null?[]:(Xe(m)||(m=m==null?[]:[m]),w=$?n:w,Xe(w)||(w=w==null?[]:[w]),_D(h,m,w))}var Epe=tb(function(h,m,w){h[w?0:1].push(m)},function(){return[[],[]]});function Cpe(h,m,w){var $=Xe(h)?qS:VF,T=arguments.length<3;return $(h,He(m,4),w,T,zl)}function $pe(h,m,w){var $=Xe(h)?zfe:VF,T=arguments.length<3;return $(h,He(m,4),w,T,dD)}function kpe(h,m){var w=Xe(h)?Dl:hD;return w(h,hb(He(m,3)))}function Tpe(h){var m=Xe(h)?uD:w0e;return m(h)}function Mpe(h,m,w){(w?Hr(h,m,w):m===n)?m=1:m=Ze(m);var $=Xe(h)?Qde:A0e;return $(h,m)}function Npe(h){var m=Xe(h)?Zde:S0e;return m(h)}function Ope(h){if(h==null)return 0;if(wi(h))return gb(h)?Y0(h):h.length;var m=_r(h);return m==Te||m==yt?h.size:cE(h).length}function Rpe(h,m,w){var $=Xe(h)?GS:E0e;return w&&Hr(h,m,w)&&(m=n),$(h,He(m,3))}var Fpe=nt(function(h,m){if(h==null)return[];var w=m.length;return w>1&&Hr(h,m[0],m[1])?m=[]:w>2&&Hr(m[0],m[1],m[2])&&(m=[m[0]]),_D(h,ur(m,1),[])}),fb=pde||function(){return sr.Date.now()};function Dpe(h,m){if(typeof m!="function")throw new No(a);return h=Ze(h),function(){if(--h<1)return m.apply(this,arguments)}}function yL(h,m,w){return m=w?n:m,m=h&&m==null?h.length:m,xu(h,E,n,n,n,n,m)}function vL(h,m){var w;if(typeof m!="function")throw new No(a);return h=Ze(h),function(){return--h>0&&(w=m.apply(this,arguments)),h<=1&&(m=n),w}}var FE=nt(function(h,m,w){var $=v;if(w.length){var T=Pl(w,nh(FE));$|=S}return xu(h,$,m,w,T)}),bL=nt(function(h,m,w){var $=v|b;if(w.length){var T=Pl(w,nh(bL));$|=S}return xu(m,$,h,w,T)});function xL(h,m,w){m=w?n:m;var $=xu(h,_,n,n,n,n,n,m);return $.placeholder=xL.placeholder,$}function wL(h,m,w){m=w?n:m;var $=xu(h,A,n,n,n,n,n,m);return $.placeholder=wL.placeholder,$}function AL(h,m,w){var $,T,L,B,q,K,ue=0,le=!1,fe=!1,Ce=!0;if(typeof h!="function")throw new No(a);m=Lo(m)||0,un(w)&&(le=!!w.leading,fe="maxWait"in w,L=fe?On(Lo(w.maxWait)||0,m):L,Ce="trailing"in w?!!w.trailing:Ce);function Fe(An){var Sa=$,Eu=T;return $=T=n,ue=An,B=h.apply(Eu,Sa),B}function qe(An){return ue=An,q=l1(at,m),le?Fe(An):B}function tt(An){var Sa=An-K,Eu=An-ue,UL=m-Sa;return fe?Ar(UL,L-Eu):UL}function Ge(An){var Sa=An-K,Eu=An-ue;return K===n||Sa>=m||Sa<0||fe&&Eu>=L}function at(){var An=fb();if(Ge(An))return ht(An);q=l1(at,tt(An))}function ht(An){return q=n,Ce&&$?Fe(An):($=T=n,B)}function to(){q!==n&&OD(q),ue=0,$=K=T=q=n}function qr(){return q===n?B:ht(fb())}function no(){var An=fb(),Sa=Ge(An);if($=arguments,T=this,K=An,Sa){if(q===n)return qe(K);if(fe)return OD(q),q=l1(at,m),Fe(K)}return q===n&&(q=l1(at,m)),B}return no.cancel=to,no.flush=qr,no}var Lpe=nt(function(h,m){return fD(h,1,m)}),Ppe=nt(function(h,m,w){return fD(h,Lo(m)||0,w)});function Ipe(h){return xu(h,O)}function db(h,m){if(typeof h!="function"||m!=null&&typeof m!="function")throw new No(a);var w=function(){var $=arguments,T=m?m.apply(this,$):$[0],L=w.cache;if(L.has(T))return L.get(T);var B=h.apply(this,$);return w.cache=L.set(T,B)||L,B};return w.cache=new(db.Cache||vu),w}db.Cache=vu;function hb(h){if(typeof h!="function")throw new No(a);return function(){var m=arguments;switch(m.length){case 0:return!h.call(this);case 1:return!h.call(this,m[0]);case 2:return!h.call(this,m[0],m[1]);case 3:return!h.call(this,m[0],m[1],m[2])}return!h.apply(this,m)}}function zpe(h){return vL(2,h)}var Bpe=C0e(function(h,m){m=m.length==1&&Xe(m[0])?tn(m[0],Qi(He())):tn(ur(m,1),Qi(He()));var w=m.length;return nt(function($){for(var T=-1,L=Ar($.length,w);++T<L;)$[T]=m[T].call(this,$[T]);return Ki(h,this,$)})}),DE=nt(function(h,m){var w=Pl(m,nh(DE));return xu(h,S,n,m,w)}),_L=nt(function(h,m){var w=Pl(m,nh(_L));return xu(h,C,n,m,w)}),Upe=wu(function(h,m){return xu(h,k,n,n,n,m)});function jpe(h,m){if(typeof h!="function")throw new No(a);return m=m===n?m:Ze(m),nt(h,m)}function Wpe(h,m){if(typeof h!="function")throw new No(a);return m=m==null?0:On(Ze(m),0),nt(function(w){var $=w[m],T=jl(w,0,m);return $&&Ll(T,$),Ki(h,this,T)})}function Hpe(h,m,w){var $=!0,T=!0;if(typeof h!="function")throw new No(a);return un(w)&&($="leading"in w?!!w.leading:$,T="trailing"in w?!!w.trailing:T),AL(h,m,{leading:$,maxWait:m,trailing:T})}function qpe(h){return yL(h,1)}function Gpe(h,m){return DE(bE(m),h)}function Vpe(){if(!arguments.length)return[];var h=arguments[0];return Xe(h)?h:[h]}function Ype(h){return Ro(h,p)}function Jpe(h,m){return m=typeof m=="function"?m:n,Ro(h,p,m)}function Xpe(h){return Ro(h,f|p)}function Kpe(h,m){return m=typeof m=="function"?m:n,Ro(h,f|p,m)}function Qpe(h,m){return m==null||cD(h,m,Hn(m))}function _a(h,m){return h===m||h!==h&&m!==m}var Zpe=ob(sE),ege=ob(function(h,m){return h>=m}),Wf=mD(function(){return arguments}())?mD:function(h){return hn(h)&&Ft.call(h,"callee")&&!nD.call(h,"callee")},Xe=Q.isArray,tge=PF?Qi(PF):l0e;function wi(h){return h!=null&&pb(h.length)&&!_u(h)}function wn(h){return hn(h)&&wi(h)}function nge(h){return h===!0||h===!1||hn(h)&&Wr(h)==be}var Wl=mde||GE,rge=IF?Qi(IF):c0e;function ige(h){return hn(h)&&h.nodeType===1&&!c1(h)}function oge(h){if(h==null)return!0;if(wi(h)&&(Xe(h)||typeof h=="string"||typeof h.splice=="function"||Wl(h)||rh(h)||Wf(h)))return!h.length;var m=_r(h);if(m==Te||m==yt)return!h.size;if(u1(h))return!cE(h).length;for(var w in h)if(Ft.call(h,w))return!1;return!0}function age(h,m){return o1(h,m)}function sge(h,m,w){w=typeof w=="function"?w:n;var $=w?w(h,m):n;return $===n?o1(h,m,n,w):!!$}function LE(h){if(!hn(h))return!1;var m=Wr(h);return m==Ae||m==_e||typeof h.message=="string"&&typeof h.name=="string"&&!c1(h)}function uge(h){return typeof h=="number"&&iD(h)}function _u(h){if(!un(h))return!1;var m=Wr(h);return m==te||m==Le||m==ce||m==Mn}function SL(h){return typeof h=="number"&&h==Ze(h)}function pb(h){return typeof h=="number"&&h>-1&&h%1==0&&h<=z}function un(h){var m=typeof h;return h!=null&&(m=="object"||m=="function")}function hn(h){return h!=null&&typeof h=="object"}var EL=zF?Qi(zF):d0e;function lge(h,m){return h===m||lE(h,m,CE(m))}function cge(h,m,w){return w=typeof w=="function"?w:n,lE(h,m,CE(m),w)}function fge(h){return CL(h)&&h!=+h}function dge(h){if(J0e(h))throw new Je(o);return yD(h)}function hge(h){return h===null}function pge(h){return h==null}function CL(h){return typeof h=="number"||hn(h)&&Wr(h)==Ue}function c1(h){if(!hn(h)||Wr(h)!=$t)return!1;var m=Uv(h);if(m===null)return!0;var w=Ft.call(m,"constructor")&&m.constructor;return typeof w=="function"&&w instanceof w&&Pv.call(w)==cde}var PE=BF?Qi(BF):h0e;function gge(h){return SL(h)&&h>=-z&&h<=z}var $L=UF?Qi(UF):p0e;function gb(h){return typeof h=="string"||!Xe(h)&&hn(h)&&Wr(h)==wt}function eo(h){return typeof h=="symbol"||hn(h)&&Wr(h)==kt}var rh=jF?Qi(jF):g0e;function mge(h){return h===n}function yge(h){return hn(h)&&_r(h)==Wn}function vge(h){return hn(h)&&Wr(h)==ba}var bge=ob(fE),xge=ob(function(h,m){return h<=m});function kL(h){if(!h)return[];if(wi(h))return gb(h)?wa(h):xi(h);if(Kg&&h[Kg])return Qfe(h[Kg]());var m=_r(h),w=m==Te?QS:m==yt?Fv:ih;return w(h)}function Su(h){if(!h)return h===0?h:0;if(h=Lo(h),h===U||h===-U){var m=h<0?-1:1;return m*H}return h===h?h:0}function Ze(h){var m=Su(h),w=m%1;return m===m?w?m-w:m:0}function TL(h){return h?zf(Ze(h),0,X):0}function Lo(h){if(typeof h=="number")return h;if(eo(h))return j;if(un(h)){var m=typeof h.valueOf=="function"?h.valueOf():h;h=un(m)?m+"":m}if(typeof h!="string")return h===0?h:+h;h=YF(h);var w=tfe.test(h);return w||rfe.test(h)?Dfe(h.slice(2),w?2:8):efe.test(h)?j:+h}function ML(h){return vs(h,Ai(h))}function wge(h){return h?zf(Ze(h),-z,z):h===0?h:0}function Nt(h){return h==null?"":Zi(h)}var Age=eh(function(h,m){if(u1(m)||wi(m)){vs(m,Hn(m),h);return}for(var w in m)Ft.call(m,w)&&n1(h,w,m[w])}),NL=eh(function(h,m){vs(m,Ai(m),h)}),mb=eh(function(h,m,w,$){vs(m,Ai(m),h,$)}),_ge=eh(function(h,m,w,$){vs(m,Hn(m),h,$)}),Sge=wu(iE);function Ege(h,m){var w=Z0(h);return m==null?w:lD(w,m)}var Cge=nt(function(h,m){h=jt(h);var w=-1,$=m.length,T=$>2?m[2]:n;for(T&&Hr(m[0],m[1],T)&&($=1);++w<$;)for(var L=m[w],B=Ai(L),q=-1,K=B.length;++q<K;){var ue=B[q],le=h[ue];(le===n||_a(le,X0[ue])&&!Ft.call(h,ue))&&(h[ue]=L[ue])}return h}),$ge=nt(function(h){return h.push(n,YD),Ki(OL,n,h)});function kge(h,m){return HF(h,He(m,3),ys)}function Tge(h,m){return HF(h,He(m,3),aE)}function Mge(h,m){return h==null?h:oE(h,He(m,3),Ai)}function Nge(h,m){return h==null?h:pD(h,He(m,3),Ai)}function Oge(h,m){return h&&ys(h,He(m,3))}function Rge(h,m){return h&&aE(h,He(m,3))}function Fge(h){return h==null?[]:Kv(h,Hn(h))}function Dge(h){return h==null?[]:Kv(h,Ai(h))}function IE(h,m,w){var $=h==null?n:Bf(h,m);return $===n?w:$}function Lge(h,m){return h!=null&&KD(h,m,o0e)}function zE(h,m){return h!=null&&KD(h,m,a0e)}var Pge=WD(function(h,m,w){m!=null&&typeof m.toString!="function"&&(m=Iv.call(m)),h[m]=w},UE(_i)),Ige=WD(function(h,m,w){m!=null&&typeof m.toString!="function"&&(m=Iv.call(m)),Ft.call(h,m)?h[m].push(w):h[m]=[w]},He),zge=nt(i1);function Hn(h){return wi(h)?sD(h):cE(h)}function Ai(h){return wi(h)?sD(h,!0):m0e(h)}function Bge(h,m){var w={};return m=He(m,3),ys(h,function($,T,L){bu(w,m($,T,L),$)}),w}function Uge(h,m){var w={};return m=He(m,3),ys(h,function($,T,L){bu(w,T,m($,T,L))}),w}var jge=eh(function(h,m,w){Qv(h,m,w)}),OL=eh(function(h,m,w,$){Qv(h,m,w,$)}),Wge=wu(function(h,m){var w={};if(h==null)return w;var $=!1;m=tn(m,function(L){return L=Ul(L,h),$||($=L.length>1),L}),vs(h,SE(h),w),$&&(w=Ro(w,f|d|p,P0e));for(var T=m.length;T--;)mE(w,m[T]);return w});function Hge(h,m){return RL(h,hb(He(m)))}var qge=wu(function(h,m){return h==null?{}:v0e(h,m)});function RL(h,m){if(h==null)return{};var w=tn(SE(h),function($){return[$]});return m=He(m),SD(h,w,function($,T){return m($,T[0])})}function Gge(h,m,w){m=Ul(m,h);var $=-1,T=m.length;for(T||(T=1,h=n);++$<T;){var L=h==null?n:h[bs(m[$])];L===n&&($=T,L=w),h=_u(L)?L.call(h):L}return h}function Vge(h,m,w){return h==null?h:a1(h,m,w)}function Yge(h,m,w,$){return $=typeof $=="function"?$:n,h==null?h:a1(h,m,w,$)}var FL=GD(Hn),DL=GD(Ai);function Jge(h,m,w){var $=Xe(h),T=$||Wl(h)||rh(h);if(m=He(m,4),w==null){var L=h&&h.constructor;T?w=$?new L:[]:un(h)?w=_u(L)?Z0(Uv(h)):{}:w={}}return(T?Mo:ys)(h,function(B,q,K){return m(w,B,q,K)}),w}function Xge(h,m){return h==null?!0:mE(h,m)}function Kge(h,m,w){return h==null?h:TD(h,m,bE(w))}function Qge(h,m,w,$){return $=typeof $=="function"?$:n,h==null?h:TD(h,m,bE(w),$)}function ih(h){return h==null?[]:KS(h,Hn(h))}function Zge(h){return h==null?[]:KS(h,Ai(h))}function e1e(h,m,w){return w===n&&(w=m,m=n),w!==n&&(w=Lo(w),w=w===w?w:0),m!==n&&(m=Lo(m),m=m===m?m:0),zf(Lo(h),m,w)}function t1e(h,m,w){return m=Su(m),w===n?(w=m,m=0):w=Su(w),h=Lo(h),s0e(h,m,w)}function n1e(h,m,w){if(w&&typeof w!="boolean"&&Hr(h,m,w)&&(m=w=n),w===n&&(typeof m=="boolean"?(w=m,m=n):typeof h=="boolean"&&(w=h,h=n)),h===n&&m===n?(h=0,m=1):(h=Su(h),m===n?(m=h,h=0):m=Su(m)),h>m){var $=h;h=m,m=$}if(w||h%1||m%1){var T=oD();return Ar(h+T*(m-h+Ffe("1e-"+((T+"").length-1))),m)}return hE(h,m)}var r1e=th(function(h,m,w){return m=m.toLowerCase(),h+(w?LL(m):m)});function LL(h){return BE(Nt(h).toLowerCase())}function PL(h){return h=Nt(h),h&&h.replace(ofe,Vfe).replace(Sfe,"")}function i1e(h,m,w){h=Nt(h),m=Zi(m);var $=h.length;w=w===n?$:zf(Ze(w),0,$);var T=w;return w-=m.length,w>=0&&h.slice(w,T)==m}function o1e(h){return h=Nt(h),h&&zce.test(h)?h.replace(pF,Yfe):h}function a1e(h){return h=Nt(h),h&&qce.test(h)?h.replace(DS,"\\$&"):h}var s1e=th(function(h,m,w){return h+(w?"-":"")+m.toLowerCase()}),u1e=th(function(h,m,w){return h+(w?" ":"")+m.toLowerCase()}),l1e=BD("toLowerCase");function c1e(h,m,w){h=Nt(h),m=Ze(m);var $=m?Y0(h):0;if(!m||$>=m)return h;var T=(m-$)/2;return ib(qv(T),w)+h+ib(Hv(T),w)}function f1e(h,m,w){h=Nt(h),m=Ze(m);var $=m?Y0(h):0;return m&&$<m?h+ib(m-$,w):h}function d1e(h,m,w){h=Nt(h),m=Ze(m);var $=m?Y0(h):0;return m&&$<m?ib(m-$,w)+h:h}function h1e(h,m,w){return w||m==null?m=0:m&&(m=+m),xde(Nt(h).replace(LS,""),m||0)}function p1e(h,m,w){return(w?Hr(h,m,w):m===n)?m=1:m=Ze(m),pE(Nt(h),m)}function g1e(){var h=arguments,m=Nt(h[0]);return h.length<3?m:m.replace(h[1],h[2])}var m1e=th(function(h,m,w){return h+(w?"_":"")+m.toLowerCase()});function y1e(h,m,w){return w&&typeof w!="number"&&Hr(h,m,w)&&(m=w=n),w=w===n?X:w>>>0,w?(h=Nt(h),h&&(typeof m=="string"||m!=null&&!PE(m))&&(m=Zi(m),!m&&V0(h))?jl(wa(h),0,w):h.split(m,w)):[]}var v1e=th(function(h,m,w){return h+(w?" ":"")+BE(m)});function b1e(h,m,w){return h=Nt(h),w=w==null?0:zf(Ze(w),0,h.length),m=Zi(m),h.slice(w,w+m.length)==m}function x1e(h,m,w){var $=R.templateSettings;w&&Hr(h,m,w)&&(m=n),h=Nt(h),m=mb({},m,$,VD);var T=mb({},m.imports,$.imports,VD),L=Hn(T),B=KS(T,L),q,K,ue=0,le=m.interpolate||Tv,fe="__p += '",Ce=ZS((m.escape||Tv).source+"|"+le.source+"|"+(le===gF?Zce:Tv).source+"|"+(m.evaluate||Tv).source+"|$","g"),Fe="//# sourceURL="+(Ft.call(m,"sourceURL")?(m.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Tfe+"]")+`
`;h.replace(Ce,function(Ge,at,ht,to,qr,no){return ht||(ht=to),fe+=h.slice(ue,no).replace(afe,Jfe),at&&(q=!0,fe+=`' +
__e(`+at+`) +
'`),qr&&(K=!0,fe+=`';
`+qr+`;
__p += '`),ht&&(fe+=`' +
((__t = (`+ht+`)) == null ? '' : __t) +
'`),ue=no+Ge.length,Ge}),fe+=`';
`;var qe=Ft.call(m,"variable")&&m.variable;if(!qe)fe=`with (obj) {
`+fe+`
}
`;else if(Kce.test(qe))throw new Je(s);fe=(K?fe.replace(Dce,""):fe).replace(Lce,"$1").replace(Pce,"$1;"),fe="function("+(qe||"obj")+`) {
`+(qe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(q?", __e = _.escape":"")+(K?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+fe+`return __p
}`;var tt=zL(function(){return Tt(L,Fe+"return "+fe).apply(n,B)});if(tt.source=fe,LE(tt))throw tt;return tt}function w1e(h){return Nt(h).toLowerCase()}function A1e(h){return Nt(h).toUpperCase()}function _1e(h,m,w){if(h=Nt(h),h&&(w||m===n))return YF(h);if(!h||!(m=Zi(m)))return h;var $=wa(h),T=wa(m),L=JF($,T),B=XF($,T)+1;return jl($,L,B).join("")}function S1e(h,m,w){if(h=Nt(h),h&&(w||m===n))return h.slice(0,QF(h)+1);if(!h||!(m=Zi(m)))return h;var $=wa(h),T=XF($,wa(m))+1;return jl($,0,T).join("")}function E1e(h,m,w){if(h=Nt(h),h&&(w||m===n))return h.replace(LS,"");if(!h||!(m=Zi(m)))return h;var $=wa(h),T=JF($,wa(m));return jl($,T).join("")}function C1e(h,m){var w=N,$=F;if(un(m)){var T="separator"in m?m.separator:T;w="length"in m?Ze(m.length):w,$="omission"in m?Zi(m.omission):$}h=Nt(h);var L=h.length;if(V0(h)){var B=wa(h);L=B.length}if(w>=L)return h;var q=w-Y0($);if(q<1)return $;var K=B?jl(B,0,q).join(""):h.slice(0,q);if(T===n)return K+$;if(B&&(q+=K.length-q),PE(T)){if(h.slice(q).search(T)){var ue,le=K;for(T.global||(T=ZS(T.source,Nt(mF.exec(T))+"g")),T.lastIndex=0;ue=T.exec(le);)var fe=ue.index;K=K.slice(0,fe===n?q:fe)}}else if(h.indexOf(Zi(T),q)!=q){var Ce=K.lastIndexOf(T);Ce>-1&&(K=K.slice(0,Ce))}return K+$}function $1e(h){return h=Nt(h),h&&Ice.test(h)?h.replace(hF,nde):h}var k1e=th(function(h,m,w){return h+(w?" ":"")+m.toUpperCase()}),BE=BD("toUpperCase");function IL(h,m,w){return h=Nt(h),m=w?n:m,m===n?Kfe(h)?ode(h):jfe(h):h.match(m)||[]}var zL=nt(function(h,m){try{return Ki(h,n,m)}catch(w){return LE(w)?w:new Je(w)}}),T1e=wu(function(h,m){return Mo(m,function(w){w=bs(w),bu(h,w,FE(h[w],h))}),h});function M1e(h){var m=h==null?0:h.length,w=He();return h=m?tn(h,function($){if(typeof $[1]!="function")throw new No(a);return[w($[0]),$[1]]}):[],nt(function($){for(var T=-1;++T<m;){var L=h[T];if(Ki(L[0],this,$))return Ki(L[1],this,$)}})}function N1e(h){return n0e(Ro(h,f))}function UE(h){return function(){return h}}function O1e(h,m){return h==null||h!==h?m:h}var R1e=jD(),F1e=jD(!0);function _i(h){return h}function jE(h){return vD(typeof h=="function"?h:Ro(h,f))}function D1e(h){return xD(Ro(h,f))}function L1e(h,m){return wD(h,Ro(m,f))}var P1e=nt(function(h,m){return function(w){return i1(w,h,m)}}),I1e=nt(function(h,m){return function(w){return i1(h,w,m)}});function WE(h,m,w){var $=Hn(m),T=Kv(m,$);w==null&&!(un(m)&&(T.length||!$.length))&&(w=m,m=h,h=this,T=Kv(m,Hn(m)));var L=!(un(w)&&"chain"in w)||!!w.chain,B=_u(h);return Mo(T,function(q){var K=m[q];h[q]=K,B&&(h.prototype[q]=function(){var ue=this.__chain__;if(L||ue){var le=h(this.__wrapped__),fe=le.__actions__=xi(this.__actions__);return fe.push({func:K,args:arguments,thisArg:h}),le.__chain__=ue,le}return K.apply(h,Ll([this.value()],arguments))})}),h}function z1e(){return sr._===this&&(sr._=fde),this}function HE(){}function B1e(h){return h=Ze(h),nt(function(m){return AD(m,h)})}var U1e=wE(tn),j1e=wE(WF),W1e=wE(GS);function BL(h){return kE(h)?VS(bs(h)):b0e(h)}function H1e(h){return function(m){return h==null?n:Bf(h,m)}}var q1e=HD(),G1e=HD(!0);function qE(){return[]}function GE(){return!1}function V1e(){return{}}function Y1e(){return""}function J1e(){return!0}function X1e(h,m){if(h=Ze(h),h<1||h>z)return[];var w=X,$=Ar(h,X);m=He(m),h-=X;for(var T=XS($,m);++w<h;)m(w);return T}function K1e(h){return Xe(h)?tn(h,bs):eo(h)?[h]:xi(aL(Nt(h)))}function Q1e(h){var m=++lde;return Nt(h)+m}var Z1e=rb(function(h,m){return h+m},0),eme=AE("ceil"),tme=rb(function(h,m){return h/m},1),nme=AE("floor");function rme(h){return h&&h.length?Xv(h,_i,sE):n}function ime(h,m){return h&&h.length?Xv(h,He(m,2),sE):n}function ome(h){return GF(h,_i)}function ame(h,m){return GF(h,He(m,2))}function sme(h){return h&&h.length?Xv(h,_i,fE):n}function ume(h,m){return h&&h.length?Xv(h,He(m,2),fE):n}var lme=rb(function(h,m){return h*m},1),cme=AE("round"),fme=rb(function(h,m){return h-m},0);function dme(h){return h&&h.length?JS(h,_i):0}function hme(h,m){return h&&h.length?JS(h,He(m,2)):0}return R.after=Dpe,R.ary=yL,R.assign=Age,R.assignIn=NL,R.assignInWith=mb,R.assignWith=_ge,R.at=Sge,R.before=vL,R.bind=FE,R.bindAll=T1e,R.bindKey=bL,R.castArray=Vpe,R.chain=pL,R.chunk=nhe,R.compact=rhe,R.concat=ihe,R.cond=M1e,R.conforms=N1e,R.constant=UE,R.countBy=dpe,R.create=Ege,R.curry=xL,R.curryRight=wL,R.debounce=AL,R.defaults=Cge,R.defaultsDeep=$ge,R.defer=Lpe,R.delay=Ppe,R.difference=ohe,R.differenceBy=ahe,R.differenceWith=she,R.drop=uhe,R.dropRight=lhe,R.dropRightWhile=che,R.dropWhile=fhe,R.fill=dhe,R.filter=ppe,R.flatMap=ype,R.flatMapDeep=vpe,R.flatMapDepth=bpe,R.flatten=cL,R.flattenDeep=hhe,R.flattenDepth=phe,R.flip=Ipe,R.flow=R1e,R.flowRight=F1e,R.fromPairs=ghe,R.functions=Fge,R.functionsIn=Dge,R.groupBy=xpe,R.initial=yhe,R.intersection=vhe,R.intersectionBy=bhe,R.intersectionWith=xhe,R.invert=Pge,R.invertBy=Ige,R.invokeMap=Ape,R.iteratee=jE,R.keyBy=_pe,R.keys=Hn,R.keysIn=Ai,R.map=cb,R.mapKeys=Bge,R.mapValues=Uge,R.matches=D1e,R.matchesProperty=L1e,R.memoize=db,R.merge=jge,R.mergeWith=OL,R.method=P1e,R.methodOf=I1e,R.mixin=WE,R.negate=hb,R.nthArg=B1e,R.omit=Wge,R.omitBy=Hge,R.once=zpe,R.orderBy=Spe,R.over=U1e,R.overArgs=Bpe,R.overEvery=j1e,R.overSome=W1e,R.partial=DE,R.partialRight=_L,R.partition=Epe,R.pick=qge,R.pickBy=RL,R.property=BL,R.propertyOf=H1e,R.pull=She,R.pullAll=dL,R.pullAllBy=Ehe,R.pullAllWith=Che,R.pullAt=$he,R.range=q1e,R.rangeRight=G1e,R.rearg=Upe,R.reject=kpe,R.remove=khe,R.rest=jpe,R.reverse=OE,R.sampleSize=Mpe,R.set=Vge,R.setWith=Yge,R.shuffle=Npe,R.slice=The,R.sortBy=Fpe,R.sortedUniq=Lhe,R.sortedUniqBy=Phe,R.split=y1e,R.spread=Wpe,R.tail=Ihe,R.take=zhe,R.takeRight=Bhe,R.takeRightWhile=Uhe,R.takeWhile=jhe,R.tap=rpe,R.throttle=Hpe,R.thru=lb,R.toArray=kL,R.toPairs=FL,R.toPairsIn=DL,R.toPath=K1e,R.toPlainObject=ML,R.transform=Jge,R.unary=qpe,R.union=Whe,R.unionBy=Hhe,R.unionWith=qhe,R.uniq=Ghe,R.uniqBy=Vhe,R.uniqWith=Yhe,R.unset=Xge,R.unzip=RE,R.unzipWith=hL,R.update=Kge,R.updateWith=Qge,R.values=ih,R.valuesIn=Zge,R.without=Jhe,R.words=IL,R.wrap=Gpe,R.xor=Xhe,R.xorBy=Khe,R.xorWith=Qhe,R.zip=Zhe,R.zipObject=epe,R.zipObjectDeep=tpe,R.zipWith=npe,R.entries=FL,R.entriesIn=DL,R.extend=NL,R.extendWith=mb,WE(R,R),R.add=Z1e,R.attempt=zL,R.camelCase=r1e,R.capitalize=LL,R.ceil=eme,R.clamp=e1e,R.clone=Ype,R.cloneDeep=Xpe,R.cloneDeepWith=Kpe,R.cloneWith=Jpe,R.conformsTo=Qpe,R.deburr=PL,R.defaultTo=O1e,R.divide=tme,R.endsWith=i1e,R.eq=_a,R.escape=o1e,R.escapeRegExp=a1e,R.every=hpe,R.find=gpe,R.findIndex=uL,R.findKey=kge,R.findLast=mpe,R.findLastIndex=lL,R.findLastKey=Tge,R.floor=nme,R.forEach=gL,R.forEachRight=mL,R.forIn=Mge,R.forInRight=Nge,R.forOwn=Oge,R.forOwnRight=Rge,R.get=IE,R.gt=Zpe,R.gte=ege,R.has=Lge,R.hasIn=zE,R.head=fL,R.identity=_i,R.includes=wpe,R.indexOf=mhe,R.inRange=t1e,R.invoke=zge,R.isArguments=Wf,R.isArray=Xe,R.isArrayBuffer=tge,R.isArrayLike=wi,R.isArrayLikeObject=wn,R.isBoolean=nge,R.isBuffer=Wl,R.isDate=rge,R.isElement=ige,R.isEmpty=oge,R.isEqual=age,R.isEqualWith=sge,R.isError=LE,R.isFinite=uge,R.isFunction=_u,R.isInteger=SL,R.isLength=pb,R.isMap=EL,R.isMatch=lge,R.isMatchWith=cge,R.isNaN=fge,R.isNative=dge,R.isNil=pge,R.isNull=hge,R.isNumber=CL,R.isObject=un,R.isObjectLike=hn,R.isPlainObject=c1,R.isRegExp=PE,R.isSafeInteger=gge,R.isSet=$L,R.isString=gb,R.isSymbol=eo,R.isTypedArray=rh,R.isUndefined=mge,R.isWeakMap=yge,R.isWeakSet=vge,R.join=whe,R.kebabCase=s1e,R.last=Do,R.lastIndexOf=Ahe,R.lowerCase=u1e,R.lowerFirst=l1e,R.lt=bge,R.lte=xge,R.max=rme,R.maxBy=ime,R.mean=ome,R.meanBy=ame,R.min=sme,R.minBy=ume,R.stubArray=qE,R.stubFalse=GE,R.stubObject=V1e,R.stubString=Y1e,R.stubTrue=J1e,R.multiply=lme,R.nth=_he,R.noConflict=z1e,R.noop=HE,R.now=fb,R.pad=c1e,R.padEnd=f1e,R.padStart=d1e,R.parseInt=h1e,R.random=n1e,R.reduce=Cpe,R.reduceRight=$pe,R.repeat=p1e,R.replace=g1e,R.result=Gge,R.round=cme,R.runInContext=Y,R.sample=Tpe,R.size=Ope,R.snakeCase=m1e,R.some=Rpe,R.sortedIndex=Mhe,R.sortedIndexBy=Nhe,R.sortedIndexOf=Ohe,R.sortedLastIndex=Rhe,R.sortedLastIndexBy=Fhe,R.sortedLastIndexOf=Dhe,R.startCase=v1e,R.startsWith=b1e,R.subtract=fme,R.sum=dme,R.sumBy=hme,R.template=x1e,R.times=X1e,R.toFinite=Su,R.toInteger=Ze,R.toLength=TL,R.toLower=w1e,R.toNumber=Lo,R.toSafeInteger=wge,R.toString=Nt,R.toUpper=A1e,R.trim=_1e,R.trimEnd=S1e,R.trimStart=E1e,R.truncate=C1e,R.unescape=$1e,R.uniqueId=Q1e,R.upperCase=k1e,R.upperFirst=BE,R.each=gL,R.eachRight=mL,R.first=fL,WE(R,function(){var h={};return ys(R,function(m,w){Ft.call(R.prototype,w)||(h[w]=m)}),h}(),{chain:!1}),R.VERSION=r,Mo(["bind","bindKey","curry","curryRight","partial","partialRight"],function(h){R[h].placeholder=R}),Mo(["drop","take"],function(h,m){ut.prototype[h]=function(w){w=w===n?1:On(Ze(w),0);var $=this.__filtered__&&!m?new ut(this):this.clone();return $.__filtered__?$.__takeCount__=Ar(w,$.__takeCount__):$.__views__.push({size:Ar(w,X),type:h+($.__dir__<0?"Right":"")}),$},ut.prototype[h+"Right"]=function(w){return this.reverse()[h](w).reverse()}}),Mo(["filter","map","takeWhile"],function(h,m){var w=m+1,$=w==M||w==P;ut.prototype[h]=function(T){var L=this.clone();return L.__iteratees__.push({iteratee:He(T,3),type:w}),L.__filtered__=L.__filtered__||$,L}}),Mo(["head","last"],function(h,m){var w="take"+(m?"Right":"");ut.prototype[h]=function(){return this[w](1).value()[0]}}),Mo(["initial","tail"],function(h,m){var w="drop"+(m?"":"Right");ut.prototype[h]=function(){return this.__filtered__?new ut(this):this[w](1)}}),ut.prototype.compact=function(){return this.filter(_i)},ut.prototype.find=function(h){return this.filter(h).head()},ut.prototype.findLast=function(h){return this.reverse().find(h)},ut.prototype.invokeMap=nt(function(h,m){return typeof h=="function"?new ut(this):this.map(function(w){return i1(w,h,m)})}),ut.prototype.reject=function(h){return this.filter(hb(He(h)))},ut.prototype.slice=function(h,m){h=Ze(h);var w=this;return w.__filtered__&&(h>0||m<0)?new ut(w):(h<0?w=w.takeRight(-h):h&&(w=w.drop(h)),m!==n&&(m=Ze(m),w=m<0?w.dropRight(-m):w.take(m-h)),w)},ut.prototype.takeRightWhile=function(h){return this.reverse().takeWhile(h).reverse()},ut.prototype.toArray=function(){return this.take(X)},ys(ut.prototype,function(h,m){var w=/^(?:filter|find|map|reject)|While$/.test(m),$=/^(?:head|last)$/.test(m),T=R[$?"take"+(m=="last"?"Right":""):m],L=$||/^find/.test(m);T&&(R.prototype[m]=function(){var B=this.__wrapped__,q=$?[1]:arguments,K=B instanceof ut,ue=q[0],le=K||Xe(B),fe=function(at){var ht=T.apply(R,Ll([at],q));return $&&Ce?ht[0]:ht};le&&w&&typeof ue=="function"&&ue.length!=1&&(K=le=!1);var Ce=this.__chain__,Fe=!!this.__actions__.length,qe=L&&!Ce,tt=K&&!Fe;if(!L&&le){B=tt?B:new ut(this);var Ge=h.apply(B,q);return Ge.__actions__.push({func:lb,args:[fe],thisArg:n}),new Oo(Ge,Ce)}return qe&&tt?h.apply(this,q):(Ge=this.thru(fe),qe?$?Ge.value()[0]:Ge.value():Ge)})}),Mo(["pop","push","shift","sort","splice","unshift"],function(h){var m=Dv[h],w=/^(?:push|sort|unshift)$/.test(h)?"tap":"thru",$=/^(?:pop|shift)$/.test(h);R.prototype[h]=function(){var T=arguments;if($&&!this.__chain__){var L=this.value();return m.apply(Xe(L)?L:[],T)}return this[w](function(B){return m.apply(Xe(B)?B:[],T)})}}),ys(ut.prototype,function(h,m){var w=R[m];if(w){var $=w.name+"";Ft.call(Q0,$)||(Q0[$]=[]),Q0[$].push({name:m,func:w})}}),Q0[nb(n,b).name]=[{name:"wrapper",func:n}],ut.prototype.clone=$de,ut.prototype.reverse=kde,ut.prototype.value=Tde,R.prototype.at=ipe,R.prototype.chain=ope,R.prototype.commit=ape,R.prototype.next=spe,R.prototype.plant=lpe,R.prototype.reverse=cpe,R.prototype.toJSON=R.prototype.valueOf=R.prototype.value=fpe,R.prototype.first=R.prototype.head,Kg&&(R.prototype[Kg]=upe),R},J0=ade();Df?((Df.exports=J0)._=J0,jS._=J0):sr._=J0}).call(f1)})(Xw,Xw.exports);var fwe=Xw.exports;function Bm(e){var t=null;if(Array.isArray(e)||(t=e.split(" and ")),t.length==1?t=t[0]:t=t.find(n=>n.includes("Professor")),t=="Chair Professor")return"#0057e7";if(t=="Professor")return"#d62d20";if(t=="Associate Professor")return"#ffa700";if(t=="Assistant Professor")return"#008744"}function dwe(e){var t=null,n=null;Array.isArray(e)||(t=e.split(" and ")),t.length==1?n=t[0]:n=t.find(i=>i.includes("Professor"));var r=t.find(i=>i.includes("Head"));return r||(r="Non-head"),{finalRank:n,head:r}}const rJ=["Chair Professor","Professor","Associate Professor","Assistant Professor"];function js(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yg(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function w0(e){let t,n,r;e.length!==2?(t=js,n=(s,u)=>js(e(s),u),r=(s,u)=>e(s)-u):(t=e===js||e===yg?e:hwe,n=e,r=e);function i(s,u,l=0,c=s.length){if(l<c){if(t(u,u)!==0)return c;do{const f=l+c>>>1;n(s[f],u)<0?l=f+1:c=f}while(l<c)}return l}function o(s,u,l=0,c=s.length){if(l<c){if(t(u,u)!==0)return c;do{const f=l+c>>>1;n(s[f],u)<=0?l=f+1:c=f}while(l<c)}return l}function a(s,u,l=0,c=s.length){const f=i(s,u,l,c-1);return f>l&&r(s[f-1],u)>-r(s[f],u)?f-1:f}return{left:i,center:a,right:o}}function hwe(){return 0}function iJ(e){return e===null?NaN:+e}function*pwe(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const oJ=w0(js),Kw=oJ.right,gwe=oJ.left;w0(iJ).center;const w2=Kw;function mwe(e){return e.length|0}function ywe(e){return!(e>0)}function vwe(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function bwe(e){return t=>e(...t)}function xwe(...e){const t=typeof e[e.length-1]=="function"&&bwe(e.pop());e=e.map(vwe);const n=e.map(mwe),r=e.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||n.some(ywe))return o;for(;;){o.push(i.map((s,u)=>e[u][s]));let a=r;for(;++i[a]===n[a];){if(a===0)return t?o.map(t):o;i[a--]=0}}}function aJ(e,t){let n=0,r,i=0,o=0;if(t===void 0)for(let a of e)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i));else{let a=-1;for(let s of e)(s=t(s,++a,e))!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,o+=r*(s-i))}if(n>1)return o/(n-1)}function sJ(e,t){const n=aJ(e,t);return n&&Math.sqrt(n)}function Tc(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class ai{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],a=t+o,s=Math.abs(t)<Math.abs(o)?t-(a-o):o-(a-t);s&&(n[r++]=s),t=a}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,o,a=0;if(n>0){for(a=t[--n];n>0&&(r=a,i=t[--n],a=r+i,o=i-(a-r),!o););n>0&&(o<0&&t[n-1]<0||o>0&&t[n-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}class Ay extends Map{constructor(t,n=cJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(w4(this,t))}has(t){return super.has(w4(this,t))}set(t,n){return super.set(uJ(this,t),n)}delete(t){return super.delete(lJ(this,t))}}class Uc extends Set{constructor(t,n=cJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(w4(this,t))}add(t){return super.add(uJ(this,t))}delete(t){return super.delete(lJ(this,t))}}function w4({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function uJ({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function lJ({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function cJ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function wwe(e){return e}function _9(e,t,...n){return fJ(e,wwe,t,n)}function Awe(e,t,...n){return fJ(e,Array.from,t,n)}function fJ(e,t,n,r){return function i(o,a){if(a>=r.length)return n(o);const s=new Ay,u=r[a++];let l=-1;for(const c of o){const f=u(c,++l,o),d=s.get(f);d?d.push(c):s.set(f,[c])}for(const[c,f]of s)s.set(c,i(f,a));return t(s)}(e,0)}function dJ(e,t){return Array.from(t,n=>e[n])}function _we(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){const r=Uint32Array.from(e,(i,o)=>o);return t.length>1?(t=t.map(i=>e.map(i)),r.sort((i,o)=>{for(const a of t){const s=Qw(a[i],a[o]);if(s)return s}})):(n=e.map(n),r.sort((i,o)=>Qw(n[i],n[o]))),dJ(e,r)}return e.sort(hJ(n))}function hJ(e=js){if(e===js)return Qw;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Qw(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Swe=Math.sqrt(50),Ewe=Math.sqrt(10),Cwe=Math.sqrt(2);function Zw(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Swe?10:o>=Ewe?5:o>=Cwe?2:1;let s,u,l;return i<0?(l=Math.pow(10,-i)/a,s=Math.round(e*l),u=Math.round(t*l),s/l<e&&++s,u/l>t&&--u,l=-l):(l=Math.pow(10,i)*a,s=Math.round(e/l),u=Math.round(t/l),s*l<e&&++s,u*l>t&&--u),u<s&&.5<=n&&n<2?Zw(e,t,n*2):[s,u,l]}function eA(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,a]=r?Zw(t,e,n):Zw(e,t,n);if(!(o>=i))return[];const s=o-i+1,u=new Array(s);if(r)if(a<0)for(let l=0;l<s;++l)u[l]=(o-l)/-a;else for(let l=0;l<s;++l)u[l]=(o-l)*a;else if(a<0)for(let l=0;l<s;++l)u[l]=(i+l)/-a;else for(let l=0;l<s;++l)u[l]=(i+l)*a;return u}function A4(e,t,n){return t=+t,e=+e,n=+n,Zw(e,t,n)[2]}function jc(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?A4(t,e,n):A4(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function si(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function $we(e,t){let n,r=-1,i=-1;if(t===void 0)for(const o of e)++i,o!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of e)(o=t(o,++i,e))!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);return r}function Sp(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function kwe(e,t){let n,r=-1,i=-1;if(t===void 0)for(const o of e)++i,o!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of e)(o=t(o,++i,e))!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);return r}function pJ(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?Qw:hJ(i);r>n;){if(r-n>600){const u=r-n+1,l=t-n+1,c=Math.log(u),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(u-f)/u)*(l-u/2<0?-1:1),p=Math.max(n,Math.floor(t-l*f/u+d)),g=Math.min(r,Math.floor(t+(u-l)*f/u+d));pJ(e,t,p,g,i)}const o=e[t];let a=n,s=r;for(w1(e,n,t),i(e[r],o)>0&&w1(e,n,r);a<s;){for(w1(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}i(e[n],o)===0?w1(e,n,s):(++s,w1(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function w1(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Ep(e,t,n){if(e=Float64Array.from(pwe(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Sp(e);if(t>=1)return si(e);var r,i=(r-1)*t,o=Math.floor(i),a=si(pJ(e,o).subarray(0,o+1)),s=Sp(e.subarray(o+1));return a+(s-a)*(i-o)}}function gJ(e,t,n=iJ){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e),s=+n(e[o+1],o+1,e);return a+(s-a)*(i-o)}}function mJ(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function _y(e,t){return Ep(e,.5,t)}function*Twe(e){for(const t of e)yield*t}function yJ(e){return Array.from(Twe(e))}function Mwe(e,t){const n=new Ay;if(t===void 0)for(let o of e)o!=null&&o>=o&&n.set(o,(n.get(o)||0)+1);else{let o=-1;for(let a of e)(a=t(a,++o,e))!=null&&a>=a&&n.set(a,(n.get(a)||0)+1)}let r,i=0;for(const[o,a]of n)a>i&&(i=a,r=o);return r}function Nwe(e,t=Owe){const n=[];let r,i=!1;for(const o of e)i&&n.push(t(r,o)),r=o,i=!0;return n}function Owe(e,t){return[e,t]}function Pn(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function A2(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function tA(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function Rwe(e,...t){e=new Uc(e),t=t.map(Fwe);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function Fwe(e){return e instanceof Uc?e:new Uc(e)}function Dwe(...e){const t=new Uc;for(const n of e)for(const r of n)t.add(r);return t}function Lwe(e){return e}var S9=1,E9=2,_4=3,Pb=4,AI=1e-6;function Pwe(e){return"translate("+e+",0)"}function Iwe(e){return"translate(0,"+e+")"}function zwe(e){return t=>+e(t)}function Bwe(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function Uwe(){return!this.__axis}function jwe(e,t){var n=[],r=null,i=null,o=6,a=6,s=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=e===S9||e===Pb?-1:1,c=e===Pb||e===E9?"x":"y",f=e===S9||e===_4?Pwe:Iwe;function d(p){var g=r??(t.ticks?t.ticks.apply(t,n):t.domain()),y=i??(t.tickFormat?t.tickFormat.apply(t,n):Lwe),v=Math.max(o,0)+s,b=t.range(),x=+b[0]+u,_=+b[b.length-1]+u,A=(t.bandwidth?Bwe:zwe)(t.copy(),u),S=p.selection?p.selection():p,C=S.selectAll(".domain").data([null]),E=S.selectAll(".tick").data(g,t).order(),k=E.exit(),O=E.enter().append("g").attr("class","tick"),N=E.select("line"),F=E.select("text");C=C.merge(C.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),E=E.merge(O),N=N.merge(O.append("line").attr("stroke","currentColor").attr(c+"2",l*o)),F=F.merge(O.append("text").attr("fill","currentColor").attr(c,l*v).attr("dy",e===S9?"0em":e===_4?"0.71em":"0.32em")),p!==S&&(C=C.transition(p),E=E.transition(p),N=N.transition(p),F=F.transition(p),k=k.transition(p).attr("opacity",AI).attr("transform",function(W){return isFinite(W=A(W))?f(W+u):this.getAttribute("transform")}),O.attr("opacity",AI).attr("transform",function(W){var I=this.parentNode.__axis;return f((I&&isFinite(I=I(W))?I:A(W))+u)})),k.remove(),C.attr("d",e===Pb||e===E9?a?"M"+l*a+","+x+"H"+u+"V"+_+"H"+l*a:"M"+u+","+x+"V"+_:a?"M"+x+","+l*a+"V"+u+"H"+_+"V"+l*a:"M"+x+","+u+"H"+_),E.attr("opacity",1).attr("transform",function(W){return f(A(W)+u)}),N.attr(c+"2",l*o),F.attr(c,l*v).text(y),S.filter(Uwe).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===E9?"start":e===Pb?"end":"middle"),S.each(function(){this.__axis=A})}return d.scale=function(p){return arguments.length?(t=p,d):t},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(p){return arguments.length?(n=p==null?[]:Array.from(p),d):n.slice()},d.tickValues=function(p){return arguments.length?(r=p==null?null:Array.from(p),d):r&&r.slice()},d.tickFormat=function(p){return arguments.length?(i=p,d):i},d.tickSize=function(p){return arguments.length?(o=a=+p,d):o},d.tickSizeInner=function(p){return arguments.length?(o=+p,d):o},d.tickSizeOuter=function(p){return arguments.length?(a=+p,d):a},d.tickPadding=function(p){return arguments.length?(s=+p,d):s},d.offset=function(p){return arguments.length?(u=+p,d):u},d}function Wwe(e){return jwe(_4,e)}var Hwe={value:()=>{}};function _2(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Jx(n)}function Jx(e){this._=e}function qwe(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Jx.prototype=_2.prototype={constructor:Jx,on:function(e,t){var n=this._,r=qwe(e+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(e=r[o]).type)&&(i=Gwe(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=r[o]).type)n[i]=_I(n[i],e.name,t);else if(t==null)for(i in n)n[i]=_I(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Jx(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function Gwe(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function _I(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Hwe,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var S4="http://www.w3.org/1999/xhtml";const Cp={svg:"http://www.w3.org/2000/svg",xhtml:S4,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function o3(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Cp.hasOwnProperty(t)?{space:Cp[t],local:e}:e}function Vwe(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===S4&&t.documentElement.namespaceURI===S4?t.createElement(e):t.createElementNS(n,e)}}function Ywe(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function a3(e){var t=o3(e);return(t.local?Ywe:Vwe)(t)}function Jwe(){}function s7(e){return e==null?Jwe:function(){return this.querySelector(e)}}function Xwe(e){typeof e!="function"&&(e=s7(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=new Array(a),u,l,c=0;c<a;++c)(u=o[c])&&(l=e.call(u,u.__data__,c,o))&&("__data__"in u&&(l.__data__=u.__data__),s[c]=l);return new ci(r,this._parents)}function vJ(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Kwe(){return[]}function bJ(e){return e==null?Kwe:function(){return this.querySelectorAll(e)}}function Qwe(e){return function(){return vJ(e.apply(this,arguments))}}function Zwe(e){typeof e=="function"?e=Qwe(e):e=bJ(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a=t[o],s=a.length,u,l=0;l<s;++l)(u=a[l])&&(r.push(e.call(u,u.__data__,l,a)),i.push(u));return new ci(r,i)}function xJ(e){return function(){return this.matches(e)}}function wJ(e){return function(t){return t.matches(e)}}var eAe=Array.prototype.find;function tAe(e){return function(){return eAe.call(this.children,e)}}function nAe(){return this.firstElementChild}function rAe(e){return this.select(e==null?nAe:tAe(typeof e=="function"?e:wJ(e)))}var iAe=Array.prototype.filter;function oAe(){return Array.from(this.children)}function aAe(e){return function(){return iAe.call(this.children,e)}}function sAe(e){return this.selectAll(e==null?oAe:aAe(typeof e=="function"?e:wJ(e)))}function uAe(e){typeof e!="function"&&(e=xJ(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],u,l=0;l<a;++l)(u=o[l])&&e.call(u,u.__data__,l,o)&&s.push(u);return new ci(r,this._parents)}function AJ(e){return new Array(e.length)}function lAe(){return new ci(this._enter||this._groups.map(AJ),this._parents)}function nA(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}nA.prototype={constructor:nA,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function cAe(e){return function(){return e}}function fAe(e,t,n,r,i,o){for(var a=0,s,u=t.length,l=o.length;a<l;++a)(s=t[a])?(s.__data__=o[a],r[a]=s):n[a]=new nA(e,o[a]);for(;a<u;++a)(s=t[a])&&(i[a]=s)}function dAe(e,t,n,r,i,o,a){var s,u,l=new Map,c=t.length,f=o.length,d=new Array(c),p;for(s=0;s<c;++s)(u=t[s])&&(d[s]=p=a.call(u,u.__data__,s,t)+"",l.has(p)?i[s]=u:l.set(p,u));for(s=0;s<f;++s)p=a.call(e,o[s],s,o)+"",(u=l.get(p))?(r[s]=u,u.__data__=o[s],l.delete(p)):n[s]=new nA(e,o[s]);for(s=0;s<c;++s)(u=t[s])&&l.get(d[s])===u&&(i[s]=u)}function hAe(e){return e.__data__}function pAe(e,t){if(!arguments.length)return Array.from(this,hAe);var n=t?dAe:fAe,r=this._parents,i=this._groups;typeof e!="function"&&(e=cAe(e));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),l=0;l<o;++l){var c=r[l],f=i[l],d=f.length,p=gAe(e.call(c,c&&c.__data__,l,r)),g=p.length,y=s[l]=new Array(g),v=a[l]=new Array(g),b=u[l]=new Array(d);n(c,f,y,v,b,p,t);for(var x=0,_=0,A,S;x<g;++x)if(A=y[x]){for(x>=_&&(_=x+1);!(S=v[_])&&++_<g;);A._next=S||null}}return a=new ci(a,r),a._enter=s,a._exit=u,a}function gAe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function mAe(){return new ci(this._exit||this._groups.map(AJ),this._parents)}function yAe(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function vAe(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var l=n[u],c=r[u],f=l.length,d=s[u]=new Array(f),p,g=0;g<f;++g)(p=l[g]||c[g])&&(d[g]=p);for(;u<i;++u)s[u]=n[u];return new ci(s,this._parents)}function bAe(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function xAe(e){e||(e=wAe);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,u=i[o]=new Array(s),l,c=0;c<s;++c)(l=a[c])&&(u[c]=l);u.sort(t)}return new ci(i,this._parents).order()}function wAe(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function AAe(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function _Ae(){return Array.from(this)}function SAe(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function EAe(){let e=0;for(const t of this)++e;return e}function CAe(){return!this.node()}function $Ae(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&e.call(s,s.__data__,o,i);return this}function kAe(e){return function(){this.removeAttribute(e)}}function TAe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function MAe(e,t){return function(){this.setAttribute(e,t)}}function NAe(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function OAe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function RAe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function FAe(e,t){var n=o3(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?TAe:kAe:typeof t=="function"?n.local?RAe:OAe:n.local?NAe:MAe)(n,t))}function _J(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function DAe(e){return function(){this.style.removeProperty(e)}}function LAe(e,t,n){return function(){this.style.setProperty(e,t,n)}}function PAe(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function IAe(e,t,n){return arguments.length>1?this.each((t==null?DAe:typeof t=="function"?PAe:LAe)(e,t,n??"")):$p(this.node(),e)}function $p(e,t){return e.style.getPropertyValue(t)||_J(e).getComputedStyle(e,null).getPropertyValue(t)}function zAe(e){return function(){delete this[e]}}function BAe(e,t){return function(){this[e]=t}}function UAe(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function jAe(e,t){return arguments.length>1?this.each((t==null?zAe:typeof t=="function"?UAe:BAe)(e,t)):this.node()[e]}function SJ(e){return e.trim().split(/^|\s+/)}function u7(e){return e.classList||new EJ(e)}function EJ(e){this._node=e,this._names=SJ(e.getAttribute("class")||"")}EJ.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function CJ(e,t){for(var n=u7(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function $J(e,t){for(var n=u7(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function WAe(e){return function(){CJ(this,e)}}function HAe(e){return function(){$J(this,e)}}function qAe(e,t){return function(){(t.apply(this,arguments)?CJ:$J)(this,e)}}function GAe(e,t){var n=SJ(e+"");if(arguments.length<2){for(var r=u7(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?qAe:t?WAe:HAe)(n,t))}function VAe(){this.textContent=""}function YAe(e){return function(){this.textContent=e}}function JAe(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function XAe(e){return arguments.length?this.each(e==null?VAe:(typeof e=="function"?JAe:YAe)(e)):this.node().textContent}function KAe(){this.innerHTML=""}function QAe(e){return function(){this.innerHTML=e}}function ZAe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function e_e(e){return arguments.length?this.each(e==null?KAe:(typeof e=="function"?ZAe:QAe)(e)):this.node().innerHTML}function t_e(){this.nextSibling&&this.parentNode.appendChild(this)}function n_e(){return this.each(t_e)}function r_e(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function i_e(){return this.each(r_e)}function o_e(e){var t=typeof e=="function"?e:a3(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function a_e(){return null}function s_e(e,t){var n=typeof e=="function"?e:a3(e),r=t==null?a_e:typeof t=="function"?t:s7(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function u_e(){var e=this.parentNode;e&&e.removeChild(this)}function l_e(){return this.each(u_e)}function c_e(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function f_e(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function d_e(e){return this.select(e?f_e:c_e)}function h_e(e){return arguments.length?this.property("__data__",e):this.node().__data__}function p_e(e){return function(t){e.call(this,t,this.__data__)}}function g_e(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function m_e(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function y_e(e,t,n){return function(){var r=this.__on,i,o=p_e(t);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function v_e(e,t,n){var r=g_e(e+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,l=s.length,c;u<l;++u)for(i=0,c=s[u];i<o;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(s=t?y_e:m_e,i=0;i<o;++i)this.each(s(r[i],t,n));return this}function kJ(e,t,n){var r=_J(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function b_e(e,t){return function(){return kJ(this,e,t)}}function x_e(e,t){return function(){return kJ(this,e,t.apply(this,arguments))}}function w_e(e,t){return this.each((typeof t=="function"?x_e:b_e)(e,t))}function*A_e(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var l7=[null];function ci(e,t){this._groups=e,this._parents=t}function S2(){return new ci([[document.documentElement]],l7)}function __e(){return this}ci.prototype=S2.prototype={constructor:ci,select:Xwe,selectAll:Zwe,selectChild:rAe,selectChildren:sAe,filter:uAe,data:pAe,enter:lAe,exit:mAe,join:yAe,merge:vAe,selection:__e,order:bAe,sort:xAe,call:AAe,nodes:_Ae,node:SAe,size:EAe,empty:CAe,each:$Ae,attr:FAe,style:IAe,property:jAe,classed:GAe,text:XAe,html:e_e,raise:n_e,lower:i_e,append:o_e,insert:s_e,remove:l_e,clone:d_e,datum:h_e,on:v_e,dispatch:w_e,[Symbol.iterator]:A_e};function It(e){return typeof e=="string"?new ci([[document.querySelector(e)]],[document.documentElement]):new ci([[e]],l7)}function S_e(e){let t;for(;t=e.sourceEvent;)e=t;return e}function $s(e,t){if(e=S_e(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function SI(e){return typeof e=="string"?new ci([document.querySelectorAll(e)],[document.documentElement]):new ci([vJ(e)],l7)}const E_e={passive:!1},Sy={capture:!0,passive:!1};function C9(e){e.stopImmediatePropagation()}function Zh(e){e.preventDefault(),e.stopImmediatePropagation()}function TJ(e){var t=e.document.documentElement,n=It(e).on("dragstart.drag",Zh,Sy);"onselectstart"in t?n.on("selectstart.drag",Zh,Sy):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function MJ(e,t){var n=e.document.documentElement,r=It(e).on("dragstart.drag",null);t&&(r.on("click.drag",Zh,Sy),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Ib=e=>()=>e;function E4(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:u,dy:l,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:c}})}E4.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function C_e(e){return!e.ctrlKey&&!e.button}function $_e(){return this.parentNode}function k_e(e,t){return t??{x:e.x,y:e.y}}function T_e(){return navigator.maxTouchPoints||"ontouchstart"in this}function M_e(){var e=C_e,t=$_e,n=k_e,r=T_e,i={},o=_2("start","drag","end"),a=0,s,u,l,c,f=0;function d(A){A.on("mousedown.drag",p).filter(r).on("touchstart.drag",v).on("touchmove.drag",b,E_e).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(A,S){if(!(c||!e.call(this,A,S))){var C=_(this,t.call(this,A,S),A,S,"mouse");C&&(It(A.view).on("mousemove.drag",g,Sy).on("mouseup.drag",y,Sy),TJ(A.view),C9(A),l=!1,s=A.clientX,u=A.clientY,C("start",A))}}function g(A){if(Zh(A),!l){var S=A.clientX-s,C=A.clientY-u;l=S*S+C*C>f}i.mouse("drag",A)}function y(A){It(A.view).on("mousemove.drag mouseup.drag",null),MJ(A.view,l),Zh(A),i.mouse("end",A)}function v(A,S){if(e.call(this,A,S)){var C=A.changedTouches,E=t.call(this,A,S),k=C.length,O,N;for(O=0;O<k;++O)(N=_(this,E,A,S,C[O].identifier,C[O]))&&(C9(A),N("start",A,C[O]))}}function b(A){var S=A.changedTouches,C=S.length,E,k;for(E=0;E<C;++E)(k=i[S[E].identifier])&&(Zh(A),k("drag",A,S[E]))}function x(A){var S=A.changedTouches,C=S.length,E,k;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),E=0;E<C;++E)(k=i[S[E].identifier])&&(C9(A),k("end",A,S[E]))}function _(A,S,C,E,k,O){var N=o.copy(),F=$s(O||C,S),W,I,M;if((M=n.call(A,new E4("beforestart",{sourceEvent:C,target:d,identifier:k,active:a,x:F[0],y:F[1],dx:0,dy:0,dispatch:N}),E))!=null)return W=M.x-F[0]||0,I=M.y-F[1]||0,function D(P,U,z){var H=F,j;switch(P){case"start":i[k]=D,j=a++;break;case"end":delete i[k],--a;case"drag":F=$s(z||U,S),j=a;break}N.call(P,A,new E4(P,{sourceEvent:U,subject:M,target:d,identifier:k,active:j,x:F[0]+W,y:F[1]+I,dx:F[0]-H[0],dy:F[1]-H[1],dispatch:N}),E)}}return d.filter=function(A){return arguments.length?(e=typeof A=="function"?A:Ib(!!A),d):e},d.container=function(A){return arguments.length?(t=typeof A=="function"?A:Ib(A),d):t},d.subject=function(A){return arguments.length?(n=typeof A=="function"?A:Ib(A),d):n},d.touchable=function(A){return arguments.length?(r=typeof A=="function"?A:Ib(!!A),d):r},d.on=function(){var A=o.on.apply(o,arguments);return A===o?d:A},d.clickDistance=function(A){return arguments.length?(f=(A=+A)*A,d):Math.sqrt(f)},d}function vg(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function E2(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function mf(){}var Hd=.7,kp=1/Hd,ep="\\s*([+-]?\\d+)\\s*",Ey="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ws="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",N_e=/^#([0-9a-f]{3,8})$/,O_e=new RegExp(`^rgb\\(${ep},${ep},${ep}\\)$`),R_e=new RegExp(`^rgb\\(${Ws},${Ws},${Ws}\\)$`),F_e=new RegExp(`^rgba\\(${ep},${ep},${ep},${Ey}\\)$`),D_e=new RegExp(`^rgba\\(${Ws},${Ws},${Ws},${Ey}\\)$`),L_e=new RegExp(`^hsl\\(${Ey},${Ws},${Ws}\\)$`),P_e=new RegExp(`^hsla\\(${Ey},${Ws},${Ws},${Ey}\\)$`),EI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vg(mf,qd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:CI,formatHex:CI,formatHex8:I_e,formatHsl:z_e,formatRgb:$I,toString:$I});function CI(){return this.rgb().formatHex()}function I_e(){return this.rgb().formatHex8()}function z_e(){return NJ(this).formatHsl()}function $I(){return this.rgb().formatRgb()}function qd(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=N_e.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?kI(t):n===3?new Kn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?zb(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?zb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=O_e.exec(e))?new Kn(t[1],t[2],t[3],1):(t=R_e.exec(e))?new Kn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=F_e.exec(e))?zb(t[1],t[2],t[3],t[4]):(t=D_e.exec(e))?zb(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=L_e.exec(e))?NI(t[1],t[2]/100,t[3]/100,1):(t=P_e.exec(e))?NI(t[1],t[2]/100,t[3]/100,t[4]):EI.hasOwnProperty(e)?kI(EI[e]):e==="transparent"?new Kn(NaN,NaN,NaN,0):null}function kI(e){return new Kn(e>>16&255,e>>8&255,e&255,1)}function zb(e,t,n,r){return r<=0&&(e=t=n=NaN),new Kn(e,t,n,r)}function c7(e){return e instanceof mf||(e=qd(e)),e?(e=e.rgb(),new Kn(e.r,e.g,e.b,e.opacity)):new Kn}function oa(e,t,n,r){return arguments.length===1?c7(e):new Kn(e,t,n,r??1)}function Kn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}vg(Kn,oa,E2(mf,{brighter(e){return e=e==null?kp:Math.pow(kp,e),new Kn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Hd:Math.pow(Hd,e),new Kn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Kn($d(this.r),$d(this.g),$d(this.b),rA(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:TI,formatHex:TI,formatHex8:B_e,formatRgb:MI,toString:MI}));function TI(){return`#${md(this.r)}${md(this.g)}${md(this.b)}`}function B_e(){return`#${md(this.r)}${md(this.g)}${md(this.b)}${md((isNaN(this.opacity)?1:this.opacity)*255)}`}function MI(){const e=rA(this.opacity);return`${e===1?"rgb(":"rgba("}${$d(this.r)}, ${$d(this.g)}, ${$d(this.b)}${e===1?")":`, ${e})`}`}function rA(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function $d(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function md(e){return e=$d(e),(e<16?"0":"")+e.toString(16)}function NI(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ia(e,t,n,r)}function NJ(e){if(e instanceof Ia)return new Ia(e.h,e.s,e.l,e.opacity);if(e instanceof mf||(e=qd(e)),!e)return new Ia;if(e instanceof Ia)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(t===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-t)/s+2:a=(t-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new Ia(a,s,u,e.opacity)}function iA(e,t,n,r){return arguments.length===1?NJ(e):new Ia(e,t,n,r??1)}function Ia(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}vg(Ia,iA,E2(mf,{brighter(e){return e=e==null?kp:Math.pow(kp,e),new Ia(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Hd:Math.pow(Hd,e),new Ia(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Kn($9(e>=240?e-240:e+120,i,r),$9(e,i,r),$9(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ia(OI(this.h),Bb(this.s),Bb(this.l),rA(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=rA(this.opacity);return`${e===1?"hsl(":"hsla("}${OI(this.h)}, ${Bb(this.s)*100}%, ${Bb(this.l)*100}%${e===1?")":`, ${e})`}`}}));function OI(e){return e=(e||0)%360,e<0?e+360:e}function Bb(e){return Math.max(0,Math.min(1,e||0))}function $9(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const OJ=Math.PI/180,RJ=180/Math.PI,oA=18,FJ=.96422,DJ=1,LJ=.82521,PJ=4/29,tp=6/29,IJ=3*tp*tp,U_e=tp*tp*tp;function zJ(e){if(e instanceof Hs)return new Hs(e.l,e.a,e.b,e.opacity);if(e instanceof Yu)return BJ(e);e instanceof Kn||(e=c7(e));var t=N9(e.r),n=N9(e.g),r=N9(e.b),i=k9((.2225045*t+.7168786*n+.0606169*r)/DJ),o,a;return t===n&&n===r?o=a=i:(o=k9((.4360747*t+.3850649*n+.1430804*r)/FJ),a=k9((.0139322*t+.0971045*n+.7141733*r)/LJ)),new Hs(116*i-16,500*(o-i),200*(i-a),e.opacity)}function aA(e,t,n,r){return arguments.length===1?zJ(e):new Hs(e,t,n,r??1)}function Hs(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}vg(Hs,aA,E2(mf,{brighter(e){return new Hs(this.l+oA*(e??1),this.a,this.b,this.opacity)},darker(e){return new Hs(this.l-oA*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=FJ*T9(t),e=DJ*T9(e),n=LJ*T9(n),new Kn(M9(3.1338561*t-1.6168667*e-.4906146*n),M9(-.9787684*t+1.9161415*e+.033454*n),M9(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function k9(e){return e>U_e?Math.pow(e,1/3):e/IJ+PJ}function T9(e){return e>tp?e*e*e:IJ*(e-PJ)}function M9(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function N9(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function j_e(e){if(e instanceof Yu)return new Yu(e.h,e.c,e.l,e.opacity);if(e instanceof Hs||(e=zJ(e)),e.a===0&&e.b===0)return new Yu(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*RJ;return new Yu(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function sA(e,t,n,r){return arguments.length===1?j_e(e):new Yu(e,t,n,r??1)}function Yu(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function BJ(e){if(isNaN(e.h))return new Hs(e.l,0,0,e.opacity);var t=e.h*OJ;return new Hs(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}vg(Yu,sA,E2(mf,{brighter(e){return new Yu(this.h,this.c,this.l+oA*(e??1),this.opacity)},darker(e){return new Yu(this.h,this.c,this.l-oA*(e??1),this.opacity)},rgb(){return BJ(this).rgb()}}));var UJ=-.14861,f7=1.78277,d7=-.29227,s3=-.90649,Cy=1.97294,RI=Cy*s3,FI=Cy*f7,DI=f7*d7-s3*UJ;function W_e(e){if(e instanceof kd)return new kd(e.h,e.s,e.l,e.opacity);e instanceof Kn||(e=c7(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(DI*r+RI*t-FI*n)/(DI+RI-FI),o=r-i,a=(Cy*(n-i)-d7*o)/s3,s=Math.sqrt(a*a+o*o)/(Cy*i*(1-i)),u=s?Math.atan2(a,o)*RJ-120:NaN;return new kd(u<0?u+360:u,s,i,e.opacity)}function Js(e,t,n,r){return arguments.length===1?W_e(e):new kd(e,t,n,r??1)}function kd(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}vg(kd,Js,E2(mf,{brighter(e){return e=e==null?kp:Math.pow(kp,e),new kd(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Hd:Math.pow(Hd,e),new kd(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*OJ,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new Kn(255*(t+n*(UJ*r+f7*i)),255*(t+n*(d7*r+s3*i)),255*(t+n*(Cy*r)),this.opacity)}}));function jJ(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}function WJ(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return jJ((n-r/t)*t,a,i,o,s)}}function HJ(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return jJ((n-r/t)*t,i,o,a,s)}}const u3=e=>()=>e;function qJ(e,t){return function(n){return e+n*t}}function H_e(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function l3(e,t){var n=t-e;return n?qJ(e,n>180||n<-180?n-360*Math.round(n/360):n):u3(isNaN(e)?t:e)}function q_e(e){return(e=+e)==1?Qn:function(t,n){return n-t?H_e(t,n,e):u3(isNaN(t)?n:t)}}function Qn(e,t){var n=t-e;return n?qJ(e,n):u3(isNaN(e)?t:e)}const Wc=function e(t){var n=q_e(t);function r(i,o){var a=n((i=oa(i)).r,(o=oa(o)).r),s=n(i.g,o.g),u=n(i.b,o.b),l=Qn(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=e,r}(1);function GJ(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),o=new Array(n),a,s;for(a=0;a<n;++a)s=oa(t[a]),r[a]=s.r||0,i[a]=s.g||0,o[a]=s.b||0;return r=e(r),i=e(i),o=e(o),s.opacity=1,function(u){return s.r=r(u),s.g=i(u),s.b=o(u),s+""}}}var VJ=GJ(WJ),G_e=GJ(HJ);function h7(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function YJ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function V_e(e,t){return(YJ(t)?h7:JJ)(e,t)}function JJ(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=yf(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function XJ(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function fr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function KJ(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=yf(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var C4=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,O9=new RegExp(C4.source,"g");function Y_e(e){return function(){return e}}function J_e(e){return function(t){return e(t)+""}}function p7(e,t){var n=C4.lastIndex=O9.lastIndex=0,r,i,o,a=-1,s=[],u=[];for(e=e+"",t=t+"";(r=C4.exec(e))&&(i=O9.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,u.push({i:a,x:fr(r,i)})),n=O9.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?J_e(u[0].x):Y_e(t):(t=u.length,function(l){for(var c=0,f;c<t;++c)s[(f=u[c]).i]=f.x(l);return s.join("")})}function yf(e,t){var n=typeof t,r;return t==null||n==="boolean"?u3(t):(n==="number"?fr:n==="string"?(r=qd(t))?(t=r,Wc):p7:t instanceof qd?Wc:t instanceof Date?XJ:YJ(t)?h7:Array.isArray(t)?JJ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?KJ:fr)(e,t)}function X_e(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function K_e(e,t){var n=l3(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function bg(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var LI=180/Math.PI,$4={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function QJ(e,t,n,r,i,o){var a,s,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),e*r<t*n&&(e=-e,t=-t,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*LI,skewX:Math.atan(u)*LI,scaleX:a,scaleY:s}}var Ub;function Q_e(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?$4:QJ(t.a,t.b,t.c,t.d,t.e,t.f)}function Z_e(e){return e==null||(Ub||(Ub=document.createElementNS("http://www.w3.org/2000/svg","g")),Ub.setAttribute("transform",e),!(e=Ub.transform.baseVal.consolidate()))?$4:(e=e.matrix,QJ(e.a,e.b,e.c,e.d,e.e,e.f))}function ZJ(e,t,n,r){function i(l){return l.length?l.pop()+" ":""}function o(l,c,f,d,p,g){if(l!==f||c!==d){var y=p.push("translate(",null,t,null,n);g.push({i:y-4,x:fr(l,f)},{i:y-2,x:fr(c,d)})}else(f||d)&&p.push("translate("+f+t+d+n)}function a(l,c,f,d){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:fr(l,c)})):c&&f.push(i(f)+"rotate("+c+r)}function s(l,c,f,d){l!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:fr(l,c)}):c&&f.push(i(f)+"skewX("+c+r)}function u(l,c,f,d,p,g){if(l!==f||c!==d){var y=p.push(i(p)+"scale(",null,",",null,")");g.push({i:y-4,x:fr(l,f)},{i:y-2,x:fr(c,d)})}else(f!==1||d!==1)&&p.push(i(p)+"scale("+f+","+d+")")}return function(l,c){var f=[],d=[];return l=e(l),c=e(c),o(l.translateX,l.translateY,c.translateX,c.translateY,f,d),a(l.rotate,c.rotate,f,d),s(l.skewX,c.skewX,f,d),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,f,d),l=c=null,function(p){for(var g=-1,y=d.length,v;++g<y;)f[(v=d[g]).i]=v.x(p);return f.join("")}}}var eX=ZJ(Q_e,"px, ","px)","deg)"),tX=ZJ(Z_e,", ",")",")"),e3e=1e-12;function PI(e){return((e=Math.exp(e))+1/e)/2}function t3e(e){return((e=Math.exp(e))-1/e)/2}function n3e(e){return((e=Math.exp(2*e))-1)/(e+1)}const nX=function e(t,n,r){function i(o,a){var s=o[0],u=o[1],l=o[2],c=a[0],f=a[1],d=a[2],p=c-s,g=f-u,y=p*p+g*g,v,b;if(y<e3e)b=Math.log(d/l)/t,v=function(E){return[s+E*p,u+E*g,l*Math.exp(t*E*b)]};else{var x=Math.sqrt(y),_=(d*d-l*l+r*y)/(2*l*n*x),A=(d*d-l*l-r*y)/(2*d*n*x),S=Math.log(Math.sqrt(_*_+1)-_),C=Math.log(Math.sqrt(A*A+1)-A);b=(C-S)/t,v=function(E){var k=E*b,O=PI(S),N=l/(n*x)*(O*n3e(t*k+S)-t3e(S));return[s+N*p,u+N*g,l*O/PI(t*k+S)]}}return v.duration=b*1e3*t/Math.SQRT2,v}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,u=s*s;return e(a,s,u)},i}(Math.SQRT2,2,4);function rX(e){return function(t,n){var r=e((t=iA(t)).h,(n=iA(n)).h),i=Qn(t.s,n.s),o=Qn(t.l,n.l),a=Qn(t.opacity,n.opacity);return function(s){return t.h=r(s),t.s=i(s),t.l=o(s),t.opacity=a(s),t+""}}}const iX=rX(l3);var r3e=rX(Qn);function oX(e,t){var n=Qn((e=aA(e)).l,(t=aA(t)).l),r=Qn(e.a,t.a),i=Qn(e.b,t.b),o=Qn(e.opacity,t.opacity);return function(a){return e.l=n(a),e.a=r(a),e.b=i(a),e.opacity=o(a),e+""}}function aX(e){return function(t,n){var r=e((t=sA(t)).h,(n=sA(n)).h),i=Qn(t.c,n.c),o=Qn(t.l,n.l),a=Qn(t.opacity,n.opacity);return function(s){return t.h=r(s),t.c=i(s),t.l=o(s),t.opacity=a(s),t+""}}}const sX=aX(l3);var i3e=aX(Qn);function uX(e){return function t(n){n=+n;function r(i,o){var a=e((i=Js(i)).h,(o=Js(o)).h),s=Qn(i.s,o.s),u=Qn(i.l,o.l),l=Qn(i.opacity,o.opacity);return function(c){return i.h=a(c),i.s=s(c),i.l=u(Math.pow(c,n)),i.opacity=l(c),i+""}}return r.gamma=t,r}(1)}const o3e=uX(l3);var c3=uX(Qn);function xg(e,t){t===void 0&&(t=e,e=yf);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function aa(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const a3e=Object.freeze(Object.defineProperty({__proto__:null,interpolate:yf,interpolateArray:V_e,interpolateBasis:WJ,interpolateBasisClosed:HJ,interpolateCubehelix:o3e,interpolateCubehelixLong:c3,interpolateDate:XJ,interpolateDiscrete:X_e,interpolateHcl:sX,interpolateHclLong:i3e,interpolateHsl:iX,interpolateHslLong:r3e,interpolateHue:K_e,interpolateLab:oX,interpolateNumber:fr,interpolateNumberArray:h7,interpolateObject:KJ,interpolateRgb:Wc,interpolateRgbBasis:VJ,interpolateRgbBasisClosed:G_e,interpolateRound:bg,interpolateString:p7,interpolateTransformCss:eX,interpolateTransformSvg:tX,interpolateZoom:nX,piecewise:xg,quantize:aa},Symbol.toStringTag,{value:"Module"}));var Tp=0,rm=0,A1=0,lX=1e3,uA,im,lA=0,Gd=0,f3=0,$y=typeof performance=="object"&&performance.now?performance:Date,cX=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function d3(){return Gd||(cX(s3e),Gd=$y.now()+f3)}function s3e(){Gd=0}function ky(){this._call=this._time=this._next=null}ky.prototype=g7.prototype={constructor:ky,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?d3():+n)+(t==null?0:+t),!this._next&&im!==this&&(im?im._next=this:uA=this,im=this),this._call=e,this._time=n,k4()},stop:function(){this._call&&(this._call=null,this._time=1/0,k4())}};function g7(e,t,n){var r=new ky;return r.restart(e,t,n),r}function u3e(){d3(),++Tp;for(var e=uA,t;e;)(t=Gd-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Tp}function II(){Gd=(lA=$y.now())+f3,Tp=rm=0;try{u3e()}finally{Tp=0,c3e(),Gd=0}}function l3e(){var e=$y.now(),t=e-lA;t>lX&&(f3-=t,lA=e)}function c3e(){for(var e,t=uA,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:uA=n);im=e,k4(r)}function k4(e){if(!Tp){rm&&(rm=clearTimeout(rm));var t=e-Gd;t>24?(e<1/0&&(rm=setTimeout(II,e-$y.now()-f3)),A1&&(A1=clearInterval(A1))):(A1||(lA=$y.now(),A1=setInterval(l3e,lX)),Tp=1,cX(II))}}function zI(e,t,n){var r=new ky;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}function f3e(e,t,n){var r=new ky,i=t;return t==null?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(o,a,s){a=+a,s=s==null?d3():+s,r._restart(function u(l){l+=i,r._restart(u,i+=a,s),o(l)},a,s)},r.restart(e,t,n),r)}var d3e=_2("start","end","cancel","interrupt"),h3e=[],fX=0,BI=1,T4=2,Xx=3,UI=4,M4=5,Kx=6;function h3(e,t,n,r,i,o){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;p3e(e,n,{name:t,index:r,group:i,on:d3e,tween:h3e,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:fX})}function m7(e,t){var n=os(e,t);if(n.state>fX)throw new Error("too late; already scheduled");return n}function iu(e,t){var n=os(e,t);if(n.state>Xx)throw new Error("too late; already running");return n}function os(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function p3e(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=g7(o,0,n.time);function o(l){n.state=BI,n.timer.restart(a,n.delay,n.time),n.delay<=l&&a(l-n.delay)}function a(l){var c,f,d,p;if(n.state!==BI)return u();for(c in r)if(p=r[c],p.name===n.name){if(p.state===Xx)return zI(a);p.state===UI?(p.state=Kx,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[c]):+c<t&&(p.state=Kx,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete r[c])}if(zI(function(){n.state===Xx&&(n.state=UI,n.timer.restart(s,n.delay,n.time),s(l))}),n.state=T4,n.on.call("start",e,e.__data__,n.index,n.group),n.state===T4){for(n.state=Xx,i=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(p=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=p);i.length=f+1}}function s(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=M4,1),f=-1,d=i.length;++f<d;)i[f].call(e,c);n.state===M4&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=Kx,n.timer.stop(),delete r[t];for(var l in r)return;delete e.__transition}}function Qx(e,t){var n=e.__transition,r,i,o=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){o=!1;continue}i=r.state>T4&&r.state<M4,r.state=Kx,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}o&&delete e.__transition}}function g3e(e){return this.each(function(){Qx(this,e)})}function m3e(e,t){var n,r;return function(){var i=iu(this,e),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function y3e(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=iu(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===t){i[u]=s;break}u===l&&i.push(s)}o.tween=i}}function v3e(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=os(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?m3e:y3e)(n,e,t))}function y7(e,t,n){var r=e._id;return e.each(function(){var i=iu(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return os(i,r).value[t]}}function dX(e,t){var n;return(typeof t=="number"?fr:t instanceof qd?Wc:(n=qd(t))?(t=n,Wc):p7)(e,t)}function b3e(e){return function(){this.removeAttribute(e)}}function x3e(e){return function(){this.removeAttributeNS(e.space,e.local)}}function w3e(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function A3e(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function _3e(e,t,n){var r,i,o;return function(){var a,s=n(this),u;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),u=s+"",a===u?null:a===r&&u===i?o:(i=u,o=t(r=a,s)))}}function S3e(e,t,n){var r,i,o;return function(){var a,s=n(this),u;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),u=s+"",a===u?null:a===r&&u===i?o:(i=u,o=t(r=a,s)))}}function E3e(e,t){var n=o3(e),r=n==="transform"?tX:dX;return this.attrTween(e,typeof t=="function"?(n.local?S3e:_3e)(n,r,y7(this,"attr."+e,t)):t==null?(n.local?x3e:b3e)(n):(n.local?A3e:w3e)(n,r,t))}function C3e(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function $3e(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function k3e(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&$3e(e,o)),n}return i._value=t,i}function T3e(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&C3e(e,o)),n}return i._value=t,i}function M3e(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=o3(e);return this.tween(n,(r.local?k3e:T3e)(r,t))}function N3e(e,t){return function(){m7(this,e).delay=+t.apply(this,arguments)}}function O3e(e,t){return t=+t,function(){m7(this,e).delay=t}}function R3e(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?N3e:O3e)(t,e)):os(this.node(),t).delay}function F3e(e,t){return function(){iu(this,e).duration=+t.apply(this,arguments)}}function D3e(e,t){return t=+t,function(){iu(this,e).duration=t}}function L3e(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?F3e:D3e)(t,e)):os(this.node(),t).duration}function P3e(e,t){if(typeof t!="function")throw new Error;return function(){iu(this,e).ease=t}}function I3e(e){var t=this._id;return arguments.length?this.each(P3e(t,e)):os(this.node(),t).ease}function z3e(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;iu(this,e).ease=n}}function B3e(e){if(typeof e!="function")throw new Error;return this.each(z3e(this._id,e))}function U3e(e){typeof e!="function"&&(e=xJ(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],u,l=0;l<a;++l)(u=o[l])&&e.call(u,u.__data__,l,o)&&s.push(u);return new dl(r,this._parents,this._name,this._id)}function j3e(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u=t[s],l=n[s],c=u.length,f=a[s]=new Array(c),d,p=0;p<c;++p)(d=u[p]||l[p])&&(f[p]=d);for(;s<r;++s)a[s]=t[s];return new dl(a,this._parents,this._name,this._id)}function W3e(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function H3e(e,t,n){var r,i,o=W3e(t)?m7:iu;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}function q3e(e,t){var n=this._id;return arguments.length<2?os(this.node(),n).on.on(e):this.each(H3e(n,e,t))}function G3e(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function V3e(){return this.on("end.remove",G3e(this._id))}function Y3e(e){var t=this._name,n=this._id;typeof e!="function"&&(e=s7(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],u=s.length,l=o[a]=new Array(u),c,f,d=0;d<u;++d)(c=s[d])&&(f=e.call(c,c.__data__,d,s))&&("__data__"in c&&(f.__data__=c.__data__),l[d]=f,h3(l[d],t,n,d,l,os(c,n)));return new dl(o,this._parents,t,n)}function J3e(e){var t=this._name,n=this._id;typeof e!="function"&&(e=bJ(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u=r[s],l=u.length,c,f=0;f<l;++f)if(c=u[f]){for(var d=e.call(c,c.__data__,f,u),p,g=os(c,n),y=0,v=d.length;y<v;++y)(p=d[y])&&h3(p,t,n,y,d,g);o.push(d),a.push(c)}return new dl(o,a,t,n)}var X3e=S2.prototype.constructor;function K3e(){return new X3e(this._groups,this._parents)}function Q3e(e,t){var n,r,i;return function(){var o=$p(this,e),a=(this.style.removeProperty(e),$p(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}function hX(e){return function(){this.style.removeProperty(e)}}function Z3e(e,t,n){var r,i=n+"",o;return function(){var a=$p(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}function e5e(e,t,n){var r,i,o;return function(){var a=$p(this,e),s=n(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(e),$p(this,e))),a===u?null:a===r&&u===i?o:(i=u,o=t(r=a,s))}}function t5e(e,t){var n,r,i,o="style."+t,a="end."+o,s;return function(){var u=iu(this,e),l=u.on,c=u.value[o]==null?s||(s=hX(t)):void 0;(l!==n||i!==c)&&(r=(n=l).copy()).on(a,i=c),u.on=r}}function n5e(e,t,n){var r=(e+="")=="transform"?eX:dX;return t==null?this.styleTween(e,Q3e(e,r)).on("end.style."+e,hX(e)):typeof t=="function"?this.styleTween(e,e5e(e,r,y7(this,"style."+e,t))).each(t5e(this._id,e)):this.styleTween(e,Z3e(e,r,t),n).on("end.style."+e,null)}function r5e(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function i5e(e,t,n){var r,i;function o(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&r5e(e,a,n)),r}return o._value=t,o}function o5e(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,i5e(e,t,n??""))}function a5e(e){return function(){this.textContent=e}}function s5e(e){return function(){var t=e(this);this.textContent=t??""}}function u5e(e){return this.tween("text",typeof e=="function"?s5e(y7(this,"text",e)):a5e(e==null?"":e+""))}function l5e(e){return function(t){this.textContent=e.call(this,t)}}function c5e(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&l5e(i)),t}return r._value=e,r}function f5e(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,c5e(e))}function d5e(){for(var e=this._name,t=this._id,n=pX(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,u,l=0;l<s;++l)if(u=a[l]){var c=os(u,t);h3(u,e,n,l,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new dl(r,this._parents,e,n)}function h5e(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},u={value:function(){--i===0&&o()}};n.each(function(){var l=iu(this,r),c=l.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(u)),l.on=t}),i===0&&o()})}var p5e=0;function dl(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function pX(){return++p5e}var $u=S2.prototype;dl.prototype={constructor:dl,select:Y3e,selectAll:J3e,selectChild:$u.selectChild,selectChildren:$u.selectChildren,filter:U3e,merge:j3e,selection:K3e,transition:d5e,call:$u.call,nodes:$u.nodes,node:$u.node,size:$u.size,empty:$u.empty,each:$u.each,on:q3e,attr:E3e,attrTween:M3e,style:n5e,styleTween:o5e,text:u5e,textTween:f5e,remove:V3e,tween:v3e,delay:R3e,duration:L3e,ease:I3e,easeVarying:B3e,end:h5e,[Symbol.iterator]:$u[Symbol.iterator]};function g5e(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var m5e={time:null,delay:0,duration:250,ease:g5e};function y5e(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function v5e(e){var t,n;e instanceof dl?(t=e._id,e=e._name):(t=pX(),(n=m5e).time=d3(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,u,l=0;l<s;++l)(u=a[l])&&h3(u,e,t,l,a,n||y5e(u,t));return new dl(r,this._parents,e,t)}S2.prototype.interrupt=g3e;S2.prototype.transition=v5e;const N4=Math.PI,O4=2*N4,rd=1e-6,b5e=O4-rd;function gX(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function x5e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return gX;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let p3=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?gX:x5e(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,u=r-t,l=i-n,c=a-t,f=s-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>rd)if(!(Math.abs(f*u-l*c)>rd)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-a,g=i-s,y=u*u+l*l,v=p*p+g*g,b=Math.sqrt(y),x=Math.sqrt(d),_=o*Math.tan((N4-Math.acos((y+d-v)/(2*b*x)))/2),A=_/x,S=_/b;Math.abs(A-1)>rd&&this._append`L${t+A*c},${n+A*f}`,this._append`A${o},${o},0,0,${+(f*p>c*g)},${this._x1=t+S*u},${this._y1=n+S*l}`}}arc(t,n,r,i,o,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),u=r*Math.sin(i),l=t+s,c=n+u,f=1^a,d=a?i-o:o-i;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>rd||Math.abs(this._y1-c)>rd)&&this._append`L${l},${c}`,r&&(d<0&&(d=d%O4+O4),d>b5e?this._append`A${r},${r},0,1,${f},${t-s},${n-u}A${r},${r},0,1,${f},${this._x1=l},${this._y1=c}`:d>rd&&this._append`A${r},${r},0,${+(d>=N4)},${f},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function g3(){return new p3}g3.prototype=p3.prototype;function yd(e=3){return new p3(+e)}const tl=11102230246251565e-32,Cr=134217729,w5e=(3+8*tl)*tl;function R9(e,t,n,r,i){let o,a,s,u,l=t[0],c=r[0],f=0,d=0;c>l==c>-l?(o=l,l=t[++f]):(o=c,c=r[++d]);let p=0;if(f<e&&d<n)for(c>l==c>-l?(a=l+o,s=o-(a-l),l=t[++f]):(a=c+o,s=o-(a-c),c=r[++d]),o=a,s!==0&&(i[p++]=s);f<e&&d<n;)c>l==c>-l?(a=o+l,u=a-o,s=o-(a-u)+(l-u),l=t[++f]):(a=o+c,u=a-o,s=o-(a-u)+(c-u),c=r[++d]),o=a,s!==0&&(i[p++]=s);for(;f<e;)a=o+l,u=a-o,s=o-(a-u)+(l-u),l=t[++f],o=a,s!==0&&(i[p++]=s);for(;d<n;)a=o+c,u=a-o,s=o-(a-u)+(c-u),c=r[++d],o=a,s!==0&&(i[p++]=s);return(o!==0||p===0)&&(i[p++]=o),p}function A5e(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function C2(e){return new Float64Array(e)}const _5e=(3+16*tl)*tl,S5e=(2+12*tl)*tl,E5e=(9+64*tl)*tl*tl,uh=C2(4),jI=C2(8),WI=C2(12),HI=C2(16),Gr=C2(4);function C5e(e,t,n,r,i,o,a){let s,u,l,c,f,d,p,g,y,v,b,x,_,A,S,C,E,k;const O=e-i,N=n-i,F=t-o,W=r-o;A=O*W,d=Cr*O,p=d-(d-O),g=O-p,d=Cr*W,y=d-(d-W),v=W-y,S=g*v-(A-p*y-g*y-p*v),C=F*N,d=Cr*F,p=d-(d-F),g=F-p,d=Cr*N,y=d-(d-N),v=N-y,E=g*v-(C-p*y-g*y-p*v),b=S-E,f=S-b,uh[0]=S-(b+f)+(f-E),x=A+b,f=x-A,_=A-(x-f)+(b-f),b=_-C,f=_-b,uh[1]=_-(b+f)+(f-C),k=x+b,f=k-x,uh[2]=x-(k-f)+(b-f),uh[3]=k;let I=A5e(4,uh),M=S5e*a;if(I>=M||-I>=M||(f=e-O,s=e-(O+f)+(f-i),f=n-N,l=n-(N+f)+(f-i),f=t-F,u=t-(F+f)+(f-o),f=r-W,c=r-(W+f)+(f-o),s===0&&u===0&&l===0&&c===0)||(M=E5e*a+w5e*Math.abs(I),I+=O*c+W*s-(F*l+N*u),I>=M||-I>=M))return I;A=s*W,d=Cr*s,p=d-(d-s),g=s-p,d=Cr*W,y=d-(d-W),v=W-y,S=g*v-(A-p*y-g*y-p*v),C=u*N,d=Cr*u,p=d-(d-u),g=u-p,d=Cr*N,y=d-(d-N),v=N-y,E=g*v-(C-p*y-g*y-p*v),b=S-E,f=S-b,Gr[0]=S-(b+f)+(f-E),x=A+b,f=x-A,_=A-(x-f)+(b-f),b=_-C,f=_-b,Gr[1]=_-(b+f)+(f-C),k=x+b,f=k-x,Gr[2]=x-(k-f)+(b-f),Gr[3]=k;const D=R9(4,uh,4,Gr,jI);A=O*c,d=Cr*O,p=d-(d-O),g=O-p,d=Cr*c,y=d-(d-c),v=c-y,S=g*v-(A-p*y-g*y-p*v),C=F*l,d=Cr*F,p=d-(d-F),g=F-p,d=Cr*l,y=d-(d-l),v=l-y,E=g*v-(C-p*y-g*y-p*v),b=S-E,f=S-b,Gr[0]=S-(b+f)+(f-E),x=A+b,f=x-A,_=A-(x-f)+(b-f),b=_-C,f=_-b,Gr[1]=_-(b+f)+(f-C),k=x+b,f=k-x,Gr[2]=x-(k-f)+(b-f),Gr[3]=k;const P=R9(D,jI,4,Gr,WI);A=s*c,d=Cr*s,p=d-(d-s),g=s-p,d=Cr*c,y=d-(d-c),v=c-y,S=g*v-(A-p*y-g*y-p*v),C=u*l,d=Cr*u,p=d-(d-u),g=u-p,d=Cr*l,y=d-(d-l),v=l-y,E=g*v-(C-p*y-g*y-p*v),b=S-E,f=S-b,Gr[0]=S-(b+f)+(f-E),x=A+b,f=x-A,_=A-(x-f)+(b-f),b=_-C,f=_-b,Gr[1]=_-(b+f)+(f-C),k=x+b,f=k-x,Gr[2]=x-(k-f)+(b-f),Gr[3]=k;const U=R9(P,WI,4,Gr,HI);return HI[U-1]}function jb(e,t,n,r,i,o){const a=(t-o)*(n-i),s=(e-i)*(r-o),u=a-s,l=Math.abs(a+s);return Math.abs(u)>=_5e*l?u:-C5e(e,t,n,r,i,o,l)}const qI=Math.pow(2,-52),Wb=new Uint32Array(512);class cA{static from(t,n=N5e,r=O5e){const i=t.length,o=new Float64Array(i*2);for(let a=0;a<i;a++){const s=t[a];o[2*a]=n(s),o[2*a+1]=r(s)}return new cA(o)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:o}=this,a=t.length>>1;let s=1/0,u=1/0,l=-1/0,c=-1/0;for(let N=0;N<a;N++){const F=t[2*N],W=t[2*N+1];F<s&&(s=F),W<u&&(u=W),F>l&&(l=F),W>c&&(c=W),this._ids[N]=N}const f=(s+l)/2,d=(u+c)/2;let p=1/0,g,y,v;for(let N=0;N<a;N++){const F=F9(f,d,t[2*N],t[2*N+1]);F<p&&(g=N,p=F)}const b=t[2*g],x=t[2*g+1];p=1/0;for(let N=0;N<a;N++){if(N===g)continue;const F=F9(b,x,t[2*N],t[2*N+1]);F<p&&F>0&&(y=N,p=F)}let _=t[2*y],A=t[2*y+1],S=1/0;for(let N=0;N<a;N++){if(N===g||N===y)continue;const F=T5e(b,x,_,A,t[2*N],t[2*N+1]);F<S&&(v=N,S=F)}let C=t[2*v],E=t[2*v+1];if(S===1/0){for(let W=0;W<a;W++)this._dists[W]=t[2*W]-t[0]||t[2*W+1]-t[1];zh(this._ids,this._dists,0,a-1);const N=new Uint32Array(a);let F=0;for(let W=0,I=-1/0;W<a;W++){const M=this._ids[W];this._dists[M]>I&&(N[F++]=M,I=this._dists[M])}this.hull=N.subarray(0,F),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(jb(b,x,_,A,C,E)<0){const N=y,F=_,W=A;y=v,_=C,A=E,v=N,C=F,E=W}const k=M5e(b,x,_,A,C,E);this._cx=k.x,this._cy=k.y;for(let N=0;N<a;N++)this._dists[N]=F9(t[2*N],t[2*N+1],k.x,k.y);zh(this._ids,this._dists,0,a-1),this._hullStart=g;let O=3;r[g]=n[v]=y,r[y]=n[g]=v,r[v]=n[y]=g,i[g]=0,i[y]=1,i[v]=2,o.fill(-1),o[this._hashKey(b,x)]=g,o[this._hashKey(_,A)]=y,o[this._hashKey(C,E)]=v,this.trianglesLen=0,this._addTriangle(g,y,v,-1,-1,-1);for(let N=0,F,W;N<this._ids.length;N++){const I=this._ids[N],M=t[2*I],D=t[2*I+1];if(N>0&&Math.abs(M-F)<=qI&&Math.abs(D-W)<=qI||(F=M,W=D,I===g||I===y||I===v))continue;let P=0;for(let X=0,G=this._hashKey(M,D);X<this._hashSize&&(P=o[(G+X)%this._hashSize],!(P!==-1&&P!==r[P]));X++);P=n[P];let U=P,z;for(;z=r[U],jb(M,D,t[2*U],t[2*U+1],t[2*z],t[2*z+1])>=0;)if(U=z,U===P){U=-1;break}if(U===-1)continue;let H=this._addTriangle(U,I,r[U],-1,-1,i[U]);i[I]=this._legalize(H+2),i[U]=H,O++;let j=r[U];for(;z=r[j],jb(M,D,t[2*j],t[2*j+1],t[2*z],t[2*z+1])<0;)H=this._addTriangle(j,I,z,i[I],-1,i[j]),i[I]=this._legalize(H+2),r[j]=j,O--,j=z;if(U===P)for(;z=n[U],jb(M,D,t[2*z],t[2*z+1],t[2*U],t[2*U+1])<0;)H=this._addTriangle(z,I,U,-1,i[U],i[z]),this._legalize(H+2),i[z]=H,r[U]=U,O--,U=z;this._hullStart=n[I]=U,r[U]=n[j]=I,r[I]=j,o[this._hashKey(M,D)]=I,o[this._hashKey(t[2*U],t[2*U+1])]=U}this.hull=new Uint32Array(O);for(let N=0,F=this._hullStart;N<O;N++)this.hull[N]=F,F=r[F];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor($5e(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:i}=this;let o=0,a=0;for(;;){const s=r[t],u=t-t%3;if(a=u+(t+2)%3,s===-1){if(o===0)break;t=Wb[--o];continue}const l=s-s%3,c=u+(t+1)%3,f=l+(s+2)%3,d=n[a],p=n[t],g=n[c],y=n[f];if(k5e(i[2*d],i[2*d+1],i[2*p],i[2*p+1],i[2*g],i[2*g+1],i[2*y],i[2*y+1])){n[t]=y,n[s]=d;const b=r[f];if(b===-1){let _=this._hullStart;do{if(this._hullTri[_]===f){this._hullTri[_]=t;break}_=this._hullPrev[_]}while(_!==this._hullStart)}this._link(t,b),this._link(s,r[a]),this._link(a,f);const x=l+(s+1)%3;o<Wb.length&&(Wb[o++]=x)}else{if(o===0)break;t=Wb[--o]}}return a}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,i,o,a){const s=this.trianglesLen;return this._triangles[s]=t,this._triangles[s+1]=n,this._triangles[s+2]=r,this._link(s,i),this._link(s+1,o),this._link(s+2,a),this.trianglesLen+=3,s}}function $5e(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function F9(e,t,n,r){const i=e-n,o=t-r;return i*i+o*o}function k5e(e,t,n,r,i,o,a,s){const u=e-a,l=t-s,c=n-a,f=r-s,d=i-a,p=o-s,g=u*u+l*l,y=c*c+f*f,v=d*d+p*p;return u*(f*v-y*p)-l*(c*v-y*d)+g*(c*p-f*d)<0}function T5e(e,t,n,r,i,o){const a=n-e,s=r-t,u=i-e,l=o-t,c=a*a+s*s,f=u*u+l*l,d=.5/(a*l-s*u),p=(l*c-s*f)*d,g=(a*f-u*c)*d;return p*p+g*g}function M5e(e,t,n,r,i,o){const a=n-e,s=r-t,u=i-e,l=o-t,c=a*a+s*s,f=u*u+l*l,d=.5/(a*l-s*u),p=e+(l*c-s*f)*d,g=t+(a*f-u*c)*d;return{x:p,y:g}}function zh(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const o=e[i],a=t[o];let s=i-1;for(;s>=n&&t[e[s]]>a;)e[s+1]=e[s--];e[s+1]=o}else{const i=n+r>>1;let o=n+1,a=r;_1(e,i,o),t[e[n]]>t[e[r]]&&_1(e,n,r),t[e[o]]>t[e[r]]&&_1(e,o,r),t[e[n]]>t[e[o]]&&_1(e,n,o);const s=e[o],u=t[s];for(;;){do o++;while(t[e[o]]<u);do a--;while(t[e[a]]>u);if(a<o)break;_1(e,o,a)}e[n+1]=e[a],e[a]=s,r-o+1>=a-n?(zh(e,t,o,r),zh(e,t,n,a-1)):(zh(e,t,n,a-1),zh(e,t,o,r))}}function _1(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function N5e(e){return e[0]}function O5e(e){return e[1]}const GI=1e-6;class vd{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const i=t+r,o=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${o}`:(Math.abs(this._x1-i)>GI||Math.abs(this._y1-o)>GI)&&(this._+="L"+i+","+o),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=o}`)}rect(t,n,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class R4{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}let R5e=class{constructor(t,[n,r,i,o]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((o=+o)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=n,this.ymax=o,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:i}=this;let o,a;const s=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let y=0,v=0,b=r.length,x,_;y<b;y+=3,v+=2){const A=r[y]*2,S=r[y+1]*2,C=r[y+2]*2,E=t[A],k=t[A+1],O=t[S],N=t[S+1],F=t[C],W=t[C+1],I=O-E,M=N-k,D=F-E,P=W-k,U=(I*P-M*D)*2;if(Math.abs(U)<1e-9){if(o===void 0){o=a=0;for(const H of n)o+=t[H*2],a+=t[H*2+1];o/=n.length,a/=n.length}const z=1e9*Math.sign((o-E)*P-(a-k)*D);x=(E+F)/2-z*P,_=(k+W)/2+z*D}else{const z=1/U,H=I*I+M*M,j=D*D+P*P;x=E+(P*H-M*j)*z,_=k+(I*j-D*H)*z}s[v]=x,s[v+1]=_}let u=n[n.length-1],l,c=u*4,f,d=t[2*u],p,g=t[2*u+1];i.fill(0);for(let y=0;y<n.length;++y)u=n[y],l=c,f=d,p=g,c=u*4,d=t[2*u],g=t[2*u+1],i[l+2]=i[c]=p-g,i[l+3]=i[c+1]=d-f}render(t){const n=t==null?t=new vd:void 0,{delaunay:{halfedges:r,inedges:i,hull:o},circumcenters:a,vectors:s}=this;if(o.length<=1)return null;for(let c=0,f=r.length;c<f;++c){const d=r[c];if(d<c)continue;const p=Math.floor(c/3)*2,g=Math.floor(d/3)*2,y=a[p],v=a[p+1],b=a[g],x=a[g+1];this._renderSegment(y,v,b,x,t)}let u,l=o[o.length-1];for(let c=0;c<o.length;++c){u=l,l=o[c];const f=Math.floor(i[l]/3)*2,d=a[f],p=a[f+1],g=u*4,y=this._project(d,p,s[g+2],s[g+3]);y&&this._renderSegment(d,p,y[0],y[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new vd:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new vd:void 0,i=this._clip(t);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let a=2;a<o;a+=2)(i[a]!==i[a-2]||i[a+1]!==i[a-1])&&n.lineTo(i[a],i[a+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(t){const n=new R4;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,i,o){let a;const s=this._regioncode(t,n),u=this._regioncode(r,i);s===0&&u===0?(o.moveTo(t,n),o.lineTo(r,i)):(a=this._clipSegment(t,n,r,i,s,u))&&(o.moveTo(a[0],a[1]),o.lineTo(a[2],a[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const i=this._clip(r);if(i){e:for(let o=0,a=n.length;o<a;o+=2)for(let s=0,u=i.length;s<u;s+=2)if(n[o]===i[s]&&n[o+1]===i[s+1]&&n[(o+2)%a]===i[(s+u-2)%u]&&n[(o+3)%a]===i[(s+u-1)%u]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:o}}=this,a=r[t];if(a===-1)return null;const s=[];let u=a;do{const l=Math.floor(u/3);if(s.push(n[l*2],n[l*2+1]),u=u%3===2?u-2:u+1,o[u]!==t)break;u=i[u]}while(u!==a&&u!==-1);return s}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,i=t*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(t,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,n))}_clipFinite(t,n){const r=n.length;let i=null,o,a,s=n[r-2],u=n[r-1],l,c=this._regioncode(s,u),f,d=0;for(let p=0;p<r;p+=2)if(o=s,a=u,s=n[p],u=n[p+1],l=c,c=this._regioncode(s,u),l===0&&c===0)f=d,d=0,i?i.push(s,u):i=[s,u];else{let g,y,v,b,x;if(l===0){if((g=this._clipSegment(o,a,s,u,l,c))===null)continue;[y,v,b,x]=g}else{if((g=this._clipSegment(s,u,o,a,c,l))===null)continue;[b,x,y,v]=g,f=d,d=this._edgecode(y,v),f&&d&&this._edge(t,f,d,i,i.length),i?i.push(y,v):i=[y,v]}f=d,d=this._edgecode(b,x),f&&d&&this._edge(t,f,d,i,i.length),i?i.push(b,x):i=[b,x]}if(i)f=d,d=this._edgecode(i[0],i[1]),f&&d&&this._edge(t,f,d,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,n,r,i,o,a){const s=o<a;for(s&&([t,n,r,i,o,a]=[r,i,t,n,a,o]);;){if(o===0&&a===0)return s?[r,i,t,n]:[t,n,r,i];if(o&a)return null;let u,l,c=o||a;c&8?(u=t+(r-t)*(this.ymax-n)/(i-n),l=this.ymax):c&4?(u=t+(r-t)*(this.ymin-n)/(i-n),l=this.ymin):c&2?(l=n+(i-n)*(this.xmax-t)/(r-t),u=this.xmax):(l=n+(i-n)*(this.xmin-t)/(r-t),u=this.xmin),o?(t=u,n=l,o=this._regioncode(t,n)):(r=u,i=l,a=this._regioncode(r,i))}}_clipInfinite(t,n,r,i,o,a){let s=Array.from(n),u;if((u=this._project(s[0],s[1],r,i))&&s.unshift(u[0],u[1]),(u=this._project(s[s.length-2],s[s.length-1],o,a))&&s.push(u[0],u[1]),s=this._clipFinite(t,s))for(let l=0,c=s.length,f,d=this._edgecode(s[c-2],s[c-1]);l<c;l+=2)f=d,d=this._edgecode(s[l],s[l+1]),f&&d&&(l=this._edge(t,f,d,s,l),c=s.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(t,n,r,i,o){for(;n!==r;){let a,s;switch(n){case 5:n=4;continue;case 4:n=6,a=this.xmax,s=this.ymin;break;case 6:n=2;continue;case 2:n=10,a=this.xmax,s=this.ymax;break;case 10:n=8;continue;case 8:n=9,a=this.xmin,s=this.ymax;break;case 9:n=1;continue;case 1:n=5,a=this.xmin,s=this.ymin;break}(i[o]!==a||i[o+1]!==s)&&this.contains(t,a,s)&&(i.splice(o,0,a,s),o+=2)}return o}_project(t,n,r,i){let o=1/0,a,s,u;if(i<0){if(n<=this.ymin)return null;(a=(this.ymin-n)/i)<o&&(u=this.ymin,s=t+(o=a)*r)}else if(i>0){if(n>=this.ymax)return null;(a=(this.ymax-n)/i)<o&&(u=this.ymax,s=t+(o=a)*r)}if(r>0){if(t>=this.xmax)return null;(a=(this.xmax-t)/r)<o&&(s=this.xmax,u=n+(o=a)*i)}else if(r<0){if(t<=this.xmin)return null;(a=(this.xmin-t)/r)<o&&(s=this.xmin,u=n+(o=a)*i)}return[s,u]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){const r=(n+2)%t.length,i=(n+4)%t.length;(t[n]===t[r]&&t[r]===t[i]||t[n+1]===t[r+1]&&t[r+1]===t[i+1])&&(t.splice(r,2),n-=2)}t.length||(t=null)}return t}};const F5e=2*Math.PI,lh=Math.pow;function D5e(e){return e[0]}function L5e(e){return e[1]}function P5e(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const i=2*t[r],o=2*t[r+1],a=2*t[r+2];if((n[a]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[a+1]-n[i+1])>1e-10)return!1}return!0}function I5e(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class v7{static from(t,n=D5e,r=L5e,i){return new v7("length"in t?z5e(t,n,r,i):Float64Array.from(B5e(t,n,r,i)))}constructor(t){this._delaunator=new cA(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&P5e(t)){this.collinear=Int32Array.from({length:n.length/2},(d,p)=>p).sort((d,p)=>n[2*d]-n[2*p]||n[2*d+1]-n[2*p+1]);const u=this.collinear[0],l=this.collinear[this.collinear.length-1],c=[n[2*u],n[2*u+1],n[2*l],n[2*l+1]],f=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let d=0,p=n.length/2;d<p;++d){const g=I5e(n[2*d],n[2*d+1],f);n[2*d]=g[0],n[2*d+1]=g[1]}this._delaunator=new cA(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let u=0,l=r.length;u<l;++u){const c=o[u%3===2?u-2:u+1];(r[u]===-1||a[c]===-1)&&(a[c]=u)}for(let u=0,l=i.length;u<l;++u)s[i[u]]=u;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],a[i[0]]=1,i.length===2&&(a[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new R5e(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:i,halfedges:o,triangles:a,collinear:s}=this;if(s){const f=s.indexOf(t);f>0&&(yield s[f-1]),f<s.length-1&&(yield s[f+1]);return}const u=n[t];if(u===-1)return;let l=u,c=-1;do{if(yield c=a[l],l=l%3===2?l-2:l+1,a[l]!==t)return;if(l=o[l],l===-1){const f=r[(i[t]+1)%r.length];f!==c&&(yield f);return}}while(l!==u)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const i=r;let o;for(;(o=this._step(r,t,n))>=0&&o!==r&&o!==i;)r=o;return o}_step(t,n,r){const{inedges:i,hull:o,_hullIndex:a,halfedges:s,triangles:u,points:l}=this;if(i[t]===-1||!l.length)return(t+1)%(l.length>>1);let c=t,f=lh(n-l[t*2],2)+lh(r-l[t*2+1],2);const d=i[t];let p=d;do{let g=u[p];const y=lh(n-l[g*2],2)+lh(r-l[g*2+1],2);if(y<f&&(f=y,c=g),p=p%3===2?p-2:p+1,u[p]!==t)break;if(p=s[p],p===-1){if(p=o[(a[t]+1)%o.length],p!==g&&lh(n-l[p*2],2)+lh(r-l[p*2+1],2)<f)return p;break}}while(p!==d);return c}render(t){const n=t==null?t=new vd:void 0,{points:r,halfedges:i,triangles:o}=this;for(let a=0,s=i.length;a<s;++a){const u=i[a];if(u<a)continue;const l=o[a]*2,c=o[u]*2;t.moveTo(r[l],r[l+1]),t.lineTo(r[c],r[c+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;const r=t==null?t=new vd:void 0,{points:i}=this;for(let o=0,a=i.length;o<a;o+=2){const s=i[o],u=i[o+1];t.moveTo(s+n,u),t.arc(s,u,n,0,F5e)}return r&&r.value()}renderHull(t){const n=t==null?t=new vd:void 0,{hull:r,points:i}=this,o=r[0]*2,a=r.length;t.moveTo(i[o],i[o+1]);for(let s=1;s<a;++s){const u=2*r[s];t.lineTo(i[u],i[u+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new R4;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new vd:void 0,{points:i,triangles:o}=this,a=o[t*=3]*2,s=o[t+1]*2,u=o[t+2]*2;return n.moveTo(i[a],i[a+1]),n.lineTo(i[s],i[s+1]),n.lineTo(i[u],i[u+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new R4;return this.renderTriangle(t,n),n.value()}}function z5e(e,t,n,r){const i=e.length,o=new Float64Array(i*2);for(let a=0;a<i;++a){const s=e[a];o[a*2]=t.call(r,s,a,e),o[a*2+1]=n.call(r,s,a,e)}return o}function*B5e(e,t,n,r){let i=0;for(const o of e)yield t.call(r,o,i,e),yield n.call(r,o,i,e),++i}var VI={},D9={},L9=34,S1=10,P9=13;function mX(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function U5e(e,t){var n=mX(e);return function(r,i){return t(n(r),i,e)}}function YI(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function Si(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function j5e(e){return e<0?"-"+Si(-e,6):e>9999?"+"+Si(e,6):Si(e,4)}function W5e(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":j5e(e.getUTCFullYear())+"-"+Si(e.getUTCMonth()+1,2)+"-"+Si(e.getUTCDate(),2)+(i?"T"+Si(t,2)+":"+Si(n,2)+":"+Si(r,2)+"."+Si(i,3)+"Z":r?"T"+Si(t,2)+":"+Si(n,2)+":"+Si(r,2)+"Z":n||t?"T"+Si(t,2)+":"+Si(n,2)+"Z":"")}function yX(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,d){var p,g,y=i(f,function(v,b){if(p)return p(v,b-1);g=v,p=d?U5e(v,d):mX(v)});return y.columns=g||[],y}function i(f,d){var p=[],g=f.length,y=0,v=0,b,x=g<=0,_=!1;f.charCodeAt(g-1)===S1&&--g,f.charCodeAt(g-1)===P9&&--g;function A(){if(x)return D9;if(_)return _=!1,VI;var C,E=y,k;if(f.charCodeAt(E)===L9){for(;y++<g&&f.charCodeAt(y)!==L9||f.charCodeAt(++y)===L9;);return(C=y)>=g?x=!0:(k=f.charCodeAt(y++))===S1?_=!0:k===P9&&(_=!0,f.charCodeAt(y)===S1&&++y),f.slice(E+1,C-1).replace(/""/g,'"')}for(;y<g;){if((k=f.charCodeAt(C=y++))===S1)_=!0;else if(k===P9)_=!0,f.charCodeAt(y)===S1&&++y;else if(k!==n)continue;return f.slice(E,C)}return x=!0,f.slice(E,g)}for(;(b=A())!==D9;){for(var S=[];b!==VI&&b!==D9;)S.push(b),b=A();d&&(S=d(S,v++))==null||p.push(S)}return p}function o(f,d){return f.map(function(p){return d.map(function(g){return c(p[g])}).join(e)})}function a(f,d){return d==null&&(d=YI(f)),[d.map(c).join(e)].concat(o(f,d)).join(`
`)}function s(f,d){return d==null&&(d=YI(f)),o(f,d).join(`
`)}function u(f){return f.map(l).join(`
`)}function l(f){return f.map(c).join(e)}function c(f){return f==null?"":f instanceof Date?W5e(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:a,formatBody:s,formatRows:u,formatRow:l,formatValue:c}}var H5e=yX(","),q5e=H5e.parse;function G5e(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function V5e(e,t){return fetch(e,t).then(G5e)}function Y5e(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),V5e(t,n).then(function(i){return e(i,r)})}}var J5e=Y5e(q5e);function X5e(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(!(e.status===204||e.status===205))return e.json()}function JI(e,t){return fetch(e,t).then(X5e)}function vX(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function i(){var o,a=n.length,s,u=0,l=0;for(o=0;o<a;++o)s=n[o],u+=s.x,l+=s.y;for(u=(u/a-e)*r,l=(l/a-t)*r,o=0;o<a;++o)s=n[o],s.x-=u,s.y-=l}return i.initialize=function(o){n=o},i.x=function(o){return arguments.length?(e=+o,i):e},i.y=function(o){return arguments.length?(t=+o,i):t},i.strength=function(o){return arguments.length?(r=+o,i):r},i}function K5e(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return bX(this.cover(t,n),t,n,e)}function bX(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o=e._root,a={data:r},s=e._x0,u=e._y0,l=e._x1,c=e._y1,f,d,p,g,y,v,b,x;if(!o)return e._root=a,e;for(;o.length;)if((y=t>=(f=(s+l)/2))?s=f:l=f,(v=n>=(d=(u+c)/2))?u=d:c=d,i=o,!(o=o[b=v<<1|y]))return i[b]=a,e;if(p=+e._x.call(null,o.data),g=+e._y.call(null,o.data),t===p&&n===g)return a.next=o,i?i[b]=a:e._root=a,e;do i=i?i[b]=new Array(4):e._root=new Array(4),(y=t>=(f=(s+l)/2))?s=f:l=f,(v=n>=(d=(u+c)/2))?u=d:c=d;while((b=v<<1|y)===(x=(g>=d)<<1|p>=f));return i[x]=o,i[b]=a,e}function Q5e(e){var t,n,r=e.length,i,o,a=new Array(r),s=new Array(r),u=1/0,l=1/0,c=-1/0,f=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(a[n]=i,s[n]=o,i<u&&(u=i),i>c&&(c=i),o<l&&(l=o),o>f&&(f=o));if(u>c||l>f)return this;for(this.cover(u,l).cover(c,f),n=0;n<r;++n)bX(this,a[n],s[n],e[n]);return this}function Z5e(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var a=i-n||1,s=this._root,u,l;n>e||e>=i||r>t||t>=o;)switch(l=(t<r)<<1|e<n,u=new Array(4),u[l]=s,s=u,a*=2,l){case 0:i=n+a,o=r+a;break;case 1:n=i-a,o=r+a;break;case 2:i=n+a,r=o-a;break;case 3:n=i-a,r=o-a;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function eSe(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function tSe(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function ti(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function nSe(e,t,n){var r,i=this._x0,o=this._y0,a,s,u,l,c=this._x1,f=this._y1,d=[],p=this._root,g,y;for(p&&d.push(new ti(p,i,o,c,f)),n==null?n=1/0:(i=e-n,o=t-n,c=e+n,f=t+n,n*=n);g=d.pop();)if(!(!(p=g.node)||(a=g.x0)>c||(s=g.y0)>f||(u=g.x1)<i||(l=g.y1)<o))if(p.length){var v=(a+u)/2,b=(s+l)/2;d.push(new ti(p[3],v,b,u,l),new ti(p[2],a,b,v,l),new ti(p[1],v,s,u,b),new ti(p[0],a,s,v,b)),(y=(t>=b)<<1|e>=v)&&(g=d[d.length-1],d[d.length-1]=d[d.length-1-y],d[d.length-1-y]=g)}else{var x=e-+this._x.call(null,p.data),_=t-+this._y.call(null,p.data),A=x*x+_*_;if(A<n){var S=Math.sqrt(n=A);i=e-S,o=t-S,c=e+S,f=t+S,r=p.data}}return r}function rSe(e){if(isNaN(c=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var t,n=this._root,r,i,o,a=this._x0,s=this._y0,u=this._x1,l=this._y1,c,f,d,p,g,y,v,b;if(!n)return this;if(n.length)for(;;){if((g=c>=(d=(a+u)/2))?a=d:u=d,(y=f>=(p=(s+l)/2))?s=p:l=p,t=n,!(n=n[v=y<<1|g]))return this;if(!n.length)break;(t[v+1&3]||t[v+2&3]||t[v+3&3])&&(r=t,b=v)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):t?(o?t[v]=o:delete t[v],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[b]=n:this._root=n),this):(this._root=o,this)}function iSe(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function oSe(){return this._root}function aSe(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function sSe(e){var t=[],n,r=this._root,i,o,a,s,u;for(r&&t.push(new ti(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,o=n.x0,a=n.y0,s=n.x1,u=n.y1)&&r.length){var l=(o+s)/2,c=(a+u)/2;(i=r[3])&&t.push(new ti(i,l,c,s,u)),(i=r[2])&&t.push(new ti(i,o,c,l,u)),(i=r[1])&&t.push(new ti(i,l,a,s,c)),(i=r[0])&&t.push(new ti(i,o,a,l,c))}return this}function uSe(e){var t=[],n=[],r;for(this._root&&t.push(new ti(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var o,a=r.x0,s=r.y0,u=r.x1,l=r.y1,c=(a+u)/2,f=(s+l)/2;(o=i[0])&&t.push(new ti(o,a,s,c,f)),(o=i[1])&&t.push(new ti(o,c,s,u,f)),(o=i[2])&&t.push(new ti(o,a,f,c,l)),(o=i[3])&&t.push(new ti(o,c,f,u,l))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function lSe(e){return e[0]}function cSe(e){return arguments.length?(this._x=e,this):this._x}function fSe(e){return e[1]}function dSe(e){return arguments.length?(this._y=e,this):this._y}function b7(e,t,n){var r=new x7(t??lSe,n??fSe,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function x7(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function XI(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var mi=b7.prototype=x7.prototype;mi.copy=function(){var e=new x7(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=XI(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=XI(r));return e};mi.add=K5e;mi.addAll=Q5e;mi.cover=Z5e;mi.data=eSe;mi.extent=tSe;mi.find=nSe;mi.remove=rSe;mi.removeAll=iSe;mi.root=oSe;mi.size=aSe;mi.visit=sSe;mi.visitAfter=uSe;mi.x=cSe;mi.y=dSe;function ri(e){return function(){return e}}function fc(e){return(e()-.5)*1e-6}function hSe(e){return e.x+e.vx}function pSe(e){return e.y+e.vy}function gSe(e){var t,n,r,i=1,o=1;typeof e!="function"&&(e=ri(e==null?1:+e));function a(){for(var l,c=t.length,f,d,p,g,y,v,b=0;b<o;++b)for(f=b7(t,hSe,pSe).visitAfter(s),l=0;l<c;++l)d=t[l],y=n[d.index],v=y*y,p=d.x+d.vx,g=d.y+d.vy,f.visit(x);function x(_,A,S,C,E){var k=_.data,O=_.r,N=y+O;if(k){if(k.index>d.index){var F=p-k.x-k.vx,W=g-k.y-k.vy,I=F*F+W*W;I<N*N&&(F===0&&(F=fc(r),I+=F*F),W===0&&(W=fc(r),I+=W*W),I=(N-(I=Math.sqrt(I)))/I*i,d.vx+=(F*=I)*(N=(O*=O)/(v+O)),d.vy+=(W*=I)*N,k.vx-=F*(N=1-N),k.vy-=W*N)}return}return A>p+N||C<p-N||S>g+N||E<g-N}}function s(l){if(l.data)return l.r=n[l.data.index];for(var c=l.r=0;c<4;++c)l[c]&&l[c].r>l.r&&(l.r=l[c].r)}function u(){if(t){var l,c=t.length,f;for(n=new Array(c),l=0;l<c;++l)f=t[l],n[f.index]=+e(f,l,t)}}return a.initialize=function(l,c){t=l,r=c,u()},a.iterations=function(l){return arguments.length?(o=+l,a):o},a.strength=function(l){return arguments.length?(i=+l,a):i},a.radius=function(l){return arguments.length?(e=typeof l=="function"?l:ri(+l),u(),a):e},a}function mSe(e){return e.index}function KI(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function xX(e){var t=mSe,n=f,r,i=ri(30),o,a,s,u,l,c=1;e==null&&(e=[]);function f(v){return 1/Math.min(s[v.source.index],s[v.target.index])}function d(v){for(var b=0,x=e.length;b<c;++b)for(var _=0,A,S,C,E,k,O,N;_<x;++_)A=e[_],S=A.source,C=A.target,E=C.x+C.vx-S.x-S.vx||fc(l),k=C.y+C.vy-S.y-S.vy||fc(l),O=Math.sqrt(E*E+k*k),O=(O-o[_])/O*v*r[_],E*=O,k*=O,C.vx-=E*(N=u[_]),C.vy-=k*N,S.vx+=E*(N=1-N),S.vy+=k*N}function p(){if(a){var v,b=a.length,x=e.length,_=new Map(a.map((S,C)=>[t(S,C,a),S])),A;for(v=0,s=new Array(b);v<x;++v)A=e[v],A.index=v,typeof A.source!="object"&&(A.source=KI(_,A.source)),typeof A.target!="object"&&(A.target=KI(_,A.target)),s[A.source.index]=(s[A.source.index]||0)+1,s[A.target.index]=(s[A.target.index]||0)+1;for(v=0,u=new Array(x);v<x;++v)A=e[v],u[v]=s[A.source.index]/(s[A.source.index]+s[A.target.index]);r=new Array(x),g(),o=new Array(x),y()}}function g(){if(a)for(var v=0,b=e.length;v<b;++v)r[v]=+n(e[v],v,e)}function y(){if(a)for(var v=0,b=e.length;v<b;++v)o[v]=+i(e[v],v,e)}return d.initialize=function(v,b){a=v,l=b,p()},d.links=function(v){return arguments.length?(e=v,p(),d):e},d.id=function(v){return arguments.length?(t=v,d):t},d.iterations=function(v){return arguments.length?(c=+v,d):c},d.strength=function(v){return arguments.length?(n=typeof v=="function"?v:ri(+v),g(),d):n},d.distance=function(v){return arguments.length?(i=typeof v=="function"?v:ri(+v),y(),d):i},d}const ySe=1664525,vSe=1013904223,QI=4294967296;function bSe(){let e=1;return()=>(e=(ySe*e+vSe)%QI)/QI}function xSe(e){return e.x}function wSe(e){return e.y}var ASe=10,_Se=Math.PI*(3-Math.sqrt(5));function wX(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,u=g7(f),l=_2("tick","end"),c=bSe();e==null&&(e=[]);function f(){d(),l.call("tick",t),n<r&&(u.stop(),l.call("end",t))}function d(y){var v,b=e.length,x;y===void 0&&(y=1);for(var _=0;_<y;++_)for(n+=(o-n)*i,s.forEach(function(A){A(n)}),v=0;v<b;++v)x=e[v],x.fx==null?x.x+=x.vx*=a:(x.x=x.fx,x.vx=0),x.fy==null?x.y+=x.vy*=a:(x.y=x.fy,x.vy=0);return t}function p(){for(var y=0,v=e.length,b;y<v;++y){if(b=e[y],b.index=y,b.fx!=null&&(b.x=b.fx),b.fy!=null&&(b.y=b.fy),isNaN(b.x)||isNaN(b.y)){var x=ASe*Math.sqrt(.5+y),_=y*_Se;b.x=x*Math.cos(_),b.y=x*Math.sin(_)}(isNaN(b.vx)||isNaN(b.vy))&&(b.vx=b.vy=0)}}function g(y){return y.initialize&&y.initialize(e,c),y}return p(),t={tick:d,restart:function(){return u.restart(f),t},stop:function(){return u.stop(),t},nodes:function(y){return arguments.length?(e=y,p(),s.forEach(g),t):e},alpha:function(y){return arguments.length?(n=+y,t):n},alphaMin:function(y){return arguments.length?(r=+y,t):r},alphaDecay:function(y){return arguments.length?(i=+y,t):+i},alphaTarget:function(y){return arguments.length?(o=+y,t):o},velocityDecay:function(y){return arguments.length?(a=1-y,t):1-a},randomSource:function(y){return arguments.length?(c=y,s.forEach(g),t):c},force:function(y,v){return arguments.length>1?(v==null?s.delete(y):s.set(y,g(v)),t):s.get(y)},find:function(y,v,b){var x=0,_=e.length,A,S,C,E,k;for(b==null?b=1/0:b*=b,x=0;x<_;++x)E=e[x],A=y-E.x,S=v-E.y,C=A*A+S*S,C<b&&(k=E,b=C);return k},on:function(y,v){return arguments.length>1?(l.on(y,v),t):l.on(y)}}}function AX(){var e,t,n,r,i=ri(-30),o,a=1,s=1/0,u=.81;function l(p){var g,y=e.length,v=b7(e,xSe,wSe).visitAfter(f);for(r=p,g=0;g<y;++g)t=e[g],v.visit(d)}function c(){if(e){var p,g=e.length,y;for(o=new Array(g),p=0;p<g;++p)y=e[p],o[y.index]=+i(y,p,e)}}function f(p){var g=0,y,v,b=0,x,_,A;if(p.length){for(x=_=A=0;A<4;++A)(y=p[A])&&(v=Math.abs(y.value))&&(g+=y.value,b+=v,x+=v*y.x,_+=v*y.y);p.x=x/b,p.y=_/b}else{y=p,y.x=y.data.x,y.y=y.data.y;do g+=o[y.data.index];while(y=y.next)}p.value=g}function d(p,g,y,v){if(!p.value)return!0;var b=p.x-t.x,x=p.y-t.y,_=v-g,A=b*b+x*x;if(_*_/u<A)return A<s&&(b===0&&(b=fc(n),A+=b*b),x===0&&(x=fc(n),A+=x*x),A<a&&(A=Math.sqrt(a*A)),t.vx+=b*p.value*r/A,t.vy+=x*p.value*r/A),!0;if(p.length||A>=s)return;(p.data!==t||p.next)&&(b===0&&(b=fc(n),A+=b*b),x===0&&(x=fc(n),A+=x*x),A<a&&(A=Math.sqrt(a*A)));do p.data!==t&&(_=o[p.data.index]*r/A,t.vx+=b*_,t.vy+=x*_);while(p=p.next)}return l.initialize=function(p,g){e=p,n=g,c()},l.strength=function(p){return arguments.length?(i=typeof p=="function"?p:ri(+p),c(),l):i},l.distanceMin=function(p){return arguments.length?(a=p*p,l):Math.sqrt(a)},l.distanceMax=function(p){return arguments.length?(s=p*p,l):Math.sqrt(s)},l.theta=function(p){return arguments.length?(u=p*p,l):Math.sqrt(u)},l}function SSe(e){var t=ri(.1),n,r,i;typeof e!="function"&&(e=ri(e==null?0:+e));function o(s){for(var u=0,l=n.length,c;u<l;++u)c=n[u],c.vx+=(i[u]-c.x)*r[u]*s}function a(){if(n){var s,u=n.length;for(r=new Array(u),i=new Array(u),s=0;s<u;++s)r[s]=isNaN(i[s]=+e(n[s],s,n))?0:+t(n[s],s,n)}}return o.initialize=function(s){n=s,a()},o.strength=function(s){return arguments.length?(t=typeof s=="function"?s:ri(+s),a(),o):t},o.x=function(s){return arguments.length?(e=typeof s=="function"?s:ri(+s),a(),o):e},o}function ESe(e){var t=ri(.1),n,r,i;typeof e!="function"&&(e=ri(e==null?0:+e));function o(s){for(var u=0,l=n.length,c;u<l;++u)c=n[u],c.vy+=(i[u]-c.y)*r[u]*s}function a(){if(n){var s,u=n.length;for(r=new Array(u),i=new Array(u),s=0;s<u;++s)r[s]=isNaN(i[s]=+e(n[s],s,n))?0:+t(n[s],s,n)}}return o.initialize=function(s){n=s,a()},o.strength=function(s){return arguments.length?(t=typeof s=="function"?s:ri(+s),a(),o):t},o.y=function(s){return arguments.length?(e=typeof s=="function"?s:ri(+s),a(),o):e},o}function CSe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function fA(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Mp(e){return e=fA(Math.abs(e)),e?e[1]:NaN}function $Se(e,t){return function(n,r){for(var i=n.length,o=[],a=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(n.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}}function kSe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var TSe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vd(e){if(!(t=TSe.exec(e)))throw new Error("invalid format: "+e);var t;return new w7({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Vd.prototype=w7.prototype;function w7(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}w7.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function MSe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var _X;function NSe(e,t){var n=fA(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(_X=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+fA(e,Math.max(0,t+o-1))[0]}function ZI(e,t){var n=fA(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const ez={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:CSe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ZI(e*100,t),r:ZI,s:NSe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function tz(e){return e}var nz=Array.prototype.map,rz=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function SX(e){var t=e.grouping===void 0||e.thousands===void 0?tz:$Se(nz.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?tz:kSe(nz.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function l(f){f=Vd(f);var d=f.fill,p=f.align,g=f.sign,y=f.symbol,v=f.zero,b=f.width,x=f.comma,_=f.precision,A=f.trim,S=f.type;S==="n"?(x=!0,S="g"):ez[S]||(_===void 0&&(_=12),A=!0,S="g"),(v||d==="0"&&p==="=")&&(v=!0,d="0",p="=");var C=y==="$"?n:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",E=y==="$"?r:/[%p]/.test(S)?a:"",k=ez[S],O=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function N(F){var W=C,I=E,M,D,P;if(S==="c")I=k(F)+I,F="";else{F=+F;var U=F<0||1/F<0;if(F=isNaN(F)?u:k(Math.abs(F),_),A&&(F=MSe(F)),U&&+F==0&&g!=="+"&&(U=!1),W=(U?g==="("?g:s:g==="-"||g==="("?"":g)+W,I=(S==="s"?rz[8+_X/3]:"")+I+(U&&g==="("?")":""),O){for(M=-1,D=F.length;++M<D;)if(P=F.charCodeAt(M),48>P||P>57){I=(P===46?i+F.slice(M+1):F.slice(M))+I,F=F.slice(0,M);break}}}x&&!v&&(F=t(F,1/0));var z=W.length+F.length+I.length,H=z<b?new Array(b-z+1).join(d):"";switch(x&&v&&(F=t(H+F,H.length?b-I.length:1/0),H=""),p){case"<":F=W+F+I+H;break;case"=":F=W+H+F+I;break;case"^":F=H.slice(0,z=H.length>>1)+W+F+I+H.slice(z);break;default:F=H+W+F+I;break}return o(F)}return N.toString=function(){return f+""},N}function c(f,d){var p=l((f=Vd(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Mp(d)/3)))*3,y=Math.pow(10,-g),v=rz[8+g/3];return function(b){return p(y*b)+v}}return{format:l,formatPrefix:c}}var Hb,vf,A7;OSe({thousands:",",grouping:[3],currency:["$",""]});function OSe(e){return Hb=SX(e),vf=Hb.format,A7=Hb.formatPrefix,Hb}function EX(e){return Math.max(0,-Mp(Math.abs(e)))}function CX(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Mp(t)/3)))*3-Mp(Math.abs(e)))}function $X(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Mp(t)-Mp(e))+1}var je=1e-6,dA=1e-12,ot=Math.PI,vn=ot/2,hA=ot/4,fi=ot*2,_n=180/ot,rt=ot/180,pt=Math.abs,wg=Math.atan,sa=Math.atan2,We=Math.cos,qb=Math.ceil,kX=Math.exp,F4=Math.hypot,pA=Math.log,I9=Math.pow,ze=Math.sin,Go=Math.sign||function(e){return e>0?1:e<0?-1:0},di=Math.sqrt,_7=Math.tan;function TX(e){return e>1?0:e<-1?ot:Math.acos(e)}function ji(e){return e>1?vn:e<-1?-vn:Math.asin(e)}function dr(){}function gA(e,t){e&&oz.hasOwnProperty(e.type)&&oz[e.type](e,t)}var iz={Feature:function(e,t){gA(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)gA(n[r].geometry,t)}},oz={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){D4(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)D4(n[r],t,0)},Polygon:function(e,t){az(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)az(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)gA(n[r],t)}};function D4(e,t,n){var r=-1,i=e.length-n,o;for(t.lineStart();++r<i;)o=e[r],t.point(o[0],o[1],o[2]);t.lineEnd()}function az(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)D4(e[n],t,1);t.polygonEnd()}function Os(e,t){e&&iz.hasOwnProperty(e.type)?iz[e.type](e,t):gA(e,t)}var mA=new ai,yA=new ai,MX,NX,L4,P4,I4,Xs={point:dr,lineStart:dr,lineEnd:dr,polygonStart:function(){mA=new ai,Xs.lineStart=RSe,Xs.lineEnd=FSe},polygonEnd:function(){var e=+mA;yA.add(e<0?fi+e:e),this.lineStart=this.lineEnd=this.point=dr},sphere:function(){yA.add(fi)}};function RSe(){Xs.point=DSe}function FSe(){OX(MX,NX)}function DSe(e,t){Xs.point=OX,MX=e,NX=t,e*=rt,t*=rt,L4=e,P4=We(t=t/2+hA),I4=ze(t)}function OX(e,t){e*=rt,t*=rt,t=t/2+hA;var n=e-L4,r=n>=0?1:-1,i=r*n,o=We(t),a=ze(t),s=I4*a,u=P4*o+s*We(i),l=s*r*ze(i);mA.add(sa(l,u)),L4=e,P4=o,I4=a}function LSe(e){return yA=new ai,Os(e,Xs),yA*2}function vA(e){return[sa(e[1],e[0]),ji(e[2])]}function Yd(e){var t=e[0],n=e[1],r=We(n);return[r*We(t),r*ze(t),ze(n)]}function Gb(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Np(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function z9(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Vb(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function bA(e){var t=di(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var ln,ki,pn,uo,id,RX,FX,np,Um,ec,hl,ju={point:z4,lineStart:sz,lineEnd:uz,polygonStart:function(){ju.point=LX,ju.lineStart=PSe,ju.lineEnd=ISe,Um=new ai,Xs.polygonStart()},polygonEnd:function(){Xs.polygonEnd(),ju.point=z4,ju.lineStart=sz,ju.lineEnd=uz,mA<0?(ln=-(pn=180),ki=-(uo=90)):Um>je?uo=90:Um<-je&&(ki=-90),hl[0]=ln,hl[1]=pn},sphere:function(){ln=-(pn=180),ki=-(uo=90)}};function z4(e,t){ec.push(hl=[ln=e,pn=e]),t<ki&&(ki=t),t>uo&&(uo=t)}function DX(e,t){var n=Yd([e*rt,t*rt]);if(np){var r=Np(np,n),i=[r[1],-r[0],0],o=Np(i,r);bA(o),o=vA(o);var a=e-id,s=a>0?1:-1,u=o[0]*_n*s,l,c=pt(a)>180;c^(s*id<u&&u<s*e)?(l=o[1]*_n,l>uo&&(uo=l)):(u=(u+360)%360-180,c^(s*id<u&&u<s*e)?(l=-o[1]*_n,l<ki&&(ki=l)):(t<ki&&(ki=t),t>uo&&(uo=t))),c?e<id?ao(ln,e)>ao(ln,pn)&&(pn=e):ao(e,pn)>ao(ln,pn)&&(ln=e):pn>=ln?(e<ln&&(ln=e),e>pn&&(pn=e)):e>id?ao(ln,e)>ao(ln,pn)&&(pn=e):ao(e,pn)>ao(ln,pn)&&(ln=e)}else ec.push(hl=[ln=e,pn=e]);t<ki&&(ki=t),t>uo&&(uo=t),np=n,id=e}function sz(){ju.point=DX}function uz(){hl[0]=ln,hl[1]=pn,ju.point=z4,np=null}function LX(e,t){if(np){var n=e-id;Um.add(pt(n)>180?n+(n>0?360:-360):n)}else RX=e,FX=t;Xs.point(e,t),DX(e,t)}function PSe(){Xs.lineStart()}function ISe(){LX(RX,FX),Xs.lineEnd(),pt(Um)>je&&(ln=-(pn=180)),hl[0]=ln,hl[1]=pn,np=null}function ao(e,t){return(t-=e)<0?t+360:t}function zSe(e,t){return e[0]-t[0]}function lz(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function BSe(e){var t,n,r,i,o,a,s;if(uo=pn=-(ln=ki=1/0),ec=[],Os(e,ju),n=ec.length){for(ec.sort(zSe),t=1,r=ec[0],o=[r];t<n;++t)i=ec[t],lz(r,i[0])||lz(r,i[1])?(ao(r[0],i[1])>ao(r[0],r[1])&&(r[1]=i[1]),ao(i[0],r[1])>ao(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,n=o.length-1,t=0,r=o[n];t<=n;r=i,++t)i=o[t],(s=ao(r[1],i[0]))>a&&(a=s,ln=i[0],pn=r[1])}return ec=hl=null,ln===1/0||ki===1/0?[[NaN,NaN],[NaN,NaN]]:[[ln,ki],[pn,uo]]}var om,xA,wA,AA,_A,SA,EA,CA,B4,U4,j4,PX,IX,Qr,Zr,ei,Ua={sphere:dr,point:S7,lineStart:cz,lineEnd:fz,polygonStart:function(){Ua.lineStart=WSe,Ua.lineEnd=HSe},polygonEnd:function(){Ua.lineStart=cz,Ua.lineEnd=fz}};function S7(e,t){e*=rt,t*=rt;var n=We(t);$2(n*We(e),n*ze(e),ze(t))}function $2(e,t,n){++om,wA+=(e-wA)/om,AA+=(t-AA)/om,_A+=(n-_A)/om}function cz(){Ua.point=USe}function USe(e,t){e*=rt,t*=rt;var n=We(t);Qr=n*We(e),Zr=n*ze(e),ei=ze(t),Ua.point=jSe,$2(Qr,Zr,ei)}function jSe(e,t){e*=rt,t*=rt;var n=We(t),r=n*We(e),i=n*ze(e),o=ze(t),a=sa(di((a=Zr*o-ei*i)*a+(a=ei*r-Qr*o)*a+(a=Qr*i-Zr*r)*a),Qr*r+Zr*i+ei*o);xA+=a,SA+=a*(Qr+(Qr=r)),EA+=a*(Zr+(Zr=i)),CA+=a*(ei+(ei=o)),$2(Qr,Zr,ei)}function fz(){Ua.point=S7}function WSe(){Ua.point=qSe}function HSe(){zX(PX,IX),Ua.point=S7}function qSe(e,t){PX=e,IX=t,e*=rt,t*=rt,Ua.point=zX;var n=We(t);Qr=n*We(e),Zr=n*ze(e),ei=ze(t),$2(Qr,Zr,ei)}function zX(e,t){e*=rt,t*=rt;var n=We(t),r=n*We(e),i=n*ze(e),o=ze(t),a=Zr*o-ei*i,s=ei*r-Qr*o,u=Qr*i-Zr*r,l=F4(a,s,u),c=ji(l),f=l&&-c/l;B4.add(f*a),U4.add(f*s),j4.add(f*u),xA+=c,SA+=c*(Qr+(Qr=r)),EA+=c*(Zr+(Zr=i)),CA+=c*(ei+(ei=o)),$2(Qr,Zr,ei)}function GSe(e){om=xA=wA=AA=_A=SA=EA=CA=0,B4=new ai,U4=new ai,j4=new ai,Os(e,Ua);var t=+B4,n=+U4,r=+j4,i=F4(t,n,r);return i<dA&&(t=SA,n=EA,r=CA,xA<je&&(t=wA,n=AA,r=_A),i=F4(t,n,r),i<dA)?[NaN,NaN]:[sa(n,t)*_n,ji(r/i)*_n]}function W4(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function H4(e,t){return pt(e)>ot&&(e-=Math.round(e/fi)*fi),[e,t]}H4.invert=H4;function BX(e,t,n){return(e%=fi)?t||n?W4(hz(e),pz(t,n)):hz(e):t||n?pz(t,n):H4}function dz(e){return function(t,n){return t+=e,pt(t)>ot&&(t-=Math.round(t/fi)*fi),[t,n]}}function hz(e){var t=dz(e);return t.invert=dz(-e),t}function pz(e,t){var n=We(e),r=ze(e),i=We(t),o=ze(t);function a(s,u){var l=We(u),c=We(s)*l,f=ze(s)*l,d=ze(u),p=d*n+c*r;return[sa(f*i-p*o,c*n-d*r),ji(p*i+f*o)]}return a.invert=function(s,u){var l=We(u),c=We(s)*l,f=ze(s)*l,d=ze(u),p=d*i-f*o;return[sa(f*i+d*o,c*n+p*r),ji(p*n-c*r)]},a}function VSe(e){e=BX(e[0]*rt,e[1]*rt,e.length>2?e[2]*rt:0);function t(n){return n=e(n[0]*rt,n[1]*rt),n[0]*=_n,n[1]*=_n,n}return t.invert=function(n){return n=e.invert(n[0]*rt,n[1]*rt),n[0]*=_n,n[1]*=_n,n},t}function YSe(e,t,n,r,i,o){if(n){var a=We(t),s=ze(t),u=r*n;i==null?(i=t+r*fi,o=t-u/2):(i=gz(a,i),o=gz(a,o),(r>0?i<o:i>o)&&(i+=r*fi));for(var l,c=i;r>0?c>o:c<o;c-=u)l=vA([a,-s*We(c),-s*ze(c)]),e.point(l[0],l[1])}}function gz(e,t){t=Yd(t),t[0]-=e,bA(t);var n=TX(-t[1]);return((-t[2]<0?-n:n)+fi-je)%fi}function UX(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:dr,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Zx(e,t){return pt(e[0]-t[0])<je&&pt(e[1]-t[1])<je}function Yb(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function jX(e,t,n,r,i){var o=[],a=[],s,u;if(e.forEach(function(g){if(!((y=g.length-1)<=0)){var y,v=g[0],b=g[y],x;if(Zx(v,b)){if(!v[2]&&!b[2]){for(i.lineStart(),s=0;s<y;++s)i.point((v=g[s])[0],v[1]);i.lineEnd();return}b[0]+=2*je}o.push(x=new Yb(v,g,null,!0)),a.push(x.o=new Yb(v,null,x,!1)),o.push(x=new Yb(b,g,null,!1)),a.push(x.o=new Yb(b,null,x,!0))}}),!!o.length){for(a.sort(t),mz(o),mz(a),s=0,u=a.length;s<u;++s)a[s].e=n=!n;for(var l=o[0],c,f;;){for(var d=l,p=!0;d.v;)if((d=d.n)===l)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(s=0,u=c.length;s<u;++s)i.point((f=c[s])[0],f[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(p)for(c=d.p.z,s=c.length-1;s>=0;--s)i.point((f=c[s])[0],f[1]);else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,c=d.z,p=!p}while(!d.v);i.lineEnd()}}}function mz(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function B9(e){return pt(e[0])<=ot?e[0]:Go(e[0])*((pt(e[0])+ot)%fi-ot)}function JSe(e,t){var n=B9(t),r=t[1],i=ze(r),o=[ze(n),-We(n),0],a=0,s=0,u=new ai;i===1?r=vn+je:i===-1&&(r=-vn-je);for(var l=0,c=e.length;l<c;++l)if(d=(f=e[l]).length)for(var f,d,p=f[d-1],g=B9(p),y=p[1]/2+hA,v=ze(y),b=We(y),x=0;x<d;++x,g=A,v=C,b=E,p=_){var _=f[x],A=B9(_),S=_[1]/2+hA,C=ze(S),E=We(S),k=A-g,O=k>=0?1:-1,N=O*k,F=N>ot,W=v*C;if(u.add(sa(W*O*ze(N),b*E+W*We(N))),a+=F?k+O*fi:k,F^g>=n^A>=n){var I=Np(Yd(p),Yd(_));bA(I);var M=Np(o,I);bA(M);var D=(F^k>=0?-1:1)*ji(M[2]);(r>D||r===D&&(I[0]||I[1]))&&(s+=F^k>=0?1:-1)}}return(a<-je||a<je&&u<-dA)^s&1}function WX(e,t,n,r){return function(i){var o=t(i),a=UX(),s=t(a),u=!1,l,c,f,d={point:p,lineStart:y,lineEnd:v,polygonStart:function(){d.point=b,d.lineStart=x,d.lineEnd=_,c=[],l=[]},polygonEnd:function(){d.point=p,d.lineStart=y,d.lineEnd=v,c=yJ(c);var A=JSe(l,r);c.length?(u||(i.polygonStart(),u=!0),jX(c,KSe,A,n,i)):A&&(u||(i.polygonStart(),u=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),u&&(i.polygonEnd(),u=!1),c=l=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(A,S){e(A,S)&&i.point(A,S)}function g(A,S){o.point(A,S)}function y(){d.point=g,o.lineStart()}function v(){d.point=p,o.lineEnd()}function b(A,S){f.push([A,S]),s.point(A,S)}function x(){s.lineStart(),f=[]}function _(){b(f[0][0],f[0][1]),s.lineEnd();var A=s.clean(),S=a.result(),C,E=S.length,k,O,N;if(f.pop(),l.push(f),f=null,!!E){if(A&1){if(O=S[0],(k=O.length-1)>0){for(u||(i.polygonStart(),u=!0),i.lineStart(),C=0;C<k;++C)i.point((N=O[C])[0],N[1]);i.lineEnd()}return}E>1&&A&2&&S.push(S.pop().concat(S.shift())),c.push(S.filter(XSe))}}return d}}function XSe(e){return e.length>1}function KSe(e,t){return((e=e.x)[0]<0?e[1]-vn-je:vn-e[1])-((t=t.x)[0]<0?t[1]-vn-je:vn-t[1])}const yz=WX(function(){return!0},QSe,eEe,[-ot,-vn]);function QSe(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(o,a){var s=o>0?ot:-ot,u=pt(o-t);pt(u-ot)<je?(e.point(t,n=(n+a)/2>0?vn:-vn),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),e.point(o,n),i=0):r!==s&&u>=ot&&(pt(t-r)<je&&(t-=r*je),pt(o-s)<je&&(o-=s*je),n=ZSe(t,n,o,a),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),i=0),e.point(t=o,n=a),r=s},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function ZSe(e,t,n,r){var i,o,a=ze(e-n);return pt(a)>je?wg((ze(t)*(o=We(r))*ze(n)-ze(r)*(i=We(t))*ze(e))/(i*o*a)):(t+r)/2}function eEe(e,t,n,r){var i;if(e==null)i=n*vn,r.point(-ot,i),r.point(0,i),r.point(ot,i),r.point(ot,0),r.point(ot,-i),r.point(0,-i),r.point(-ot,-i),r.point(-ot,0),r.point(-ot,i);else if(pt(e[0]-t[0])>je){var o=e[0]<t[0]?ot:-ot;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function tEe(e){var t=We(e),n=6*rt,r=t>0,i=pt(t)>je;function o(c,f,d,p){YSe(p,e,n,d,c,f)}function a(c,f){return We(c)*We(f)>t}function s(c){var f,d,p,g,y;return{lineStart:function(){g=p=!1,y=1},point:function(v,b){var x=[v,b],_,A=a(v,b),S=r?A?0:l(v,b):A?l(v+(v<0?ot:-ot),b):0;if(!f&&(g=p=A)&&c.lineStart(),A!==p&&(_=u(f,x),(!_||Zx(f,_)||Zx(x,_))&&(x[2]=1)),A!==p)y=0,A?(c.lineStart(),_=u(x,f),c.point(_[0],_[1])):(_=u(f,x),c.point(_[0],_[1],2),c.lineEnd()),f=_;else if(i&&f&&r^A){var C;!(S&d)&&(C=u(x,f,!0))&&(y=0,r?(c.lineStart(),c.point(C[0][0],C[0][1]),c.point(C[1][0],C[1][1]),c.lineEnd()):(c.point(C[1][0],C[1][1]),c.lineEnd(),c.lineStart(),c.point(C[0][0],C[0][1],3)))}A&&(!f||!Zx(f,x))&&c.point(x[0],x[1]),f=x,p=A,d=S},lineEnd:function(){p&&c.lineEnd(),f=null},clean:function(){return y|(g&&p)<<1}}}function u(c,f,d){var p=Yd(c),g=Yd(f),y=[1,0,0],v=Np(p,g),b=Gb(v,v),x=v[0],_=b-x*x;if(!_)return!d&&c;var A=t*b/_,S=-t*x/_,C=Np(y,v),E=Vb(y,A),k=Vb(v,S);z9(E,k);var O=C,N=Gb(E,O),F=Gb(O,O),W=N*N-F*(Gb(E,E)-1);if(!(W<0)){var I=di(W),M=Vb(O,(-N-I)/F);if(z9(M,E),M=vA(M),!d)return M;var D=c[0],P=f[0],U=c[1],z=f[1],H;P<D&&(H=D,D=P,P=H);var j=P-D,X=pt(j-ot)<je,G=X||j<je;if(!X&&z<U&&(H=U,U=z,z=H),G?X?U+z>0^M[1]<(pt(M[0]-D)<je?U:z):U<=M[1]&&M[1]<=z:j>ot^(D<=M[0]&&M[0]<=P)){var ee=Vb(O,(-N+I)/F);return z9(ee,E),[M,vA(ee)]}}}function l(c,f){var d=r?e:ot-e,p=0;return c<-d?p|=1:c>d&&(p|=2),f<-d?p|=4:f>d&&(p|=8),p}return WX(a,s,o,r?[0,-e]:[-ot,e-ot])}function nEe(e,t,n,r,i,o){var a=e[0],s=e[1],u=t[0],l=t[1],c=0,f=1,d=u-a,p=l-s,g;if(g=n-a,!(!d&&g>0)){if(g/=d,d<0){if(g<c)return;g<f&&(f=g)}else if(d>0){if(g>f)return;g>c&&(c=g)}if(g=i-a,!(!d&&g<0)){if(g/=d,d<0){if(g>f)return;g>c&&(c=g)}else if(d>0){if(g<c)return;g<f&&(f=g)}if(g=r-s,!(!p&&g>0)){if(g/=p,p<0){if(g<c)return;g<f&&(f=g)}else if(p>0){if(g>f)return;g>c&&(c=g)}if(g=o-s,!(!p&&g<0)){if(g/=p,p<0){if(g>f)return;g>c&&(c=g)}else if(p>0){if(g<c)return;g<f&&(f=g)}return c>0&&(e[0]=a+c*d,e[1]=s+c*p),f<1&&(t[0]=a+f*d,t[1]=s+f*p),!0}}}}}var am=1e9,Jb=-am;function E7(e,t,n,r){function i(l,c){return e<=l&&l<=n&&t<=c&&c<=r}function o(l,c,f,d){var p=0,g=0;if(l==null||(p=a(l,f))!==(g=a(c,f))||u(l,c)<0^f>0)do d.point(p===0||p===3?e:n,p>1?r:t);while((p=(p+f+4)%4)!==g);else d.point(c[0],c[1])}function a(l,c){return pt(l[0]-e)<je?c>0?0:3:pt(l[0]-n)<je?c>0?2:1:pt(l[1]-t)<je?c>0?1:0:c>0?3:2}function s(l,c){return u(l.x,c.x)}function u(l,c){var f=a(l,1),d=a(c,1);return f!==d?f-d:f===0?c[1]-l[1]:f===1?l[0]-c[0]:f===2?l[1]-c[1]:c[0]-l[0]}return function(l){var c=l,f=UX(),d,p,g,y,v,b,x,_,A,S,C,E={point:k,lineStart:W,lineEnd:I,polygonStart:N,polygonEnd:F};function k(D,P){i(D,P)&&c.point(D,P)}function O(){for(var D=0,P=0,U=p.length;P<U;++P)for(var z=p[P],H=1,j=z.length,X=z[0],G,ee,ne=X[0],de=X[1];H<j;++H)G=ne,ee=de,X=z[H],ne=X[0],de=X[1],ee<=r?de>r&&(ne-G)*(r-ee)>(de-ee)*(e-G)&&++D:de<=r&&(ne-G)*(r-ee)<(de-ee)*(e-G)&&--D;return D}function N(){c=f,d=[],p=[],C=!0}function F(){var D=O(),P=C&&D,U=(d=yJ(d)).length;(P||U)&&(l.polygonStart(),P&&(l.lineStart(),o(null,null,1,l),l.lineEnd()),U&&jX(d,s,D,o,l),l.polygonEnd()),c=l,d=p=g=null}function W(){E.point=M,p&&p.push(g=[]),S=!0,A=!1,x=_=NaN}function I(){d&&(M(y,v),b&&A&&f.rejoin(),d.push(f.result())),E.point=k,A&&c.lineEnd()}function M(D,P){var U=i(D,P);if(p&&g.push([D,P]),S)y=D,v=P,b=U,S=!1,U&&(c.lineStart(),c.point(D,P));else if(U&&A)c.point(D,P);else{var z=[x=Math.max(Jb,Math.min(am,x)),_=Math.max(Jb,Math.min(am,_))],H=[D=Math.max(Jb,Math.min(am,D)),P=Math.max(Jb,Math.min(am,P))];nEe(z,H,e,t,n,r)?(A||(c.lineStart(),c.point(z[0],z[1])),c.point(H[0],H[1]),U||c.lineEnd(),C=!1):U&&(c.lineStart(),c.point(D,P),C=!1)}x=D,_=P,A=U}return E}}function vz(e,t,n){var r=Pn(e,t-je,n).concat(t);return function(i){return r.map(function(o){return[i,o]})}}function bz(e,t,n){var r=Pn(e,t-je,n).concat(t);return function(i){return r.map(function(o){return[o,i]})}}function rEe(){var e,t,n,r,i,o,a,s,u=10,l=u,c=90,f=360,d,p,g,y,v=2.5;function b(){return{type:"MultiLineString",coordinates:x()}}function x(){return Pn(qb(r/c)*c,n,c).map(g).concat(Pn(qb(s/f)*f,a,f).map(y)).concat(Pn(qb(t/u)*u,e,u).filter(function(_){return pt(_%c)>je}).map(d)).concat(Pn(qb(o/l)*l,i,l).filter(function(_){return pt(_%f)>je}).map(p))}return b.lines=function(){return x().map(function(_){return{type:"LineString",coordinates:_}})},b.outline=function(){return{type:"Polygon",coordinates:[g(r).concat(y(a).slice(1),g(n).reverse().slice(1),y(s).reverse().slice(1))]}},b.extent=function(_){return arguments.length?b.extentMajor(_).extentMinor(_):b.extentMinor()},b.extentMajor=function(_){return arguments.length?(r=+_[0][0],n=+_[1][0],s=+_[0][1],a=+_[1][1],r>n&&(_=r,r=n,n=_),s>a&&(_=s,s=a,a=_),b.precision(v)):[[r,s],[n,a]]},b.extentMinor=function(_){return arguments.length?(t=+_[0][0],e=+_[1][0],o=+_[0][1],i=+_[1][1],t>e&&(_=t,t=e,e=_),o>i&&(_=o,o=i,i=_),b.precision(v)):[[t,o],[e,i]]},b.step=function(_){return arguments.length?b.stepMajor(_).stepMinor(_):b.stepMinor()},b.stepMajor=function(_){return arguments.length?(c=+_[0],f=+_[1],b):[c,f]},b.stepMinor=function(_){return arguments.length?(u=+_[0],l=+_[1],b):[u,l]},b.precision=function(_){return arguments.length?(v=+_,d=vz(o,i,90),p=bz(t,e,v),g=vz(s,a,90),y=bz(r,n,v),b):v},b.extentMajor([[-180,-90+je],[180,90-je]]).extentMinor([[-180,-80-je],[180,80+je]])}const Ty=e=>e;var U9=new ai,q4=new ai,HX,qX,G4,V4,sc={point:dr,lineStart:dr,lineEnd:dr,polygonStart:function(){sc.lineStart=iEe,sc.lineEnd=aEe},polygonEnd:function(){sc.lineStart=sc.lineEnd=sc.point=dr,U9.add(pt(q4)),q4=new ai},result:function(){var e=U9/2;return U9=new ai,e}};function iEe(){sc.point=oEe}function oEe(e,t){sc.point=GX,HX=G4=e,qX=V4=t}function GX(e,t){q4.add(V4*e-G4*t),G4=e,V4=t}function aEe(){GX(HX,qX)}const xz=sc;var Op=1/0,$A=Op,My=-Op,kA=My,sEe={point:uEe,lineStart:dr,lineEnd:dr,polygonStart:dr,polygonEnd:dr,result:function(){var e=[[Op,$A],[My,kA]];return My=kA=-($A=Op=1/0),e}};function uEe(e,t){e<Op&&(Op=e),e>My&&(My=e),t<$A&&($A=t),t>kA&&(kA=t)}const TA=sEe;var Y4=0,J4=0,sm=0,MA=0,NA=0,Bh=0,X4=0,K4=0,um=0,VX,YX,Rs,Fs,za={point:Jd,lineStart:wz,lineEnd:Az,polygonStart:function(){za.lineStart=fEe,za.lineEnd=dEe},polygonEnd:function(){za.point=Jd,za.lineStart=wz,za.lineEnd=Az},result:function(){var e=um?[X4/um,K4/um]:Bh?[MA/Bh,NA/Bh]:sm?[Y4/sm,J4/sm]:[NaN,NaN];return Y4=J4=sm=MA=NA=Bh=X4=K4=um=0,e}};function Jd(e,t){Y4+=e,J4+=t,++sm}function wz(){za.point=lEe}function lEe(e,t){za.point=cEe,Jd(Rs=e,Fs=t)}function cEe(e,t){var n=e-Rs,r=t-Fs,i=di(n*n+r*r);MA+=i*(Rs+e)/2,NA+=i*(Fs+t)/2,Bh+=i,Jd(Rs=e,Fs=t)}function Az(){za.point=Jd}function fEe(){za.point=hEe}function dEe(){JX(VX,YX)}function hEe(e,t){za.point=JX,Jd(VX=Rs=e,YX=Fs=t)}function JX(e,t){var n=e-Rs,r=t-Fs,i=di(n*n+r*r);MA+=i*(Rs+e)/2,NA+=i*(Fs+t)/2,Bh+=i,i=Fs*e-Rs*t,X4+=i*(Rs+e),K4+=i*(Fs+t),um+=i*3,Jd(Rs=e,Fs=t)}const _z=za;function XX(e){this._context=e}XX.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,fi);break}}},result:dr};var Q4=new ai,j9,KX,QX,lm,cm,OA={point:dr,lineStart:function(){OA.point=pEe},lineEnd:function(){j9&&ZX(KX,QX),OA.point=dr},polygonStart:function(){j9=!0},polygonEnd:function(){j9=null},result:function(){var e=+Q4;return Q4=new ai,e}};function pEe(e,t){OA.point=ZX,KX=lm=e,QX=cm=t}function ZX(e,t){lm-=e,cm-=t,Q4.add(di(lm*lm+cm*cm)),lm=e,cm=t}const Sz=OA;let Ez,RA,Cz,$z;class kz{constructor(t){this._append=t==null?eK:gEe(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==Cz||this._append!==RA){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Cz=r,RA=this._append,$z=this._,this._=i}this._+=$z;break}}}result(){const t=this._;return this._="",t.length?t:null}}function eK(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function gEe(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return eK;if(t!==Ez){const n=10**t;Ez=t,RA=function(i){let o=1;this._+=i[0];for(const a=i.length;o<a;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return RA}function k2(e,t){let n=3,r=4.5,i,o;function a(s){return s&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),Os(s,i(o))),o.result()}return a.area=function(s){return Os(s,i(xz)),xz.result()},a.measure=function(s){return Os(s,i(Sz)),Sz.result()},a.bounds=function(s){return Os(s,i(TA)),TA.result()},a.centroid=function(s){return Os(s,i(_z)),_z.result()},a.projection=function(s){return arguments.length?(i=s==null?(e=null,Ty):(e=s).stream,a):e},a.context=function(s){return arguments.length?(o=s==null?(t=null,new kz(n)):new XX(t=s),typeof r!="function"&&o.pointRadius(r),a):t},a.pointRadius=function(s){return arguments.length?(r=typeof s=="function"?s:(o.pointRadius(+s),+s),a):r},a.digits=function(s){if(!arguments.length)return n;if(s==null)n=null;else{const u=Math.floor(s);if(!(u>=0))throw new RangeError(`invalid digits: ${s}`);n=u}return t===null&&(o=new kz(n)),a},a.projection(e).digits(n).context(t)}function Z4(e){return{stream:T2(e)}}function T2(e){return function(t){var n=new eC;for(var r in e)n[r]=e[r];return n.stream=t,n}}function eC(){}eC.prototype={constructor:eC,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function C7(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),Os(n,e.stream(TA)),t(TA.result()),r!=null&&e.clipExtent(r),e}function m3(e,t,n){return C7(e,function(r){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),s=+t[0][0]+(i-a*(r[1][0]+r[0][0]))/2,u=+t[0][1]+(o-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([s,u])},n)}function $7(e,t,n){return m3(e,[[0,0],t],n)}function k7(e,t,n){return C7(e,function(r){var i=+t,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,s=-o*r[0][1];e.scale(150*o).translate([a,s])},n)}function T7(e,t,n){return C7(e,function(r){var i=+t,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],s=(i-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([a,s])},n)}var Tz=16,mEe=We(30*rt);function Mz(e,t){return+t?vEe(e,t):yEe(e)}function yEe(e){return T2({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function vEe(e,t){function n(r,i,o,a,s,u,l,c,f,d,p,g,y,v){var b=l-r,x=c-i,_=b*b+x*x;if(_>4*t&&y--){var A=a+d,S=s+p,C=u+g,E=di(A*A+S*S+C*C),k=ji(C/=E),O=pt(pt(C)-1)<je||pt(o-f)<je?(o+f)/2:sa(S,A),N=e(O,k),F=N[0],W=N[1],I=F-r,M=W-i,D=x*I-b*M;(D*D/_>t||pt((b*I+x*M)/_-.5)>.3||a*d+s*p+u*g<mEe)&&(n(r,i,o,a,s,u,F,W,O,A/=E,S/=E,C,y,v),v.point(F,W),n(F,W,O,A,S,C,l,c,f,d,p,g,y,v))}}return function(r){var i,o,a,s,u,l,c,f,d,p,g,y,v={point:b,lineStart:x,lineEnd:A,polygonStart:function(){r.polygonStart(),v.lineStart=S},polygonEnd:function(){r.polygonEnd(),v.lineStart=x}};function b(k,O){k=e(k,O),r.point(k[0],k[1])}function x(){f=NaN,v.point=_,r.lineStart()}function _(k,O){var N=Yd([k,O]),F=e(k,O);n(f,d,c,p,g,y,f=F[0],d=F[1],c=k,p=N[0],g=N[1],y=N[2],Tz,r),r.point(f,d)}function A(){v.point=b,r.lineEnd()}function S(){x(),v.point=C,v.lineEnd=E}function C(k,O){_(i=k,O),o=f,a=d,s=p,u=g,l=y,v.point=_}function E(){n(f,d,c,p,g,y,o,a,i,s,u,l,Tz,r),v.lineEnd=A,A()}return v}}var bEe=T2({point:function(e,t){this.stream.point(e*rt,t*rt)}});function xEe(e){return T2({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function wEe(e,t,n,r,i){function o(a,s){return a*=r,s*=i,[t+e*a,n-e*s]}return o.invert=function(a,s){return[(a-t)/e*r,(n-s)/e*i]},o}function Nz(e,t,n,r,i,o){if(!o)return wEe(e,t,n,r,i);var a=We(o),s=ze(o),u=a*e,l=s*e,c=a/e,f=s/e,d=(s*n-a*t)/e,p=(s*t+a*n)/e;function g(y,v){return y*=r,v*=i,[u*y-l*v+t,n-l*y-u*v]}return g.invert=function(y,v){return[r*(c*y-f*v+d),i*(p-f*y-c*v)]},g}function ou(e){return tK(function(){return e})()}function tK(e){var t,n=150,r=480,i=250,o=0,a=0,s=0,u=0,l=0,c,f=0,d=1,p=1,g=null,y=yz,v=null,b,x,_,A=Ty,S=.5,C,E,k,O,N;function F(D){return k(D[0]*rt,D[1]*rt)}function W(D){return D=k.invert(D[0],D[1]),D&&[D[0]*_n,D[1]*_n]}F.stream=function(D){return O&&N===D?O:O=bEe(xEe(c)(y(C(A(N=D)))))},F.preclip=function(D){return arguments.length?(y=D,g=void 0,M()):y},F.postclip=function(D){return arguments.length?(A=D,v=b=x=_=null,M()):A},F.clipAngle=function(D){return arguments.length?(y=+D?tEe(g=D*rt):(g=null,yz),M()):g*_n},F.clipExtent=function(D){return arguments.length?(A=D==null?(v=b=x=_=null,Ty):E7(v=+D[0][0],b=+D[0][1],x=+D[1][0],_=+D[1][1]),M()):v==null?null:[[v,b],[x,_]]},F.scale=function(D){return arguments.length?(n=+D,I()):n},F.translate=function(D){return arguments.length?(r=+D[0],i=+D[1],I()):[r,i]},F.center=function(D){return arguments.length?(o=D[0]%360*rt,a=D[1]%360*rt,I()):[o*_n,a*_n]},F.rotate=function(D){return arguments.length?(s=D[0]%360*rt,u=D[1]%360*rt,l=D.length>2?D[2]%360*rt:0,I()):[s*_n,u*_n,l*_n]},F.angle=function(D){return arguments.length?(f=D%360*rt,I()):f*_n},F.reflectX=function(D){return arguments.length?(d=D?-1:1,I()):d<0},F.reflectY=function(D){return arguments.length?(p=D?-1:1,I()):p<0},F.precision=function(D){return arguments.length?(C=Mz(E,S=D*D),M()):di(S)},F.fitExtent=function(D,P){return m3(F,D,P)},F.fitSize=function(D,P){return $7(F,D,P)},F.fitWidth=function(D,P){return k7(F,D,P)},F.fitHeight=function(D,P){return T7(F,D,P)};function I(){var D=Nz(n,0,0,d,p,f).apply(null,t(o,a)),P=Nz(n,r-D[0],i-D[1],d,p,f);return c=BX(s,u,l),E=W4(t,P),k=W4(c,E),C=Mz(E,S),M()}function M(){return O=N=null,F}return function(){return t=e.apply(this,arguments),F.invert=t.invert&&W,I()}}function M7(e){var t=0,n=ot/3,r=tK(e),i=r(t,n);return i.parallels=function(o){return arguments.length?r(t=o[0]*rt,n=o[1]*rt):[t*_n,n*_n]},i}function AEe(e){var t=We(e);function n(r,i){return[r*t,ze(i)/t]}return n.invert=function(r,i){return[r/t,ji(i*t)]},n}function _Ee(e,t){var n=ze(e),r=(n+ze(t))/2;if(pt(r)<je)return AEe(e);var i=1+n*(2*r-n),o=di(i)/r;function a(s,u){var l=di(i-2*r*ze(u))/r;return[l*ze(s*=r),o-l*We(s)]}return a.invert=function(s,u){var l=o-u,c=sa(s,pt(l))*Go(l);return l*r<0&&(c-=ot*Go(s)*Go(l)),[c/r,ji((i-(s*s+l*l)*r*r)/(2*r))]},a}function Ny(){return M7(_Ee).scale(155.424).center([0,33.6442])}function N7(){return Ny().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function SEe(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function nK(){var e,t,n=N7(),r,i=Ny().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=Ny().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,u,l={point:function(d,p){u=[d,p]}};function c(d){var p=d[0],g=d[1];return u=null,r.point(p,g),u||(o.point(p,g),u)||(s.point(p,g),u)}c.invert=function(d){var p=n.scale(),g=n.translate(),y=(d[0]-g[0])/p,v=(d[1]-g[1])/p;return(v>=.12&&v<.234&&y>=-.425&&y<-.214?i:v>=.166&&v<.234&&y>=-.214&&y<-.115?a:n).invert(d)},c.stream=function(d){return e&&t===d?e:e=SEe([n.stream(t=d),i.stream(d),a.stream(d)])},c.precision=function(d){return arguments.length?(n.precision(d),i.precision(d),a.precision(d),f()):n.precision()},c.scale=function(d){return arguments.length?(n.scale(d),i.scale(d*.35),a.scale(d),c.translate(n.translate())):n.scale()},c.translate=function(d){if(!arguments.length)return n.translate();var p=n.scale(),g=+d[0],y=+d[1];return r=n.translate(d).clipExtent([[g-.455*p,y-.238*p],[g+.455*p,y+.238*p]]).stream(l),o=i.translate([g-.307*p,y+.201*p]).clipExtent([[g-.425*p+je,y+.12*p+je],[g-.214*p-je,y+.234*p-je]]).stream(l),s=a.translate([g-.205*p,y+.212*p]).clipExtent([[g-.214*p+je,y+.166*p+je],[g-.115*p-je,y+.234*p-je]]).stream(l),f()},c.fitExtent=function(d,p){return m3(c,d,p)},c.fitSize=function(d,p){return $7(c,d,p)},c.fitWidth=function(d,p){return k7(c,d,p)},c.fitHeight=function(d,p){return T7(c,d,p)};function f(){return e=t=null,c}return c.scale(1070)}function rK(e){return function(t,n){var r=We(t),i=We(n),o=e(r*i);return o===1/0?[2,0]:[o*i*ze(t),o*ze(n)]}}function M2(e){return function(t,n){var r=di(t*t+n*n),i=e(r),o=ze(i),a=We(i);return[sa(t*o,r*a),ji(r&&n*o/r)]}}var iK=rK(function(e){return di(2/(1+e))});iK.invert=M2(function(e){return 2*ji(e/2)});function oK(){return ou(iK).scale(124.75).clipAngle(180-.001)}var aK=rK(function(e){return(e=TX(e))&&e/ze(e)});aK.invert=M2(function(e){return e});function sK(){return ou(aK).scale(79.4188).clipAngle(180-.001)}function y3(e,t){return[e,pA(_7((vn+t)/2))]}y3.invert=function(e,t){return[e,2*wg(kX(t))-vn]};function O7(){return uK(y3).scale(961/fi)}function uK(e){var t=ou(e),n=t.center,r=t.scale,i=t.translate,o=t.clipExtent,a=null,s,u,l;t.scale=function(f){return arguments.length?(r(f),c()):r()},t.translate=function(f){return arguments.length?(i(f),c()):i()},t.center=function(f){return arguments.length?(n(f),c()):n()},t.clipExtent=function(f){return arguments.length?(f==null?a=s=u=l=null:(a=+f[0][0],s=+f[0][1],u=+f[1][0],l=+f[1][1]),c()):a==null?null:[[a,s],[u,l]]};function c(){var f=ot*r(),d=t(VSe(t.rotate()).invert([0,0]));return o(a==null?[[d[0]-f,d[1]-f],[d[0]+f,d[1]+f]]:e===y3?[[Math.max(d[0]-f,a),s],[Math.min(d[0]+f,u),l]]:[[a,Math.max(d[1]-f,s)],[u,Math.min(d[1]+f,l)]])}return c()}function Xb(e){return _7((vn+e)/2)}function EEe(e,t){var n=We(e),r=e===t?ze(e):pA(n/We(t))/pA(Xb(t)/Xb(e)),i=n*I9(Xb(e),r)/r;if(!r)return y3;function o(a,s){i>0?s<-vn+je&&(s=-vn+je):s>vn-je&&(s=vn-je);var u=i/I9(Xb(s),r);return[u*ze(r*a),i-u*We(r*a)]}return o.invert=function(a,s){var u=i-s,l=Go(r)*di(a*a+u*u),c=sa(a,pt(u))*Go(u);return u*r<0&&(c-=ot*Go(a)*Go(u)),[c/r,2*wg(I9(i/l,1/r))-vn]},o}function lK(){return M7(EEe).scale(109.5).parallels([30,30])}function FA(e,t){return[e,t]}FA.invert=FA;function cK(){return ou(FA).scale(152.63)}function CEe(e,t){var n=We(e),r=e===t?ze(e):(n-We(t))/(t-e),i=n/r+e;if(pt(r)<je)return FA;function o(a,s){var u=i-s,l=r*a;return[u*ze(l),i-u*We(l)]}return o.invert=function(a,s){var u=i-s,l=sa(a,pt(u))*Go(u);return u*r<0&&(l-=ot*Go(a)*Go(u)),[l/r,i-Go(r)*di(a*a+u*u)]},o}function fK(){return M7(CEe).scale(131.154).center([0,13.9389])}var jm=1.340264,Wm=-.081106,Hm=893e-6,qm=.003796,DA=di(3)/2,$Ee=12;function dK(e,t){var n=ji(DA*ze(t)),r=n*n,i=r*r*r;return[e*We(n)/(DA*(jm+3*Wm*r+i*(7*Hm+9*qm*r))),n*(jm+Wm*r+i*(Hm+qm*r))]}dK.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,o=0,a,s,u;o<$Ee&&(s=n*(jm+Wm*r+i*(Hm+qm*r))-t,u=jm+3*Wm*r+i*(7*Hm+9*qm*r),n-=a=s/u,r=n*n,i=r*r*r,!(pt(a)<dA));++o);return[DA*e*(jm+3*Wm*r+i*(7*Hm+9*qm*r))/We(n),ji(ze(n)/DA)]};function hK(){return ou(dK).scale(177.158)}function pK(e,t){var n=We(t),r=We(e)*n;return[n*ze(e)/r,ze(t)/r]}pK.invert=M2(wg);function gK(){return ou(pK).scale(144.049).clipAngle(60)}function kEe(){var e=1,t=0,n=0,r=1,i=1,o=0,a,s,u=null,l,c,f,d=1,p=1,g=T2({point:function(A,S){var C=_([A,S]);this.stream.point(C[0],C[1])}}),y=Ty,v,b;function x(){return d=e*r,p=e*i,v=b=null,_}function _(A){var S=A[0]*d,C=A[1]*p;if(o){var E=C*a-S*s;S=S*a+C*s,C=E}return[S+t,C+n]}return _.invert=function(A){var S=A[0]-t,C=A[1]-n;if(o){var E=C*a+S*s;S=S*a-C*s,C=E}return[S/d,C/p]},_.stream=function(A){return v&&b===A?v:v=g(y(b=A))},_.postclip=function(A){return arguments.length?(y=A,u=l=c=f=null,x()):y},_.clipExtent=function(A){return arguments.length?(y=A==null?(u=l=c=f=null,Ty):E7(u=+A[0][0],l=+A[0][1],c=+A[1][0],f=+A[1][1]),x()):u==null?null:[[u,l],[c,f]]},_.scale=function(A){return arguments.length?(e=+A,x()):e},_.translate=function(A){return arguments.length?(t=+A[0],n=+A[1],x()):[t,n]},_.angle=function(A){return arguments.length?(o=A%360*rt,s=ze(o),a=We(o),x()):o*_n},_.reflectX=function(A){return arguments.length?(r=A?-1:1,x()):r<0},_.reflectY=function(A){return arguments.length?(i=A?-1:1,x()):i<0},_.fitExtent=function(A,S){return m3(_,A,S)},_.fitSize=function(A,S){return $7(_,A,S)},_.fitWidth=function(A,S){return k7(_,A,S)},_.fitHeight=function(A,S){return T7(_,A,S)},_}function mK(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}mK.invert=function(e,t){var n=t,r=25,i;do{var o=n*n,a=o*o;n-=i=(n*(1.007226+o*(.015085+a*(-.044475+.028874*o-.005916*a)))-t)/(1.007226+o*(.015085*3+a*(-.044475*7+.028874*9*o-.005916*11*a)))}while(pt(i)>je&&--r>0);return[e/(.8707+(o=n*n)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),n]};function TEe(){return ou(mK).scale(175.295)}function yK(e,t){return[We(t)*ze(e),ze(t)]}yK.invert=M2(ji);function vK(){return ou(yK).scale(249.5).clipAngle(90+je)}function bK(e,t){var n=We(t),r=1+We(e)*n;return[n*ze(e)/r,ze(t)/r]}bK.invert=M2(function(e){return 2*wg(e)});function xK(){return ou(bK).scale(250).clipAngle(142)}function wK(e,t){return[pA(_7((vn+t)/2)),-e]}wK.invert=function(e,t){return[-t,2*wg(kX(e))-vn]};function AK(){var e=uK(wK),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function MEe(e,t){return e.parent===t.parent?1:2}function NEe(e){return e.reduce(OEe,0)/e.length}function OEe(e,t){return e+t.x}function REe(e){return 1+e.reduce(FEe,0)}function FEe(e,t){return Math.max(e,t.y)}function DEe(e){for(var t;t=e.children;)e=t[0];return e}function LEe(e){for(var t;t=e.children;)e=t[t.length-1];return e}function PEe(){var e=MEe,t=1,n=1,r=!1;function i(o){var a,s=0;o.eachAfter(function(d){var p=d.children;p?(d.x=NEe(p),d.y=REe(p)):(d.x=a?s+=e(d,a):0,d.y=0,a=d)});var u=DEe(o),l=LEe(o),c=u.x-e(u,l)/2,f=l.x+e(l,u)/2;return o.eachAfter(r?function(d){d.x=(d.x-o.x)*t,d.y=(o.y-d.y)*n}:function(d){d.x=(d.x-c)/(f-c)*t,d.y=(1-(o.y?d.y/o.y:1))*n})}return i.separation=function(o){return arguments.length?(e=o,i):e},i.size=function(o){return arguments.length?(r=!1,t=+o[0],n=+o[1],i):r?null:[t,n]},i.nodeSize=function(o){return arguments.length?(r=!0,t=+o[0],n=+o[1],i):r?[t,n]:null},i}function IEe(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function zEe(){return this.eachAfter(IEe)}function BEe(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function UEe(e,t){for(var n=this,r=[n],i,o,a=-1;n=r.pop();)if(e.call(t,n,++a,this),i=n.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function jEe(e,t){for(var n=this,r=[n],i=[],o,a,s,u=-1;n=r.pop();)if(i.push(n),o=n.children)for(a=0,s=o.length;a<s;++a)r.push(o[a]);for(;n=i.pop();)e.call(t,n,++u,this);return this}function WEe(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function HEe(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function qEe(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function GEe(e){for(var t=this,n=VEe(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function VEe(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function YEe(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function JEe(){return Array.from(this)}function XEe(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function KEe(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*QEe(){var e=this,t,n=[e],r,i,o;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);while(n.length)}function R7(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=t9e)):t===void 0&&(t=e9e);for(var n=new Rp(e),r,i=[n],o,a,s,u;r=i.pop();)if((a=t(r.data))&&(u=(a=Array.from(a)).length))for(r.children=a,s=u-1;s>=0;--s)i.push(o=a[s]=new Rp(a[s])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(_K)}function ZEe(){return R7(this).eachBefore(n9e)}function e9e(e){return e.children}function t9e(e){return Array.isArray(e)?e[1]:null}function n9e(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function _K(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Rp(e){this.data=e,this.depth=this.height=0,this.parent=null}Rp.prototype=R7.prototype={constructor:Rp,count:zEe,each:BEe,eachAfter:jEe,eachBefore:UEe,find:WEe,sum:HEe,sort:qEe,path:GEe,ancestors:YEe,descendants:JEe,leaves:XEe,links:KEe,copy:ZEe,[Symbol.iterator]:QEe};function ew(e){return e==null?null:SK(e)}function SK(e){if(typeof e!="function")throw new Error;return e}function sd(){return 0}function Sh(e){return function(){return e}}const r9e=1664525,i9e=1013904223,Oz=4294967296;function o9e(){let e=1;return()=>(e=(r9e*e+i9e)%Oz)/Oz}function a9e(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function s9e(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function u9e(e,t){for(var n=0,r=(e=s9e(Array.from(e),t)).length,i=[],o,a;n<r;)o=e[n],a&&EK(a,o)?++n:(a=c9e(i=l9e(i,o)),n=0);return a}function l9e(e,t){var n,r;if(W9(t,e))return[t];for(n=0;n<e.length;++n)if(Kb(t,e[n])&&W9(fm(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(Kb(fm(e[n],e[r]),t)&&Kb(fm(e[n],t),e[r])&&Kb(fm(e[r],t),e[n])&&W9(CK(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function Kb(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function EK(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function W9(e,t){for(var n=0;n<t.length;++n)if(!EK(e,t[n]))return!1;return!0}function c9e(e){switch(e.length){case 1:return f9e(e[0]);case 2:return fm(e[0],e[1]);case 3:return CK(e[0],e[1],e[2])}}function f9e(e){return{x:e.x,y:e.y,r:e.r}}function fm(e,t){var n=e.x,r=e.y,i=e.r,o=t.x,a=t.y,s=t.r,u=o-n,l=a-r,c=s-i,f=Math.sqrt(u*u+l*l);return{x:(n+o+u/f*c)/2,y:(r+a+l/f*c)/2,r:(f+i+s)/2}}function CK(e,t,n){var r=e.x,i=e.y,o=e.r,a=t.x,s=t.y,u=t.r,l=n.x,c=n.y,f=n.r,d=r-a,p=r-l,g=i-s,y=i-c,v=u-o,b=f-o,x=r*r+i*i-o*o,_=x-a*a-s*s+u*u,A=x-l*l-c*c+f*f,S=p*g-d*y,C=(g*A-y*_)/(S*2)-r,E=(y*v-g*b)/S,k=(p*_-d*A)/(S*2)-i,O=(d*b-p*v)/S,N=E*E+O*O-1,F=2*(o+C*E+k*O),W=C*C+k*k-o*o,I=-(Math.abs(N)>1e-6?(F+Math.sqrt(F*F-4*N*W))/(2*N):W/F);return{x:r+C+E*I,y:i+k+O*I,r:I}}function Rz(e,t,n){var r=e.x-t.x,i,o,a=e.y-t.y,s,u,l=r*r+a*a;l?(o=t.r+n.r,o*=o,u=e.r+n.r,u*=u,o>u?(i=(l+u-o)/(2*l),s=Math.sqrt(Math.max(0,u/l-i*i)),n.x=e.x-i*r-s*a,n.y=e.y-i*a+s*r):(i=(l+o-u)/(2*l),s=Math.sqrt(Math.max(0,o/l-i*i)),n.x=t.x+i*r-s*a,n.y=t.y+i*a+s*r)):(n.x=t.x+n.r,n.y=t.y)}function Fz(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function Dz(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,o=(t.y*n.r+n.y*t.r)/r;return i*i+o*o}function Qb(e){this._=e,this.next=null,this.previous=null}function d9e(e,t){if(!(o=(e=a9e(e)).length))return 0;var n,r,i,o,a,s,u,l,c,f,d;if(n=e[0],n.x=0,n.y=0,!(o>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(o>2))return n.r+r.r;Rz(r,n,i=e[2]),n=new Qb(n),r=new Qb(r),i=new Qb(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(u=3;u<o;++u){Rz(n._,r._,i=e[u]),i=new Qb(i),l=r.next,c=n.previous,f=r._.r,d=n._.r;do if(f<=d){if(Fz(l._,i._)){r=l,n.next=r,r.previous=n,--u;continue e}f+=l._.r,l=l.next}else{if(Fz(c._,i._)){n=c,n.next=r,r.previous=n,--u;continue e}d+=c._.r,c=c.previous}while(l!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,a=Dz(n);(i=i.next)!==r;)(s=Dz(i))<a&&(n=i,a=s);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=u9e(n,t),u=0;u<o;++u)n=e[u],n.x-=i.x,n.y-=i.y;return i.r}function h9e(e){return Math.sqrt(e.value)}function p9e(){var e=null,t=1,n=1,r=sd;function i(o){const a=o9e();return o.x=t/2,o.y=n/2,e?o.eachBefore(Lz(e)).eachAfter(H9(r,.5,a)).eachBefore(Pz(1)):o.eachBefore(Lz(h9e)).eachAfter(H9(sd,1,a)).eachAfter(H9(r,o.r/Math.min(t,n),a)).eachBefore(Pz(Math.min(t,n)/(2*o.r))),o}return i.radius=function(o){return arguments.length?(e=ew(o),i):e},i.size=function(o){return arguments.length?(t=+o[0],n=+o[1],i):[t,n]},i.padding=function(o){return arguments.length?(r=typeof o=="function"?o:Sh(+o),i):r},i}function Lz(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function H9(e,t,n){return function(r){if(i=r.children){var i,o,a=i.length,s=e(r)*t||0,u;if(s)for(o=0;o<a;++o)i[o].r+=s;if(u=d9e(i,n),s)for(o=0;o<a;++o)i[o].r-=s;r.r=u+s}}}function Pz(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function $K(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function N2(e,t,n,r,i){for(var o=e.children,a,s=-1,u=o.length,l=e.value&&(r-t)/e.value;++s<u;)a=o[s],a.y0=n,a.y1=i,a.x0=t,a.x1=t+=a.value*l}function g9e(){var e=1,t=1,n=0,r=!1;function i(a){var s=a.height+1;return a.x0=a.y0=n,a.x1=e,a.y1=t/s,a.eachBefore(o(t,s)),r&&a.eachBefore($K),a}function o(a,s){return function(u){u.children&&N2(u,u.x0,a*(u.depth+1)/s,u.x1,a*(u.depth+2)/s);var l=u.x0,c=u.y0,f=u.x1-n,d=u.y1-n;f<l&&(l=f=(l+f)/2),d<c&&(c=d=(c+d)/2),u.x0=l,u.y0=c,u.x1=f,u.y1=d}}return i.round=function(a){return arguments.length?(r=!!a,i):r},i.size=function(a){return arguments.length?(e=+a[0],t=+a[1],i):[e,t]},i.padding=function(a){return arguments.length?(n=+a,i):n},i}var m9e={depth:-1},Iz={},q9={};function y9e(e){return e.id}function v9e(e){return e.parentId}function zz(){var e=y9e,t=v9e,n;function r(i){var o=Array.from(i),a=e,s=t,u,l,c,f,d,p,g,y,v=new Map;if(n!=null){const b=o.map((A,S)=>b9e(n(A,S,i))),x=b.map(Bz),_=new Set(b).add("");for(const A of x)_.has(A)||(_.add(A),b.push(A),x.push(Bz(A)),o.push(q9));a=(A,S)=>b[S],s=(A,S)=>x[S]}for(c=0,u=o.length;c<u;++c)l=o[c],p=o[c]=new Rp(l),(g=a(l,c,i))!=null&&(g+="")&&(y=p.id=g,v.set(y,v.has(y)?Iz:p)),(g=s(l,c,i))!=null&&(g+="")&&(p.parent=g);for(c=0;c<u;++c)if(p=o[c],g=p.parent){if(d=v.get(g),!d)throw new Error("missing: "+g);if(d===Iz)throw new Error("ambiguous: "+g);d.children?d.children.push(p):d.children=[p],p.parent=d}else{if(f)throw new Error("multiple roots");f=p}if(!f)throw new Error("no root");if(n!=null){for(;f.data===q9&&f.children.length===1;)f=f.children[0],--u;for(let b=o.length-1;b>=0&&(p=o[b],p.data===q9);--b)p.data=null}if(f.parent=m9e,f.eachBefore(function(b){b.depth=b.parent.depth+1,--u}).eachBefore(_K),f.parent=null,u>0)throw new Error("cycle");return f}return r.id=function(i){return arguments.length?(e=ew(i),r):e},r.parentId=function(i){return arguments.length?(t=ew(i),r):t},r.path=function(i){return arguments.length?(n=ew(i),r):n},r}function b9e(e){e=`${e}`;let t=e.length;return tC(e,t-1)&&!tC(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function Bz(e){let t=e.length;if(t<2)return"";for(;--t>1&&!tC(e,t););return e.slice(0,t)}function tC(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if(!(n&1))return!0}return!1}function x9e(e,t){return e.parent===t.parent?1:2}function G9(e){var t=e.children;return t?t[0]:e.t}function V9(e){var t=e.children;return t?t[t.length-1]:e.t}function w9e(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function A9e(e){for(var t=0,n=0,r=e.children,i=r.length,o;--i>=0;)o=r[i],o.z+=t,o.m+=t,t+=o.s+(n+=o.c)}function _9e(e,t,n){return e.a.parent===t.parent?e.a:n}function tw(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}tw.prototype=Object.create(Rp.prototype);function S9e(e){for(var t=new tw(e,0),n,r=[t],i,o,a,s;n=r.pop();)if(o=n._.children)for(n.children=new Array(s=o.length),a=s-1;a>=0;--a)r.push(i=n.children[a]=new tw(o[a],a)),i.parent=n;return(t.parent=new tw(null,0)).children=[t],t}function E9e(){var e=x9e,t=1,n=1,r=null;function i(l){var c=S9e(l);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(a),r)l.eachBefore(u);else{var f=l,d=l,p=l;l.eachBefore(function(x){x.x<f.x&&(f=x),x.x>d.x&&(d=x),x.depth>p.depth&&(p=x)});var g=f===d?1:e(f,d)/2,y=g-f.x,v=t/(d.x+g+y),b=n/(p.depth||1);l.eachBefore(function(x){x.x=(x.x+y)*v,x.y=x.depth*b})}return l}function o(l){var c=l.children,f=l.parent.children,d=l.i?f[l.i-1]:null;if(c){A9e(l);var p=(c[0].z+c[c.length-1].z)/2;d?(l.z=d.z+e(l._,d._),l.m=l.z-p):l.z=p}else d&&(l.z=d.z+e(l._,d._));l.parent.A=s(l,d,l.parent.A||f[0])}function a(l){l._.x=l.z+l.parent.m,l.m+=l.parent.m}function s(l,c,f){if(c){for(var d=l,p=l,g=c,y=d.parent.children[0],v=d.m,b=p.m,x=g.m,_=y.m,A;g=V9(g),d=G9(d),g&&d;)y=G9(y),p=V9(p),p.a=l,A=g.z+x-d.z-v+e(g._,d._),A>0&&(w9e(_9e(g,l,f),l,A),v+=A,b+=A),x+=g.m,v+=d.m,_+=y.m,b+=p.m;g&&!V9(p)&&(p.t=g,p.m+=x-b),d&&!G9(y)&&(y.t=d,y.m+=v-_,f=l)}return f}function u(l){l.x*=t,l.y=l.depth*n}return i.separation=function(l){return arguments.length?(e=l,i):e},i.size=function(l){return arguments.length?(r=!1,t=+l[0],n=+l[1],i):r?null:[t,n]},i.nodeSize=function(l){return arguments.length?(r=!0,t=+l[0],n=+l[1],i):r?[t,n]:null},i}function v3(e,t,n,r,i){for(var o=e.children,a,s=-1,u=o.length,l=e.value&&(i-n)/e.value;++s<u;)a=o[s],a.x0=t,a.x1=r,a.y0=n,a.y1=n+=a.value*l}var kK=(1+Math.sqrt(5))/2;function TK(e,t,n,r,i,o){for(var a=[],s=t.children,u,l,c=0,f=0,d=s.length,p,g,y=t.value,v,b,x,_,A,S,C;c<d;){p=i-n,g=o-r;do v=s[f++].value;while(!v&&f<d);for(b=x=v,S=Math.max(g/p,p/g)/(y*e),C=v*v*S,A=Math.max(x/C,C/b);f<d;++f){if(v+=l=s[f].value,l<b&&(b=l),l>x&&(x=l),C=v*v*S,_=Math.max(x/C,C/b),_>A){v-=l;break}A=_}a.push(u={value:v,dice:p<g,children:s.slice(c,f)}),u.dice?N2(u,n,r,i,y?r+=g*v/y:o):v3(u,n,r,y?n+=p*v/y:i,o),y-=v,c=f}return a}const MK=function e(t){function n(r,i,o,a,s){TK(t,r,i,o,a,s)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(kK);function C9e(){var e=MK,t=!1,n=1,r=1,i=[0],o=sd,a=sd,s=sd,u=sd,l=sd;function c(d){return d.x0=d.y0=0,d.x1=n,d.y1=r,d.eachBefore(f),i=[0],t&&d.eachBefore($K),d}function f(d){var p=i[d.depth],g=d.x0+p,y=d.y0+p,v=d.x1-p,b=d.y1-p;v<g&&(g=v=(g+v)/2),b<y&&(y=b=(y+b)/2),d.x0=g,d.y0=y,d.x1=v,d.y1=b,d.children&&(p=i[d.depth+1]=o(d)/2,g+=l(d)-p,y+=a(d)-p,v-=s(d)-p,b-=u(d)-p,v<g&&(g=v=(g+v)/2),b<y&&(y=b=(y+b)/2),e(d,g,y,v,b))}return c.round=function(d){return arguments.length?(t=!!d,c):t},c.size=function(d){return arguments.length?(n=+d[0],r=+d[1],c):[n,r]},c.tile=function(d){return arguments.length?(e=SK(d),c):e},c.padding=function(d){return arguments.length?c.paddingInner(d).paddingOuter(d):c.paddingInner()},c.paddingInner=function(d){return arguments.length?(o=typeof d=="function"?d:Sh(+d),c):o},c.paddingOuter=function(d){return arguments.length?c.paddingTop(d).paddingRight(d).paddingBottom(d).paddingLeft(d):c.paddingTop()},c.paddingTop=function(d){return arguments.length?(a=typeof d=="function"?d:Sh(+d),c):a},c.paddingRight=function(d){return arguments.length?(s=typeof d=="function"?d:Sh(+d),c):s},c.paddingBottom=function(d){return arguments.length?(u=typeof d=="function"?d:Sh(+d),c):u},c.paddingLeft=function(d){return arguments.length?(l=typeof d=="function"?d:Sh(+d),c):l},c}function $9e(e,t,n,r,i){var o=e.children,a,s=o.length,u,l=new Array(s+1);for(l[0]=u=a=0;a<s;++a)l[a+1]=u+=o[a].value;c(0,s,e.value,t,n,r,i);function c(f,d,p,g,y,v,b){if(f>=d-1){var x=o[f];x.x0=g,x.y0=y,x.x1=v,x.y1=b;return}for(var _=l[f],A=p/2+_,S=f+1,C=d-1;S<C;){var E=S+C>>>1;l[E]<A?S=E+1:C=E}A-l[S-1]<l[S]-A&&f+1<S&&--S;var k=l[S]-_,O=p-k;if(v-g>b-y){var N=p?(g*O+v*k)/p:v;c(f,S,k,g,y,N,b),c(S,d,O,N,y,v,b)}else{var F=p?(y*O+b*k)/p:b;c(f,S,k,g,y,v,F),c(S,d,O,g,F,v,b)}}}function k9e(e,t,n,r,i){(e.depth&1?v3:N2)(e,t,n,r,i)}const T9e=function e(t){function n(r,i,o,a,s){if((u=r._squarify)&&u.ratio===t)for(var u,l,c,f,d=-1,p,g=u.length,y=r.value;++d<g;){for(l=u[d],c=l.children,f=l.value=0,p=c.length;f<p;++f)l.value+=c[f].value;l.dice?N2(l,i,o,a,y?o+=(s-o)*l.value/y:s):v3(l,i,o,y?i+=(a-i)*l.value/y:a,s),y-=l.value}else r._squarify=u=TK(t,r,i,o,a,s),u.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(kK);function as(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function bf(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const LA=Symbol("implicit");function O2(){var e=new Ay,t=[],n=[],r=LA;function i(o){let a=e.get(o);if(a===void 0){if(r!==LA)return r;e.set(o,a=t.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Ay;for(const a of o)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return O2(t,n).unknown(r)},as.apply(i,arguments),i}function b3(){var e=O2().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,a,s=!1,u=0,l=0,c=.5;delete e.unknown;function f(){var d=t().length,p=i<r,g=p?i:r,y=p?r:i;o=(y-g)/Math.max(1,d-u+l*2),s&&(o=Math.floor(o)),g+=(y-g-o*(d-u))*c,a=o*(1-u),s&&(g=Math.round(g),a=Math.round(a));var v=Pn(d).map(function(b){return g+o*b});return n(p?v.reverse():v)}return e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,f()},e.bandwidth=function(){return a},e.step=function(){return o},e.round=function(d){return arguments.length?(s=!!d,f()):s},e.padding=function(d){return arguments.length?(u=Math.min(1,l=+d),f()):u},e.paddingInner=function(d){return arguments.length?(u=Math.min(1,d),f()):u},e.paddingOuter=function(d){return arguments.length?(l=+d,f()):l},e.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},e.copy=function(){return b3(t(),[r,i]).round(s).paddingInner(u).paddingOuter(l).align(c)},as.apply(f(),arguments)}function NK(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return NK(t())},e}function M9e(){return NK(b3.apply(null,arguments).paddingInner(1))}function N9e(e){return function(){return e}}function nC(e){return+e}var Uz=[0,1];function Fi(e){return e}function rC(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:N9e(isNaN(t)?NaN:.5)}function O9e(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function R9e(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=rC(i,r),o=n(a,o)):(r=rC(r,i),o=n(o,a)),function(s){return o(r(s))}}function F9e(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=rC(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(s){var u=w2(e,s,1,r)-1;return o[u](i[u](s))}}function R2(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function x3(){var e=Uz,t=Uz,n=yf,r,i,o,a=Fi,s,u,l;function c(){var d=Math.min(e.length,t.length);return a!==Fi&&(a=O9e(e[0],e[d-1])),s=d>2?F9e:R9e,u=l=null,f}function f(d){return d==null||isNaN(d=+d)?o:(u||(u=s(e.map(r),t,n)))(r(a(d)))}return f.invert=function(d){return a(i((l||(l=s(t,e.map(r),fr)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,nC),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=bg,c()},f.clamp=function(d){return arguments.length?(a=d?!0:Fi,c()):a!==Fi},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,p){return r=d,i=p,c()}}function OK(){return x3()(Fi,Fi)}function RK(e,t,n,r){var i=jc(e,t,n),o;switch(r=Vd(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=CX(i,a))&&(r.precision=o),A7(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=$X(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=EX(i))&&(r.precision=o-(r.type==="%")*2);break}}return vf(r)}function A0(e){var t=e.domain;return e.ticks=function(n){var r=t();return eA(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return RK(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,a=r[i],s=r[o],u,l,c=10;for(s<a&&(l=a,a=s,s=l,l=i,i=o,o=l);c-- >0;){if(l=A4(a,s,n),l===u)return r[i]=a,r[o]=s,t(r);if(l>0)a=Math.floor(a/l)*l,s=Math.ceil(s/l)*l;else if(l<0)a=Math.ceil(a*l)/l,s=Math.floor(s*l)/l;else break;u=l}return e},e}function Hc(){var e=OK();return e.copy=function(){return R2(e,Hc())},as.apply(e,arguments),A0(e)}function F7(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,nC),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return F7(e).unknown(t)},e=arguments.length?Array.from(e,nC):[0,1],A0(n)}function FK(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),e[n]=t.floor(i),e[r]=t.ceil(o),e}function jz(e){return Math.log(e)}function Wz(e){return Math.exp(e)}function D9e(e){return-Math.log(-e)}function L9e(e){return-Math.exp(-e)}function P9e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function I9e(e){return e===10?P9e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function z9e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Hz(e){return(t,n)=>-e(-t,n)}function D7(e){const t=e(jz,Wz),n=t.domain;let r=10,i,o;function a(){return i=z9e(r),o=I9e(r),n()[0]<0?(i=Hz(i),o=Hz(o),e(D9e,L9e)):e(jz,Wz),t}return t.base=function(s){return arguments.length?(r=+s,a()):r},t.domain=function(s){return arguments.length?(n(s),a()):n()},t.ticks=s=>{const u=n();let l=u[0],c=u[u.length-1];const f=c<l;f&&([l,c]=[c,l]);let d=i(l),p=i(c),g,y;const v=s==null?10:+s;let b=[];if(!(r%1)&&p-d<v){if(d=Math.floor(d),p=Math.ceil(p),l>0){for(;d<=p;++d)for(g=1;g<r;++g)if(y=d<0?g/o(-d):g*o(d),!(y<l)){if(y>c)break;b.push(y)}}else for(;d<=p;++d)for(g=r-1;g>=1;--g)if(y=d>0?g/o(-d):g*o(d),!(y<l)){if(y>c)break;b.push(y)}b.length*2<v&&(b=eA(l,c,v))}else b=eA(d,p,Math.min(p-d,v)).map(o);return f?b.reverse():b},t.tickFormat=(s,u)=>{if(s==null&&(s=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Vd(u)).precision==null&&(u.trim=!0),u=vf(u)),s===1/0)return u;const l=Math.max(1,r*s/t.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=l?u(c):""}},t.nice=()=>n(FK(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),t}function L7(){const e=D7(x3()).domain([1,10]);return e.copy=()=>R2(e,L7()).base(e.base()),as.apply(e,arguments),e}function qz(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Gz(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function P7(e){var t=1,n=e(qz(t),Gz(t));return n.constant=function(r){return arguments.length?e(qz(t=+r),Gz(t)):t},A0(n)}function I7(){var e=P7(x3());return e.copy=function(){return R2(e,I7()).constant(e.constant())},as.apply(e,arguments)}function Vz(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function B9e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function U9e(e){return e<0?-e*e:e*e}function z7(e){var t=e(Fi,Fi),n=1;function r(){return n===1?e(Fi,Fi):n===.5?e(B9e,U9e):e(Vz(n),Vz(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},A0(t)}function w3(){var e=z7(x3());return e.copy=function(){return R2(e,w3()).exponent(e.exponent())},as.apply(e,arguments),e}function j9e(){return w3.apply(null,arguments).exponent(.5)}function B7(){var e=[],t=[],n=[],r;function i(){var a=0,s=Math.max(1,t.length);for(n=new Array(s-1);++a<s;)n[a-1]=gJ(e,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:t[w2(n,a)]}return o.invertExtent=function(a){var s=t.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},o.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(js),i()},o.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return B7().domain(e).range(t).unknown(r)},as.apply(o,arguments)}function DK(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function a(u){return u!=null&&u<=u?i[w2(r,u,0,n)]:o}function s(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*t-(u-n)*e)/(n+1);return a}return a.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,s()):[e,t]},a.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,s()):i.slice()},a.invertExtent=function(u){var l=i.indexOf(u);return l<0?[NaN,NaN]:l<1?[e,r[0]]:l>=n?[r[n-1],t]:[r[l-1],r[l]]},a.unknown=function(u){return arguments.length&&(o=u),a},a.thresholds=function(){return r.slice()},a.copy=function(){return DK().domain([e,t]).range(i).unknown(o)},as.apply(A0(a),arguments)}function A3(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[w2(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var a=t.indexOf(o);return[e[a-1],e[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return A3().domain(e).range(t).unknown(n)},as.apply(i,arguments)}const Y9=new Date,J9=new Date;function Un(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const u=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return u;let l;do u.push(l=new Date(+o)),t(o,s),e(o);while(l<o&&o<a);return u},i.filter=o=>Un(a=>{if(a>=a)for(;e(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;t(a,-1),!o(a););else for(;--s>=0;)for(;t(a,1),!o(a););}),n&&(i.count=(o,a)=>(Y9.setTime(+o),J9.setTime(+a),e(Y9),e(J9),Math.floor(n(Y9,J9))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Fp=Un(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Fp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Un(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Fp);Fp.range;const Ju=1e3,Vo=Ju*60,Xu=Vo*60,pl=Xu*24,U7=pl*7,Yz=pl*30,X9=pl*365,Yo=Un(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ju)},(e,t)=>(t-e)/Ju,e=>e.getUTCSeconds());Yo.range;const F2=Un(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ju)},(e,t)=>{e.setTime(+e+t*Vo)},(e,t)=>(t-e)/Vo,e=>e.getMinutes());F2.range;const Ag=Un(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Vo)},(e,t)=>(t-e)/Vo,e=>e.getUTCMinutes());Ag.range;const D2=Un(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ju-e.getMinutes()*Vo)},(e,t)=>{e.setTime(+e+t*Xu)},(e,t)=>(t-e)/Xu,e=>e.getHours());D2.range;const _g=Un(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Xu)},(e,t)=>(t-e)/Xu,e=>e.getUTCHours());_g.range;const Ja=Un(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Vo)/pl,e=>e.getDate()-1);Ja.range;const Mc=Un(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/pl,e=>e.getUTCDate()-1);Mc.range;const _3=Un(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/pl,e=>Math.floor(e/pl));_3.range;function _0(e){return Un(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Vo)/U7)}const qc=_0(0),Oy=_0(1),LK=_0(2),PK=_0(3),Xd=_0(4),IK=_0(5),zK=_0(6);qc.range;Oy.range;LK.range;PK.range;Xd.range;IK.range;zK.range;function S0(e){return Un(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/U7)}const Gc=S0(0),Ry=S0(1),BK=S0(2),UK=S0(3),Kd=S0(4),jK=S0(5),WK=S0(6);Gc.range;Ry.range;BK.range;UK.range;Kd.range;jK.range;WK.range;const Qd=Un(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Qd.range;const Zd=Un(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Zd.range;const ua=Un(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ua.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Un(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ua.range;const la=Un(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());la.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Un(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});la.range;function HK(e,t,n,r,i,o){const a=[[Yo,1,Ju],[Yo,5,5*Ju],[Yo,15,15*Ju],[Yo,30,30*Ju],[o,1,Vo],[o,5,5*Vo],[o,15,15*Vo],[o,30,30*Vo],[i,1,Xu],[i,3,3*Xu],[i,6,6*Xu],[i,12,12*Xu],[r,1,pl],[r,2,2*pl],[n,1,U7],[t,1,Yz],[t,3,3*Yz],[e,1,X9]];function s(l,c,f){const d=c<l;d&&([l,c]=[c,l]);const p=f&&typeof f.range=="function"?f:u(l,c,f),g=p?p.range(l,+c+1):[];return d?g.reverse():g}function u(l,c,f){const d=Math.abs(c-l)/f,p=w0(([,,v])=>v).right(a,d);if(p===a.length)return e.every(jc(l/X9,c/X9,f));if(p===0)return Fp.every(Math.max(jc(l,c,f),1));const[g,y]=a[d/a[p-1][2]<a[p][2]/d?p-1:p];return g.every(y)}return[s,u]}const[W9e,H9e]=HK(la,Zd,Gc,_3,_g,Ag),[q9e,G9e]=HK(ua,Qd,qc,Ja,D2,F2);function K9(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Q9(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function E1(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function qK(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,u=e.shortMonths,l=C1(i),c=$1(i),f=C1(o),d=$1(o),p=C1(a),g=$1(a),y=C1(s),v=$1(s),b=C1(u),x=$1(u),_={a:U,A:z,b:H,B:j,c:null,d:eB,e:eB,f:g6e,g:E6e,G:$6e,H:d6e,I:h6e,j:p6e,L:GK,m:m6e,M:y6e,p:X,q:G,Q:rB,s:iB,S:v6e,u:b6e,U:x6e,V:w6e,w:A6e,W:_6e,x:null,X:null,y:S6e,Y:C6e,Z:k6e,"%":nB},A={a:ee,A:ne,b:de,B:me,c:null,d:tB,e:tB,f:O6e,g:j6e,G:H6e,H:T6e,I:M6e,j:N6e,L:YK,m:R6e,M:F6e,p:ce,q:be,Q:rB,s:iB,S:D6e,u:L6e,U:P6e,V:I6e,w:z6e,W:B6e,x:null,X:null,y:U6e,Y:W6e,Z:q6e,"%":nB},S={a:N,A:F,b:W,B:I,c:M,d:Qz,e:Qz,f:u6e,g:Kz,G:Xz,H:Zz,I:Zz,j:i6e,L:s6e,m:r6e,M:o6e,p:O,q:n6e,Q:c6e,s:f6e,S:a6e,u:K9e,U:Q9e,V:Z9e,w:X9e,W:e6e,x:D,X:P,y:Kz,Y:Xz,Z:t6e,"%":l6e};_.x=C(n,_),_.X=C(r,_),_.c=C(t,_),A.x=C(n,A),A.X=C(r,A),A.c=C(t,A);function C(re,_e){return function(Ae){var te=[],Le=-1,Te=0,Ue=re.length,dt,$t,xr;for(Ae instanceof Date||(Ae=new Date(+Ae));++Le<Ue;)re.charCodeAt(Le)===37&&(te.push(re.slice(Te,Le)),($t=Jz[dt=re.charAt(++Le)])!=null?dt=re.charAt(++Le):$t=dt==="e"?" ":"0",(xr=_e[dt])&&(dt=xr(Ae,$t)),te.push(dt),Te=Le+1);return te.push(re.slice(Te,Le)),te.join("")}}function E(re,_e){return function(Ae){var te=E1(1900,void 0,1),Le=k(te,re,Ae+="",0),Te,Ue;if(Le!=Ae.length)return null;if("Q"in te)return new Date(te.Q);if("s"in te)return new Date(te.s*1e3+("L"in te?te.L:0));if(_e&&!("Z"in te)&&(te.Z=0),"p"in te&&(te.H=te.H%12+te.p*12),te.m===void 0&&(te.m="q"in te?te.q:0),"V"in te){if(te.V<1||te.V>53)return null;"w"in te||(te.w=1),"Z"in te?(Te=Q9(E1(te.y,0,1)),Ue=Te.getUTCDay(),Te=Ue>4||Ue===0?Ry.ceil(Te):Ry(Te),Te=Mc.offset(Te,(te.V-1)*7),te.y=Te.getUTCFullYear(),te.m=Te.getUTCMonth(),te.d=Te.getUTCDate()+(te.w+6)%7):(Te=K9(E1(te.y,0,1)),Ue=Te.getDay(),Te=Ue>4||Ue===0?Oy.ceil(Te):Oy(Te),Te=Ja.offset(Te,(te.V-1)*7),te.y=Te.getFullYear(),te.m=Te.getMonth(),te.d=Te.getDate()+(te.w+6)%7)}else("W"in te||"U"in te)&&("w"in te||(te.w="u"in te?te.u%7:"W"in te?1:0),Ue="Z"in te?Q9(E1(te.y,0,1)).getUTCDay():K9(E1(te.y,0,1)).getDay(),te.m=0,te.d="W"in te?(te.w+6)%7+te.W*7-(Ue+5)%7:te.w+te.U*7-(Ue+6)%7);return"Z"in te?(te.H+=te.Z/100|0,te.M+=te.Z%100,Q9(te)):K9(te)}}function k(re,_e,Ae,te){for(var Le=0,Te=_e.length,Ue=Ae.length,dt,$t;Le<Te;){if(te>=Ue)return-1;if(dt=_e.charCodeAt(Le++),dt===37){if(dt=_e.charAt(Le++),$t=S[dt in Jz?_e.charAt(Le++):dt],!$t||(te=$t(re,Ae,te))<0)return-1}else if(dt!=Ae.charCodeAt(te++))return-1}return te}function O(re,_e,Ae){var te=l.exec(_e.slice(Ae));return te?(re.p=c.get(te[0].toLowerCase()),Ae+te[0].length):-1}function N(re,_e,Ae){var te=p.exec(_e.slice(Ae));return te?(re.w=g.get(te[0].toLowerCase()),Ae+te[0].length):-1}function F(re,_e,Ae){var te=f.exec(_e.slice(Ae));return te?(re.w=d.get(te[0].toLowerCase()),Ae+te[0].length):-1}function W(re,_e,Ae){var te=b.exec(_e.slice(Ae));return te?(re.m=x.get(te[0].toLowerCase()),Ae+te[0].length):-1}function I(re,_e,Ae){var te=y.exec(_e.slice(Ae));return te?(re.m=v.get(te[0].toLowerCase()),Ae+te[0].length):-1}function M(re,_e,Ae){return k(re,t,_e,Ae)}function D(re,_e,Ae){return k(re,n,_e,Ae)}function P(re,_e,Ae){return k(re,r,_e,Ae)}function U(re){return a[re.getDay()]}function z(re){return o[re.getDay()]}function H(re){return u[re.getMonth()]}function j(re){return s[re.getMonth()]}function X(re){return i[+(re.getHours()>=12)]}function G(re){return 1+~~(re.getMonth()/3)}function ee(re){return a[re.getUTCDay()]}function ne(re){return o[re.getUTCDay()]}function de(re){return u[re.getUTCMonth()]}function me(re){return s[re.getUTCMonth()]}function ce(re){return i[+(re.getUTCHours()>=12)]}function be(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var _e=C(re+="",_);return _e.toString=function(){return re},_e},parse:function(re){var _e=E(re+="",!1);return _e.toString=function(){return re},_e},utcFormat:function(re){var _e=C(re+="",A);return _e.toString=function(){return re},_e},utcParse:function(re){var _e=E(re+="",!0);return _e.toString=function(){return re},_e}}}var Jz={"-":"",_:" ",0:"0"},or=/^\s*\d+/,V9e=/^%/,Y9e=/[\\^$*+?|[\]().{}]/g;function _t(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function J9e(e){return e.replace(Y9e,"\\$&")}function C1(e){return new RegExp("^(?:"+e.map(J9e).join("|")+")","i")}function $1(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function X9e(e,t,n){var r=or.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function K9e(e,t,n){var r=or.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Q9e(e,t,n){var r=or.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Z9e(e,t,n){var r=or.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function e6e(e,t,n){var r=or.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Xz(e,t,n){var r=or.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Kz(e,t,n){var r=or.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function t6e(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function n6e(e,t,n){var r=or.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function r6e(e,t,n){var r=or.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Qz(e,t,n){var r=or.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function i6e(e,t,n){var r=or.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Zz(e,t,n){var r=or.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function o6e(e,t,n){var r=or.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function a6e(e,t,n){var r=or.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function s6e(e,t,n){var r=or.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function u6e(e,t,n){var r=or.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function l6e(e,t,n){var r=V9e.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function c6e(e,t,n){var r=or.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function f6e(e,t,n){var r=or.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function eB(e,t){return _t(e.getDate(),t,2)}function d6e(e,t){return _t(e.getHours(),t,2)}function h6e(e,t){return _t(e.getHours()%12||12,t,2)}function p6e(e,t){return _t(1+Ja.count(ua(e),e),t,3)}function GK(e,t){return _t(e.getMilliseconds(),t,3)}function g6e(e,t){return GK(e,t)+"000"}function m6e(e,t){return _t(e.getMonth()+1,t,2)}function y6e(e,t){return _t(e.getMinutes(),t,2)}function v6e(e,t){return _t(e.getSeconds(),t,2)}function b6e(e){var t=e.getDay();return t===0?7:t}function x6e(e,t){return _t(qc.count(ua(e)-1,e),t,2)}function VK(e){var t=e.getDay();return t>=4||t===0?Xd(e):Xd.ceil(e)}function w6e(e,t){return e=VK(e),_t(Xd.count(ua(e),e)+(ua(e).getDay()===4),t,2)}function A6e(e){return e.getDay()}function _6e(e,t){return _t(Oy.count(ua(e)-1,e),t,2)}function S6e(e,t){return _t(e.getFullYear()%100,t,2)}function E6e(e,t){return e=VK(e),_t(e.getFullYear()%100,t,2)}function C6e(e,t){return _t(e.getFullYear()%1e4,t,4)}function $6e(e,t){var n=e.getDay();return e=n>=4||n===0?Xd(e):Xd.ceil(e),_t(e.getFullYear()%1e4,t,4)}function k6e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+_t(t/60|0,"0",2)+_t(t%60,"0",2)}function tB(e,t){return _t(e.getUTCDate(),t,2)}function T6e(e,t){return _t(e.getUTCHours(),t,2)}function M6e(e,t){return _t(e.getUTCHours()%12||12,t,2)}function N6e(e,t){return _t(1+Mc.count(la(e),e),t,3)}function YK(e,t){return _t(e.getUTCMilliseconds(),t,3)}function O6e(e,t){return YK(e,t)+"000"}function R6e(e,t){return _t(e.getUTCMonth()+1,t,2)}function F6e(e,t){return _t(e.getUTCMinutes(),t,2)}function D6e(e,t){return _t(e.getUTCSeconds(),t,2)}function L6e(e){var t=e.getUTCDay();return t===0?7:t}function P6e(e,t){return _t(Gc.count(la(e)-1,e),t,2)}function JK(e){var t=e.getUTCDay();return t>=4||t===0?Kd(e):Kd.ceil(e)}function I6e(e,t){return e=JK(e),_t(Kd.count(la(e),e)+(la(e).getUTCDay()===4),t,2)}function z6e(e){return e.getUTCDay()}function B6e(e,t){return _t(Ry.count(la(e)-1,e),t,2)}function U6e(e,t){return _t(e.getUTCFullYear()%100,t,2)}function j6e(e,t){return e=JK(e),_t(e.getUTCFullYear()%100,t,2)}function W6e(e,t){return _t(e.getUTCFullYear()%1e4,t,4)}function H6e(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Kd(e):Kd.ceil(e),_t(e.getUTCFullYear()%1e4,t,4)}function q6e(){return"+0000"}function nB(){return"%"}function rB(e){return+e}function iB(e){return Math.floor(+e/1e3)}var ch,S3,XK,Sg,KK;G6e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function G6e(e){return ch=qK(e),S3=ch.format,XK=ch.parse,Sg=ch.utcFormat,KK=ch.utcParse,ch}function V6e(e){return new Date(e)}function Y6e(e){return e instanceof Date?+e:+new Date(+e)}function j7(e,t,n,r,i,o,a,s,u,l){var c=OK(),f=c.invert,d=c.domain,p=l(".%L"),g=l(":%S"),y=l("%I:%M"),v=l("%I %p"),b=l("%a %d"),x=l("%b %d"),_=l("%B"),A=l("%Y");function S(C){return(u(C)<C?p:s(C)<C?g:a(C)<C?y:o(C)<C?v:r(C)<C?i(C)<C?b:x:n(C)<C?_:A)(C)}return c.invert=function(C){return new Date(f(C))},c.domain=function(C){return arguments.length?d(Array.from(C,Y6e)):d().map(V6e)},c.ticks=function(C){var E=d();return e(E[0],E[E.length-1],C??10)},c.tickFormat=function(C,E){return E==null?S:l(E)},c.nice=function(C){var E=d();return(!C||typeof C.range!="function")&&(C=t(E[0],E[E.length-1],C??10)),C?d(FK(E,C)):c},c.copy=function(){return R2(c,j7(e,t,n,r,i,o,a,s,u,l))},c}function QK(){return as.apply(j7(q9e,G9e,ua,Qd,qc,Ja,D2,F2,Yo,S3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ZK(){return as.apply(j7(W9e,H9e,la,Zd,Gc,Mc,_g,Ag,Yo,Sg).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function E3(){var e=0,t=1,n,r,i,o,a=Fi,s=!1,u;function l(f){return f==null||isNaN(f=+f)?u:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}l.domain=function(f){return arguments.length?([e,t]=f,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),l):[e,t]},l.clamp=function(f){return arguments.length?(s=!!f,l):s},l.interpolator=function(f){return arguments.length?(a=f,l):a};function c(f){return function(d){var p,g;return arguments.length?([p,g]=d,a=f(p,g),l):[a(0),a(1)]}}return l.range=c(yf),l.rangeRound=c(bg),l.unknown=function(f){return arguments.length?(u=f,l):u},function(f){return o=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),l}}function xf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function W7(){var e=A0(E3()(Fi));return e.copy=function(){return xf(e,W7())},bf.apply(e,arguments)}function eQ(){var e=D7(E3()).domain([1,10]);return e.copy=function(){return xf(e,eQ()).base(e.base())},bf.apply(e,arguments)}function tQ(){var e=P7(E3());return e.copy=function(){return xf(e,tQ()).constant(e.constant())},bf.apply(e,arguments)}function H7(){var e=z7(E3());return e.copy=function(){return xf(e,H7()).exponent(e.exponent())},bf.apply(e,arguments)}function J6e(){return H7.apply(null,arguments).exponent(.5)}function C3(){var e=0,t=.5,n=1,r=1,i,o,a,s,u,l=Fi,c,f=!1,d;function p(y){return isNaN(y=+y)?d:(y=.5+((y=+c(y))-o)*(r*y<r*o?s:u),l(f?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([e,t,n]=y,i=c(e=+e),o=c(t=+t),a=c(n=+n),s=i===o?0:.5/(o-i),u=o===a?0:.5/(a-o),r=o<i?-1:1,p):[e,t,n]},p.clamp=function(y){return arguments.length?(f=!!y,p):f},p.interpolator=function(y){return arguments.length?(l=y,p):l};function g(y){return function(v){var b,x,_;return arguments.length?([b,x,_]=v,l=xg(y,[b,x,_]),p):[l(0),l(.5),l(1)]}}return p.range=g(yf),p.rangeRound=g(bg),p.unknown=function(y){return arguments.length?(d=y,p):d},function(y){return c=y,i=y(e),o=y(t),a=y(n),s=i===o?0:.5/(o-i),u=o===a?0:.5/(a-o),r=o<i?-1:1,p}}function q7(){var e=A0(C3()(Fi));return e.copy=function(){return xf(e,q7())},bf.apply(e,arguments)}function G7(){var e=D7(C3()).domain([.1,1,10]);return e.copy=function(){return xf(e,G7()).base(e.base())},bf.apply(e,arguments)}function V7(){var e=P7(C3());return e.copy=function(){return xf(e,V7()).constant(e.constant())},bf.apply(e,arguments)}function $3(){var e=z7(C3());return e.copy=function(){return xf(e,$3()).exponent(e.exponent())},bf.apply(e,arguments)}function X6e(){return $3.apply(null,arguments).exponent(.5)}function et(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const K6e=et("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Q6e=et("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Z6e=et("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),e8e=et("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),t8e=et("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),n8e=et("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),r8e=et("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),i8e=et("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),o8e=et("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),a8e=et("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Ht=e=>VJ(e[e.length-1]);var nQ=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(et);const rQ=Ht(nQ);var iQ=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(et);const oQ=Ht(iQ);var aQ=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(et);const sQ=Ht(aQ);var uQ=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(et);const lQ=Ht(uQ);var iC=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(et);const PA=Ht(iC);var cQ=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(et);const fQ=Ht(cQ);var oC=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(et);const IA=Ht(oC);var dQ=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(et);const hQ=Ht(dQ);var pQ=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(et);const gQ=Ht(pQ);var mQ=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(et);const yQ=Ht(mQ);var vQ=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(et);const bQ=Ht(vQ);var xQ=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(et);const wQ=Ht(xQ);var AQ=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(et);const _Q=Ht(AQ);var SQ=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(et);const EQ=Ht(SQ);var CQ=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(et);const $Q=Ht(CQ);var kQ=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(et);const TQ=Ht(kQ);var MQ=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(et);const NQ=Ht(MQ);var OQ=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(et);const RQ=Ht(OQ);var FQ=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(et);const DQ=Ht(FQ);var LQ=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(et);const PQ=Ht(LQ);var IQ=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(et);const zQ=Ht(IQ);var BQ=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(et);const UQ=Ht(BQ);var jQ=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(et);const WQ=Ht(jQ);var HQ=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(et);const qQ=Ht(HQ);var GQ=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(et);const VQ=Ht(GQ);var YQ=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(et);const JQ=Ht(YQ);var XQ=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(et);const KQ=Ht(XQ);function QQ(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const ZQ=c3(Js(300,.5,0),Js(-240,.5,1));var eZ=c3(Js(-100,.75,.35),Js(80,1.5,.8)),tZ=c3(Js(260,.75,.35),Js(80,1.5,.8)),Zb=Js();function nZ(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Zb.h=360*e-100,Zb.s=1.5-1.5*t,Zb.l=.8-.9*t,Zb+""}var ex=oa(),s8e=Math.PI/3,u8e=Math.PI*2/3;function rZ(e){var t;return e=(.5-e)*Math.PI,ex.r=255*(t=Math.sin(e))*t,ex.g=255*(t=Math.sin(e+s8e))*t,ex.b=255*(t=Math.sin(e+u8e))*t,ex+""}function iZ(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function k3(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const oZ=k3(et("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var aZ=k3(et("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),sZ=k3(et("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),uZ=k3(et("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Ot(e){return function(){return e}}const oB=Math.abs,$r=Math.atan2,Iu=Math.cos,l8e=Math.max,rp=Math.min,Ei=Math.sin,en=Math.sqrt,kr=1e-12,Vc=Math.PI,zA=Vc/2,L2=2*Vc;function c8e(e){return e>1?0:e<-1?Vc:Math.acos(e)}function aB(e){return e>=1?zA:e<=-1?-zA:Math.asin(e)}function T3(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new p3(t)}function f8e(e){return e.innerRadius}function d8e(e){return e.outerRadius}function h8e(e){return e.startAngle}function p8e(e){return e.endAngle}function g8e(e){return e&&e.padAngle}function m8e(e,t,n,r,i,o,a,s){var u=n-e,l=r-t,c=a-i,f=s-o,d=f*u-c*l;if(!(d*d<kr))return d=(c*(t-o)-f*(e-i))/d,[e+d*u,t+d*l]}function tx(e,t,n,r,i,o,a){var s=e-n,u=t-r,l=(a?o:-o)/en(s*s+u*u),c=l*u,f=-l*s,d=e+c,p=t+f,g=n+c,y=r+f,v=(d+g)/2,b=(p+y)/2,x=g-d,_=y-p,A=x*x+_*_,S=i-o,C=d*y-g*p,E=(_<0?-1:1)*en(l8e(0,S*S*A-C*C)),k=(C*_-x*E)/A,O=(-C*x-_*E)/A,N=(C*_+x*E)/A,F=(-C*x+_*E)/A,W=k-v,I=O-b,M=N-v,D=F-b;return W*W+I*I>M*M+D*D&&(k=N,O=F),{cx:k,cy:O,x01:-c,y01:-f,x11:k*(i/S-1),y11:O*(i/S-1)}}function lZ(){var e=f8e,t=d8e,n=Ot(0),r=null,i=h8e,o=p8e,a=g8e,s=null,u=T3(l);function l(){var c,f,d=+e.apply(this,arguments),p=+t.apply(this,arguments),g=i.apply(this,arguments)-zA,y=o.apply(this,arguments)-zA,v=oB(y-g),b=y>g;if(s||(s=c=u()),p<d&&(f=p,p=d,d=f),!(p>kr))s.moveTo(0,0);else if(v>L2-kr)s.moveTo(p*Iu(g),p*Ei(g)),s.arc(0,0,p,g,y,!b),d>kr&&(s.moveTo(d*Iu(y),d*Ei(y)),s.arc(0,0,d,y,g,b));else{var x=g,_=y,A=g,S=y,C=v,E=v,k=a.apply(this,arguments)/2,O=k>kr&&(r?+r.apply(this,arguments):en(d*d+p*p)),N=rp(oB(p-d)/2,+n.apply(this,arguments)),F=N,W=N,I,M;if(O>kr){var D=aB(O/d*Ei(k)),P=aB(O/p*Ei(k));(C-=D*2)>kr?(D*=b?1:-1,A+=D,S-=D):(C=0,A=S=(g+y)/2),(E-=P*2)>kr?(P*=b?1:-1,x+=P,_-=P):(E=0,x=_=(g+y)/2)}var U=p*Iu(x),z=p*Ei(x),H=d*Iu(S),j=d*Ei(S);if(N>kr){var X=p*Iu(_),G=p*Ei(_),ee=d*Iu(A),ne=d*Ei(A),de;if(v<Vc)if(de=m8e(U,z,ee,ne,X,G,H,j)){var me=U-de[0],ce=z-de[1],be=X-de[0],re=G-de[1],_e=1/Ei(c8e((me*be+ce*re)/(en(me*me+ce*ce)*en(be*be+re*re)))/2),Ae=en(de[0]*de[0]+de[1]*de[1]);F=rp(N,(d-Ae)/(_e-1)),W=rp(N,(p-Ae)/(_e+1))}else F=W=0}E>kr?W>kr?(I=tx(ee,ne,U,z,p,W,b),M=tx(X,G,H,j,p,W,b),s.moveTo(I.cx+I.x01,I.cy+I.y01),W<N?s.arc(I.cx,I.cy,W,$r(I.y01,I.x01),$r(M.y01,M.x01),!b):(s.arc(I.cx,I.cy,W,$r(I.y01,I.x01),$r(I.y11,I.x11),!b),s.arc(0,0,p,$r(I.cy+I.y11,I.cx+I.x11),$r(M.cy+M.y11,M.cx+M.x11),!b),s.arc(M.cx,M.cy,W,$r(M.y11,M.x11),$r(M.y01,M.x01),!b))):(s.moveTo(U,z),s.arc(0,0,p,x,_,!b)):s.moveTo(U,z),!(d>kr)||!(C>kr)?s.lineTo(H,j):F>kr?(I=tx(H,j,X,G,d,-F,b),M=tx(U,z,ee,ne,d,-F,b),s.lineTo(I.cx+I.x01,I.cy+I.y01),F<N?s.arc(I.cx,I.cy,F,$r(I.y01,I.x01),$r(M.y01,M.x01),!b):(s.arc(I.cx,I.cy,F,$r(I.y01,I.x01),$r(I.y11,I.x11),!b),s.arc(0,0,d,$r(I.cy+I.y11,I.cx+I.x11),$r(M.cy+M.y11,M.cx+M.x11),b),s.arc(M.cx,M.cy,F,$r(M.y11,M.x11),$r(M.y01,M.x01),!b))):s.arc(0,0,d,S,A,b)}if(s.closePath(),c)return s=null,c+""||null}return l.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Vc/2;return[Iu(f)*c,Ei(f)*c]},l.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:Ot(+c),l):e},l.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:Ot(+c),l):t},l.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:Ot(+c),l):n},l.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:Ot(+c),l):r},l.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:Ot(+c),l):i},l.endAngle=function(c){return arguments.length?(o=typeof c=="function"?c:Ot(+c),l):o},l.padAngle=function(c){return arguments.length?(a=typeof c=="function"?c:Ot(+c),l):a},l.context=function(c){return arguments.length?(s=c??null,l):s},l}function cZ(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function fZ(e){this._context=e}fZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Y7(e){return new fZ(e)}function dZ(e){return e[0]}function hZ(e){return e[1]}function pZ(e,t){var n=Ot(!0),r=null,i=Y7,o=null,a=T3(s);e=typeof e=="function"?e:e===void 0?dZ:Ot(e),t=typeof t=="function"?t:t===void 0?hZ:Ot(t);function s(u){var l,c=(u=cZ(u)).length,f,d=!1,p;for(r==null&&(o=i(p=a())),l=0;l<=c;++l)!(l<c&&n(f=u[l],l,u))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(f,l,u),+t(f,l,u));if(p)return o=null,p+""||null}return s.x=function(u){return arguments.length?(e=typeof u=="function"?u:Ot(+u),s):e},s.y=function(u){return arguments.length?(t=typeof u=="function"?u:Ot(+u),s):t},s.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Ot(!!u),s):n},s.curve=function(u){return arguments.length?(i=u,r!=null&&(o=i(r)),s):i},s.context=function(u){return arguments.length?(u==null?r=o=null:o=i(r=u),s):r},s}function gZ(e,t,n){var r=null,i=Ot(!0),o=null,a=Y7,s=null,u=T3(l);e=typeof e=="function"?e:e===void 0?dZ:Ot(+e),t=typeof t=="function"?t:Ot(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?hZ:Ot(+n);function l(f){var d,p,g,y=(f=cZ(f)).length,v,b=!1,x,_=new Array(y),A=new Array(y);for(o==null&&(s=a(x=u())),d=0;d<=y;++d){if(!(d<y&&i(v=f[d],d,f))===b)if(b=!b)p=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=d-1;g>=p;--g)s.point(_[g],A[g]);s.lineEnd(),s.areaEnd()}b&&(_[d]=+e(v,d,f),A[d]=+t(v,d,f),s.point(r?+r(v,d,f):_[d],n?+n(v,d,f):A[d]))}if(x)return s=null,x+""||null}function c(){return pZ().defined(i).curve(a).context(o)}return l.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ot(+f),r=null,l):e},l.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ot(+f),l):e},l.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ot(+f),l):r},l.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ot(+f),n=null,l):t},l.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ot(+f),l):t},l.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ot(+f),l):n},l.lineX0=l.lineY0=function(){return c().x(e).y(t)},l.lineY1=function(){return c().x(e).y(n)},l.lineX1=function(){return c().x(r).y(t)},l.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Ot(!!f),l):i},l.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),l):a},l.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),l):o},l}const y8e=en(3),mZ={draw(e,t){const n=en(t+rp(t/28,.75))*.59436,r=n/2,i=r*y8e;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},Dp={draw(e,t){const n=en(t/Vc);e.moveTo(n,0),e.arc(0,0,n,0,L2)}},yZ={draw(e,t){const n=en(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},vZ=en(1/3),v8e=vZ*2,bZ={draw(e,t){const n=en(t/v8e),r=n*vZ;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},xZ={draw(e,t){const n=en(t)*.62625;e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},wZ={draw(e,t){const n=en(t-rp(t/7,2))*.87559;e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},AZ={draw(e,t){const n=en(t),r=-n/2;e.rect(r,r,n,n)}},_Z={draw(e,t){const n=en(t)*.4431;e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},b8e=.8908130915292852,SZ=Ei(Vc/10)/Ei(7*Vc/10),x8e=Ei(L2/10)*SZ,w8e=-Iu(L2/10)*SZ,EZ={draw(e,t){const n=en(t*b8e),r=x8e*n,i=w8e*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const a=L2*o/5,s=Iu(a),u=Ei(a);e.lineTo(u*n,-s*n),e.lineTo(s*r-u*i,u*r+s*i)}e.closePath()}},Z9=en(3),CZ={draw(e,t){const n=-en(t/(Z9*3));e.moveTo(0,n*2),e.lineTo(-Z9*n,-n),e.lineTo(Z9*n,-n),e.closePath()}},A8e=en(3),$Z={draw(e,t){const n=en(t)*.6824,r=n/2,i=n*A8e/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},Po=-.5,Io=en(3)/2,aC=1/en(12),_8e=(aC/2+1)*3,kZ={draw(e,t){const n=en(t/_8e),r=n/2,i=n*aC,o=r,a=n*aC+n,s=-o,u=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,u),e.lineTo(Po*r-Io*i,Io*r+Po*i),e.lineTo(Po*o-Io*a,Io*o+Po*a),e.lineTo(Po*s-Io*u,Io*s+Po*u),e.lineTo(Po*r+Io*i,Po*i-Io*r),e.lineTo(Po*o+Io*a,Po*a-Io*o),e.lineTo(Po*s+Io*u,Po*u-Io*s),e.closePath()}},TZ={draw(e,t){const n=en(t-rp(t/6,1.7))*.6189;e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},S8e=[Dp,yZ,bZ,AZ,EZ,CZ,kZ],E8e=[Dp,wZ,TZ,$Z,mZ,_Z,xZ];function C8e(e,t){let n=null,r=T3(i);e=typeof e=="function"?e:Ot(e||Dp),t=typeof t=="function"?t:Ot(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:Ot(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:Ot(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Yc(){}function BA(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function M3(e){this._context=e}M3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:BA(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:BA(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $8e(e){return new M3(e)}function MZ(e){this._context=e}MZ.prototype={areaStart:Yc,areaEnd:Yc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:BA(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function k8e(e){return new MZ(e)}function NZ(e){this._context=e}NZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:BA(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function T8e(e){return new NZ(e)}function OZ(e,t){this._basis=new M3(e),this._beta=t}OZ.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],o=e[n]-r,a=t[n]-i,s=-1,u;++s<=n;)u=s/n,this._basis.point(this._beta*e[s]+(1-this._beta)*(r+u*o),this._beta*t[s]+(1-this._beta)*(i+u*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const M8e=function e(t){function n(r){return t===1?new M3(r):new OZ(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function UA(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function J7(e,t){this._context=e,this._k=(1-t)/6}J7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:UA(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:UA(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const N8e=function e(t){function n(r){return new J7(r,t)}return n.tension=function(r){return e(+r)},n}(0);function X7(e,t){this._context=e,this._k=(1-t)/6}X7.prototype={areaStart:Yc,areaEnd:Yc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:UA(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const O8e=function e(t){function n(r){return new X7(r,t)}return n.tension=function(r){return e(+r)},n}(0);function K7(e,t){this._context=e,this._k=(1-t)/6}K7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:UA(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const R8e=function e(t){function n(r){return new K7(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Q7(e,t,n){var r=e._x1,i=e._y1,o=e._x2,a=e._y2;if(e._l01_a>kr){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>kr){var l=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*l+e._x1*e._l23_2a-t*e._l12_2a)/c,a=(a*l+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,o,a,e._x2,e._y2)}function RZ(e,t){this._context=e,this._alpha=t}RZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Q7(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const F8e=function e(t){function n(r){return t?new RZ(r,t):new J7(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function FZ(e,t){this._context=e,this._alpha=t}FZ.prototype={areaStart:Yc,areaEnd:Yc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Q7(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const D8e=function e(t){function n(r){return t?new FZ(r,t):new X7(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function DZ(e,t){this._context=e,this._alpha=t}DZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Q7(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const L8e=function e(t){function n(r){return t?new DZ(r,t):new K7(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function LZ(e){this._context=e}LZ.prototype={areaStart:Yc,areaEnd:Yc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function P8e(e){return new LZ(e)}function sB(e){return e<0?-1:1}function uB(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(sB(o)+sB(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function lB(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function e6(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function jA(e){this._context=e}jA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:e6(this,this._t0,lB(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,e6(this,lB(this,n=uB(this,e,t)),n);break;default:e6(this,this._t0,n=uB(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function PZ(e){this._context=new IZ(e)}(PZ.prototype=Object.create(jA.prototype)).point=function(e,t){jA.prototype.point.call(this,t,e)};function IZ(e){this._context=e}IZ.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function I8e(e){return new jA(e)}function z8e(e){return new PZ(e)}function zZ(e){this._context=e}zZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=cB(e),i=cB(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function cB(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,a[t]-=r*a[t-1];for(i[n-1]=a[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function B8e(e){return new zZ(e)}function N3(e,t){this._context=e,this._t=t}N3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function U8e(e){return new N3(e,.5)}function j8e(e){return new N3(e,0)}function W8e(e){return new N3(e,1)}const nx=e=>()=>e;function H8e(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Ku(e,t,n){this.k=e,this.x=t,this.y=n}Ku.prototype={constructor:Ku,scale:function(e){return e===1?this:new Ku(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ku(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var BZ=new Ku(1,0,0);Ku.prototype;function t6(e){e.stopImmediatePropagation()}function k1(e){e.preventDefault(),e.stopImmediatePropagation()}function q8e(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function G8e(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function fB(){return this.__zoom||BZ}function V8e(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Y8e(){return navigator.maxTouchPoints||"ontouchstart"in this}function J8e(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function X8e(){var e=q8e,t=G8e,n=J8e,r=V8e,i=Y8e,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,u=nX,l=_2("start","zoom","end"),c,f,d,p=500,g=150,y=0,v=10;function b(M){M.property("__zoom",fB).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",O).on("dblclick.zoom",N).filter(i).on("touchstart.zoom",F).on("touchmove.zoom",W).on("touchend.zoom touchcancel.zoom",I).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(M,D,P,U){var z=M.selection?M.selection():M;z.property("__zoom",fB),M!==z?S(M,D,P,U):z.interrupt().each(function(){C(this,arguments).event(U).start().zoom(null,typeof D=="function"?D.apply(this,arguments):D).end()})},b.scaleBy=function(M,D,P,U){b.scaleTo(M,function(){var z=this.__zoom.k,H=typeof D=="function"?D.apply(this,arguments):D;return z*H},P,U)},b.scaleTo=function(M,D,P,U){b.transform(M,function(){var z=t.apply(this,arguments),H=this.__zoom,j=P==null?A(z):typeof P=="function"?P.apply(this,arguments):P,X=H.invert(j),G=typeof D=="function"?D.apply(this,arguments):D;return n(_(x(H,G),j,X),z,a)},P,U)},b.translateBy=function(M,D,P,U){b.transform(M,function(){return n(this.__zoom.translate(typeof D=="function"?D.apply(this,arguments):D,typeof P=="function"?P.apply(this,arguments):P),t.apply(this,arguments),a)},null,U)},b.translateTo=function(M,D,P,U,z){b.transform(M,function(){var H=t.apply(this,arguments),j=this.__zoom,X=U==null?A(H):typeof U=="function"?U.apply(this,arguments):U;return n(BZ.translate(X[0],X[1]).scale(j.k).translate(typeof D=="function"?-D.apply(this,arguments):-D,typeof P=="function"?-P.apply(this,arguments):-P),H,a)},U,z)};function x(M,D){return D=Math.max(o[0],Math.min(o[1],D)),D===M.k?M:new Ku(D,M.x,M.y)}function _(M,D,P){var U=D[0]-P[0]*M.k,z=D[1]-P[1]*M.k;return U===M.x&&z===M.y?M:new Ku(M.k,U,z)}function A(M){return[(+M[0][0]+ +M[1][0])/2,(+M[0][1]+ +M[1][1])/2]}function S(M,D,P,U){M.on("start.zoom",function(){C(this,arguments).event(U).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(U).end()}).tween("zoom",function(){var z=this,H=arguments,j=C(z,H).event(U),X=t.apply(z,H),G=P==null?A(X):typeof P=="function"?P.apply(z,H):P,ee=Math.max(X[1][0]-X[0][0],X[1][1]-X[0][1]),ne=z.__zoom,de=typeof D=="function"?D.apply(z,H):D,me=u(ne.invert(G).concat(ee/ne.k),de.invert(G).concat(ee/de.k));return function(ce){if(ce===1)ce=de;else{var be=me(ce),re=ee/be[2];ce=new Ku(re,G[0]-be[0]*re,G[1]-be[1]*re)}j.zoom(null,ce)}})}function C(M,D,P){return!P&&M.__zooming||new E(M,D)}function E(M,D){this.that=M,this.args=D,this.active=0,this.sourceEvent=null,this.extent=t.apply(M,D),this.taps=0}E.prototype={event:function(M){return M&&(this.sourceEvent=M),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(M,D){return this.mouse&&M!=="mouse"&&(this.mouse[1]=D.invert(this.mouse[0])),this.touch0&&M!=="touch"&&(this.touch0[1]=D.invert(this.touch0[0])),this.touch1&&M!=="touch"&&(this.touch1[1]=D.invert(this.touch1[0])),this.that.__zoom=D,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(M){var D=It(this.that).datum();l.call(M,this.that,new H8e(M,{sourceEvent:this.sourceEvent,target:b,type:M,transform:this.that.__zoom,dispatch:l}),D)}};function k(M,...D){if(!e.apply(this,arguments))return;var P=C(this,D).event(M),U=this.__zoom,z=Math.max(o[0],Math.min(o[1],U.k*Math.pow(2,r.apply(this,arguments)))),H=$s(M);if(P.wheel)(P.mouse[0][0]!==H[0]||P.mouse[0][1]!==H[1])&&(P.mouse[1]=U.invert(P.mouse[0]=H)),clearTimeout(P.wheel);else{if(U.k===z)return;P.mouse=[H,U.invert(H)],Qx(this),P.start()}k1(M),P.wheel=setTimeout(j,g),P.zoom("mouse",n(_(x(U,z),P.mouse[0],P.mouse[1]),P.extent,a));function j(){P.wheel=null,P.end()}}function O(M,...D){if(d||!e.apply(this,arguments))return;var P=M.currentTarget,U=C(this,D,!0).event(M),z=It(M.view).on("mousemove.zoom",G,!0).on("mouseup.zoom",ee,!0),H=$s(M,P),j=M.clientX,X=M.clientY;TJ(M.view),t6(M),U.mouse=[H,this.__zoom.invert(H)],Qx(this),U.start();function G(ne){if(k1(ne),!U.moved){var de=ne.clientX-j,me=ne.clientY-X;U.moved=de*de+me*me>y}U.event(ne).zoom("mouse",n(_(U.that.__zoom,U.mouse[0]=$s(ne,P),U.mouse[1]),U.extent,a))}function ee(ne){z.on("mousemove.zoom mouseup.zoom",null),MJ(ne.view,U.moved),k1(ne),U.event(ne).end()}}function N(M,...D){if(e.apply(this,arguments)){var P=this.__zoom,U=$s(M.changedTouches?M.changedTouches[0]:M,this),z=P.invert(U),H=P.k*(M.shiftKey?.5:2),j=n(_(x(P,H),U,z),t.apply(this,D),a);k1(M),s>0?It(this).transition().duration(s).call(S,j,U,M):It(this).call(b.transform,j,U,M)}}function F(M,...D){if(e.apply(this,arguments)){var P=M.touches,U=P.length,z=C(this,D,M.changedTouches.length===U).event(M),H,j,X,G;for(t6(M),j=0;j<U;++j)X=P[j],G=$s(X,this),G=[G,this.__zoom.invert(G),X.identifier],z.touch0?!z.touch1&&z.touch0[2]!==G[2]&&(z.touch1=G,z.taps=0):(z.touch0=G,H=!0,z.taps=1+!!c);c&&(c=clearTimeout(c)),H&&(z.taps<2&&(f=G[0],c=setTimeout(function(){c=null},p)),Qx(this),z.start())}}function W(M,...D){if(this.__zooming){var P=C(this,D).event(M),U=M.changedTouches,z=U.length,H,j,X,G;for(k1(M),H=0;H<z;++H)j=U[H],X=$s(j,this),P.touch0&&P.touch0[2]===j.identifier?P.touch0[0]=X:P.touch1&&P.touch1[2]===j.identifier&&(P.touch1[0]=X);if(j=P.that.__zoom,P.touch1){var ee=P.touch0[0],ne=P.touch0[1],de=P.touch1[0],me=P.touch1[1],ce=(ce=de[0]-ee[0])*ce+(ce=de[1]-ee[1])*ce,be=(be=me[0]-ne[0])*be+(be=me[1]-ne[1])*be;j=x(j,Math.sqrt(ce/be)),X=[(ee[0]+de[0])/2,(ee[1]+de[1])/2],G=[(ne[0]+me[0])/2,(ne[1]+me[1])/2]}else if(P.touch0)X=P.touch0[0],G=P.touch0[1];else return;P.zoom("touch",n(_(j,X,G),P.extent,a))}}function I(M,...D){if(this.__zooming){var P=C(this,D).event(M),U=M.changedTouches,z=U.length,H,j;for(t6(M),d&&clearTimeout(d),d=setTimeout(function(){d=null},p),H=0;H<z;++H)j=U[H],P.touch0&&P.touch0[2]===j.identifier?delete P.touch0:P.touch1&&P.touch1[2]===j.identifier&&delete P.touch1;if(P.touch1&&!P.touch0&&(P.touch0=P.touch1,delete P.touch1),P.touch0)P.touch0[1]=this.__zoom.invert(P.touch0[0]);else if(P.end(),P.taps===2&&(j=$s(j,this),Math.hypot(f[0]-j[0],f[1]-j[1])<v)){var X=It(this).on("dblclick.zoom");X&&X.apply(this,arguments)}}}return b.wheelDelta=function(M){return arguments.length?(r=typeof M=="function"?M:nx(+M),b):r},b.filter=function(M){return arguments.length?(e=typeof M=="function"?M:nx(!!M),b):e},b.touchable=function(M){return arguments.length?(i=typeof M=="function"?M:nx(!!M),b):i},b.extent=function(M){return arguments.length?(t=typeof M=="function"?M:nx([[+M[0][0],+M[0][1]],[+M[1][0],+M[1][1]]]),b):t},b.scaleExtent=function(M){return arguments.length?(o[0]=+M[0],o[1]=+M[1],b):[o[0],o[1]]},b.translateExtent=function(M){return arguments.length?(a[0][0]=+M[0][0],a[1][0]=+M[1][0],a[0][1]=+M[0][1],a[1][1]=+M[1][1],b):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},b.constrain=function(M){return arguments.length?(n=M,b):n},b.duration=function(M){return arguments.length?(s=+M,b):s},b.interpolate=function(M){return arguments.length?(u=M,b):u},b.on=function(){var M=l.on.apply(l,arguments);return M===l?b:M},b.clickDistance=function(M){return arguments.length?(y=(M=+M)*M,b):Math.sqrt(y)},b.tapDistance=function(M){return arguments.length?(v=+M,b):v},b}const rx=[{id:"MVf7Lq0AAAAJ",label:"Albert Chi Shing CHUNG",group:"Professor"},{id:"SLgWQLEAAAAJ",label:"Bo LI",group:"Chair Professor"},{id:"EWfpM74AAAAJ",label:"Chi Keung TANG",group:"Professor"},{id:"DORzgBQAAAAJ",label:"Chiew Lan TAI",group:"Professor"},{id:"H9zO5eYAAAAJ",label:"Cunsheng DING",group:"Professor"},{id:"nEsOOx8AAAAJ",label:"Dit Yan YEUNG",group:"Chair Professor"},{id:"uiCSOycAAAAJ",label:"Gary Shueng Han CHAN",group:"Professor"},{id:"Z_t5DjwAAAAJ",label:"Hao CHEN",group:"Assistant Professor"},{id:"J7a5zGEAAAAJ",label:"Huamin QU",group:"Chair Professor"},{id:"-oTraZ4AAAAJ",label:"James Tin Yau KWOK",group:"Professor"},{id:"dWcZPFEAAAAJ",label:"Ke YI",group:"Professor"},{id:"gtglwgYAAAAJ",label:"Lei CHEN",group:"Chair Professor"},{id:"kjiwE6IAAAAJ",label:"Mo LI",group:"Professor"},{id:"YooPxQwAAAAJ",label:"Mordecai Jay GOLIN",group:"Professor"},{id:"GIToYFwAAAAJ",label:"Pedro SANDER",group:"Professor"},{id:"XTlaQMkAAAAJ",label:"Qian ZHANG",group:"Chair Professor"},{id:"SqAsppUAAAAJ",label:"Qiong LUO",group:"Professor"},{id:"5RIgb3wAAAAJ",label:"Shing Chi CHEUNG",group:"Chair Professor"},{id:"0nquEkQAAAAJ",label:"Siu Wing CHENG",group:"Professor"},{id:"NJ6YPT4AAAAJ",label:"Wilfred Siu Hung NG",group:"Associate Professor"},{id:"y6m820wAAAAJ",label:"Xiaofang ZHOU",group:"Head and Chair Professor"},{id:"FeJrzPMAAAAJ",label:"Wei WANG",group:"Associate Professor"},{id:"lLMX9hcAAAAJ",label:"Qifeng CHEN",group:"Assistant Professor"},{id:"ZMLhZJ8AAAAJ",label:"Long QUAN",group:"Professor"},{id:"18_xlPUAAAAJ",label:"Nevin Lianwen ZHANG",group:"Professor"},{id:"MdQZ-q8AAAAJ",label:"Yangqiu SONG",group:"Associate Professor"},{id:"TN0zm80AAAAJ",label:"Xiaojuan MA",group:"Associate Head and Associate Professor"},{id:"IKgiD0AAAAAJ",label:"Raymond Chi Wing WONG",group:"Professor and Associate Head"},{id:"Azu2w_MAAAAJ",label:"Sunil ARYA",group:"Associate Professor"},{id:"JE_m2UgAAAAJ",label:"Sung Hun KIM",group:"Associate Professor"}],n6=[{source:"MVf7Lq0AAAAJ",target:"nEsOOx8AAAAJ"},{source:"SLgWQLEAAAAJ",target:"YooPxQwAAAAJ"},{source:"SLgWQLEAAAAJ",target:"XTlaQMkAAAAJ"},{source:"SLgWQLEAAAAJ",target:"FeJrzPMAAAAJ"},{source:"EWfpM74AAAAJ",target:"lLMX9hcAAAAJ"},{source:"EWfpM74AAAAJ",target:"0nquEkQAAAAJ"},{source:"DORzgBQAAAAJ",target:"ZMLhZJ8AAAAJ"},{source:"H9zO5eYAAAAJ",target:"YooPxQwAAAAJ"},{source:"nEsOOx8AAAAJ",target:"-oTraZ4AAAAJ"},{source:"nEsOOx8AAAAJ",target:"18_xlPUAAAAJ"},{source:"nEsOOx8AAAAJ",target:"lLMX9hcAAAAJ"},{source:"nEsOOx8AAAAJ",target:"MdQZ-q8AAAAJ"},{source:"uiCSOycAAAAJ",target:"-oTraZ4AAAAJ"},{source:"uiCSOycAAAAJ",target:"XTlaQMkAAAAJ"},{source:"Z_t5DjwAAAAJ",target:"lLMX9hcAAAAJ"},{source:"J7a5zGEAAAAJ",target:"SqAsppUAAAAJ"},{source:"J7a5zGEAAAAJ",target:"5RIgb3wAAAAJ"},{source:"J7a5zGEAAAAJ",target:"TN0zm80AAAAJ"},{source:"J7a5zGEAAAAJ",target:"MdQZ-q8AAAAJ"},{source:"-oTraZ4AAAAJ",target:"MdQZ-q8AAAAJ"},{source:"dWcZPFEAAAAJ",target:"gtglwgYAAAAJ"},{source:"dWcZPFEAAAAJ",target:"SqAsppUAAAAJ"},{source:"dWcZPFEAAAAJ",target:"0nquEkQAAAAJ"},{source:"gtglwgYAAAAJ",target:"kjiwE6IAAAAJ"},{source:"gtglwgYAAAAJ",target:"XTlaQMkAAAAJ"},{source:"gtglwgYAAAAJ",target:"SqAsppUAAAAJ"},{source:"gtglwgYAAAAJ",target:"IKgiD0AAAAAJ"},{source:"gtglwgYAAAAJ",target:"y6m820wAAAAJ"},{source:"gtglwgYAAAAJ",target:"MdQZ-q8AAAAJ"},{source:"kjiwE6IAAAAJ",target:"XTlaQMkAAAAJ"},{source:"YooPxQwAAAAJ",target:"0nquEkQAAAAJ"},{source:"YooPxQwAAAAJ",target:"Azu2w_MAAAAJ"},{source:"GIToYFwAAAAJ",target:"SqAsppUAAAAJ"},{source:"XTlaQMkAAAAJ",target:"FeJrzPMAAAAJ"},{source:"SqAsppUAAAAJ",target:"5RIgb3wAAAAJ"},{source:"SqAsppUAAAAJ",target:"TN0zm80AAAAJ"},{source:"5RIgb3wAAAAJ",target:"JE_m2UgAAAAJ"},{source:"0nquEkQAAAAJ",target:"Azu2w_MAAAAJ"},{source:"NJ6YPT4AAAAJ",target:"MdQZ-q8AAAAJ"},{source:"y6m820wAAAAJ",target:"MdQZ-q8AAAAJ"}];function K8e({selectedProfId:e,setSelectedProfId:t}){const n=J.useRef(null),[r,i]=J.useState(!0);return J.useEffect(()=>{const o=It(n.current),a=800,s=550,u=8;o.selectAll("*").remove();const l=o.append("svg").attr("width",a).attr("height",s),c=wX().force("link",xX().id(E=>E.id)).force("charge",AX().strength(-200)).force("center",vX(a/2,s/2));var f=M_e().on("start",(E,k)=>{c.alphaTarget(.7).restart(),k.fx=k.x,k.fy=k.y}).on("drag",(E,k)=>{k.fx=E.x,k.fy=E.y}).on("end",(E,k)=>{E.active||c.alphaTarget(0),k.fx=null,k.fy=null});function d(E){return n6.reduce((k,O)=>(O.target.id===E.id?k.push(O.source.id):O.source.id===E.id&&k.push(O.target.id),k),[E.id])}function p(E,k){return k.target.id===E.id||k.source.id===E.id}function g(E,k){if(e!=""){var O=x(e);if(O==null)return i(!1),"gray";i(!0),k=d(O)}return Array.isArray(k)&&k.indexOf(E.id)>-1||!Array.isArray(k)?Bm(E.group):"gray"}function y(E){if(e!="")var k=x(e);return k==null?"#E5E5E5":p(k,E)?"black":"#E5E5E5"}function v(E){if(e!="")var k=x(e);return k==null?1:p(k,E)?2:1}function b(E,k){if(e!=""){var O=x(e);if(O==null)return 10;k=d(O)}return Array.isArray(k)&&k.indexOf(E.id)>-1?15:10}function x(E){return E==""?null:rx.find(k=>k.id==E)}function _(E,k){t(k.id)}var A=l.append("g").attr("class","links").selectAll("line").data(n6).enter().append("line"),S=l.append("g").attr("class","nodes").selectAll("circle").data(rx).enter().append("circle").attr("r",u).call(f).on("click",_),C=l.append("g").attr("class","texts").selectAll("text").data(rx).enter().append("text").text(E=>E.label).attr("dx",15).attr("dy",4);c.nodes(rx).on("tick",()=>{S.attr("cx",E=>E.x=Math.max(u,Math.min(a-u-100,E.x))).attr("cy",E=>E.y=Math.max(u,Math.min(s-u,E.y))),C.attr("x",E=>E.x).attr("y",E=>E.y),A.attr("x1",E=>E.source.x).attr("y1",E=>E.source.y).attr("x2",E=>E.target.x).attr("y2",E=>E.target.y)}),c.force("link").links(n6),S.attr("fill",g),A.attr("stroke",E=>y(E)),A.attr("stroke-width",E=>v(E)),C.attr("font-size",E=>b(E))},[e]),V.jsx("div",{children:V.jsxs(kc,{children:[V.jsxs(Wo,{children:[V.jsx("p",{style:{textAlign:"justify"},children:"In the academia, it is often that researchers collaborate with one another in publishing a research paper. The force-directed network graph here shows the coauthorship between HKUST CSE Department's regular faculty members. Feel free to click on the node to select the member, or drag the nodes to move the nodes."}),V.jsx("div",{className:"mb-3",children:rJ.map((o,a)=>V.jsxs("p",{children:[V.jsx("svg",{width:"20",height:"10",children:V.jsx("circle",{cx:"5",cy:"5",r:"5",fill:Bm(o)})}),o]},`rank${a}-legend`))}),V.jsx("div",{className:"mt-3",style:{color:"red"},children:!r&&V.jsx("p",{children:"This faculty member has no co-author stated in Google Scholar."})})]}),V.jsx(Wo,{children:V.jsx("div",{className:"intra-dept-network-graph",ref:n})})]})})}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var Q8e=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Z8e=Object.prototype.hasOwnProperty;function sC(e,t){return Z8e.call(e,t)}function uC(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)sC(e,i)&&r.push(i);return r}function fo(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function lC(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function od(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function UZ(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function cC(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(cC(e[t]))return!0}else if(typeof e=="object"){for(var r=uC(e),i=r.length,o=0;o<i;o++)if(cC(e[r[o]]))return!0}}return!1}function dB(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var jZ=function(e){Q8e(t,e);function t(n,r,i,o,a){var s=this.constructor,u=e.call(this,dB(n,{name:r,index:i,operation:o,tree:a}))||this;return u.name=r,u.index=i,u.operation=o,u.tree=a,Object.setPrototypeOf(u,s.prototype),u.message=dB(n,{name:r,index:i,operation:o,tree:a}),u}return t}(Error),gn=jZ,e4e=fo,Uh={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=WA(n,this.path);r&&(r=fo(r));var i=Td(n,{op:"remove",path:this.from}).removed;return Td(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=WA(n,this.from);return Td(n,{op:"add",path:this.path,value:fo(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:Fy(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},t4e={add:function(e,t,n){return lC(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:Uh.move,copy:Uh.copy,test:Uh.test,_get:Uh._get};function WA(e,t){if(t=="")return e;var n={op:"_get",path:t};return Td(e,n),n.value}function Td(e,t,n,r,i,o){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),o===void 0&&(o=0),n&&(typeof n=="function"?n(t,0,e,t.path):HA(t,0)),t.path===""){var a={newDocument:e};if(t.op==="add")return a.newDocument=t.value,a;if(t.op==="replace")return a.newDocument=t.value,a.removed=e,a;if(t.op==="move"||t.op==="copy")return a.newDocument=WA(e,t.from),t.op==="move"&&(a.removed=e),a;if(t.op==="test"){if(a.test=Fy(e,t.value),a.test===!1)throw new gn("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return a.newDocument=e,a}else{if(t.op==="remove")return a.removed=e,a.newDocument=null,a;if(t.op==="_get")return t.value=e,a;if(n)throw new gn("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return a}}else{r||(e=fo(e));var s=t.path||"",u=s.split("/"),l=e,c=1,f=u.length,d=void 0,p=void 0,g=void 0;for(typeof n=="function"?g=n:g=HA;;){if(p=u[c],p&&p.indexOf("~")!=-1&&(p=UZ(p)),i&&(p=="__proto__"||p=="prototype"&&c>0&&u[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&d===void 0&&(l[p]===void 0?d=u.slice(0,c).join("/"):c==f-1&&(d=t.path),d!==void 0&&g(t,0,e,d)),c++,Array.isArray(l)){if(p==="-")p=l.length;else{if(n&&!lC(p))throw new gn("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);lC(p)&&(p=~~p)}if(c>=f){if(n&&t.op==="add"&&p>l.length)throw new gn("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);var a=t4e[t.op].call(t,l,p,e);if(a.test===!1)throw new gn("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return a}}else if(c>=f){var a=Uh[t.op].call(t,l,p,e);if(a.test===!1)throw new gn("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return a}if(l=l[p],n&&c<f&&(!l||typeof l!="object"))throw new gn("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,t,e)}}}function O3(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new gn("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=fo(e));for(var o=new Array(t.length),a=0,s=t.length;a<s;a++)o[a]=Td(e,t[a],n,!0,i,a),e=o[a].newDocument;return o.newDocument=e,o}function n4e(e,t,n){var r=Td(e,t);if(r.test===!1)throw new gn("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function HA(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new gn("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(Uh[e.op]){if(typeof e.path!="string")throw new gn("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new gn('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new gn("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new gn("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&cC(e.value))throw new gn("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,o=r.split("/").length;if(i!==o+1&&i!==o)throw new gn("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new gn("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var a={op:"_get",path:e.from,value:void 0},s=WZ([a],n);if(s&&s.name==="OPERATION_PATH_UNRESOLVABLE")throw new gn("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new gn("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function WZ(e,t,n){try{if(!Array.isArray(e))throw new gn("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)O3(fo(t),fo(e),n||!0);else{n=n||HA;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof gn)return i;throw i}}function Fy(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,o,a;if(n&&r){if(o=e.length,o!=t.length)return!1;for(i=o;i--!==0;)if(!Fy(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var s=Object.keys(e);if(o=s.length,o!==Object.keys(t).length)return!1;for(i=o;i--!==0;)if(!t.hasOwnProperty(s[i]))return!1;for(i=o;i--!==0;)if(a=s[i],!Fy(e[a],t[a]))return!1;return!0}return e!==e&&t!==t}const r4e=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:gn,_areEquals:Fy,applyOperation:Td,applyPatch:O3,applyReducer:n4e,deepClone:e4e,getValueByPointer:WA,validate:WZ,validator:HA},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var Z7=new WeakMap,i4e=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),o4e=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function a4e(e){return Z7.get(e)}function s4e(e,t){return e.observers.get(t)}function u4e(e,t){e.observers.delete(t.callback)}function l4e(e,t){t.unobserve()}function c4e(e,t){var n=[],r,i=a4e(e);if(!i)i=new i4e(e),Z7.set(e,i);else{var o=s4e(i,t);r=o&&o.observer}if(r)return r;if(r={},i.value=fo(e),t){r.callback=t,r.next=null;var a=function(){fC(r)},s=function(){clearTimeout(r.next),r.next=setTimeout(a)};typeof window<"u"&&(window.addEventListener("mouseup",s),window.addEventListener("keyup",s),window.addEventListener("mousedown",s),window.addEventListener("keydown",s),window.addEventListener("change",s))}return r.patches=n,r.object=e,r.unobserve=function(){fC(r),clearTimeout(r.next),u4e(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",s),window.removeEventListener("keyup",s),window.removeEventListener("mousedown",s),window.removeEventListener("keydown",s),window.removeEventListener("change",s))},i.observers.set(t,new o4e(t,r)),r}function fC(e,t){t===void 0&&(t=!1);var n=Z7.get(e.object);eT(n.value,e.object,e.patches,"",t),e.patches.length&&O3(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function eT(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var o=uC(t),a=uC(e),s=!1,u=a.length-1;u>=0;u--){var l=a[u],c=e[l];if(sC(t,l)&&!(t[l]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var f=t[l];typeof c=="object"&&c!=null&&typeof f=="object"&&f!=null&&Array.isArray(c)===Array.isArray(f)?eT(c,f,n,r+"/"+od(l),i):c!==f&&(i&&n.push({op:"test",path:r+"/"+od(l),value:fo(c)}),n.push({op:"replace",path:r+"/"+od(l),value:fo(f)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+od(l),value:fo(c)}),n.push({op:"remove",path:r+"/"+od(l)}),s=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!s&&o.length==a.length))for(var u=0;u<o.length;u++){var l=o[u];!sC(e,l)&&t[l]!==void 0&&n.push({op:"add",path:r+"/"+od(l),value:fo(t[l])})}}}function f4e(e,t,n){n===void 0&&(n=!1);var r=[];return eT(e,t,r,"",n),r}const d4e=Object.freeze(Object.defineProperty({__proto__:null,compare:f4e,generate:fC,observe:c4e,unobserve:l4e},Symbol.toStringTag,{value:"Module"}));Object.assign({},r4e,d4e,{JsonPatchError:jZ,deepClone:fo,escapePathComponent:od,unescapePathComponent:UZ});var h4e=/("(?:[^\\"]|\\.)*")|[:,]/g,p4e=function(t,n){var r,i,o;return n=n||{},r=JSON.stringify([1],void 0,n.indent===void 0?2:n.indent).slice(2,-3),i=r===""?1/0:n.maxLength===void 0?80:n.maxLength,o=n.replacer,function a(s,u,l){var c,f,d,p,g,y,v,b,x,_,A,S;if(s&&typeof s.toJSON=="function"&&(s=s.toJSON()),A=JSON.stringify(s,o),A===void 0)return A;if(v=i-u.length-l,A.length<=v&&(x=A.replace(h4e,function(C,E){return E||C+" "}),x.length<=v))return x;if(o!=null&&(s=JSON.parse(A),o=void 0),typeof s=="object"&&s!==null){if(b=u+r,d=[],f=0,Array.isArray(s))for(_="[",c="]",v=s.length;f<v;f++)d.push(a(s[f],b,f===v-1?0:1)||"null");else for(_="{",c="}",y=Object.keys(s),v=y.length;f<v;f++)p=y[f],g=JSON.stringify(p)+": ",S=a(s[p],b,g.length+(f===v-1?0:1)),S!==void 0&&d.push(g+S);if(d.length>0)return[_,r+d.join(`,
`+b),c].join(`
`+u)}return A}(t,"",0)};const r6=dg(p4e);function Yi(e,t,n){return e.fields=t||[],e.fname=n,e}function xn(e){return e==null?null:e.fname}function Lr(e){return e==null?null:e.fields}function HZ(e){return e.length===1?g4e(e[0]):m4e(e)}const g4e=e=>function(t){return t[e]},m4e=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function ae(e){throw Error(e)}function au(e){const t=[],n=e.length;let r=null,i=0,o="",a,s,u;e=e+"";function l(){t.push(o+e.substring(a,s)),o="",a=s+1}for(a=s=0;s<n;++s)if(u=e[s],u==="\\")o+=e.substring(a,s++),a=s;else if(u===r)l(),r=null,i=-1;else{if(r)continue;a===i&&u==='"'||a===i&&u==="'"?(a=s+1,r=u):u==="."&&!i?s>a?l():a=s+1:u==="["?(s>a&&l(),i=a=s+1):u==="]"&&(i||ae("Access path missing open bracket: "+e),i>0&&l(),i=0,a=s+1)}return i&&ae("Access path missing closing bracket: "+e),r&&ae("Access path missing closing quote: "+e),s>a&&(s++,l()),t}function ca(e,t,n){const r=au(e);return e=r.length===1?r[0]:e,Yi((n&&n.get||HZ)(r),[e],t||e)}const P2=ca("id"),Ur=Yi(e=>e,[],"identity"),uc=Yi(()=>0,[],"zero"),Eg=Yi(()=>1,[],"one"),fa=Yi(()=>!0,[],"true"),Vl=Yi(()=>!1,[],"false");function y4e(e,t,n){const r=[t].concat([].slice.call(n));console[e].apply(console,r)}const qZ=0,tT=1,nT=2,GZ=3,VZ=4;function rT(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y4e,r=e||qZ;return{level(i){return arguments.length?(r=+i,this):r},error(){return r>=tT&&n(t||"error","ERROR",arguments),this},warn(){return r>=nT&&n(t||"warn","WARN",arguments),this},info(){return r>=GZ&&n(t||"log","INFO",arguments),this},debug(){return r>=VZ&&n(t||"log","DEBUG",arguments),this}}}var se=Array.isArray;function $e(e){return e===Object(e)}const hB=e=>e!=="__proto__";function Cg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,i)=>{for(const o in i)if(o==="signals")r.signals=v4e(r.signals,i.signals);else{const a=o==="legend"?{layout:1}:o==="style"?!0:null;$g(r,o,i[o],a)}return r},{})}function $g(e,t,n,r){if(!hB(t))return;let i,o;if($e(n)&&!se(n)){o=$e(e[t])?e[t]:e[t]={};for(i in n)r&&(r===!0||r[i])?$g(o,i,n[i]):hB(i)&&(o[i]=n[i])}else e[t]=n}function v4e(e,t){if(e==null)return t;const n={},r=[];function i(o){n[o.name]||(n[o.name]=1,r.push(o))}return t.forEach(i),e.forEach(i),r}function gt(e){return e[e.length-1]}function Rr(e){return e==null||e===""?null:+e}const YZ=e=>t=>e*Math.exp(t),JZ=e=>t=>Math.log(e*t),XZ=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),KZ=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,qA=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function R3(e,t,n,r){const i=n(e[0]),o=n(gt(e)),a=(o-i)*t;return[r(i-a),r(o-a)]}function QZ(e,t){return R3(e,t,Rr,Ur)}function ZZ(e,t){var n=Math.sign(e[0]);return R3(e,t,JZ(n),YZ(n))}function eee(e,t,n){return R3(e,t,qA(n),qA(1/n))}function tee(e,t,n){return R3(e,t,XZ(n),KZ(n))}function F3(e,t,n,r,i){const o=r(e[0]),a=r(gt(e)),s=t!=null?r(t):(o+a)/2;return[i(s+(o-s)*n),i(s+(a-s)*n)]}function iT(e,t,n){return F3(e,t,n,Rr,Ur)}function oT(e,t,n){const r=Math.sign(e[0]);return F3(e,t,n,JZ(r),YZ(r))}function GA(e,t,n,r){return F3(e,t,n,qA(r),qA(1/r))}function aT(e,t,n,r){return F3(e,t,n,XZ(r),KZ(r))}function nee(e){return 1+~~(new Date(e).getMonth()/3)}function ree(e){return 1+~~(new Date(e).getUTCMonth()/3)}function Se(e){return e!=null?se(e)?e:[e]:[]}function iee(e,t,n){let r=e[0],i=e[1],o;return i<r&&(o=i,i=r,r=o),o=i-r,o>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-o),r+o]}function Qe(e){return typeof e=="function"}const b4e="descending";function sT(e,t,n){n=n||{},t=Se(t)||[];const r=[],i=[],o={},a=n.comparator||x4e;return Se(e).forEach((s,u)=>{s!=null&&(r.push(t[u]===b4e?-1:1),i.push(s=Qe(s)?s:ca(s,null,n)),(Lr(s)||[]).forEach(l=>o[l]=1))}),i.length===0?null:Yi(a(i,r),Object.keys(o))}const D3=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),x4e=(e,t)=>e.length===1?w4e(e[0],t[0]):A4e(e,t,e.length),w4e=(e,t)=>function(n,r){return D3(e(n),e(r))*t},A4e=(e,t,n)=>(t.push(0),function(r,i){let o,a=0,s=-1;for(;a===0&&++s<n;)o=e[s],a=D3(o(r),o(i));return a*t[s]});function jr(e){return Qe(e)?e:()=>e}function uT(e,t){let n;return r=>{n&&clearTimeout(n),n=setTimeout(()=>(t(r),n=null),e)}}function Ke(e){for(let t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function Ks(e,t){let n=0,r,i,o,a;if(e&&(r=e.length))if(t==null){for(i=e[n];n<r&&(i==null||i!==i);i=e[++n]);for(o=a=i;n<r;++n)i=e[n],i!=null&&(i<o&&(o=i),i>a&&(a=i))}else{for(i=t(e[n]);n<r&&(i==null||i!==i);i=t(e[++n]));for(o=a=i;n<r;++n)i=t(e[n]),i!=null&&(i<o&&(o=i),i>a&&(a=i))}return[o,a]}function oee(e,t){const n=e.length;let r=-1,i,o,a,s,u;if(t==null){for(;++r<n;)if(o=e[r],o!=null&&o>=o){i=a=o;break}if(r===n)return[-1,-1];for(s=u=r;++r<n;)o=e[r],o!=null&&(i>o&&(i=o,s=r),a<o&&(a=o,u=r))}else{for(;++r<n;)if(o=t(e[r],r,e),o!=null&&o>=o){i=a=o;break}if(r===n)return[-1,-1];for(s=u=r;++r<n;)o=t(e[r],r,e),o!=null&&(i>o&&(i=o,s=r),a<o&&(a=o,u=r))}return[s,u]}const _4e=Object.prototype.hasOwnProperty;function Be(e,t){return _4e.call(e,t)}const ix={};function kg(e){let t={},n;function r(o){return Be(t,o)&&t[o]!==ix}const i={size:0,empty:0,object:t,has:r,get(o){return r(o)?t[o]:void 0},set(o,a){return r(o)||(++i.size,t[o]===ix&&--i.empty),t[o]=a,this},delete(o){return r(o)&&(--i.size,++i.empty,t[o]=ix),this},clear(){i.size=i.empty=0,i.object=t={}},test(o){return arguments.length?(n=o,i):n},clean(){const o={};let a=0;for(const s in t){const u=t[s];u!==ix&&(!n||!n(u))&&(o[s]=u,++a)}i.size=a,i.empty=0,i.object=t=o}};return e&&Object.keys(e).forEach(o=>{i.set(o,e[o])}),i}function aee(e,t,n,r,i,o){if(!n&&n!==0)return o;const a=+n;let s=e[0],u=gt(e),l;u<s&&(l=s,s=u,u=l),l=Math.abs(t-s);const c=Math.abs(u-t);return l<c&&l<=a?r:c<=a?i:o}function ve(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),Ke(r,n)}function jh(e,t,n,r){let i=t[0],o=t[t.length-1],a;return i>o&&(a=i,i=o,o=a),n=n===void 0||n,r=r===void 0||r,(n?i<=e:i<e)&&(r?e<=o:e<o)}function wf(e){return typeof e=="boolean"}function Nc(e){return Object.prototype.toString.call(e)==="[object Date]"}function see(e){return e&&Qe(e[Symbol.iterator])}function xt(e){return typeof e=="number"}function uee(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Ee(e){return typeof e=="string"}function lT(e,t,n){e&&(e=t?Se(e).map(s=>s.replace(/\\(.)/g,"$1")):Se(e));const r=e&&e.length,i=n&&n.get||HZ,o=s=>i(t?[s]:au(s));let a;if(!r)a=function(){return""};else if(r===1){const s=o(e[0]);a=function(u){return""+s(u)}}else{const s=e.map(o);a=function(u){let l=""+s[0](u),c=0;for(;++c<r;)l+="|"+s[c](u);return l}}return Yi(a,e,"key")}function lee(e,t){const n=e[0],r=gt(e),i=+t;return i?i===1?r:n+i*(r-n):n}const S4e=1e4;function cee(e){e=+e||S4e;let t,n,r;const i=()=>{t={},n={},r=0},o=(a,s)=>(++r>e&&(n=t,t={},r=1),t[a]=s);return i(),{clear:i,has:a=>Be(t,a)||Be(n,a),get:a=>Be(t,a)?t[a]:Be(n,a)?o(a,n[a]):void 0,set:(a,s)=>Be(t,a)?t[a]=s:o(a,s)}}function fee(e,t,n,r){const i=t.length,o=n.length;if(!o)return t;if(!i)return n;const a=r||new t.constructor(i+o);let s=0,u=0,l=0;for(;s<i&&u<o;++l)a[l]=e(t[s],n[u])>0?n[u++]:t[s++];for(;s<i;++s,++l)a[l]=t[s];for(;u<o;++u,++l)a[l]=n[u];return a}function dm(e,t){let n="";for(;--t>=0;)n+=e;return n}function dee(e,t,n,r){const i=n||" ",o=e+"",a=t-o.length;return a<=0?o:r==="left"?dm(i,a)+o:r==="center"?dm(i,~~(a/2))+o+dm(i,Math.ceil(a/2)):o+dm(i,a)}function I2(e){return e&&gt(e)-e[0]||0}function xe(e){return se(e)?"["+e.map(xe)+"]":$e(e)||Ee(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function cT(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const E4e=e=>xt(e)||Nc(e)?e:Date.parse(e);function fT(e,t){return t=t||E4e,e==null||e===""?null:t(e)}function dT(e){return e==null||e===""?null:e+""}function es(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function hee(e,t,n,r){const i=r??"…",o=e+"",a=o.length,s=Math.max(0,t-i.length);return a<=t?o:n==="left"?i+o.slice(a-s):n==="center"?o.slice(0,Math.ceil(s/2))+i+o.slice(a-~~(s/2)):o.slice(0,s)+i}function tc(e,t,n){if(e)if(t){const r=e.length;for(let i=0;i<r;++i){const o=t(e[i]);o&&n(o,i,e)}}else e.forEach(n)}function C4e(e){return e}function $4e(e){if(e==null)return C4e;var t,n,r=e.scale[0],i=e.scale[1],o=e.translate[0],a=e.translate[1];return function(s,u){u||(t=n=0);var l=2,c=s.length,f=new Array(c);for(f[0]=(t+=s[0])*r+o,f[1]=(n+=s[1])*i+a;l<c;)f[l]=s[l],++l;return f}}function k4e(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function dC(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return pB(e,n)})}:pB(e,t)}function pB(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,o=pee(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:o}:r==null?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function pee(e,t){var n=$4e(e.transform),r=e.arcs;function i(c,f){f.length&&f.pop();for(var d=r[c<0?~c:c],p=0,g=d.length;p<g;++p)f.push(n(d[p],p));c<0&&k4e(f,g)}function o(c){return n(c)}function a(c){for(var f=[],d=0,p=c.length;d<p;++d)i(c[d],f);return f.length<2&&f.push(f[0]),f}function s(c){for(var f=a(c);f.length<4;)f.push(f[0]);return f}function u(c){return c.map(s)}function l(c){var f=c.type,d;switch(f){case"GeometryCollection":return{type:f,geometries:c.geometries.map(l)};case"Point":d=o(c.coordinates);break;case"MultiPoint":d=c.coordinates.map(o);break;case"LineString":d=a(c.arcs);break;case"MultiLineString":d=c.arcs.map(a);break;case"Polygon":d=u(c.arcs);break;case"MultiPolygon":d=c.arcs.map(u);break;default:return null}return{type:f,coordinates:d}}return l(t)}function T4e(e,t){var n={},r={},i={},o=[],a=-1;t.forEach(function(l,c){var f=e.arcs[l<0?~l:l],d;f.length<3&&!f[1][0]&&!f[1][1]&&(d=t[++a],t[a]=l,t[c]=d)}),t.forEach(function(l){var c=s(l),f=c[0],d=c[1],p,g;if(p=i[f])if(delete i[p.end],p.push(l),p.end=d,g=r[d]){delete r[g.start];var y=g===p?p:p.concat(g);r[y.start=p.start]=i[y.end=g.end]=y}else r[p.start]=i[p.end]=p;else if(p=r[d])if(delete r[p.start],p.unshift(l),p.start=f,g=i[f]){delete i[g.end];var v=g===p?p:g.concat(p);r[v.start=g.start]=i[v.end=p.end]=v}else r[p.start]=i[p.end]=p;else p=[l],r[p.start=f]=i[p.end=d]=p});function s(l){var c=e.arcs[l<0?~l:l],f=c[0],d;return e.transform?(d=[0,0],c.forEach(function(p){d[0]+=p[0],d[1]+=p[1]})):d=c[c.length-1],l<0?[d,f]:[f,d]}function u(l,c){for(var f in l){var d=l[f];delete c[d.start],delete d.start,delete d.end,d.forEach(function(p){n[p<0?~p:p]=1}),o.push(d)}}return u(i,r),u(r,i),t.forEach(function(l){n[l<0?~l:l]||o.push([l])}),o}function M4e(e){return pee(e,N4e.apply(this,arguments))}function N4e(e,t,n){var r,i,o;if(arguments.length>1)r=O4e(e,t,n);else for(i=0,r=new Array(o=e.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:T4e(e,r)}}function O4e(e,t,n){var r=[],i=[],o;function a(f){var d=f<0?~f:f;(i[d]||(i[d]=[])).push({i:f,g:o})}function s(f){f.forEach(a)}function u(f){f.forEach(s)}function l(f){f.forEach(u)}function c(f){switch(o=f,f.type){case"GeometryCollection":f.geometries.forEach(c);break;case"LineString":s(f.arcs);break;case"MultiLineString":case"Polygon":u(f.arcs);break;case"MultiPolygon":l(f.arcs);break}}return c(t),i.forEach(n==null?function(f){r.push(f[0].i)}:function(f){n(f[0].g,f[f.length-1].g)&&r.push(f[0].i)}),r}const gr="year",Wi="quarter",Pr="month",In="week",Hi="date",Or="day",Qs="dayofyear",xo="hours",wo="minutes",da="seconds",ts="milliseconds",hT=[gr,Wi,Pr,In,Hi,Or,Qs,xo,wo,da,ts],i6=hT.reduce((e,t,n)=>(e[t]=1+n,e),{});function pT(e){const t=Se(e).slice(),n={};return t.length||ae("Missing time unit."),t.forEach(i=>{Be(i6,i)?n[i]=1:ae(`Invalid time unit: ${i}.`)}),(n[In]||n[Or]?1:0)+(n[Wi]||n[Pr]||n[Hi]?1:0)+(n[Qs]?1:0)>1&&ae(`Incompatible time units: ${e}`),t.sort((i,o)=>i6[i]-i6[o]),t}const R4e={[gr]:"%Y ",[Wi]:"Q%q ",[Pr]:"%b ",[Hi]:"%d ",[In]:"W%U ",[Or]:"%a ",[Qs]:"%j ",[xo]:"%H:00",[wo]:"00:%M",[da]:":%S",[ts]:".%L",[`${gr}-${Pr}`]:"%Y-%m ",[`${gr}-${Pr}-${Hi}`]:"%Y-%m-%d ",[`${xo}-${wo}`]:"%H:%M"};function gee(e,t){const n=Ke({},R4e,t),r=pT(e),i=r.length;let o="",a=0,s,u;for(a=0;a<i;)for(s=r.length;s>a;--s)if(u=r.slice(a,s).join("-"),n[u]!=null){o+=n[u],a=s;break}return o.trim()}const ud=new Date;function gT(e){return ud.setFullYear(e),ud.setMonth(0),ud.setDate(1),ud.setHours(0,0,0,0),ud}function mee(e){return vee(new Date(e))}function yee(e){return hC(new Date(e))}function vee(e){return Ja.count(gT(e.getFullYear())-1,e)}function hC(e){return qc.count(gT(e.getFullYear())-1,e)}function pC(e){return gT(e).getDay()}function F4e(e,t,n,r,i,o,a){if(0<=e&&e<100){const s=new Date(-1,t,n,r,i,o,a);return s.setFullYear(e),s}return new Date(e,t,n,r,i,o,a)}function bee(e){return wee(new Date(e))}function xee(e){return gC(new Date(e))}function wee(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return Mc.count(t-1,e)}function gC(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return Gc.count(t-1,e)}function mC(e){return ud.setTime(Date.UTC(e,0,1)),ud.getUTCDay()}function D4e(e,t,n,r,i,o,a){if(0<=e&&e<100){const s=new Date(Date.UTC(-1,t,n,r,i,o,a));return s.setUTCFullYear(n.y),s}return new Date(Date.UTC(e,t,n,r,i,o,a))}function Aee(e,t,n,r,i){const o=t||1,a=gt(e),s=(b,x,_)=>(_=_||b,L4e(n[_],r[_],b===a&&o,x)),u=new Date,l=es(e),c=l[gr]?s(gr):jr(2012),f=l[Pr]?s(Pr):l[Wi]?s(Wi):uc,d=l[In]&&l[Or]?s(Or,1,In+Or):l[In]?s(In,1):l[Or]?s(Or,1):l[Hi]?s(Hi,1):l[Qs]?s(Qs,1):Eg,p=l[xo]?s(xo):uc,g=l[wo]?s(wo):uc,y=l[da]?s(da):uc,v=l[ts]?s(ts):uc;return function(b){u.setTime(+b);const x=c(u);return i(x,f(u),d(u,x),p(u),g(u),y(u),v(u))}}function L4e(e,t,n,r){const i=n<=1?e:r?(o,a)=>r+n*Math.floor((e(o,a)-r)/n):(o,a)=>n*Math.floor(e(o,a)/n);return t?(o,a)=>t(i(o,a),a):i}function Lp(e,t,n){return t+e*7-(n+6)%7}const P4e={[gr]:e=>e.getFullYear(),[Wi]:e=>Math.floor(e.getMonth()/3),[Pr]:e=>e.getMonth(),[Hi]:e=>e.getDate(),[xo]:e=>e.getHours(),[wo]:e=>e.getMinutes(),[da]:e=>e.getSeconds(),[ts]:e=>e.getMilliseconds(),[Qs]:e=>vee(e),[In]:e=>hC(e),[In+Or]:(e,t)=>Lp(hC(e),e.getDay(),pC(t)),[Or]:(e,t)=>Lp(1,e.getDay(),pC(t))},I4e={[Wi]:e=>3*e,[In]:(e,t)=>Lp(e,0,pC(t))};function _ee(e,t){return Aee(e,t||1,P4e,I4e,F4e)}const z4e={[gr]:e=>e.getUTCFullYear(),[Wi]:e=>Math.floor(e.getUTCMonth()/3),[Pr]:e=>e.getUTCMonth(),[Hi]:e=>e.getUTCDate(),[xo]:e=>e.getUTCHours(),[wo]:e=>e.getUTCMinutes(),[da]:e=>e.getUTCSeconds(),[ts]:e=>e.getUTCMilliseconds(),[Qs]:e=>wee(e),[In]:e=>gC(e),[Or]:(e,t)=>Lp(1,e.getUTCDay(),mC(t)),[In+Or]:(e,t)=>Lp(gC(e),e.getUTCDay(),mC(t))},B4e={[Wi]:e=>3*e,[In]:(e,t)=>Lp(e,0,mC(t))};function See(e,t){return Aee(e,t||1,z4e,B4e,D4e)}const U4e={[gr]:ua,[Wi]:Qd.every(3),[Pr]:Qd,[In]:qc,[Hi]:Ja,[Or]:Ja,[Qs]:Ja,[xo]:D2,[wo]:F2,[da]:Yo,[ts]:Fp},j4e={[gr]:la,[Wi]:Zd.every(3),[Pr]:Zd,[In]:Gc,[Hi]:Mc,[Or]:Mc,[Qs]:Mc,[xo]:_g,[wo]:Ag,[da]:Yo,[ts]:Fp};function Tg(e){return U4e[e]}function Mg(e){return j4e[e]}function Eee(e,t,n){return e?e.offset(t,n):void 0}function Cee(e,t,n){return Eee(Tg(e),t,n)}function $ee(e,t,n){return Eee(Mg(e),t,n)}function kee(e,t,n,r){return e?e.range(t,n,r):void 0}function Tee(e,t,n,r){return kee(Tg(e),t,n,r)}function Mee(e,t,n,r){return kee(Mg(e),t,n,r)}const hm=1e3,pm=hm*60,gm=pm*60,L3=gm*24,W4e=L3*7,gB=L3*30,yC=L3*365,Nee=[gr,Pr,Hi,xo,wo,da,ts],mm=Nee.slice(0,-1),ym=mm.slice(0,-1),vm=ym.slice(0,-1),H4e=vm.slice(0,-1),q4e=[gr,In],mB=[gr,Pr],Oee=[gr],T1=[[mm,1,hm],[mm,5,5*hm],[mm,15,15*hm],[mm,30,30*hm],[ym,1,pm],[ym,5,5*pm],[ym,15,15*pm],[ym,30,30*pm],[vm,1,gm],[vm,3,3*gm],[vm,6,6*gm],[vm,12,12*gm],[H4e,1,L3],[q4e,1,W4e],[mB,1,gB],[mB,3,3*gB],[Oee,1,yC]];function Ree(e){const t=e.extent,n=e.maxbins||40,r=Math.abs(I2(t))/n;let i=w0(s=>s[2]).right(T1,r),o,a;return i===T1.length?(o=Oee,a=jc(t[0]/yC,t[1]/yC,n)):i?(i=T1[r/T1[i-1][2]<T1[i][2]/r?i-1:i],o=i[0],a=i[1]):(o=Nee,a=Math.max(jc(t[0],t[1],n),1)),{units:o,step:a}}function bm(e){const t={};return n=>t[n]||(t[n]=e(n))}function G4e(e,t){return n=>{const r=e(n),i=r.indexOf(t);if(i<0)return r;let o=V4e(r,i);const a=o<r.length?r.slice(o):"";for(;--o>i;)if(r[o]!=="0"){++o;break}return r.slice(0,o)+a}}function V4e(e,t){let n=e.lastIndexOf("e"),r;if(n>0)return n;for(n=e.length;--n>t;)if(r=e.charCodeAt(n),r>=48&&r<=57)return n+1}function Fee(e){const t=bm(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(r){const i=Vd(r||",");if(i.precision==null){switch(i.precision=12,i.type){case"%":i.precision-=2;break;case"e":i.precision-=1;break}return G4e(t(i),t(".1f")(1)[1])}else return t(i)},formatSpan(r,i,o,a){a=Vd(a??",f");const s=jc(r,i,o),u=Math.max(Math.abs(r),Math.abs(i));let l;if(a.precision==null)switch(a.type){case"s":return isNaN(l=CX(s,u))||(a.precision=l),n(a,u);case"":case"e":case"g":case"p":case"r":{isNaN(l=$X(s,u))||(a.precision=l-(a.type==="e"));break}case"f":case"%":{isNaN(l=EX(s))||(a.precision=l-(a.type==="%")*2);break}}return t(a)}}}let vC;Dee();function Dee(){return vC=Fee({format:vf,formatPrefix:A7})}function Lee(e){return Fee(SX(e))}function VA(e){return arguments.length?vC=Lee(e):vC}function yB(e,t,n){n=n||{},$e(n)||ae(`Invalid time multi-format specifier: ${n}`);const r=t(da),i=t(wo),o=t(xo),a=t(Hi),s=t(In),u=t(Pr),l=t(Wi),c=t(gr),f=e(n[ts]||".%L"),d=e(n[da]||":%S"),p=e(n[wo]||"%I:%M"),g=e(n[xo]||"%I %p"),y=e(n[Hi]||n[Or]||"%a %d"),v=e(n[In]||"%b %d"),b=e(n[Pr]||"%B"),x=e(n[Wi]||"%B"),_=e(n[gr]||"%Y");return A=>(r(A)<A?f:i(A)<A?d:o(A)<A?p:a(A)<A?g:u(A)<A?s(A)<A?y:v:c(A)<A?l(A)<A?b:x:_)(A)}function Pee(e){const t=bm(e.format),n=bm(e.utcFormat);return{timeFormat:r=>Ee(r)?t(r):yB(t,Tg,r),utcFormat:r=>Ee(r)?n(r):yB(n,Mg,r),timeParse:bm(e.parse),utcParse:bm(e.utcParse)}}let bC;Iee();function Iee(){return bC=Pee({format:S3,parse:XK,utcFormat:Sg,utcParse:KK})}function zee(e){return Pee(qK(e))}function Dy(e){return arguments.length?bC=zee(e):bC}const xC=(e,t)=>Ke({},e,t);function Bee(e,t){const n=e?Lee(e):VA(),r=t?zee(t):Dy();return xC(n,r)}function mT(e,t){const n=arguments.length;return n&&n!==2&&ae("defaultLocale expects either zero or two arguments."),n?xC(VA(e),Dy(t)):xC(VA(),Dy())}function Y4e(){return Dee(),Iee(),mT()}const J4e=/^(data:|([A-Za-z]+:)?\/\/)/,X4e=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,K4e=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,vB="file://";function Q4e(e,t){return n=>({options:n||{},sanitize:eCe,load:Z4e,fileAccess:!!t,file:tCe(t),http:rCe(e)})}async function Z4e(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t)}async function eCe(e,t){t=Ke({},this.options,t);const n=this.fileAccess,r={href:null};let i,o,a;const s=X4e.test(e.replace(K4e,""));(e==null||typeof e!="string"||!s)&&ae("Sanitize failure, invalid URI: "+xe(e));const u=J4e.test(e);return(a=t.baseURL)&&!u&&(!e.startsWith("/")&&!a.endsWith("/")&&(e="/"+e),e=a+e),o=(i=e.startsWith(vB))||t.mode==="file"||t.mode!=="http"&&!u&&n,i?e=e.slice(vB.length):e.startsWith("//")&&(t.defaultProtocol==="file"?(e=e.slice(2),o=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!o}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),t.context==="image"&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function tCe(e){return e?t=>new Promise((n,r)=>{e.readFile(t,(i,o)=>{i?r(i):n(o)})}):nCe}async function nCe(){ae("No file system access.")}function rCe(e){return e?async function(t,n){const r=Ke({},this.options.http,n),i=n&&n.response,o=await e(t,r);return o.ok?Qe(o[i])?o[i]():o.text():ae(o.status+""+o.statusText)}:iCe}async function iCe(){ae("No HTTP fetch method available.")}const oCe=e=>e!=null&&e===e,aCe=e=>e==="true"||e==="false"||e===!0||e===!1,sCe=e=>!Number.isNaN(Date.parse(e)),Uee=e=>!Number.isNaN(+e)&&!(e instanceof Date),uCe=e=>Uee(e)&&Number.isInteger(+e),wC={boolean:cT,integer:Rr,number:Rr,date:fT,string:dT,unknown:Ur},ox=[aCe,uCe,Uee,sCe],lCe=["boolean","integer","number","date"];function jee(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=ox.length,i=ox.map((o,a)=>a+1);for(let o=0,a=0,s,u;o<n;++o)for(u=t?e[o][t]:e[o],s=0;s<r;++s)if(i[s]&&oCe(u)&&!ox[s](u)&&(i[s]=0,++a,a===ox.length))return"string";return lCe[i.reduce((o,a)=>o===0?a:o,0)-1]}function Wee(e,t){return t.reduce((n,r)=>(n[r]=jee(e,r),n),{})}function bB(e){const t=function(n,r){const i={delimiter:e};return yT(n,r?Ke(r,i):i)};return t.responseType="text",t}function yT(e,t){return t.header&&(e=t.header.map(xe).join(t.delimiter)+`
`+e),yX(t.delimiter).parse(e+"")}yT.responseType="text";function cCe(e){return typeof Buffer=="function"&&Qe(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function vT(e,t){const n=t&&t.property?ca(t.property):Ur;return $e(e)&&!cCe(e)?fCe(n(e),t):n(JSON.parse(e))}vT.responseType="json";function fCe(e,t){return!se(e)&&see(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}const dCe={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function Hee(e,t){let n,r,i,o;return e=vT(e,t),t&&t.feature?(n=dC,i=t.feature):t&&t.mesh?(n=M4e,i=t.mesh,o=dCe[t.filter]):ae("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[i])?n(e,r,o):ae("Invalid TopoJSON object: "+i),r&&r.features||[r]}Hee.responseType="json";const nw={dsv:yT,csv:bB(","),tsv:bB("	"),json:vT,topojson:Hee};function bT(e,t){return arguments.length>1?(nw[e]=t,this):Be(nw,e)?nw[e]:null}function qee(e){const t=bT(e);return t&&t.responseType||"text"}function Gee(e,t,n,r){t=t||{};const i=bT(t.type||"json");return i||ae("Unknown data format type: "+t.type),e=i(e,t),t.parse&&hCe(e,t.parse,n,r),Be(e,"columns")&&delete e.columns,e}function hCe(e,t,n,r){if(!e.length)return;const i=Dy();n=n||i.timeParse,r=r||i.utcParse;let o=e.columns||Object.keys(e[0]),a,s,u,l,c,f;t==="auto"&&(t=Wee(e,o)),o=Object.keys(t);const d=o.map(p=>{const g=t[p];let y,v;if(g&&(g.startsWith("date:")||g.startsWith("utc:")))return y=g.split(/:(.+)?/,2),v=y[1],(v[0]==="'"&&v[v.length-1]==="'"||v[0]==='"'&&v[v.length-1]==='"')&&(v=v.slice(1,-1)),(y[0]==="utc"?r:n)(v);if(!wC[g])throw Error("Illegal format pattern: "+p+":"+g);return wC[g]});for(u=0,c=e.length,f=o.length;u<c;++u)for(a=e[u],l=0;l<f;++l)s=o[l],a[s]=d[l](a[s])}const P3=Q4e(typeof fetch<"u"&&fetch,null);function I3(e){const t=e||Ur,n=[],r={};return n.add=i=>{const o=t(i);return r[o]||(r[o]=1,n.push(i)),n},n.remove=i=>{const o=t(i);if(r[o]){r[o]=0;const a=n.indexOf(i);a>=0&&n.splice(a,1)}return n},n}async function rw(e,t){try{await t(e)}catch(n){e.error(n)}}const Vee=Symbol("vega_id");let pCe=1;function z3(e){return!!(e&&Ie(e))}function Ie(e){return e[Vee]}function Yee(e,t){return e[Vee]=t,e}function Mt(e){const t=e===Object(e)?e:{data:e};return Ie(t)?t:Yee(t,pCe++)}function xT(e){return B3(e,Mt({}))}function B3(e,t){for(const n in e)t[n]=e[n];return t}function Jee(e,t){return Yee(t,Ie(e))}function E0(e,t){return e?t?(n,r)=>e(n,r)||Ie(t(n))-Ie(t(r)):(n,r)=>e(n,r)||Ie(n)-Ie(r):null}function Xee(e){return e&&e.constructor===C0}function C0(){const e=[],t=[],n=[],r=[],i=[];let o=null,a=!1;return{constructor:C0,insert(s){const u=Se(s),l=u.length;for(let c=0;c<l;++c)e.push(u[c]);return this},remove(s){const u=Qe(s)?r:t,l=Se(s),c=l.length;for(let f=0;f<c;++f)u.push(l[f]);return this},modify(s,u,l){const c={field:u,value:jr(l)};return Qe(s)?(c.filter=s,i.push(c)):(c.tuple=s,n.push(c)),this},encode(s,u){return Qe(s)?i.push({filter:s,field:u}):n.push({tuple:s,field:u}),this},clean(s){return o=s,this},reflow(){return a=!0,this},pulse(s,u){const l={},c={};let f,d,p,g,y,v;for(f=0,d=u.length;f<d;++f)l[Ie(u[f])]=1;for(f=0,d=t.length;f<d;++f)y=t[f],l[Ie(y)]=-1;for(f=0,d=r.length;f<d;++f)g=r[f],u.forEach(x=>{g(x)&&(l[Ie(x)]=-1)});for(f=0,d=e.length;f<d;++f)y=e[f],v=Ie(y),l[v]?l[v]=1:s.add.push(Mt(e[f]));for(f=0,d=u.length;f<d;++f)y=u[f],l[Ie(y)]<0&&s.rem.push(y);function b(x,_,A){A?x[_]=A(x):s.encode=_,a||(c[Ie(x)]=x)}for(f=0,d=n.length;f<d;++f)p=n[f],y=p.tuple,g=p.field,v=l[Ie(y)],v>0&&(b(y,g,p.value),s.modifies(g));for(f=0,d=i.length;f<d;++f)p=i[f],g=p.filter,u.forEach(x=>{g(x)&&l[Ie(x)]>0&&b(x,p.field,p.value)}),s.modifies(p.field);if(a)s.mod=t.length||r.length?u.filter(x=>l[Ie(x)]>0):u.slice();else for(v in c)s.mod.push(c[v]);return(o||o==null&&(t.length||r.length))&&s.clean(!0),s}}}const iw="_:mod:_";function U3(){Object.defineProperty(this,iw,{writable:!0,value:{}})}U3.prototype={set(e,t,n,r){const i=this,o=i[e],a=i[iw];return t!=null&&t>=0?(o[t]!==n||r)&&(o[t]=n,a[t+":"+e]=-1,a[e]=-1):(o!==n||r)&&(i[e]=n,a[e]=se(n)?1+n.length:-1),i},modified(e,t){const n=this[iw];if(arguments.length){if(se(e)){for(let r=0;r<e.length;++r)if(n[e[r]])return!0;return!1}}else{for(const r in n)if(n[r])return!0;return!1}return t!=null&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[iw]={},this}};let gCe=0;const mCe="pulse",yCe=new U3,vCe=1,bCe=2;function Wt(e,t,n,r){this.id=++gCe,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function xB(e){return function(t){const n=this.flags;return arguments.length===0?!!(n&e):(this.flags=t?n|e:n&~e,this)}}Wt.prototype={targets(){return this._targets||(this._targets=I3(P2))},set(e){return this.value!==e?(this.value=e,1):0},skip:xB(vCe),modified:xB(bCe),parameters(e,t,n){t=t!==!1;const r=this._argval=this._argval||new U3,i=this._argops=this._argops||[],o=[];let a,s,u,l;const c=(f,d,p)=>{p instanceof Wt?(p!==this&&(t&&p.targets().add(this),o.push(p)),i.push({op:p,name:f,index:d})):r.set(f,d,p)};for(a in e)if(s=e[a],a===mCe)Se(s).forEach(f=>{f instanceof Wt?f!==this&&(f.targets().add(this),o.push(f)):ae("Pulse parameters must be operator instances.")}),this.source=s;else if(se(s))for(r.set(a,-1,Array(u=s.length)),l=0;l<u;++l)c(a,l,s[l]);else c(a,-1,s);return this.marshall().clear(),n&&(i.initonly=!0),o},marshall(e){const t=this._argval||yCe,n=this._argops;let r,i,o,a;if(n){const s=n.length;for(i=0;i<s;++i)r=n[i],o=r.op,a=o.modified()&&o.stamp===e,t.set(r.name,r.index,o.value,a);if(n.initonly){for(i=0;i<s;++i)r=n[i],r.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,r,i;if(e)for(t=0,n=e.length;t<n;++t)r=e[t],i=r.op,i._targets&&i._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};function xCe(e,t,n,r){let i=1,o;return e instanceof Wt?o=e:e&&e.prototype instanceof Wt?o=new e:Qe(e)?o=new Wt(null,e):(i=0,o=new Wt(e,t)),this.rank(o),i&&(r=n,n=t),n&&this.connect(o,o.parameters(n,r)),this.touch(o),o}function wCe(e,t){const n=e.rank,r=t.length;for(let i=0;i<r;++i)if(n<t[i].rank){this.rerank(e);return}}let ACe=0;function j3(e,t,n){this.id=++ACe,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function Yl(e,t,n){return new j3(e,t,n)}j3.prototype={_filter:fa,_apply:Ur,targets(){return this._targets||(this._targets=I3(P2))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,r=n?n.length:0;for(let i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=Yl(e);return this.targets().add(t),t},apply(e){const t=Yl(null,e);return this.targets().add(t),t},merge(){const e=Yl();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const n=Date.now();return n-t>e?(t=n,1):0})},debounce(e){const t=Yl();return this.targets().add(Yl(null,null,uT(e,n=>{const r=n.dataflow;t.receive(n),r&&r.run&&r.run()}))),t},between(e,t){let n=!1;return e.targets().add(Yl(null,null,()=>n=!0)),t.targets().add(Yl(null,null,()=>n=!1)),this.filter(()=>n)},detach(){this._filter=fa,this._targets=null}};function _Ce(e,t,n,r){const i=this,o=Yl(n,r),a=function(l){l.dataflow=i;try{o.receive(l)}catch(c){i.error(c)}finally{i.run()}};let s;typeof e=="string"&&typeof document<"u"?s=document.querySelectorAll(e):s=Se(e);const u=s.length;for(let l=0;l<u;++l)s[l].addEventListener(t,a);return o}function SCe(e,t){const n=this.locale();return Gee(e,t,n.timeParse,n.utcParse)}function ECe(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))}async function CCe(e,t){const n=this;let r=0,i;try{i=await n.loader().load(e,{context:"dataflow",response:qee(t&&t.type)});try{i=n.parse(i,t)}catch(o){r=-2,n.warn("Data ingestion failed",e,o)}}catch(o){r=-1,n.warn("Loading failed",e,o)}return{data:i,status:r}}async function $Ce(e,t,n){const r=this,i=r._pending||kCe(r);i.requests+=1;const o=await r.request(t,n);return r.pulse(e,r.changeset().remove(fa).insert(o.data||[])),i.done(),o}function kCe(e){let t;const n=new Promise(r=>t=r);return n.requests=0,n.done=()=>{--n.requests===0&&(e._pending=null,t(e))},e._pending=n}const TCe={skip:!0};function MCe(e,t,n,r,i){return(e instanceof Wt?OCe:NCe)(this,e,t,n,r,i),this}function NCe(e,t,n,r,i,o){const a=Ke({},o,TCe);let s,u;Qe(n)||(n=jr(n)),r===void 0?s=l=>e.touch(n(l)):Qe(r)?(u=new Wt(null,r,i,!1),s=l=>{u.evaluate(l);const c=n(l),f=u.value;Xee(f)?e.pulse(c,f,o):e.update(c,f,a)}):s=l=>e.update(n(l),r,a),t.apply(s)}function OCe(e,t,n,r,i,o){if(r===void 0)t.targets().add(n);else{const a=o||{},s=new Wt(null,RCe(n,r),i,!1);s.modified(a.force),s.rank=t.rank,t.targets().add(s),n&&(s.skip(!0),s.value=n.value,s.targets().add(n),e.connect(n,[s]))}}function RCe(e,t){return t=Qe(t)?t:jr(t),e?function(n,r){const i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}function FCe(e){e.rank=++this._rank}function DCe(e){const t=[e];let n,r,i;for(;t.length;)if(this.rank(n=t.pop()),r=n._targets)for(i=r.length;--i>=0;)t.push(n=r[i]),n===e&&ae("Cycle detected in dataflow graph.")}const YA={},ks=1,nc=2,zu=4,LCe=ks|nc,wB=ks|zu,fh=ks|nc|zu,AB=8,M1=16,_B=32,SB=64;function Oc(e,t,n){this.dataflow=e,this.stamp=t??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function o6(e,t){const n=[];return tc(e,t,r=>n.push(r)),n}function EB(e,t){const n={};return e.visit(t,r=>{n[Ie(r)]=1}),r=>n[Ie(r)]?null:r}function ax(e,t){return e?(n,r)=>e(n,r)&&t(n,r):t}Oc.prototype={StopPropagation:YA,ADD:ks,REM:nc,MOD:zu,ADD_REM:LCe,ADD_MOD:wB,ALL:fh,REFLOW:AB,SOURCE:M1,NO_SOURCE:_B,NO_FIELDS:SB,fork(e){return new Oc(this.dataflow).init(this,e)},clone(){const e=this.fork(fh);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(fh|M1)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new Oc(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,e.fields&&!(t&SB)&&(n.fields=e.fields),t&ks?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),t&nc?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),t&zu?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),t&_B?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||fh;return t&ks&&this.add.length||t&nc&&this.rem.length||t&zu&&this.mod.length},reflow(e){if(e)return this.fork(fh).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(zu,EB(this,ks))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return se(e)?e.forEach(n=>t[n]=!0):t[e]=!0,this},modified(e,t){const n=this.fields;return(t||this.mod.length)&&n?arguments.length?se(e)?e.some(r=>n[r]):n[e]:!!n:!1},filter(e,t){const n=this;return e&ks&&(n.addF=ax(n.addF,t)),e&nc&&(n.remF=ax(n.remF,t)),e&zu&&(n.modF=ax(n.modF,t)),e&M1&&(n.srcF=ax(n.srcF,t)),n},materialize(e){e=e||fh;const t=this;return e&ks&&t.addF&&(t.add=o6(t.add,t.addF),t.addF=null),e&nc&&t.remF&&(t.rem=o6(t.rem,t.remF),t.remF=null),e&zu&&t.modF&&(t.mod=o6(t.mod,t.modF),t.modF=null),e&M1&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,r=t;if(e&M1)return tc(n.source,n.srcF,r),n;e&ks&&tc(n.add,n.addF,r),e&nc&&tc(n.rem,n.remF,r),e&zu&&tc(n.mod,n.modF,r);const i=n.source;if(e&AB&&i){const o=n.add.length+n.mod.length;o===i.length||(o?tc(i,EB(n,wB),r):tc(i,n.srcF,r))}return n}};function wT(e,t,n,r){const i=this;let o=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(const a of n)if(a.stamp===t){if(a.fields){const s=i.fields||(i.fields={});for(const u in a.fields)s[u]=1}a.changed(i.ADD)&&(o|=i.ADD),a.changed(i.REM)&&(o|=i.REM),a.changed(i.MOD)&&(o|=i.MOD)}this.changes=o}ve(wT,Oc,{fork(e){const t=new Oc(this.dataflow).init(this,e&this.NO_FIELDS);return e!==void 0&&(e&t.ADD&&this.visit(t.ADD,n=>t.add.push(n)),e&t.REM&&this.visit(t.REM,n=>t.rem.push(n)),e&t.MOD&&this.visit(t.MOD,n=>t.mod.push(n))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?se(e)?e.some(r=>n[r]):n[e]:0},filter(){ae("MultiPulse does not support filtering.")},materialize(){ae("MultiPulse does not support materialization.")},visit(e,t){const n=this,r=n.pulses,i=r.length;let o=0;if(e&n.SOURCE)for(;o<i;++o)r[o].visit(e,t);else for(;o<i;++o)r[o].stamp===n.stamp&&r[o].visit(e,t);return n}});async function PCe(e,t,n){const r=this,i=[];if(r._pulse)return Kee(r);if(r._pending&&await r._pending,t&&await rw(r,t),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const o=++r._clock;r._pulse=new Oc(r,o,e),r._touched.forEach(c=>r._enqueue(c,!0)),r._touched=I3(P2);let a=0,s,u,l;try{for(;r._heap.size()>0;){if(s=r._heap.pop(),s.rank!==s.qrank){r._enqueue(s,!0);continue}u=s.run(r._getPulse(s,e)),u.then?u=await u:u.async&&(i.push(u.async),u=YA),u!==YA&&s._targets&&s._targets.forEach(c=>r._enqueue(c)),++a}}catch(c){r._heap.clear(),l=c}if(r._input={},r._pulse=null,r.debug(`Pulse ${o}: ${a} operators`),l&&(r._postrun=[],r.error(l)),r._postrun.length){const c=r._postrun.sort((f,d)=>d.priority-f.priority);r._postrun=[];for(let f=0;f<c.length;++f)await rw(r,c[f].callback)}return n&&await rw(r,n),i.length&&Promise.all(i).then(c=>r.runAsync(null,()=>{c.forEach(f=>{try{f(r)}catch(d){r.error(d)}})})),r}async function ICe(e,t,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(r,r),this._running}function zCe(e,t,n){return this._pulse?Kee(this):(this.evaluate(e,t,n),this)}function BCe(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}}function Kee(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function UCe(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function jCe(e,t){const n=e.source,r=this._clock;return n&&se(n)?new wT(this,r,n.map(i=>i.pulse),t):this._input[e.id]||WCe(this._pulse,n&&n.pulse)}function WCe(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==YA&&(e.source=t.source),e)}const AT={skip:!1,force:!1};function HCe(e,t){const n=t||AT;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function qCe(e,t,n){const r=n||AT;return(e.set(t)||r.force)&&this.touch(e,r),this}function GCe(e,t,n){this.touch(e,n||AT);const r=new Oc(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this}function VCe(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),Qee(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let r;return t.length?(r=t[0],t[0]=n,YCe(t,0,e)):r=n,r}}}function Qee(e,t,n,r){let i,o;const a=e[n];for(;n>t;){if(o=n-1>>1,i=e[o],r(a,i)<0){e[n]=i,n=o;continue}break}return e[n]=a}function YCe(e,t,n){const r=t,i=e.length,o=e[t];let a=(t<<1)+1,s;for(;a<i;)s=a+1,s<i&&n(e[a],e[s])>=0&&(a=s),e[t]=e[a],t=a,a=(t<<1)+1;return e[t]=o,Qee(e,r,t,n)}function ip(){this.logger(rT()),this.logLevel(tT),this._clock=0,this._rank=0,this._locale=mT();try{this._loader=P3()}catch{}this._touched=I3(P2),this._input={},this._pulse=null,this._heap=VCe((e,t)=>e.qrank-t.qrank),this._postrun=[]}function N1(e){return function(){return this._log[e].apply(this,arguments)}}ip.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:N1("error"),warn:N1("warn"),info:N1("info"),debug:N1("debug"),logLevel:N1("level"),cleanThreshold:1e4,add:xCe,connect:wCe,rank:FCe,rerank:DCe,pulse:GCe,touch:HCe,update:qCe,changeset:C0,ingest:ECe,parse:SCe,preload:$Ce,request:CCe,events:_Ce,on:MCe,evaluate:PCe,run:zCe,runAsync:ICe,runAfter:BCe,_enqueue:UCe,_getPulse:jCe};function Z(e,t){Wt.call(this,e,null,t)}ve(Z,Wt,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(n=>this.pulse=n):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const Pp={};function Zee(e){const t=ete(e);return t&&t.Definition||null}function ete(e){return e=e&&e.toLowerCase(),Be(Pp,e)?Pp[e]:null}function*tte(e,t){if(t==null)for(let n of e)n!=null&&n!==""&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)r=t(r,++n,e),r!=null&&r!==""&&(r=+r)>=r&&(yield r)}}function _T(e,t,n){const r=Float64Array.from(tte(e,n));return r.sort(js),t.map(i=>gJ(r,i))}function ST(e,t){return _T(e,[.25,.5,.75],t)}function ET(e,t){const n=e.length,r=sJ(e,t),i=ST(e,t),o=(i[2]-i[0])/1.34;return 1.06*(Math.min(r,o)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)}function nte(e){const t=e.maxbins||20,n=e.base||10,r=Math.log(n),i=e.divide||[5,2];let o=e.extent[0],a=e.extent[1],s,u,l,c,f,d;const p=e.span||a-o||Math.abs(o)||1;if(e.step)s=e.step;else if(e.steps){for(c=p/t,f=0,d=e.steps.length;f<d&&e.steps[f]<c;++f);s=e.steps[Math.max(0,f-1)]}else{for(u=Math.ceil(Math.log(t)/r),l=e.minstep||0,s=Math.max(l,Math.pow(n,Math.round(Math.log(p)/r)-u));Math.ceil(p/s)>t;)s*=n;for(f=0,d=i.length;f<d;++f)c=s/i[f],c>=l&&p/c<=t&&(s=c)}c=Math.log(s);const g=c>=0?0:~~(-c/r)+1,y=Math.pow(n,-g-1);return(e.nice||e.nice===void 0)&&(c=Math.floor(o/s+y)*s,o=o<c?c-s:c,a=Math.ceil(a/s)*s),{start:o,stop:a===o?o+s:a,step:s}}var ha=Math.random;function JCe(e){ha=e}function rte(e,t,n,r){if(!e.length)return[void 0,void 0];const i=Float64Array.from(tte(e,r)),o=i.length,a=t;let s,u,l,c;for(l=0,c=Array(a);l<a;++l){for(s=0,u=0;u<o;++u)s+=i[~~(ha()*o)];c[l]=s/o}return c.sort(js),[Ep(c,n/2),Ep(c,1-n/2)]}function ite(e,t,n,r){r=r||(d=>d);const i=e.length,o=new Float64Array(i);let a=0,s=1,u=r(e[0]),l=u,c=u+t,f;for(;s<i;++s){if(f=r(e[s]),f>=c){for(l=(u+l)/2;a<s;++a)o[a]=l;c=f+t,u=f}l=f}for(l=(u+l)/2;a<s;++a)o[a]=l;return n?XCe(o,t+t/4):o}function XCe(e,t){const n=e.length;let r=0,i=1,o,a;for(;e[r]===e[i];)++i;for(;i<n;){for(o=i+1;e[i]===e[o];)++o;if(e[i]-e[i-1]<t){for(a=i+(r+o-i-i>>1);a<i;)e[a++]=e[i];for(;a>i;)e[a--]=e[r]}r=i,i=o}return e}function KCe(e){return function(){return e=(1103515245*e+12345)%2147483647,e/2147483647}}function QCe(e,t){t==null&&(t=e,e=0);let n,r,i;const o={min(a){return arguments.length?(n=a||0,i=r-n,o):n},max(a){return arguments.length?(r=a||0,i=r-n,o):r},sample(){return n+Math.floor(i*ha())},pdf(a){return a===Math.floor(a)&&a>=n&&a<r?1/i:0},cdf(a){const s=Math.floor(a);return s<n?0:s>=r?1:(s-n+1)/i},icdf(a){return a>=0&&a<=1?n-1+Math.floor(a*i):NaN}};return o.min(e).max(t)}const ote=Math.sqrt(2*Math.PI),ZCe=Math.SQRT2;let O1=NaN;function W3(e,t){e=e||0,t=t??1;let n=0,r=0,i,o;if(O1===O1)n=O1,O1=NaN;else{do n=ha()*2-1,r=ha()*2-1,i=n*n+r*r;while(i===0||i>1);o=Math.sqrt(-2*Math.log(i)/i),n*=o,O1=r*o}return e+n*t}function CT(e,t,n){n=n??1;const r=(e-(t||0))/n;return Math.exp(-.5*r*r)/(n*ote)}function H3(e,t,n){t=t||0,n=n??1;const r=(e-t)/n,i=Math.abs(r);let o;if(i>37)o=0;else{const a=Math.exp(-i*i/2);let s;i<7.07106781186547?(s=.0352624965998911*i+.700383064443688,s=s*i+6.37396220353165,s=s*i+33.912866078383,s=s*i+112.079291497871,s=s*i+221.213596169931,s=s*i+220.206867912376,o=a*s,s=.0883883476483184*i+1.75566716318264,s=s*i+16.064177579207,s=s*i+86.7807322029461,s=s*i+296.564248779674,s=s*i+637.333633378831,s=s*i+793.826512519948,s=s*i+440.413735824752,o=o/s):(s=i+.65,s=i+4/s,s=i+3/s,s=i+2/s,s=i+1/s,o=a/s/2.506628274631)}return r>0?1-o:o}function q3(e,t,n){return e<0||e>1?NaN:(t||0)+(n??1)*ZCe*e$e(2*e-1)}function e$e(e){let t=-Math.log((1-e)*(1+e)),n;return t<6.25?(t-=3.125,n=-364441206401782e-35,n=-16850591381820166e-35+n*t,n=128584807152564e-32+n*t,n=11157877678025181e-33+n*t,n=-1333171662854621e-31+n*t,n=20972767875968562e-33+n*t,n=6637638134358324e-30+n*t,n=-4054566272975207e-29+n*t,n=-8151934197605472e-29+n*t,n=26335093153082323e-28+n*t,n=-12975133253453532e-27+n*t,n=-5415412054294628e-26+n*t,n=10512122733215323e-25+n*t,n=-4112633980346984e-24+n*t,n=-29070369957882005e-24+n*t,n=42347877827932404e-23+n*t,n=-13654692000834679e-22+n*t,n=-13882523362786469e-21+n*t,n=.00018673420803405714+n*t,n=-.000740702534166267+n*t,n=-.006033670871430149+n*t,n=.24015818242558962+n*t,n=1.6536545626831027+n*t):t<16?(t=Math.sqrt(t)-3.25,n=22137376921775787e-25,n=9075656193888539e-23+n*t,n=-27517406297064545e-23+n*t,n=18239629214389228e-24+n*t,n=15027403968909828e-22+n*t,n=-4013867526981546e-21+n*t,n=29234449089955446e-22+n*t,n=12475304481671779e-21+n*t,n=-47318229009055734e-21+n*t,n=6828485145957318e-20+n*t,n=24031110387097894e-21+n*t,n=-.0003550375203628475+n*t,n=.0009532893797373805+n*t,n=-.0016882755560235047+n*t,n=.002491442096107851+n*t,n=-.003751208507569241+n*t,n=.005370914553590064+n*t,n=1.0052589676941592+n*t,n=3.0838856104922208+n*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,n=-27109920616438573e-27,n=-2555641816996525e-25+n*t,n=15076572693500548e-25+n*t,n=-3789465440126737e-24+n*t,n=761570120807834e-23+n*t,n=-1496002662714924e-23+n*t,n=2914795345090108e-23+n*t,n=-6771199775845234e-23+n*t,n=22900482228026655e-23+n*t,n=-99298272942317e-20+n*t,n=4526062597223154e-21+n*t,n=-1968177810553167e-20+n*t,n=7599527703001776e-20+n*t,n=-.00021503011930044477+n*t,n=-.00013871931833623122+n*t,n=1.0103004648645344+n*t,n=4.849906401408584+n*t):n=1/0,n*e}function $T(e,t){let n,r;const i={mean(o){return arguments.length?(n=o||0,i):n},stdev(o){return arguments.length?(r=o??1,i):r},sample:()=>W3(n,r),pdf:o=>CT(o,n,r),cdf:o=>H3(o,n,r),icdf:o=>q3(o,n,r)};return i.mean(e).stdev(t)}function kT(e,t){const n=$T();let r=0;const i={data(o){return arguments.length?(e=o,r=o?o.length:0,i.bandwidth(t)):e},bandwidth(o){return arguments.length?(t=o,!t&&e&&(t=ET(e)),i):t},sample(){return e[~~(ha()*r)]+t*n.sample()},pdf(o){let a=0,s=0;for(;s<r;++s)a+=n.pdf((o-e[s])/t);return a/t/r},cdf(o){let a=0,s=0;for(;s<r;++s)a+=n.cdf((o-e[s])/t);return a/r},icdf(){throw Error("KDE icdf not supported.")}};return i.data(e)}function TT(e,t){return e=e||0,t=t??1,Math.exp(e+W3()*t)}function MT(e,t,n){if(e<=0)return 0;t=t||0,n=n??1;const r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*ote*e)}function NT(e,t,n){return H3(Math.log(e),t,n)}function OT(e,t,n){return Math.exp(q3(e,t,n))}function ate(e,t){let n,r;const i={mean(o){return arguments.length?(n=o||0,i):n},stdev(o){return arguments.length?(r=o??1,i):r},sample:()=>TT(n,r),pdf:o=>MT(o,n,r),cdf:o=>NT(o,n,r),icdf:o=>OT(o,n,r)};return i.mean(e).stdev(t)}function ste(e,t){let n=0,r;function i(a){const s=[];let u=0,l;for(l=0;l<n;++l)u+=s[l]=a[l]==null?1:+a[l];for(l=0;l<n;++l)s[l]/=u;return s}const o={weights(a){return arguments.length?(r=i(t=a||[]),o):t},distributions(a){return arguments.length?(a?(n=a.length,e=a):(n=0,e=[]),o.weights(t)):e},sample(){const a=ha();let s=e[n-1],u=r[0],l=0;for(;l<n-1;u+=r[++l])if(a<u){s=e[l];break}return s.sample()},pdf(a){let s=0,u=0;for(;u<n;++u)s+=r[u]*e[u].pdf(a);return s},cdf(a){let s=0,u=0;for(;u<n;++u)s+=r[u]*e[u].cdf(a);return s},icdf(){throw Error("Mixture icdf not supported.")}};return o.distributions(e).weights(t)}function RT(e,t){return t==null&&(t=e??1,e=0),e+(t-e)*ha()}function FT(e,t,n){return n==null&&(n=t??1,t=0),e>=t&&e<=n?1/(n-t):0}function DT(e,t,n){return n==null&&(n=t??1,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function LT(e,t,n){return n==null&&(n=t??1,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function ute(e,t){let n,r;const i={min(o){return arguments.length?(n=o||0,i):n},max(o){return arguments.length?(r=o??1,i):r},sample:()=>RT(n,r),pdf:o=>FT(o,n,r),cdf:o=>DT(o,n,r),icdf:o=>LT(o,n,r)};return t==null&&(t=e??1,e=0),i.min(e).max(t)}function PT(e,t,n){let r=0,i=0;for(const o of e){const a=n(o);t(o)==null||a==null||isNaN(a)||(r+=(a-r)/++i)}return{coef:[r],predict:()=>r,rSquared:0}}function z2(e,t,n,r){const i=r-e*e,o=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-o*e,o]}function G3(e,t,n,r){e=e.filter(p=>{let g=t(p),y=n(p);return g!=null&&(g=+g)>=g&&y!=null&&(y=+y)>=y}),r&&e.sort((p,g)=>t(p)-t(g));const i=e.length,o=new Float64Array(i),a=new Float64Array(i);let s=0,u=0,l=0,c,f,d;for(d of e)o[s]=c=+t(d),a[s]=f=+n(d),++s,u+=(c-u)/s,l+=(f-l)/s;for(s=0;s<i;++s)o[s]-=u,a[s]-=l;return[o,a,u,l]}function B2(e,t,n,r){let i=-1,o,a;for(const s of e)o=t(s),a=n(s),o!=null&&(o=+o)>=o&&a!=null&&(a=+a)>=a&&r(o,a,++i)}function Ng(e,t,n,r,i){let o=0,a=0;return B2(e,t,n,(s,u)=>{const l=u-i(s),c=u-r;o+=l*l,a+=c*c}),1-o/a}function IT(e,t,n){let r=0,i=0,o=0,a=0,s=0;B2(e,t,n,(c,f)=>{++s,r+=(c-r)/s,i+=(f-i)/s,o+=(c*f-o)/s,a+=(c*c-a)/s});const u=z2(r,i,o,a),l=c=>u[0]+u[1]*c;return{coef:u,predict:l,rSquared:Ng(e,t,n,i,l)}}function lte(e,t,n){let r=0,i=0,o=0,a=0,s=0;B2(e,t,n,(c,f)=>{++s,c=Math.log(c),r+=(c-r)/s,i+=(f-i)/s,o+=(c*f-o)/s,a+=(c*c-a)/s});const u=z2(r,i,o,a),l=c=>u[0]+u[1]*Math.log(c);return{coef:u,predict:l,rSquared:Ng(e,t,n,i,l)}}function cte(e,t,n){const[r,i,o,a]=G3(e,t,n);let s=0,u=0,l=0,c=0,f=0,d,p,g;B2(e,t,n,(x,_)=>{d=r[f++],p=Math.log(_),g=d*_,s+=(_*p-s)/f,u+=(g-u)/f,l+=(g*p-l)/f,c+=(d*g-c)/f});const[y,v]=z2(u/a,s/a,l/a,c/a),b=x=>Math.exp(y+v*(x-o));return{coef:[Math.exp(y-v*o),v],predict:b,rSquared:Ng(e,t,n,a,b)}}function fte(e,t,n){let r=0,i=0,o=0,a=0,s=0,u=0;B2(e,t,n,(f,d)=>{const p=Math.log(f),g=Math.log(d);++u,r+=(p-r)/u,i+=(g-i)/u,o+=(p*g-o)/u,a+=(p*p-a)/u,s+=(d-s)/u});const l=z2(r,i,o,a),c=f=>l[0]*Math.pow(f,l[1]);return l[0]=Math.exp(l[0]),{coef:l,predict:c,rSquared:Ng(e,t,n,s,c)}}function zT(e,t,n){const[r,i,o,a]=G3(e,t,n),s=r.length;let u=0,l=0,c=0,f=0,d=0,p,g,y,v;for(p=0;p<s;)g=r[p],y=i[p++],v=g*g,u+=(v-u)/p,l+=(v*g-l)/p,c+=(v*v-c)/p,f+=(g*y-f)/p,d+=(v*y-d)/p;const b=c-u*u,x=u*b-l*l,_=(d*u-f*l)/x,A=(f*b-d*l)/x,S=-_*u,C=E=>(E=E-o,_*E*E+A*E+S+a);return{coef:[S-A*o+_*o*o+a,A-2*_*o,_],predict:C,rSquared:Ng(e,t,n,a,C)}}function dte(e,t,n,r){if(r===0)return PT(e,t,n);if(r===1)return IT(e,t,n);if(r===2)return zT(e,t,n);const[i,o,a,s]=G3(e,t,n),u=i.length,l=[],c=[],f=r+1;let d,p,g,y,v;for(d=0;d<f;++d){for(g=0,y=0;g<u;++g)y+=Math.pow(i[g],d)*o[g];for(l.push(y),v=new Float64Array(f),p=0;p<f;++p){for(g=0,y=0;g<u;++g)y+=Math.pow(i[g],d+p);v[p]=y}c.push(v)}c.push(l);const b=n$e(c),x=_=>{_-=a;let A=s+b[0]+b[1]*_+b[2]*_*_;for(d=3;d<f;++d)A+=b[d]*Math.pow(_,d);return A};return{coef:t$e(f,b,-a,s),predict:x,rSquared:Ng(e,t,n,s,x)}}function t$e(e,t,n,r){const i=Array(e);let o,a,s,u;for(o=0;o<e;++o)i[o]=0;for(o=e-1;o>=0;--o)for(s=t[o],u=1,i[o]+=s,a=1;a<=o;++a)u*=(o+1-a)/a,i[o-a]+=s*Math.pow(n,a)*u;return i[0]+=r,i}function n$e(e){const t=e.length-1,n=[];let r,i,o,a,s;for(r=0;r<t;++r){for(a=r,i=r+1;i<t;++i)Math.abs(e[r][i])>Math.abs(e[r][a])&&(a=i);for(o=r;o<t+1;++o)s=e[o][r],e[o][r]=e[o][a],e[o][a]=s;for(i=r+1;i<t;++i)for(o=t;o>=r;o--)e[o][i]-=e[o][r]*e[r][i]/e[r][r]}for(i=t-1;i>=0;--i){for(s=0,o=i+1;o<t;++o)s+=e[o][i]*n[o];n[i]=(e[t][i]-s)/e[i][i]}return n}const CB=2,$B=1e-12;function hte(e,t,n,r){const[i,o,a,s]=G3(e,t,n,!0),u=i.length,l=Math.max(2,~~(r*u)),c=new Float64Array(u),f=new Float64Array(u),d=new Float64Array(u).fill(1);for(let p=-1;++p<=CB;){const g=[0,l-1];for(let v=0;v<u;++v){const b=i[v],x=g[0],_=g[1],A=b-i[x]>i[_]-b?x:_;let S=0,C=0,E=0,k=0,O=0;const N=1/Math.abs(i[A]-b||1);for(let I=x;I<=_;++I){const M=i[I],D=o[I],P=r$e(Math.abs(b-M)*N)*d[I],U=M*P;S+=P,C+=U,E+=D*P,k+=D*U,O+=M*U}const[F,W]=z2(C/S,E/S,k/S,O/S);c[v]=F+W*b,f[v]=Math.abs(o[v]-c[v]),i$e(i,v+1,g)}if(p===CB)break;const y=_y(f);if(Math.abs(y)<$B)break;for(let v=0,b,x;v<u;++v)b=f[v]/(6*y),d[v]=b>=1?$B:(x=1-b*b)*x}return o$e(i,c,a,s)}function r$e(e){return(e=1-e*e*e)*e*e}function i$e(e,t,n){const r=e[t];let i=n[0],o=n[1]+1;if(!(o>=e.length))for(;t>i&&e[o]-r<=r-e[i];)n[0]=++i,n[1]=o,++o}function o$e(e,t,n,r){const i=e.length,o=[];let a=0,s=0,u=[],l;for(;a<i;++a)l=e[a]+n,u[0]===l?u[1]+=(t[a]-u[1])/++s:(s=0,u[1]+=r,u=[l,t[a]],o.push(u));return u[1]+=r,o}const a$e=.5*Math.PI/180;function V3(e,t,n,r){n=n||25,r=Math.max(n,r||200);const i=y=>[y,e(y)],o=t[0],a=t[1],s=a-o,u=s/r,l=[i(o)],c=[];if(n===r){for(let y=1;y<r;++y)l.push(i(o+y/n*s));return l.push(i(a)),l}else{c.push(i(a));for(let y=n;--y>0;)c.push(i(o+y/n*s))}let f=l[0],d=c[c.length-1];const p=1/s,g=s$e(f[1],c);for(;d;){const y=i((f[0]+d[0])/2);y[0]-f[0]>=u&&u$e(f,y,d,p,g)>a$e?c.push(y):(f=d,l.push(d),c.pop()),d=c[c.length-1]}return l}function s$e(e,t){let n=e,r=e;const i=t.length;for(let o=0;o<i;++o){const a=t[o][1];a<n&&(n=a),a>r&&(r=a)}return 1/(r-n)}function u$e(e,t,n,r,i){const o=Math.atan2(i*(n[1]-e[1]),r*(n[0]-e[0])),a=Math.atan2(i*(t[1]-e[1]),r*(t[0]-e[0]));return Math.abs(o-a)}function l$e(e){return t=>{const n=e.length;let r=1,i=String(e[0](t));for(;r<n;++r)i+="|"+e[r](t);return i}}function AC(e){return!e||!e.length?function(){return""}:e.length===1?e[0]:l$e(e)}function pte(e,t,n){return n||e+(t?"_"+t:"")}const a6=()=>{},c$e={init:a6,add:a6,rem:a6,idx:0},Ly={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.sum,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||e.min===void 0)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||e.max===void 0)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3},exponential:{init:(e,t)=>{e.exp=0,e.exp_r=t},value:e=>e.valid?e.exp*(1-e.exp_r)/(1-e.exp_r**e.valid):void 0,add:(e,t)=>e.exp=e.exp_r*e.exp+t,rem:(e,t)=>e.exp=(e.exp-t/e.exp_r**(e.valid-1))/e.exp_r},exponentialb:{value:e=>e.valid?e.exp*(1-e.exp_r):void 0,req:["exponential"],idx:1}},U2=Object.keys(Ly).filter(e=>e!=="__count__");function f$e(e,t){return(n,r)=>Ke({name:e,aggregate_param:r,out:n||e},c$e,t)}[...U2,"__count__"].forEach(e=>{Ly[e]=f$e(e,Ly[e])});function gte(e,t,n){return Ly[e](n,t)}function mte(e,t){return e.idx-t.idx}function d$e(e){const t={};e.forEach(r=>t[r.name]=r);const n=r=>{r.req&&r.req.forEach(i=>{t[i]||n(t[i]=Ly[i]())})};return e.forEach(n),Object.values(t).sort(mte)}function h$e(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.aggregate_param==null?e.init(this):e.init(this,e.aggregate_param))}function p$e(e,t){if(e==null||e===""){++this.missing;return}e===e&&(++this.valid,this._ops.forEach(n=>n.add(this,e,t)))}function g$e(e,t){if(e==null||e===""){--this.missing;return}e===e&&(--this.valid,this._ops.forEach(n=>n.rem(this,e,t)))}function m$e(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function yte(e,t){const n=t||Ur,r=d$e(e),i=e.slice().sort(mte);function o(a){this._ops=r,this._out=i,this.cell=a,this.init()}return o.prototype.init=h$e,o.prototype.add=p$e,o.prototype.rem=g$e,o.prototype.set=m$e,o.prototype.get=n,o.fields=e.map(a=>a.out),o}function BT(e){this._key=e?ca(e):Ie,this.reset()}const br=BT.prototype;br.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null};br.add=function(e){this._add.push(e)};br.rem=function(e){this._rem.push(e)};br.values=function(){if(this._get=null,this._rem.length===0)return this._add;const e=this._add,t=this._rem,n=this._key,r=e.length,i=t.length,o=Array(r-i),a={};let s,u,l;for(s=0;s<i;++s)a[n(t[s])]=1;for(s=0,u=0;s<r;++s)a[n(l=e[s])]?a[n(l)]=0:o[u++]=l;return this._rem=[],this._add=o};br.distinct=function(e){const t=this.values(),n={};let r=t.length,i=0,o;for(;--r>=0;)o=e(t[r])+"",Be(n,o)||(n[o]=1,++i);return i};br.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),n=oee(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext};br.argmin=function(e){return this.extent(e)[0]||{}};br.argmax=function(e){return this.extent(e)[1]||{}};br.min=function(e){const t=this.extent(e)[0];return t!=null?e(t):void 0};br.max=function(e){const t=this.extent(e)[1];return t!=null?e(t):void 0};br.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=ST(this.values(),e),this._get=e),this._q};br.q1=function(e){return this.quartile(e)[0]};br.q2=function(e){return this.quartile(e)[1]};br.q3=function(e){return this.quartile(e)[2]};br.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=rte(this.values(),1e3,.05,e),this._get=e),this._ci};br.ci0=function(e){return this.ci(e)[0]};br.ci1=function(e){return this.ci(e)[1]};function Jc(e){Z.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}Jc.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:U2},{name:"aggregate_params",type:"field",null:!0,array:!0,default:[null]},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};ve(Jc,Z,{transform(e,t){const n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return n.stamp=r.stamp,n.value&&(i||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(e):Object.create(null),t.visit(t.SOURCE,o=>n.add(o))):(n.value=n.value||n.init(e),t.visit(t.REM,o=>n.rem(o)),t.visit(t.ADD,o=>n.add(o))),r.modifies(n._outputs),n._drop=e.drop!==!1,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&r.clean(!0).runAfter(()=>this.clean()),n.changes(r)},cross(){const e=this,t=e.value,n=e._dnames,r=n.map(()=>({})),i=n.length;function o(s){let u,l,c,f;for(u in s)for(c=s[u].tuple,l=0;l<i;++l)r[l][f=c[n[l]]]=f}o(e._prev),o(t);function a(s,u,l){const c=n[l],f=r[l++];for(const d in f){const p=s?s+"|"+d:d;u[c]=f[d],l<i?a(p,u,l):t[p]||e.cell(p,u)}}a("",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],r={};function i(x){const _=Se(Lr(x)),A=_.length;let S=0,C;for(;S<A;++S)r[C=_[S]]||(r[C]=1,t.push(C))}this._dims=Se(e.groupby),this._dnames=this._dims.map(x=>{const _=xn(x);return i(x),n.push(_),_}),this.cellkey=e.key?e.key:AC(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const o=e.fields||[null],a=e.ops||["count"],s=e.aggregate_params||[null],u=e.as||[],l=o.length,c={};let f,d,p,g,y,v,b;for(l!==a.length&&ae("Unmatched number of fields and aggregate ops."),b=0;b<l;++b){if(f=o[b],d=a[b],p=s[b]||null,f==null&&d!=="count"&&ae("Null aggregate field specified."),y=xn(f),v=pte(d,y,u[b]),n.push(v),d==="count"){this._counts.push(v);continue}g=c[y],g||(i(f),g=c[y]=[],g.field=f,this._measures.push(g)),d!=="count"&&(this._countOnly=!1),g.push(gte(d,p,v))}return this._measures=this._measures.map(x=>yte(x,x.field)),Object.create(null)},cellkey:AC(),cell(e,t){let n=this.value[e];return n?n.num===0&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const r=this._measures,i=r.length;n.agg=Array(i);for(let o=0;o<i;++o)n.agg[o]=new r[o](n)}return n.store&&(n.data=new BT),n},newtuple(e,t){const n=this._dnames,r=this._dims,i=r.length,o={};for(let a=0;a<i;++a)o[n[a]]=r[a](e);return t?Jee(t.tuple,o):Mt(o)},clean(){const e=this.value;for(const t in e)e[t].num===0&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const r=n.agg;for(let i=0,o=r.length;i<o;++i)r[i].add(r[i].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const r=n.agg;for(let i=0,o=r.length;i<o;++i)r[i].rem(r[i].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let r=0,i=n.length;r<i;++r)t[n[r]]=e.num;if(!this._countOnly){const r=e.agg;for(let i=0,o=r.length;i<o;++i)r[i].set(t)}return t},changes(e){const t=this._adds,n=this._mods,r=this._prev,i=this._drop,o=e.add,a=e.rem,s=e.mod;let u,l,c,f;if(r)for(l in r)u=r[l],(!i||u.num)&&a.push(u.tuple);for(c=0,f=this._alen;c<f;++c)o.push(this.celltuple(t[c])),t[c]=null;for(c=0,f=this._mlen;c<f;++c)u=n[c],(u.num===0&&i?a:s).push(this.celltuple(u)),n[c]=null;return this._alen=this._mlen=0,this._prev=null,e}});const y$e=1e-14;function UT(e){Z.call(this,null,e)}UT.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};ve(UT,Z,{transform(e,t){const n=e.interval!==!1,r=this._bins(e),i=r.start,o=r.step,a=e.as||["bin0","bin1"],s=a[0],u=a[1];let l;return e.modified()?(t=t.reflow(!0),l=t.SOURCE):l=t.modified(Lr(e.field))?t.ADD_MOD:t.ADD,t.visit(l,n?c=>{const f=r(c);c[s]=f,c[u]=f==null?null:i+o*(1+(f-i)/o)}:c=>c[s]=r(c)),t.modifies(n?a:s)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=nte(e),r=n.step;let i=n.start,o=i+Math.ceil((n.stop-i)/r)*r,a,s;(a=e.anchor)!=null&&(s=a-(i+r*Math.floor((a-i)/r)),i+=s,o+=s);const u=function(l){let c=Rr(t(l));return c==null?null:c<i?-1/0:c>o?1/0:(c=Math.max(i,Math.min(c,o-r)),i+r*Math.floor(y$e+(c-i)/r))};return u.start=i,u.stop=n.stop,u.step=r,this.value=Yi(u,Lr(t),e.name||"bin_"+xn(t))}});function vte(e,t,n){const r=e;let i=t||[],o=n||[],a={},s=0;return{add:u=>o.push(u),remove:u=>a[r(u)]=++s,size:()=>i.length,data:(u,l)=>(s&&(i=i.filter(c=>!a[r(c)]),a={},s=0),l&&u&&i.sort(u),o.length&&(i=u?fee(u,i,o.sort(u)):i.concat(o),o=[]),i)}}function jT(e){Z.call(this,[],e)}jT.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};ve(jT,Z,{transform(e,t){const n=t.fork(t.ALL),r=vte(Ie,this.value,n.materialize(n.ADD).add),i=e.sort,o=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(o),this.value=n.source=r.data(E0(i),o),t.source&&t.source.root&&(this.value.root=t.source.root),n}});function bte(e){Wt.call(this,null,v$e,e)}ve(bte,Wt);function v$e(e){return this.value&&!e.modified()?this.value:sT(e.fields,e.orders)}function WT(e){Z.call(this,null,e)}WT.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function b$e(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break}return e.match(n)}ve(WT,Z,{transform(e,t){const n=f=>d=>{for(var p=b$e(s(d),e.case,o)||[],g,y=0,v=p.length;y<v;++y)a.test(g=p[y])||f(g)},r=this._parameterCheck(e,t),i=this._counts,o=this._match,a=this._stop,s=e.field,u=e.as||["text","count"],l=n(f=>i[f]=1+(i[f]||0)),c=n(f=>i[f]-=1);return r?t.visit(t.SOURCE,l):(t.visit(t.ADD,l),t.visit(t.REM,c)),this._finish(t,u)},_parameterCheck(e,t){let n=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,r=this._tuples||(this._tuples={}),i=t[0],o=t[1],a=e.fork(e.NO_SOURCE|e.NO_FIELDS);let s,u,l;for(s in n)u=r[s],l=n[s]||0,!u&&l?(r[s]=u=Mt({}),u[i]=s,u[o]=l,a.add.push(u)):l===0?(u&&a.rem.push(u),n[s]=null,r[s]=null):u[o]!==l&&(u[o]=l,a.mod.push(u));return a.modifies(t)}});function HT(e){Z.call(this,null,e)}HT.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};ve(HT,Z,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],i=r[0],o=r[1],a=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let s=this.value;return a?(s&&(n.rem=s),s=t.materialize(t.SOURCE).source,n.add=this.value=x$e(s,i,o,e.filter||fa)):n.mod=s,n.source=this.value,n.modifies(r)}});function x$e(e,t,n,r){for(var i=[],o={},a=e.length,s=0,u,l;s<a;++s)for(o[t]=l=e[s],u=0;u<a;++u)o[n]=e[u],r(o)&&(i.push(Mt(o)),o={},o[t]=l);return i}const kB={kde:kT,mixture:ste,normal:$T,lognormal:ate,uniform:ute},w$e="distributions",TB="function",A$e="field";function xte(e,t){const n=e[TB];Be(kB,n)||ae("Unknown distribution function: "+n);const r=kB[n]();for(const i in e)i===A$e?r.data((e.from||t()).map(e[i])):i===w$e?r[i](e[i].map(o=>xte(o,t))):typeof r[i]===TB&&r[i](e[i]);return r}function qT(e){Z.call(this,null,e)}const wte=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],_$e={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:wte},{name:"weights",type:"number",array:!0}]};qT.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:wte.concat(_$e)},{name:"as",type:"string",array:!0,default:["value","density"]}]};ve(qT,Z,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=xte(e.distribution,S$e(t)),i=e.steps||e.minsteps||25,o=e.steps||e.maxsteps||200;let a=e.method||"pdf";a!=="pdf"&&a!=="cdf"&&ae("Invalid density method: "+a),!e.extent&&!r.data&&ae("Missing density extent parameter."),a=r[a];const s=e.as||["value","density"],u=e.extent||Ks(r.data()),l=V3(a,u,i,o).map(c=>{const f={};return f[s[0]]=c[0],f[s[1]]=c[1],Mt(f)});this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});function S$e(e){return()=>e.materialize(e.SOURCE).source}function Ate(e,t){return e?e.map((n,r)=>t[r]||xn(n)):null}function GT(e,t,n){const r=[],i=f=>f(u);let o,a,s,u,l,c;if(t==null)r.push(e.map(n));else for(o={},a=0,s=e.length;a<s;++a)u=e[a],l=t.map(i),c=o[l],c||(o[l]=c=[],c.dims=l,r.push(c)),c.push(n(u));return r}const _te="bin";function VT(e){Z.call(this,null,e)}VT.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:_te}]};const E$e=(e,t)=>I2(Ks(e,t))/30;ve(VT,Z,{transform(e,t){if(this.value&&!(e.modified()||t.changed()))return t;const n=t.materialize(t.SOURCE).source,r=GT(t.source,e.groupby,Ur),i=e.smooth||!1,o=e.field,a=e.step||E$e(n,o),s=E0((g,y)=>o(g)-o(y)),u=e.as||_te,l=r.length;let c=1/0,f=-1/0,d=0,p;for(;d<l;++d){const g=r[d].sort(s);p=-1;for(const y of ite(g,a,i,o))y<c&&(c=y),y>f&&(f=y),g[++p][u]=y}return this.value={start:c,stop:f,step:a},t.reflow(!0).modifies(u)}});function Ste(e){Wt.call(this,null,C$e,e),this.modified(!0)}ve(Ste,Wt);function C$e(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:Yi(n=>t(n,e),Lr(t),xn(t))}function YT(e){Z.call(this,[void 0,void 0],e)}YT.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};ve(YT,Z,{transform(e,t){const n=this.value,r=e.field,i=t.changed()||t.modified(r.fields)||e.modified("field");let o=n[0],a=n[1];if((i||o==null)&&(o=1/0,a=-1/0),t.visit(i?t.SOURCE:t.ADD,s=>{const u=Rr(r(s));u!=null&&(u<o&&(o=u),u>a&&(a=u))}),!Number.isFinite(o)||!Number.isFinite(a)){let s=xn(r);s&&(s=` for field "${s}"`),t.dataflow.warn(`Infinite extent${s}: [${o}, ${a}]`),o=a=void 0}this.value=[o,a]}});function JT(e,t){Wt.call(this,e),this.parent=t,this.count=0}ve(JT,Wt,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}});function Y3(e){Z.call(this,{},e),this._keys=kg();const t=this._targets=[];t.active=0,t.forEach=n=>{for(let r=0,i=t.active;r<i;++r)n(t[r],r,t)}}ve(Y3,Z,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,r){const i=this.value;let o=Be(i,e)&&i[e],a,s;return o?o.value.stamp<n.stamp&&(o.init(n),this.activate(o)):(s=r||(s=this._group[e])&&s.tuple,a=n.dataflow,o=new JT(n.fork(n.NO_SOURCE),this),a.add(o).connect(t(a,e,s)),i[e]=o,this.activate(o)),o},clean(){const e=this.value;let t=0;for(const n in e)if(e[n].count===0){const r=e[n].detachSubflow;r&&r(),delete e[n],++t}if(t){const n=this._targets.filter(r=>r&&r.count>0);this.initTargets(n)}},initTargets(e){const t=this._targets,n=t.length,r=e?e.length:0;let i=0;for(;i<r;++i)t[i]=e[i];for(;i<n&&t[i]!=null;++i)t[i]=null;t.active=r},transform(e,t){const n=t.dataflow,r=e.key,i=e.subflow,o=this._keys,a=e.modified("key"),s=u=>this.subflow(u,i,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,u=>{const l=Ie(u),c=o.get(l);c!==void 0&&(o.delete(l),s(c).rem(u))}),t.visit(t.ADD,u=>{const l=r(u);o.set(Ie(u),l),s(l).add(u)}),a||t.modified(r.fields)?t.visit(t.MOD,u=>{const l=Ie(u),c=o.get(l),f=r(u);c===f?s(f).mod(u):(o.set(l,f),s(c).rem(u),s(f).add(u))}):t.changed(t.MOD)&&t.visit(t.MOD,u=>{s(o.get(Ie(u))).mod(u)}),a&&t.visit(t.REFLOW,u=>{const l=Ie(u),c=o.get(l),f=r(u);c!==f&&(o.set(l,f),s(c).rem(u),s(f).add(u))}),t.clean()?n.runAfter(()=>{this.clean(),o.clean()}):o.empty>n.cleanThreshold&&n.runAfter(o.clean),t}});function Ete(e){Wt.call(this,null,$$e,e)}ve(Ete,Wt);function $$e(e){return this.value&&!e.modified()?this.value:se(e.name)?Se(e.name).map(t=>ca(t)):ca(e.name,e.as)}function XT(e){Z.call(this,kg(),e)}XT.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};ve(XT,Z,{transform(e,t){const n=t.dataflow,r=this.value,i=t.fork(),o=i.add,a=i.rem,s=i.mod,u=e.expr;let l=!0;t.visit(t.REM,f=>{const d=Ie(f);r.has(d)?r.delete(d):a.push(f)}),t.visit(t.ADD,f=>{u(f,e)?o.push(f):r.set(Ie(f),1)});function c(f){const d=Ie(f),p=u(f,e),g=r.get(d);p&&g?(r.delete(d),o.push(f)):!p&&!g?(r.set(d,1),a.push(f)):l&&p&&!g&&s.push(f)}return t.visit(t.MOD,c),e.modified()&&(l=!1,t.visit(t.REFLOW,c)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i}});function KT(e){Z.call(this,[],e)}KT.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};ve(KT,Z,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=Ate(r,e.as||[]),o=e.index||null,a=i.length;return n.rem=this.value,t.visit(t.SOURCE,s=>{const u=r.map(g=>g(s)),l=u.reduce((g,y)=>Math.max(g,y.length),0);let c=0,f,d,p;for(;c<l;++c){for(d=xT(s),f=0;f<a;++f)d[i[f]]=(p=u[f][c])==null?null:p;o&&(d[o]=c),n.add.push(d)}}),this.value=n.source=n.add,o&&n.modifies(o),n.modifies(i)}});function QT(e){Z.call(this,[],e)}QT.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};ve(QT,Z,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(xn),o=e.as||["key","value"],a=o[0],s=o[1],u=r.length;return n.rem=this.value,t.visit(t.SOURCE,l=>{for(let c=0,f;c<u;++c)f=xT(l),f[a]=i[c],f[s]=r[c](l),n.add.push(f)}),this.value=n.source=n.add,n.modifies(o)}});function ZT(e){Z.call(this,null,e)}ZT.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};ve(ZT,Z,{transform(e,t){const n=e.expr,r=e.as,i=e.modified(),o=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(o,a=>a[r]=n(a,e))}});function Cte(e){Z.call(this,[],e)}ve(Cte,Z,{transform(e,t){const n=t.fork(t.ALL),r=e.generator;let i=this.value,o=e.size-i.length,a,s,u;if(o>0){for(a=[];--o>=0;)a.push(u=Mt(r(e))),i.push(u);n.add=n.add.length?n.materialize(n.ADD).add.concat(a):a}else s=i.slice(0,-o),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(s):s,i=i.slice(-o);return n.source=this.value=i,n}});const sx={value:"value",median:_y,mean:mJ,min:Sp,max:si},k$e=[];function eM(e){Z.call(this,[],e)}eM.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function T$e(e){var t=e.method||sx.value,n;if(sx[t]==null)ae("Unrecognized imputation method: "+t);else return t===sx.value?(n=e.value!==void 0?e.value:0,()=>n):sx[t]}function M$e(e){const t=e.field;return n=>n?t(n):NaN}ve(eM,Z,{transform(e,t){var n=t.fork(t.ALL),r=T$e(e),i=M$e(e),o=xn(e.field),a=xn(e.key),s=(e.groupby||[]).map(xn),u=N$e(t.source,e.groupby,e.key,e.keyvals),l=[],c=this.value,f=u.domain.length,d,p,g,y,v,b,x,_,A,S;for(v=0,_=u.length;v<_;++v)for(d=u[v],g=d.values,p=NaN,x=0;x<f;++x)if(d[x]==null){for(y=u.domain[x],S={_impute:!0},b=0,A=g.length;b<A;++b)S[s[b]]=g[b];S[a]=y,S[o]=Number.isNaN(p)?p=r(d,i):p,l.push(Mt(S))}return l.length&&(n.add=n.materialize(n.ADD).add.concat(l)),c.length&&(n.rem=n.materialize(n.REM).rem.concat(c)),this.value=l,n}});function N$e(e,t,n,r){var i=b=>b(v),o=[],a=r?r.slice():[],s={},u={},l,c,f,d,p,g,y,v;for(a.forEach((b,x)=>s[b]=x+1),d=0,y=e.length;d<y;++d)v=e[d],g=n(v),p=s[g]||(s[g]=a.push(g)),c=(l=t?t.map(i):k$e)+"",(f=u[c])||(f=u[c]=[],o.push(f),f.values=l),f[p-1]=v;return o.domain=a,o}function tM(e){Jc.call(this,e)}tM.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:U2},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};ve(tM,Jc,{transform(e,t){const n=this,r=e.modified();let i;return n.value&&(r||t.modified(n._inputs,!0))?(i=n.value=r?n.init(e):{},t.visit(t.SOURCE,o=>n.add(o))):(i=n.value=n.value||this.init(e),t.visit(t.REM,o=>n.rem(o)),t.visit(t.ADD,o=>n.add(o))),n.changes(),t.visit(t.SOURCE,o=>{Ke(o,i[n.cellkey(o)].tuple)}),t.reflow(r).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let n,r;for(n=0,r=this._alen;n<r;++n)this.celltuple(e[n]),e[n]=null;for(n=0,r=this._mlen;n<r;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}});function nM(e){Z.call(this,null,e)}nM.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]};ve(nM,Z,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=GT(r,e.groupby,e.field),o=(e.groupby||[]).map(xn),a=e.bandwidth,s=e.cumulative?"cdf":"pdf",u=e.as||["value","density"],l=[];let c=e.extent,f=e.steps||e.minsteps||25,d=e.steps||e.maxsteps||200;s!=="pdf"&&s!=="cdf"&&ae("Invalid density method: "+s),e.resolve==="shared"&&(c||(c=Ks(r,e.field)),f=d=e.steps||d),i.forEach(p=>{const g=kT(p,a)[s],y=e.counts?p.length:1,v=c||Ks(p);V3(g,v,f,d).forEach(b=>{const x={};for(let _=0;_<o.length;++_)x[o[_]]=p.dims[_];x[u[0]]=b[0],x[u[1]]=b[1]*y,l.push(Mt(x))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});function $te(e){Wt.call(this,null,O$e,e)}ve($te,Wt);function O$e(e){return this.value&&!e.modified()?this.value:lT(e.fields,e.flat)}function kte(e){Z.call(this,[],e),this._pending=null}ve(kte,Z,{transform(e,t){const n=t.dataflow;return this._pending?s6(this,t,this._pending):R$e(e)?t.StopPropagation:e.values?s6(this,t,n.parse(e.values,e.format)):e.async?{async:n.request(e.url,e.format).then(i=>(this._pending=Se(i.data),o=>o.touch(this)))}:n.request(e.url,e.format).then(r=>s6(this,t,Se(r.data)))}});function R$e(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}function s6(e,t,n){n.forEach(Mt);const r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function rM(e){Z.call(this,{},e)}rM.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};ve(rM,Z,{transform(e,t){const n=e.fields,r=e.index,i=e.values,o=e.default==null?null:e.default,a=e.modified(),s=n.length;let u=a?t.SOURCE:t.ADD,l=t,c=e.as,f,d,p;return i?(d=i.length,s>1&&!c&&ae('Multi-field lookup requires explicit "as" parameter.'),c&&c.length!==s*d&&ae('The "as" parameter has too few output field names.'),c=c||i.map(xn),f=function(g){for(var y=0,v=0,b,x;y<s;++y)if(x=r.get(n[y](g)),x==null)for(b=0;b<d;++b,++v)g[c[v]]=o;else for(b=0;b<d;++b,++v)g[c[v]]=i[b](x)}):(c||ae("Missing output field names."),f=function(g){for(var y=0,v;y<s;++y)v=r.get(n[y](g)),g[c[y]]=v??o}),a?l=t.reflow(!0):(p=n.some(g=>t.modified(g.fields)),u|=p?t.MOD:0),t.visit(u,f),l.modifies(c)}});function Tte(e){Wt.call(this,null,F$e,e)}ve(Tte,Wt);function F$e(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let r=1/0,i=-1/0,o,a;for(o=0;o<n;++o)a=t[o],a[0]<r&&(r=a[0]),a[1]>i&&(i=a[1]);return[r,i]}function Mte(e){Wt.call(this,null,D$e,e)}ve(Mte,Wt);function D$e(e){return this.value&&!e.modified()?this.value:e.values.reduce((t,n)=>t.concat(n),[])}function Nte(e){Z.call(this,null,e)}ve(Nte,Z,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function iM(e){Jc.call(this,e)}iM.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:U2,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};ve(iM,Jc,{_transform:Jc.prototype.transform,transform(e,t){return this._transform(L$e(e,t),t)}});function L$e(e,t){const n=e.field,r=e.value,i=(e.op==="count"?"__count__":e.op)||"sum",o=Lr(n).concat(Lr(r)),a=I$e(n,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:a.map(()=>i),fields:a.map(s=>P$e(s,n,r,o)),as:a.map(s=>s+""),modified:e.modified.bind(e)}}function P$e(e,t,n,r){return Yi(i=>t(i)===e?n(i):NaN,r,e+"")}function I$e(e,t,n){const r={},i=[];return n.visit(n.SOURCE,o=>{const a=e(o);r[a]||(r[a]=1,i.push(a))}),i.sort(D3),t?i.slice(0,t):i}function Ote(e){Y3.call(this,e)}ve(Ote,Y3,{transform(e,t){const n=e.subflow,r=e.field,i=o=>this.subflow(Ie(o),n,t,o);return(e.modified("field")||r&&t.modified(Lr(r)))&&ae("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,o=>{const a=i(o);r(o).forEach(s=>a.mod(s))}),t.visit(t.ADD,o=>{const a=i(o);r(o).forEach(s=>a.add(Mt(s)))}),t.visit(t.REM,o=>{const a=i(o);r(o).forEach(s=>a.rem(s))})):(t.visit(t.MOD,o=>i(o).mod(o)),t.visit(t.ADD,o=>i(o).add(o)),t.visit(t.REM,o=>i(o).rem(o))),t.clean()&&t.runAfter(()=>this.clean()),t}});function oM(e){Z.call(this,null,e)}oM.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};ve(oM,Z,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=Ate(e.fields,e.as||[]),o=r?(s,u)=>z$e(s,u,r,i):B3;let a;return this.value?a=this.value:(t=t.addAll(),a=this.value={}),t.visit(t.REM,s=>{const u=Ie(s);n.rem.push(a[u]),a[u]=null}),t.visit(t.ADD,s=>{const u=o(s,Mt({}));a[Ie(s)]=u,n.add.push(u)}),t.visit(t.MOD,s=>{n.mod.push(o(s,a[Ie(s)]))}),n}});function z$e(e,t,n,r){for(let i=0,o=n.length;i<o;++i)t[r[i]]=n[i](e);return t}function Rte(e){Z.call(this,null,e)}ve(Rte,Z,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function aM(e){Z.call(this,null,e)}aM.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};const B$e=1e-14;ve(aM,Z,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const i=t.materialize(t.SOURCE).source,o=GT(i,e.groupby,e.field),a=(e.groupby||[]).map(xn),s=[],u=e.step||.01,l=e.probs||Pn(u/2,1-B$e,u),c=l.length;return o.forEach(f=>{const d=_T(f,l);for(let p=0;p<c;++p){const g={};for(let y=0;y<a.length;++y)g[a[y]]=f.dims[y];g[r[0]]=l[p],g[r[1]]=d[p],s.push(Mt(g))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=s,n}});function Fte(e){Z.call(this,null,e)}ve(Fte,Z,{transform(e,t){let n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,i=>{const o=Ie(i);n.rem.push(r[o]),r[o]=null}),t.visit(t.ADD,i=>{const o=xT(i);r[Ie(i)]=o,n.add.push(o)}),t.visit(t.MOD,i=>{const o=r[Ie(i)];for(const a in i)o[a]=i[a],n.modifies(a);n.mod.push(o)})),n}});function sM(e){Z.call(this,[],e),this.count=0}sM.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};ve(sM,Z,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,o=this.value.reduce((c,f)=>(c[Ie(f)]=1,c),{});let a=this.value,s=this.count,u=0;function l(c){let f,d;a.length<i?a.push(c):(d=~~((s+1)*ha()),d<a.length&&d>=u&&(f=a[d],o[Ie(f)]&&n.rem.push(f),a[d]=c)),++s}if(t.rem.length&&(t.visit(t.REM,c=>{const f=Ie(c);o[f]&&(o[f]=-1,n.rem.push(c)),--s}),a=a.filter(c=>o[Ie(c)]!==-1)),(t.rem.length||r)&&a.length<i&&t.source&&(u=s=a.length,t.visit(t.SOURCE,c=>{o[Ie(c)]||l(c)}),u=-1),r&&a.length>i){const c=a.length-i;for(let f=0;f<c;++f)o[Ie(a[f])]=-1,n.rem.push(a[f]);a=a.slice(c)}return t.mod.length&&t.visit(t.MOD,c=>{o[Ie(c)]&&n.mod.push(c)}),t.add.length&&t.visit(t.ADD,l),(t.add.length||u<0)&&(n.add=a.filter(c=>!o[Ie(c)])),this.count=s,this.value=n.source=a,n}});function uM(e){Z.call(this,null,e)}uM.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};ve(uM,Z,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=Pn(e.start,e.stop,e.step||1).map(i=>{const o={};return o[r]=i,Mt(o)}),n.add=t.add.concat(this.value),n}});function Dte(e){Z.call(this,null,e),this.modified(!0)}ve(Dte,Z,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function lM(e){Z.call(this,null,e)}const Lte=["unit0","unit1"];lM.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:hT,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:Lte}]};ve(lM,Z,{transform(e,t){const n=e.field,r=e.interval!==!1,i=e.timezone==="utc",o=this._floor(e,t),a=(i?Mg:Tg)(o.unit).offset,s=e.as||Lte,u=s[0],l=s[1],c=o.step;let f=o.start||1/0,d=o.stop||-1/0,p=t.ADD;return(e.modified()||t.changed(t.REM)||t.modified(Lr(n)))&&(t=t.reflow(!0),p=t.SOURCE,f=1/0,d=-1/0),t.visit(p,g=>{const y=n(g);let v,b;y==null?(g[u]=null,r&&(g[l]=null)):(g[u]=v=b=o(y),r&&(g[l]=b=a(v,c)),v<f&&(f=v),b>d&&(d=b))}),o.start=f,o.stop=d,t.modifies(r?s:u)},_floor(e,t){const n=e.timezone==="utc",{units:r,step:i}=e.units?{units:e.units,step:e.step||1}:Ree({extent:e.extent||Ks(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),o=pT(r),a=this.value||{},s=(n?See:_ee)(o,i);return s.unit=gt(o),s.units=o,s.step=i,s.start=a.start,s.stop=a.stop,this.value=s}});function Pte(e){Z.call(this,kg(),e)}ve(Pte,Z,{transform(e,t){const n=t.dataflow,r=e.field,i=this.value,o=s=>i.set(r(s),s);let a=!0;return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,o)):t.changed()?(t.visit(t.REM,s=>i.delete(r(s))),t.visit(t.ADD,o)):a=!1,this.modified(a),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()}});function Ite(e){Z.call(this,null,e)}ve(Ite,Z,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(E0(e.sort)):t.source).map(e.field))}});function U$e(e,t,n,r){const i=Py[e](t,n);return{init:i.init||uc,update:function(o,a){a[r]=i.next(o)}}}const Py={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){const e=Py.rank(),t=e.next;return{init:e.init,next:n=>(t(n)-1)/(n.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,r=t.compare;let i=t.index;if(e<i){for(;i+1<n.length&&!r(n[i],n[i+1]);)++i;e=i}return(1+e)/n.length}}},ntile:function(e,t){t=+t,t>0||ae("ntile num must be greater than zero.");const n=Py.cume_dist(),r=n.next;return{init:n.init,next:i=>Math.ceil(t*r(i))}},lag:function(e,t){return t=+t||1,{next:n=>{const r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return t=+t,t>0||ae("nth_value nth must be greater than zero."),{next:n=>{const r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const r=e(n.data[n.index]);return r!=null?t=r:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:r=>{const i=r.data;return r.index<=n?t:(n=j$e(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};function j$e(e,t,n){for(let r=t.length;n<r;++n)if(e(t[n])!=null)return n;return-1}const W$e=Object.keys(Py);function zte(e){const t=Se(e.ops),n=Se(e.fields),r=Se(e.params),i=Se(e.aggregate_params),o=Se(e.as),a=this.outputs=[],s=this.windows=[],u={},l={},c=[],f=[];let d=!0;function p(g){Se(Lr(g)).forEach(y=>u[y]=1)}p(e.sort),t.forEach((g,y)=>{const v=n[y],b=r[y],x=i[y]||null,_=xn(v),A=pte(g,_,o[y]);if(p(v),a.push(A),Be(Py,g))s.push(U$e(g,v,b,A));else{if(v==null&&g!=="count"&&ae("Null aggregate field specified."),g==="count"){c.push(A);return}d=!1;let S=l[_];S||(S=l[_]=[],S.field=v,f.push(S)),S.push(gte(g,x,A))}}),(c.length||f.length)&&(this.cell=H$e(f,c,d)),this.inputs=Object.keys(u)}const Bte=zte.prototype;Bte.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()};Bte.update=function(e,t){const n=this.cell,r=this.windows,i=e.data,o=r&&r.length;let a;if(n){for(a=e.p0;a<e.i0;++a)n.rem(i[a]);for(a=e.p1;a<e.i1;++a)n.add(i[a]);n.set(t)}for(a=0;a<o;++a)r[a].update(e,t)};function H$e(e,t,n){e=e.map(u=>yte(u,u.field));const r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,o=r.agg=Array(i),a=0;a<i;++a)o[a]=new e[a](r);if(r.store)var s=r.data=new BT;return r.add=function(u){if(r.num+=1,!n){s&&s.add(u);for(let l=0;l<i;++l)o[l].add(o[l].get(u),u)}},r.rem=function(u){if(r.num-=1,!n){s&&s.rem(u);for(let l=0;l<i;++l)o[l].rem(o[l].get(u),u)}},r.set=function(u){let l,c;for(s&&s.values(),l=0,c=t.length;l<c;++l)u[t[l]]=r.num;if(!n)for(l=0,c=o.length;l<c;++l)o[l].set(u)},r.init=function(){r.num=0,s&&s.reset();for(let u=0;u<i;++u)o[u].init()},r}function cM(e){Z.call(this,{},e),this._mlen=0,this._mods=[]}cM.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:W$e.concat(U2)},{name:"params",type:"number",null:!0,array:!0},{name:"aggregate_params",type:"field",null:!0,array:!0,default:[null]},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};ve(cM,Z,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),r=E0(e.sort),i=AC(e.groupby),o=s=>this.group(i(s));let a=this.state;(!a||n)&&(a=this.state=new zte(e)),n||t.modified(a.inputs)?(this.value={},t.visit(t.SOURCE,s=>o(s).add(s))):(t.visit(t.REM,s=>o(s).remove(s)),t.visit(t.ADD,s=>o(s).add(s)));for(let s=0,u=this._mlen;s<u;++s)q$e(this._mods[s],a,r,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(a.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=vte(Ie),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}});function q$e(e,t,n,r){const i=r.sort,o=i&&!r.ignorePeers,a=r.frame||[null,0],s=e.data(n),u=s.length,l=o?w0(i):null,c={i0:0,i1:0,p0:0,p1:0,index:0,data:s,compare:i||jr(-1)};t.init();for(let f=0;f<u;++f)G$e(c,a,f,u),o&&V$e(c,l),t.update(c,s[f])}function G$e(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=t[0]==null?0:Math.max(0,n-Math.abs(t[0])),e.i1=t[1]==null?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function V$e(e,t){const n=e.i0,r=e.i1-1,i=e.compare,o=e.data,a=o.length-1;n>0&&!i(o[n],o[n-1])&&(e.i0=t.left(o,o[n])),r<a&&!i(o[r],o[r+1])&&(e.i1=t.right(o,o[r]))}const Y$e=Object.freeze(Object.defineProperty({__proto__:null,aggregate:Jc,bin:UT,collect:jT,compare:bte,countpattern:WT,cross:HT,density:qT,dotbin:VT,expression:Ste,extent:YT,facet:Y3,field:Ete,filter:XT,flatten:KT,fold:QT,formula:ZT,generate:Cte,impute:eM,joinaggregate:tM,kde:nM,key:$te,load:kte,lookup:rM,multiextent:Tte,multivalues:Mte,params:Nte,pivot:iM,prefacet:Ote,project:oM,proxy:Rte,quantile:aM,relay:Fte,sample:sM,sequence:uM,sieve:Dte,subflow:JT,timeunit:lM,tupleindex:Pte,values:Ite,window:cM},Symbol.toStringTag,{value:"Module"}));function Rc(e,t){if(typeof document<"u"&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}const J$e=()=>typeof Image<"u"?Image:null;function fM(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const X$e="identity",Ip="linear",gl="log",j2="pow",W2="sqrt",J3="symlog",e0="time",t0="utc",qs="sequential",Og="diverging",zp="quantile",X3="quantize",K3="threshold",dM="ordinal",_C="point",Ute="band",hM="bin-ordinal",jn="continuous",H2="discrete",q2="discretizing",ma="interpolating",pM="temporal";function K$e(e){return function(t){let n=t[0],r=t[1],i;return r<n&&(i=n,n=r,r=i),[e.invert(n),e.invert(r)]}}function Q$e(e){return function(t){const n=e.range();let r=t[0],i=t[1],o=-1,a,s,u,l;for(i<r&&(s=r,r=i,i=s),u=0,l=n.length;u<l;++u)n[u]>=r&&n[u]<=i&&(o<0&&(o=u),a=u);if(!(o<0))return r=e.invertExtent(n[o]),i=e.invertExtent(n[a]),[r[0]===void 0?r[1]:r[0],i[1]===void 0?i[0]:i[1]]}}function gM(){const e=O2().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],i,o,a=!1,s=0,u=0,l=.5;delete e.unknown;function c(){const f=t().length,d=r[1]<r[0],p=r[1-d],g=fM(f,s,u);let y=r[d-0];i=(p-y)/(g||1),a&&(i=Math.floor(i)),y+=(p-y-i*(f-s))*l,o=i*(1-s),a&&(y=Math.round(y),o=Math.round(o));const v=Pn(f).map(b=>y+i*b);return n(d?v.reverse():v)}return e.domain=function(f){return arguments.length?(t(f),c()):t()},e.range=function(f){return arguments.length?(r=[+f[0],+f[1]],c()):r.slice()},e.rangeRound=function(f){return r=[+f[0],+f[1]],a=!0,c()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(f){return arguments.length?(a=!!f,c()):a},e.padding=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),s=u,c()):s},e.paddingInner=function(f){return arguments.length?(s=Math.max(0,Math.min(1,f)),c()):s},e.paddingOuter=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),c()):u},e.align=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),c()):l},e.invertRange=function(f){if(f[0]==null||f[1]==null)return;const d=r[1]<r[0],p=d?n().reverse():n(),g=p.length-1;let y=+f[0],v=+f[1],b,x,_;if(!(y!==y||v!==v)&&(v<y&&(_=y,y=v,v=_),!(v<p[0]||y>r[1-d])))return b=Math.max(0,Kw(p,y)-1),x=y===v?b:Kw(p,v)-1,y-p[b]>o+1e-10&&++b,d&&(_=b,b=g-x,x=g-_),b>x?void 0:t().slice(b,x+1)},e.invert=function(f){const d=e.invertRange([f,f]);return d&&d[0]},e.copy=function(){return gM().domain(t()).range(r).round(a).paddingInner(s).paddingOuter(u).align(l)},c()}function jte(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return jte(t())},e}function Z$e(){return jte(gM().paddingInner(1))}var eke=Array.prototype.map;function tke(e){return eke.call(e,Rr)}const nke=Array.prototype.slice;function Wte(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(w2(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=tke(r),n):e.slice()},n.range=function(r){return arguments.length?(t=nke.call(r),n):t.slice()},n.tickFormat=function(r,i){return RK(e[0],gt(e),r??10,i)},n.copy=function(){return Wte().domain(n.domain()).range(n.range())},n}const JA=new Map,Hte=Symbol("vega_scale");function qte(e){return e[Hte]=!0,e}function rke(e){return e&&e[Hte]===!0}function ike(e,t,n){const r=function(){const o=t();return o.invertRange||(o.invertRange=o.invert?K$e(o):o.invertExtent?Q$e(o):void 0),o.type=e,qte(o)};return r.metadata=es(Se(n)),r}function St(e,t,n){return arguments.length>1?(JA.set(e,ike(e,t,n)),this):Gte(e)?JA.get(e):void 0}St(X$e,F7);St(Ip,Hc,jn);St(gl,L7,[jn,gl]);St(j2,w3,jn);St(W2,j9e,jn);St(J3,I7,jn);St(e0,QK,[jn,pM]);St(t0,ZK,[jn,pM]);St(qs,W7,[jn,ma]);St(`${qs}-${Ip}`,W7,[jn,ma]);St(`${qs}-${gl}`,eQ,[jn,ma,gl]);St(`${qs}-${j2}`,H7,[jn,ma]);St(`${qs}-${W2}`,J6e,[jn,ma]);St(`${qs}-${J3}`,tQ,[jn,ma]);St(`${Og}-${Ip}`,q7,[jn,ma]);St(`${Og}-${gl}`,G7,[jn,ma,gl]);St(`${Og}-${j2}`,$3,[jn,ma]);St(`${Og}-${W2}`,X6e,[jn,ma]);St(`${Og}-${J3}`,V7,[jn,ma]);St(zp,B7,[q2,zp]);St(X3,DK,q2);St(K3,A3,q2);St(hM,Wte,[H2,q2]);St(dM,O2,H2);St(Ute,gM,H2);St(_C,Z$e,H2);function Gte(e){return JA.has(e)}function $0(e,t){const n=JA.get(e);return n&&n.metadata[t]}function mM(e){return $0(e,jn)}function Bp(e){return $0(e,H2)}function SC(e){return $0(e,q2)}function Vte(e){return $0(e,gl)}function oke(e){return $0(e,pM)}function Yte(e){return $0(e,ma)}function Jte(e){return $0(e,zp)}const ake=["clamp","base","constant","exponent"];function Xte(e,t){const n=t[0],r=gt(t)-n;return function(i){return e(n+i*r)}}function Q3(e,t,n){return xg(yM(t||"rgb",n),e)}function Kte(e,t){const n=new Array(t),r=t+1;for(let i=0;i<t;)n[i]=e(++i/r);return n}function Qte(e,t,n){const r=n-t;let i,o,a;return!r||!Number.isFinite(r)?jr(.5):(i=(o=e.type).indexOf("-"),o=i<0?o:o.slice(i+1),a=St(o)().domain([t,n]).range([0,1]),ake.forEach(s=>e[s]?a[s](e[s]()):0),a)}function yM(e,t){const n=a3e[ske(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function ske(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const uke={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},lke={category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"};function Zte(e){const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function ene(e,t){for(const n in e)vM(n,t(e[n]))}const MB={};ene(lke,Zte);ene(uke,e=>Q3(Zte(e)));function vM(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(MB[e]=t,this):MB[e]}const ow="symbol",cke="discrete",fke="gradient",dke=e=>se(e)?e.map(t=>String(t)):String(e),hke=(e,t)=>e[1]-t[1],pke=(e,t)=>t[1]-e[1];function bM(e,t,n){let r;return xt(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),n!=null&&(t=Math.min(t,Math.floor(I2(e.domain())/n||1)+1))),$e(t)&&(r=t.step,t=t.interval),Ee(t)&&(t=e.type===e0?Tg(t):e.type==t0?Mg(t):ae("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function tne(e,t,n){let r=e.range(),i=r[0],o=gt(r),a=hke;if(i>o&&(r=o,o=i,i=r,a=pke),i=Math.floor(i),o=Math.ceil(o),t=t.map(s=>[s,e(s)]).filter(s=>i<=s[1]&&s[1]<=o).sort(a).map(s=>s[0]),n>0&&t.length>1){const s=[t[0],gt(t)];for(;t.length>n&&t.length>=3;)t=t.filter((u,l)=>!(l%2));t.length<3&&(t=s)}return t}function xM(e,t){return e.bins?tne(e,e.bins):e.ticks?e.ticks(t):e.domain()}function nne(e,t,n,r,i,o){const a=t.type;let s=dke;if(a===e0||i===e0)s=e.timeFormat(r);else if(a===t0||i===t0)s=e.utcFormat(r);else if(Vte(a)){const u=e.formatFloat(r);if(o||t.bins)s=u;else{const l=rne(t,n,!1);s=c=>l(c)?u(c):""}}else if(t.tickFormat){const u=t.domain();s=e.formatSpan(u[0],u[u.length-1],n,r)}else r&&(s=e.format(r));return s}function rne(e,t,n){const r=xM(e,t),i=e.base(),o=Math.log(i),a=Math.max(1,i*t/r.length),s=u=>{let l=u/Math.pow(i,Math.round(Math.log(u)/o));return l*i<i-.5&&(l*=i),l<=a};return n?r.filter(s):s}const EC={[zp]:"quantiles",[X3]:"thresholds",[K3]:"domain"},ine={[zp]:"quantiles",[X3]:"domain"};function one(e,t){return e.bins?yke(e.bins):e.type===gl?rne(e,t,!0):EC[e.type]?mke(e[EC[e.type]]()):xM(e,t)}function gke(e,t,n){const r=t[ine[t.type]](),i=r.length;let o=i>1?r[1]-r[0]:r[0],a;for(a=1;a<i;++a)o=Math.min(o,r[a]-r[a-1]);return e.formatSpan(0,o,3*10,n)}function mke(e){const t=[-1/0].concat(e);return t.max=1/0,t}function yke(e){const t=e.slice(0,-1);return t.max=gt(e),t}const vke=e=>EC[e.type]||e.bins;function ane(e,t,n,r,i,o,a){const s=ine[t.type]&&o!==e0&&o!==t0?gke(e,t,i):nne(e,t,n,i,o,a);return r===ow&&vke(t)?bke(s):r===cke?xke(s):wke(s)}const bke=e=>(t,n,r)=>{const i=NB(r[n+1],NB(r.max,1/0)),o=OB(t,e),a=OB(i,e);return o&&a?o+" – "+a:a?"< "+a:"≥ "+o},NB=(e,t)=>e??t,xke=e=>(t,n)=>n?e(t):null,wke=e=>t=>e(t),OB=(e,t)=>Number.isFinite(e)?t(e):null;function Ake(e){const t=e.domain(),n=t.length-1;let r=+t[0],i=+gt(t),o=i-r;if(e.type===K3){const a=n?o/n:.1;r-=a,i+=a,o=i-r}return a=>(a-r)/o}function _ke(e,t,n,r){const i=r||t.type;return Ee(n)&&oke(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),!n&&i===e0?e.timeFormat("%A, %d %B %Y, %X"):!n&&i===t0?e.utcFormat("%A, %d %B %Y, %X UTC"):ane(e,t,5,null,n,r,!0)}function sne(e,t,n){n=n||{};const r=Math.max(3,n.maxlen||7),i=_ke(e,t,n.format,n.formatType);if(SC(t.type)){const o=one(t).slice(1).map(i),a=o.length;return`${a} boundar${a===1?"y":"ies"}: ${o.join(", ")}`}else if(Bp(t.type)){const o=t.domain(),a=o.length,s=a>r?o.slice(0,r-2).map(i).join(", ")+", ending with "+o.slice(-1).map(i):o.map(i).join(", ");return`${a} value${a===1?"":"s"}: ${s}`}else{const o=t.domain();return`values from ${i(o[0])} to ${i(gt(o))}`}}let une=0;function Ske(){une=0}const XA="p_";function wM(e){return e&&e.gradient}function lne(e,t,n){const r=e.gradient;let i=e.id,o=r==="radial"?XA:"";return i||(i=e.id="gradient_"+une++,r==="radial"?(e.x1=ws(e.x1,.5),e.y1=ws(e.y1,.5),e.r1=ws(e.r1,0),e.x2=ws(e.x2,.5),e.y2=ws(e.y2,.5),e.r2=ws(e.r2,.5),o=XA):(e.x1=ws(e.x1,0),e.y1=ws(e.y1,0),e.x2=ws(e.x2,1),e.y2=ws(e.y2,0))),t[i]=e,"url("+(n||"")+"#"+o+i+")"}function ws(e,t){return e??t}function cne(e,t){var n=[],r;return r={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:n,stop:function(i,o){return n.push({offset:i,color:o}),r}}}const RB={basis:{curve:$8e},"basis-closed":{curve:k8e},"basis-open":{curve:T8e},bundle:{curve:M8e,tension:"beta",value:.85},cardinal:{curve:N8e,tension:"tension",value:0},"cardinal-open":{curve:R8e,tension:"tension",value:0},"cardinal-closed":{curve:O8e,tension:"tension",value:0},"catmull-rom":{curve:F8e,tension:"alpha",value:.5},"catmull-rom-closed":{curve:D8e,tension:"alpha",value:.5},"catmull-rom-open":{curve:L8e,tension:"alpha",value:.5},linear:{curve:Y7},"linear-closed":{curve:P8e},monotone:{horizontal:z8e,vertical:I8e},natural:{curve:B8e},step:{curve:U8e},"step-after":{curve:W8e},"step-before":{curve:j8e}};function AM(e,t,n){var r=Be(RB,e)&&RB[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&n!=null&&(i=i[r.tension](n))),i}const Eke={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},Cke=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,$ke=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,kke=/^((\s+,?\s*)|(,\s*))/,Tke=/^[01]/;function Up(e){const t=[];return(e.match(Cke)||[]).forEach(r=>{let i=r[0];const o=i.toLowerCase(),a=Eke[o],s=Mke(o,a,r.slice(1).trim()),u=s.length;if(u<a||u&&u%a!==0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([i,...s.slice(0,a)]),u!==a){o==="m"&&(i=i==="M"?"L":"l");for(let l=a;l<u;l+=a)t.push([i,...s.slice(l,l+a)])}}),t}function Mke(e,t,n){const r=[];for(let i=0;t&&i<n.length;)for(let o=0;o<t;++o){const a=e==="a"&&(o===3||o===4)?Tke:$ke,s=n.slice(i).match(a);if(s===null)throw Error("Invalid SVG path, incorrect parameter type");i+=s[0].length,r.push(+s[0]);const u=n.slice(i).match(kke);u!==null&&(i+=u[0].length)}return r}const Xc=Math.PI/180,Nke=1e-14,ld=Math.PI/2,Ds=Math.PI*2,dh=Math.sqrt(3)/2;var u6={},l6={},fne=[].join;function Oke(e,t,n,r,i,o,a,s,u){const l=fne.call(arguments);if(u6[l])return u6[l];const c=a*Xc,f=Math.sin(c),d=Math.cos(c);n=Math.abs(n),r=Math.abs(r);const p=d*(s-e)*.5+f*(u-t)*.5,g=d*(u-t)*.5-f*(s-e)*.5;let y=p*p/(n*n)+g*g/(r*r);y>1&&(y=Math.sqrt(y),n*=y,r*=y);const v=d/n,b=f/n,x=-f/r,_=d/r,A=v*s+b*u,S=x*s+_*u,C=v*e+b*t,E=x*e+_*t;let O=1/((C-A)*(C-A)+(E-S)*(E-S))-.25;O<0&&(O=0);let N=Math.sqrt(O);o==i&&(N=-N);const F=.5*(A+C)-N*(E-S),W=.5*(S+E)+N*(C-A),I=Math.atan2(S-W,A-F);let D=Math.atan2(E-W,C-F)-I;D<0&&o===1?D+=Ds:D>0&&o===0&&(D-=Ds);const P=Math.ceil(Math.abs(D/(ld+.001))),U=[];for(let z=0;z<P;++z){const H=I+z*D/P,j=I+(z+1)*D/P;U[z]=[F,W,H,j,n,r,f,d]}return u6[l]=U}function Rke(e){const t=fne.call(e);if(l6[t])return l6[t];var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7];const c=l*a,f=-u*s,d=u*a,p=l*s,g=Math.cos(i),y=Math.sin(i),v=Math.cos(o),b=Math.sin(o),x=.5*(o-i),_=Math.sin(x*.5),A=8/3*_*_/Math.sin(x),S=n+g-A*y,C=r+y+A*g,E=n+v,k=r+b,O=E+A*b,N=k-A*v;return l6[t]=[c*S+f*C,d*S+p*C,c*O+f*N,d*O+p*N,c*E+f*k,d*E+p*k]}const zo=["l",0,0,0,0,0,0,0];function Fke(e,t,n){const r=zo[0]=e[0];if(r==="a"||r==="A")zo[1]=t*e[1],zo[2]=n*e[2],zo[3]=e[3],zo[4]=e[4],zo[5]=e[5],zo[6]=t*e[6],zo[7]=n*e[7];else if(r==="h"||r==="H")zo[1]=t*e[1];else if(r==="v"||r==="V")zo[1]=n*e[1];else for(var i=1,o=e.length;i<o;++i)zo[i]=(i%2==1?t:n)*e[i];return zo}function Iy(e,t,n,r,i,o){var a,s=null,u=0,l=0,c=0,f=0,d,p,g,y,v=0,b=0;n==null&&(n=0),r==null&&(r=0),i==null&&(i=1),o==null&&(o=i),e.beginPath&&e.beginPath();for(var x=0,_=t.length;x<_;++x){switch(a=t[x],(i!==1||o!==1)&&(a=Fke(a,i,o)),a[0]){case"l":u+=a[1],l+=a[2],e.lineTo(u+n,l+r);break;case"L":u=a[1],l=a[2],e.lineTo(u+n,l+r);break;case"h":u+=a[1],e.lineTo(u+n,l+r);break;case"H":u=a[1],e.lineTo(u+n,l+r);break;case"v":l+=a[1],e.lineTo(u+n,l+r);break;case"V":l=a[1],e.lineTo(u+n,l+r);break;case"m":u+=a[1],l+=a[2],v=u,b=l,e.moveTo(u+n,l+r);break;case"M":u=a[1],l=a[2],v=u,b=l,e.moveTo(u+n,l+r);break;case"c":d=u+a[5],p=l+a[6],c=u+a[3],f=l+a[4],e.bezierCurveTo(u+a[1]+n,l+a[2]+r,c+n,f+r,d+n,p+r),u=d,l=p;break;case"C":u=a[5],l=a[6],c=a[3],f=a[4],e.bezierCurveTo(a[1]+n,a[2]+r,c+n,f+r,u+n,l+r);break;case"s":d=u+a[3],p=l+a[4],c=2*u-c,f=2*l-f,e.bezierCurveTo(c+n,f+r,u+a[1]+n,l+a[2]+r,d+n,p+r),c=u+a[1],f=l+a[2],u=d,l=p;break;case"S":d=a[3],p=a[4],c=2*u-c,f=2*l-f,e.bezierCurveTo(c+n,f+r,a[1]+n,a[2]+r,d+n,p+r),u=d,l=p,c=a[1],f=a[2];break;case"q":d=u+a[3],p=l+a[4],c=u+a[1],f=l+a[2],e.quadraticCurveTo(c+n,f+r,d+n,p+r),u=d,l=p;break;case"Q":d=a[3],p=a[4],e.quadraticCurveTo(a[1]+n,a[2]+r,d+n,p+r),u=d,l=p,c=a[1],f=a[2];break;case"t":d=u+a[1],p=l+a[2],s[0].match(/[QqTt]/)===null?(c=u,f=l):s[0]==="t"?(c=2*u-g,f=2*l-y):s[0]==="q"&&(c=2*u-c,f=2*l-f),g=c,y=f,e.quadraticCurveTo(c+n,f+r,d+n,p+r),u=d,l=p,c=u+a[1],f=l+a[2];break;case"T":d=a[1],p=a[2],c=2*u-c,f=2*l-f,e.quadraticCurveTo(c+n,f+r,d+n,p+r),u=d,l=p;break;case"a":FB(e,u+n,l+r,[a[1],a[2],a[3],a[4],a[5],a[6]+u+n,a[7]+l+r]),u+=a[6],l+=a[7];break;case"A":FB(e,u+n,l+r,[a[1],a[2],a[3],a[4],a[5],a[6]+n,a[7]+r]),u=a[6],l=a[7];break;case"z":case"Z":u=v,l=b,e.closePath();break}s=a}}function FB(e,t,n,r){const i=Oke(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n);for(let o=0;o<i.length;++o){const a=Rke(i[o]);e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5])}}const DB=.5773502691896257,LB={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,Ds)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,o=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-o),e.lineTo(i,-o),e.lineTo(0,-n),e.lineTo(-i,-o),e.lineTo(-r,-o),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=dh*n,i=r-n*DB,o=n/4;e.moveTo(0,-r-i),e.lineTo(-o,r-i),e.lineTo(o,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=dh*n,i=r-n*DB;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=dh*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=dh*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=dh*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=dh*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function dne(e){return Be(LB,e)?LB[e]:Dke(e)}var c6={};function Dke(e){if(!Be(c6,e)){const t=Up(e);c6[e]={draw:function(n,r){Iy(n,t,0,0,Math.sqrt(r)/2)}}}return c6[e]}const ql=.448084975506;function Lke(e){return e.x}function Pke(e){return e.y}function Ike(e){return e.width}function zke(e){return e.height}function ku(e){return typeof e=="function"?e:()=>+e}function ux(e,t,n){return Math.max(t,Math.min(e,n))}function hne(){var e=Lke,t=Pke,n=Ike,r=zke,i=ku(0),o=i,a=i,s=i,u=null;function l(c,f,d){var p,g=f??+e.call(this,c),y=d??+t.call(this,c),v=+n.call(this,c),b=+r.call(this,c),x=Math.min(v,b)/2,_=ux(+i.call(this,c),0,x),A=ux(+o.call(this,c),0,x),S=ux(+a.call(this,c),0,x),C=ux(+s.call(this,c),0,x);if(u||(u=p=g3()),_<=0&&A<=0&&S<=0&&C<=0)u.rect(g,y,v,b);else{var E=g+v,k=y+b;u.moveTo(g+_,y),u.lineTo(E-A,y),u.bezierCurveTo(E-ql*A,y,E,y+ql*A,E,y+A),u.lineTo(E,k-C),u.bezierCurveTo(E,k-ql*C,E-ql*C,k,E-C,k),u.lineTo(g+S,k),u.bezierCurveTo(g+ql*S,k,g,k-ql*S,g,k-S),u.lineTo(g,y+_),u.bezierCurveTo(g,y+ql*_,g+ql*_,y,g+_,y),u.closePath()}if(p)return u=null,p+""||null}return l.x=function(c){return arguments.length?(e=ku(c),l):e},l.y=function(c){return arguments.length?(t=ku(c),l):t},l.width=function(c){return arguments.length?(n=ku(c),l):n},l.height=function(c){return arguments.length?(r=ku(c),l):r},l.cornerRadius=function(c,f,d,p){return arguments.length?(i=ku(c),o=f!=null?ku(f):i,s=d!=null?ku(d):i,a=p!=null?ku(p):o,l):i},l.context=function(c){return arguments.length?(u=c??null,l):u},l}function pne(){var e,t,n,r,i=null,o,a,s,u;function l(f,d,p){const g=p/2;if(o){var y=s-d,v=f-a;if(y||v){var b=Math.hypot(y,v),x=(y/=b)*u,_=(v/=b)*u,A=Math.atan2(v,y);i.moveTo(a-x,s-_),i.lineTo(f-y*g,d-v*g),i.arc(f,d,g,A-Math.PI,A),i.lineTo(a+x,s+_),i.arc(a,s,u,A,A+Math.PI)}else i.arc(f,d,g,0,Ds);i.closePath()}else o=1;a=f,s=d,u=g}function c(f){var d,p=f.length,g,y=!1,v;for(i==null&&(i=v=g3()),d=0;d<=p;++d)!(d<p&&r(g=f[d],d,f))===y&&(y=!y)&&(o=0),y&&l(+e(g,d,f),+t(g,d,f),+n(g,d,f));if(v)return i=null,v+""||null}return c.x=function(f){return arguments.length?(e=f,c):e},c.y=function(f){return arguments.length?(t=f,c):t},c.size=function(f){return arguments.length?(n=f,c):n},c.defined=function(f){return arguments.length?(r=f,c):r},c.context=function(f){return arguments.length?(f==null?i=null:i=f,c):i},c}function G2(e,t){return e??t}const V2=e=>e.x||0,Y2=e=>e.y||0,Bke=e=>e.width||0,Uke=e=>e.height||0,jke=e=>(e.x||0)+(e.width||0),Wke=e=>(e.y||0)+(e.height||0),Hke=e=>e.startAngle||0,qke=e=>e.endAngle||0,Gke=e=>e.padAngle||0,Vke=e=>e.innerRadius||0,Yke=e=>e.outerRadius||0,Jke=e=>e.cornerRadius||0,Xke=e=>G2(e.cornerRadiusTopLeft,e.cornerRadius)||0,Kke=e=>G2(e.cornerRadiusTopRight,e.cornerRadius)||0,Qke=e=>G2(e.cornerRadiusBottomRight,e.cornerRadius)||0,Zke=e=>G2(e.cornerRadiusBottomLeft,e.cornerRadius)||0,e7e=e=>G2(e.size,64),t7e=e=>e.size||1,Z3=e=>e.defined!==!1,n7e=e=>dne(e.shape||"circle"),r7e=lZ().startAngle(Hke).endAngle(qke).padAngle(Gke).innerRadius(Vke).outerRadius(Yke).cornerRadius(Jke),i7e=gZ().x(V2).y1(Y2).y0(Wke).defined(Z3),o7e=gZ().y(Y2).x1(V2).x0(jke).defined(Z3),a7e=pZ().x(V2).y(Y2).defined(Z3),s7e=hne().x(V2).y(Y2).width(Bke).height(Uke).cornerRadius(Xke,Kke,Qke,Zke),u7e=C8e().type(n7e).size(e7e),l7e=pne().x(V2).y(Y2).defined(Z3).size(t7e);function _M(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function c7e(e,t){return r7e.context(e)(t)}function f7e(e,t){const n=t[0],r=n.interpolate||"linear";return(n.orient==="horizontal"?o7e:i7e).curve(AM(r,n.orient,n.tension)).context(e)(t)}function d7e(e,t){const n=t[0],r=n.interpolate||"linear";return a7e.curve(AM(r,n.orient,n.tension)).context(e)(t)}function Rg(e,t,n,r){return s7e.context(e)(t,n,r)}function h7e(e,t){return(t.mark.shape||t.shape).context(e)(t)}function p7e(e,t){return u7e.context(e)(t)}function g7e(e,t){return l7e.context(e)(t)}var gne=1;function mne(){gne=1}function SM(e,t,n){var r=t.clip,i=e._defs,o=t.clip_id||(t.clip_id="clip"+gne++),a=i.clipping[o]||(i.clipping[o]={id:o});return Qe(r)?a.path=r(null):_M(n)?a.path=Rg(null,n,0,0):(a.width=n.width||0,a.height=n.height||0),"url(#"+o+")"}function Tn(e){this.clear(),e&&this.union(e)}Tn.prototype={clone(){return new Tn(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(e,t,n){var{x1:r,y1:i,x2:o,y2:a}=this,s=Math.cos(e),u=Math.sin(e),l=t-t*s+n*u,c=n-t*u-n*s;return[s*r-u*i+l,u*r+s*i+c,s*r-u*a+l,u*r+s*a+c,s*o-u*i+l,u*o+s*i+c,s*o-u*a+l,u*o+s*a+c]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function e5(e){this.mark=e,this.bounds=this.bounds||new Tn}function t5(e){e5.call(this,e),this.items=this.items||[]}ve(t5,e5);function EM(e){this._pending=0,this._loader=e||P3()}function PB(e){e._pending+=1}function R1(e){e._pending-=1}EM.prototype={pending(){return this._pending},sanitizeURL(e){const t=this;return PB(t),t._loader.sanitize(e,{context:"href"}).then(n=>(R1(t),n)).catch(()=>(R1(t),null))},loadImage(e){const t=this,n=J$e();return PB(t),t._loader.sanitize(e,{context:"image"}).then(r=>{const i=r.href;if(!i||!n)throw{url:i};const o=new n,a=Be(r,"crossOrigin")?r.crossOrigin:"anonymous";return a!=null&&(o.crossOrigin=a),o.onload=()=>R1(t),o.onerror=()=>R1(t),o.src=i,o}).catch(r=>(R1(t),{complete:!1,width:0,height:0,src:r&&r.url||""}))},ready(){const e=this;return new Promise(t=>{function n(r){e.pending()?setTimeout(()=>{n(!0)},10):t(r)}n(!1)})}};function wl(e,t,n){if(t.stroke&&t.opacity!==0&&t.strokeOpacity!==0){const r=t.strokeWidth!=null?+t.strokeWidth:1;e.expand(r+(n?m7e(t,r):0))}return e}function m7e(e,t){return e.strokeJoin&&e.strokeJoin!=="miter"?0:t}const y7e=Ds-1e-8;let n5,aw,sw,bd,CC,uw,$C,kC;const dc=(e,t)=>n5.add(e,t),lw=(e,t)=>dc(aw=e,sw=t),IB=e=>dc(e,n5.y1),zB=e=>dc(n5.x1,e),cd=(e,t)=>CC*e+$C*t,fd=(e,t)=>uw*e+kC*t,f6=(e,t)=>dc(cd(e,t),fd(e,t)),d6=(e,t)=>lw(cd(e,t),fd(e,t));function J2(e,t){return n5=e,t?(bd=t*Xc,CC=kC=Math.cos(bd),uw=Math.sin(bd),$C=-uw):(CC=kC=1,bd=uw=$C=0),v7e}const v7e={beginPath(){},closePath(){},moveTo:d6,lineTo:d6,rect(e,t,n,r){bd?(f6(e+n,t),f6(e+n,t+r),f6(e,t+r),d6(e,t)):(dc(e+n,t+r),lw(e,t))},quadraticCurveTo(e,t,n,r){const i=cd(e,t),o=fd(e,t),a=cd(n,r),s=fd(n,r);BB(aw,i,a,IB),BB(sw,o,s,zB),lw(a,s)},bezierCurveTo(e,t,n,r,i,o){const a=cd(e,t),s=fd(e,t),u=cd(n,r),l=fd(n,r),c=cd(i,o),f=fd(i,o);UB(aw,a,u,c,IB),UB(sw,s,l,f,zB),lw(c,f)},arc(e,t,n,r,i,o){if(r+=bd,i+=bd,aw=n*Math.cos(i)+e,sw=n*Math.sin(i)+t,Math.abs(i-r)>y7e)dc(e-n,t-n),dc(e+n,t+n);else{const a=l=>dc(n*Math.cos(l)+e,n*Math.sin(l)+t);let s,u;if(a(r),a(i),i!==r)if(r=r%Ds,r<0&&(r+=Ds),i=i%Ds,i<0&&(i+=Ds),i<r&&(o=!o,s=r,r=i,i=s),o)for(i-=Ds,s=r-r%ld,u=0;u<4&&s>i;++u,s-=ld)a(s);else for(s=r-r%ld+ld,u=0;u<4&&s<i;++u,s=s+ld)a(s)}}};function BB(e,t,n,r){const i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function UB(e,t,n,r,i){const o=r-e+3*t-3*n,a=e+n-2*t,s=e-t;let u=0,l=0,c;Math.abs(o)>Nke?(c=a*a+s*o,c>=0&&(c=Math.sqrt(c),u=(-a+c)/o,l=(-a-c)/o)):u=.5*s/a,0<u&&u<1&&i(jB(u,e,t,n,r)),0<l&&l<1&&i(jB(l,e,t,n,r))}function jB(e,t,n,r,i){const o=1-e,a=o*o,s=e*e;return a*o*t+3*a*e*n+3*o*s*r+s*e*i}var Fc=(Fc=Rc(1,1))?Fc.getContext("2d"):null;const TC=new Tn;function CM(e){return function(t,n){if(!Fc)return!0;e(Fc,t),TC.clear().union(t.bounds).intersect(n).round();const{x1:r,y1:i,x2:o,y2:a}=TC;for(let s=i;s<=a;++s)for(let u=r;u<=o;++u)if(Fc.isPointInPath(u,s))return!0;return!1}}function $M(e,t){return t.contains(e.x||0,e.y||0)}function yne(e,t){const n=e.x||0,r=e.y||0,i=e.width||0,o=e.height||0;return t.intersects(TC.set(n,r,n+i,r+o))}function vne(e,t){const n=e.x||0,r=e.y||0,i=e.x2!=null?e.x2:n,o=e.y2!=null?e.y2:r;return Wh(t,n,r,i,o)}function Wh(e,t,n,r,i){const{x1:o,y1:a,x2:s,y2:u}=e,l=r-t,c=i-n;let f=0,d=1,p,g,y,v;for(v=0;v<4;++v){if(v===0&&(p=-l,g=-(o-t)),v===1&&(p=l,g=s-t),v===2&&(p=-c,g=-(a-n)),v===3&&(p=c,g=u-n),Math.abs(p)<1e-10&&g<0)return!1;if(y=g/p,p<0){if(y>d)return!1;y>f&&(f=y)}else if(p>0){if(y<f)return!1;y<d&&(d=y)}}return!0}function jp(e,t){e.globalCompositeOperation=t.blend||"source-over"}function $a(e,t){return e??t}function WB(e,t){const n=t.length;for(let r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function b7e(e,t,n){const r=n.width(),i=n.height();let o;if(t.gradient==="radial")o=e.createRadialGradient(n.x1+$a(t.x1,.5)*r,n.y1+$a(t.y1,.5)*i,Math.max(r,i)*$a(t.r1,0),n.x1+$a(t.x2,.5)*r,n.y1+$a(t.y2,.5)*i,Math.max(r,i)*$a(t.r2,.5));else{const a=$a(t.x1,0),s=$a(t.y1,0),u=$a(t.x2,1),l=$a(t.y2,0);if(a===u||s===l||r===i)o=e.createLinearGradient(n.x1+a*r,n.y1+s*i,n.x1+u*r,n.y1+l*i);else{const c=Rc(Math.ceil(r),Math.ceil(i)),f=c.getContext("2d");return f.scale(r,i),f.fillStyle=WB(f.createLinearGradient(a,s,u,l),t.stops),f.fillRect(0,0,r,i),e.createPattern(c,"no-repeat")}}return WB(o,t.stops)}function bne(e,t,n){return wM(n)?b7e(e,n,t.bounds):n}function KA(e,t,n){return n*=t.fillOpacity==null?1:t.fillOpacity,n>0?(e.globalAlpha=n,e.fillStyle=bne(e,t,t.fill),!0):!1}var x7e=[];function Wp(e,t,n){var r=(r=t.strokeWidth)!=null?r:1;return r<=0?!1:(n*=t.strokeOpacity==null?1:t.strokeOpacity,n>0?(e.globalAlpha=n,e.strokeStyle=bne(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||x7e),e.lineDashOffset=t.strokeDashOffset||0),!0):!1)}function w7e(e,t){return e.zindex-t.zindex||e.index-t.index}function kM(e){if(!e.zdirty)return e.zitems;var t=e.items,n=[],r,i,o;for(i=0,o=t.length;i<o;++i)r=t[i],r.index=i,r.zindex&&n.push(r);return e.zdirty=!1,e.zitems=n.sort(w7e)}function ns(e,t){var n=e.items,r,i;if(!n||!n.length)return;const o=kM(e);if(o&&o.length){for(r=0,i=n.length;r<i;++r)n[r].zindex||t(n[r]);n=o}for(r=0,i=n.length;r<i;++r)t(n[r])}function QA(e,t){var n=e.items,r,i;if(!n||!n.length)return null;const o=kM(e);for(o&&o.length&&(n=o),i=n.length;--i>=0;)if(r=t(n[i]))return r;if(n===o){for(n=e.items,i=n.length;--i>=0;)if(!n[i].zindex&&(r=t(n[i])))return r}return null}function TM(e){return function(t,n,r){ns(n,i=>{(!r||r.intersects(i.bounds))&&xne(e,t,i,i)})}}function A7e(e){return function(t,n,r){n.items.length&&(!r||r.intersects(n.bounds))&&xne(e,t,n.items[0],n.items)}}function xne(e,t,n,r){var i=n.opacity==null?1:n.opacity;i!==0&&(e(t,r)||(jp(t,n),n.fill&&KA(t,n,i)&&t.fill(),n.stroke&&Wp(t,n,i)&&t.stroke()))}function r5(e){return e=e||fa,function(t,n,r,i,o,a){return r*=t.pixelRatio,i*=t.pixelRatio,QA(n,s=>{const u=s.bounds;if(!(u&&!u.contains(o,a)||!u)&&e(t,s,r,i,o,a))return s})}}function X2(e,t){return function(n,r,i,o){var a=Array.isArray(r)?r[0]:r,s=t??a.fill,u=a.stroke&&n.isPointInStroke,l,c;return u&&(l=a.strokeWidth,c=a.strokeCap,n.lineWidth=l??1,n.lineCap=c??"butt"),e(n,r)?!1:s&&n.isPointInPath(i,o)||u&&n.isPointInStroke(i,o)}}function MM(e){return r5(X2(e))}function Md(e,t){return"translate("+e+","+t+")"}function NM(e){return"rotate("+e+")"}function _7e(e,t){return"scale("+e+","+t+")"}function wne(e){return Md(e.x||0,e.y||0)}function S7e(e){return Md(e.x||0,e.y||0)+(e.angle?" "+NM(e.angle):"")}function E7e(e){return Md(e.x||0,e.y||0)+(e.angle?" "+NM(e.angle):"")+(e.scaleX||e.scaleY?" "+_7e(e.scaleX||1,e.scaleY||1):"")}function OM(e,t,n){function r(a,s){a("transform",S7e(s)),a("d",t(null,s))}function i(a,s){return t(J2(a,s.angle),s),wl(a,s).translate(s.x||0,s.y||0)}function o(a,s){var u=s.x||0,l=s.y||0,c=s.angle||0;a.translate(u,l),c&&a.rotate(c*=Xc),a.beginPath(),t(a,s),c&&a.rotate(-c),a.translate(-u,-l)}return{type:e,tag:"path",nested:!1,attr:r,bound:i,draw:TM(o),pick:MM(o),isect:n||CM(o)}}var C7e=OM("arc",c7e);function $7e(e,t){for(var n=e[0].orient==="horizontal"?t[1]:t[0],r=e[0].orient==="horizontal"?"y":"x",i=e.length,o=1/0,a,s;--i>=0;)e[i].defined!==!1&&(s=Math.abs(e[i][r]-n),s<o&&(o=s,a=e[i]));return a}function k7e(e,t){for(var n=Math.pow(e[0].strokeWidth||1,2),r=e.length,i,o,a;--r>=0;)if(e[r].defined!==!1&&(i=e[r].x-t[0],o=e[r].y-t[1],a=i*i+o*o,a<n))return e[r];return null}function T7e(e,t){for(var n=e.length,r,i,o;--n>=0;)if(e[n].defined!==!1&&(r=e[n].x-t[0],i=e[n].y-t[1],o=r*r+i*i,r=e[n].size||1,o<r*r))return e[n];return null}function RM(e,t,n){function r(u,l){var c=l.mark.items;c.length&&u("d",t(null,c))}function i(u,l){var c=l.items;return c.length===0?u:(t(J2(u),c),wl(u,c[0]))}function o(u,l){u.beginPath(),t(u,l)}const a=X2(o);function s(u,l,c,f,d,p){var g=l.items,y=l.bounds;return!g||!g.length||y&&!y.contains(d,p)?null:(c*=u.pixelRatio,f*=u.pixelRatio,a(u,g,c,f)?g[0]:null)}return{type:e,tag:"path",nested:!0,attr:r,bound:i,draw:A7e(o),pick:s,isect:$M,tip:n}}var M7e=RM("area",f7e,$7e);function N7e(e,t){var n=t.clip;e.save(),Qe(n)?(e.beginPath(),n(e),e.clip()):Ane(e,t.group)}function Ane(e,t){e.beginPath(),_M(t)?Rg(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function _ne(e){const t=$a(e.strokeWidth,1);return e.strokeOffset!=null?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function O7e(e,t){e("transform",wne(t))}function Sne(e,t){const n=_ne(t);e("d",Rg(null,t,n,n))}function R7e(e,t){e("class","background"),e("aria-hidden",!0),Sne(e,t)}function F7e(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?Sne(e,t):e("d","")}function D7e(e,t,n){const r=t.clip?SM(n,t,t):null;e("clip-path",r)}function L7e(e,t){if(!t.clip&&t.items){const n=t.items,r=n.length;for(let i=0;i<r;++i)e.union(n[i].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),wl(e,t),e.translate(t.x||0,t.y||0)}function zy(e,t,n,r){const i=_ne(t);e.beginPath(),Rg(e,t,(n||0)+i,(r||0)+i)}const P7e=X2(zy),I7e=X2(zy,!1),z7e=X2(zy,!0);function B7e(e,t,n,r){ns(t,i=>{const o=i.x||0,a=i.y||0,s=i.strokeForeground,u=i.opacity==null?1:i.opacity;(i.stroke||i.fill)&&u&&(zy(e,i,o,a),jp(e,i),i.fill&&KA(e,i,u)&&e.fill(),i.stroke&&!s&&Wp(e,i,u)&&e.stroke()),e.save(),e.translate(o,a),i.clip&&Ane(e,i),n&&n.translate(-o,-a),ns(i,l=>{(l.marktype==="group"||r==null||r.includes(l.marktype))&&this.draw(e,l,n,r)}),n&&n.translate(o,a),e.restore(),s&&i.stroke&&u&&(zy(e,i,o,a),jp(e,i),Wp(e,i,u)&&e.stroke())})}function U7e(e,t,n,r,i,o){if(t.bounds&&!t.bounds.contains(i,o)||!t.items)return null;const a=n*e.pixelRatio,s=r*e.pixelRatio;return QA(t,u=>{let l,c,f;const d=u.bounds;if(d&&!d.contains(i,o))return;c=u.x||0,f=u.y||0;const p=c+(u.width||0),g=f+(u.height||0),y=u.clip;if(y&&(i<c||i>p||o<f||o>g))return;if(e.save(),e.translate(c,f),c=i-c,f=o-f,y&&_M(u)&&!z7e(e,u,a,s))return e.restore(),null;const v=u.strokeForeground,b=t.interactive!==!1;return b&&v&&u.stroke&&I7e(e,u,a,s)?(e.restore(),u):(l=QA(u,x=>j7e(x,c,f)?this.pick(x,n,r,c,f):null),!l&&b&&(u.fill||!v&&u.stroke)&&P7e(e,u,a,s)&&(l=u),e.restore(),l||null)})}function j7e(e,t,n){return(e.interactive!==!1||e.marktype==="group")&&e.bounds&&e.bounds.contains(t,n)}var W7e={type:"group",tag:"g",nested:!1,attr:O7e,bound:L7e,draw:B7e,pick:U7e,isect:yne,content:D7e,background:R7e,foreground:F7e},By={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function FM(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(r=>{e.image=r,e.image.url=e.url})),n}function DM(e,t){return e.width!=null?e.width:!t||!t.width?0:e.aspect!==!1&&e.height?e.height*t.width/t.height:t.width}function LM(e,t){return e.height!=null?e.height:!t||!t.height?0:e.aspect!==!1&&e.width?e.width*t.height/t.width:t.height}function i5(e,t){return e==="center"?t/2:e==="right"?t:0}function o5(e,t){return e==="middle"?t/2:e==="bottom"?t:0}function H7e(e,t,n){const r=FM(t,n),i=DM(t,r),o=LM(t,r),a=(t.x||0)-i5(t.align,i),s=(t.y||0)-o5(t.baseline,o),u=!r.src&&r.toDataURL?r.toDataURL():r.src||"";e("href",u,By["xmlns:xlink"],"xlink:href"),e("transform",Md(a,s)),e("width",i),e("height",o),e("preserveAspectRatio",t.aspect===!1?"none":"xMidYMid")}function q7e(e,t){const n=t.image,r=DM(t,n),i=LM(t,n),o=(t.x||0)-i5(t.align,r),a=(t.y||0)-o5(t.baseline,i);return e.set(o,a,o+r,a+i)}function G7e(e,t,n){ns(t,r=>{if(n&&!n.intersects(r.bounds))return;const i=FM(r,this);let o=DM(r,i),a=LM(r,i);if(o===0||a===0)return;let s=(r.x||0)-i5(r.align,o),u=(r.y||0)-o5(r.baseline,a),l,c,f,d;r.aspect!==!1&&(c=i.width/i.height,f=r.width/r.height,c===c&&f===f&&c!==f&&(f<c?(d=o/c,u+=(a-d)/2,a=d):(d=a*c,s+=(o-d)/2,o=d))),(i.complete||i.toDataURL)&&(jp(e,r),e.globalAlpha=(l=r.opacity)!=null?l:1,e.imageSmoothingEnabled=r.smooth!==!1,e.drawImage(i,s,u,o,a))})}var V7e={type:"image",tag:"image",nested:!1,attr:H7e,bound:q7e,draw:G7e,pick:r5(),isect:fa,get:FM,xOffset:i5,yOffset:o5},Y7e=RM("line",d7e,k7e);function J7e(e,t){var n=t.scaleX||1,r=t.scaleY||1;(n!==1||r!==1)&&e("vector-effect","non-scaling-stroke"),e("transform",E7e(t)),e("d",t.path)}function cw(e,t){var n=t.path;if(n==null)return!0;var r=t.x||0,i=t.y||0,o=t.scaleX||1,a=t.scaleY||1,s=(t.angle||0)*Xc,u=t.pathCache;(!u||u.path!==n)&&((t.pathCache=u=Up(n)).path=n),s&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(s),Iy(e,u,0,0,o,a),e.rotate(-s),e.translate(-r,-i)):Iy(e,u,r,i,o,a)}function X7e(e,t){return cw(J2(e,t.angle),t)?e.set(0,0,0,0):wl(e,t,!0)}var K7e={type:"path",tag:"path",nested:!1,attr:J7e,bound:X7e,draw:TM(cw),pick:MM(cw),isect:CM(cw)};function Q7e(e,t){e("d",Rg(null,t))}function Z7e(e,t){var n,r;return wl(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)}function HB(e,t){e.beginPath(),Rg(e,t)}var eTe={type:"rect",tag:"path",nested:!1,attr:Q7e,bound:Z7e,draw:TM(HB),pick:MM(HB),isect:yne};function tTe(e,t){e("transform",wne(t)),e("x2",t.x2!=null?t.x2-(t.x||0):0),e("y2",t.y2!=null?t.y2-(t.y||0):0)}function nTe(e,t){var n,r;return wl(e.set(n=t.x||0,r=t.y||0,t.x2!=null?t.x2:n,t.y2!=null?t.y2:r),t)}function Ene(e,t,n){var r,i,o,a;return t.stroke&&Wp(e,t,n)?(r=t.x||0,i=t.y||0,o=t.x2!=null?t.x2:r,a=t.y2!=null?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(o,a),!0):!1}function rTe(e,t,n){ns(t,r=>{if(!(n&&!n.intersects(r.bounds))){var i=r.opacity==null?1:r.opacity;i&&Ene(e,r,i)&&(jp(e,r),e.stroke())}})}function iTe(e,t,n,r){return e.isPointInStroke?Ene(e,t,1)&&e.isPointInStroke(n,r):!1}var oTe={type:"rule",tag:"line",nested:!1,attr:tTe,bound:nTe,draw:rTe,pick:r5(iTe),isect:vne},aTe=OM("shape",h7e),sTe=OM("symbol",p7e,$M);const qB=cee();var mo={height:su,measureWidth:PM,estimateWidth:ZA,width:ZA,canvas:Cne};Cne(!0);function Cne(e){mo.width=e&&Fc?PM:ZA}function ZA(e,t){return $ne(Qc(e,t),su(e))}function $ne(e,t){return~~(.8*e.length*t)}function PM(e,t){return su(e)<=0||!(t=Qc(e,t))?0:kne(t,a5(e))}function kne(e,t){const n=`(${t}) ${e}`;let r=qB.get(n);return r===void 0&&(Fc.font=t,r=Fc.measureText(e).width,qB.set(n,r)),r}function su(e){return e.fontSize!=null?+e.fontSize||0:11}function Kc(e){return e.lineHeight!=null?e.lineHeight:su(e)+2}function uTe(e){return se(e)?e.length>1?e:e[0]:e}function K2(e){return uTe(e.lineBreak&&e.text&&!se(e.text)?e.text.split(e.lineBreak):e.text)}function IM(e){const t=K2(e);return(se(t)?t.length-1:0)*Kc(e)}function Qc(e,t){const n=t==null?"":(t+"").trim();return e.limit>0&&n.length?cTe(e,n):n}function lTe(e){if(mo.width===PM){const t=a5(e);return n=>kne(n,t)}else if(mo.width===ZA){const t=su(e);return n=>$ne(n,t)}else return t=>mo.width(e,t)}function cTe(e,t){var n=+e.limit,r=lTe(e);if(r(t)<n)return t;var i=e.ellipsis||"…",o=e.dir==="rtl",a=0,s=t.length,u;if(n-=r(i),o){for(;a<s;)u=a+s>>>1,r(t.slice(u))>n?a=u+1:s=u;return i+t.slice(a)}else{for(;a<s;)u=1+(a+s>>>1),r(t.slice(0,u))<n?a=u:s=u-1;return t.slice(0,a)+i}}function Q2(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function a5(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+su(e)+"px "+Q2(e,t)}function zM(e){var t=e.baseline,n=su(e);return Math.round(t==="top"?.79*n:t==="middle"?.3*n:t==="bottom"?-.21*n:t==="line-top"?.29*n+.5*Kc(e):t==="line-bottom"?.29*n-.5*Kc(e):0)}const fTe={left:"start",center:"middle",right:"end"},Gm=new Tn;function s5(e){var t=e.x||0,n=e.y||0,r=e.radius||0,i;return r&&(i=(e.theta||0)-ld,t+=r*Math.cos(i),n+=r*Math.sin(i)),Gm.x1=t,Gm.y1=n,Gm}function dTe(e,t){var n=t.dx||0,r=(t.dy||0)+zM(t),i=s5(t),o=i.x1,a=i.y1,s=t.angle||0,u;e("text-anchor",fTe[t.align]||"start"),s?(u=Md(o,a)+" "+NM(s),(n||r)&&(u+=" "+Md(n,r))):u=Md(o+n,a+r),e("transform",u)}function BM(e,t,n){var r=mo.height(t),i=t.align,o=s5(t),a=o.x1,s=o.y1,u=t.dx||0,l=(t.dy||0)+zM(t)-Math.round(.8*r),c=K2(t),f;if(se(c)?(r+=Kc(t)*(c.length-1),f=c.reduce((d,p)=>Math.max(d,mo.width(t,p)),0)):f=mo.width(t,c),i==="center"?u-=f/2:i==="right"&&(u-=f),e.set(u+=a,l+=s,u+f,l+r),t.angle&&!n)e.rotate(t.angle*Xc,a,s);else if(n===2)return e.rotatedPoints(t.angle*Xc,a,s);return e}function hTe(e,t,n){ns(t,r=>{var i=r.opacity==null?1:r.opacity,o,a,s,u,l,c,f;if(!(n&&!n.intersects(r.bounds)||i===0||r.fontSize<=0||r.text==null||r.text.length===0)){if(e.font=a5(r),e.textAlign=r.align||"left",o=s5(r),a=o.x1,s=o.y1,r.angle&&(e.save(),e.translate(a,s),e.rotate(r.angle*Xc),a=s=0),a+=r.dx||0,s+=(r.dy||0)+zM(r),c=K2(r),jp(e,r),se(c))for(l=Kc(r),u=0;u<c.length;++u)f=Qc(r,c[u]),r.fill&&KA(e,r,i)&&e.fillText(f,a,s),r.stroke&&Wp(e,r,i)&&e.strokeText(f,a,s),s+=l;else f=Qc(r,c),r.fill&&KA(e,r,i)&&e.fillText(f,a,s),r.stroke&&Wp(e,r,i)&&e.strokeText(f,a,s);r.angle&&e.restore()}})}function pTe(e,t,n,r,i,o){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var a=s5(t),s=a.x1,u=a.y1,l=BM(Gm,t,1),c=-t.angle*Xc,f=Math.cos(c),d=Math.sin(c),p=f*i-d*o+(s-f*s+d*u),g=d*i+f*o+(u-d*s-f*u);return l.contains(p,g)}function gTe(e,t){const n=BM(Gm,e,2);return Wh(t,n[0],n[1],n[2],n[3])||Wh(t,n[0],n[1],n[4],n[5])||Wh(t,n[4],n[5],n[6],n[7])||Wh(t,n[2],n[3],n[6],n[7])}var mTe={type:"text",tag:"text",nested:!1,attr:dTe,bound:BM,draw:hTe,pick:r5(pTe),isect:gTe},yTe=RM("trail",g7e,T7e),Ao={arc:C7e,area:M7e,group:W7e,image:V7e,line:Y7e,path:K7e,rect:eTe,rule:oTe,shape:aTe,symbol:sTe,text:mTe,trail:yTe};function MC(e,t,n){var r=Ao[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new Tn),e,n)}var GB={mark:null};function Tne(e,t,n){var r=Ao[e.marktype],i=r.bound,o=e.items,a=o&&o.length,s,u,l,c;if(r.nested)return a?l=o[0]:(GB.mark=e,l=GB),c=MC(l,i,n),t=t&&t.union(c)||c,t;if(t=t||e.bounds&&e.bounds.clear()||new Tn,a)for(s=0,u=o.length;s<u;++s)t.union(MC(o[s],i,n));return e.bounds=t}const vTe=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function Mne(e,t){return JSON.stringify(e,vTe,t)}function Nne(e){const t=typeof e=="string"?JSON.parse(e):e;return One(t)}function One(e){var t=e.marktype,n=e.items,r,i,o;if(n)for(i=0,o=n.length;i<o;++i)r=t?"mark":"group",n[i][r]=e,n[i].zindex&&(n[i][r].zdirty=!0),(t||r)==="group"&&One(n[i]);return t&&Tne(e),e}function UM(e){arguments.length?this.root=Nne(e):(this.root=Rne({marktype:"group",name:"root",role:"frame"}),this.root.items=[new t5(this.root)])}UM.prototype={toJSON(e){return Mne(this.root,e||0)},mark(e,t,n){t=t||this.root.items[0];const r=Rne(e,t);return t.items[n]=r,r.zindex&&(r.group.zdirty=!0),r}};function Rne(e,t){const n={bounds:new Tn,clip:!!e.clip,group:t,interactive:e.interactive!==!1,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return e.aria!=null&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function hc(e,t,n){return!e&&typeof document<"u"&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function jM(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function Dn(e,t,n,r){var i=e.childNodes[t],o;return(!i||i.tagName.toLowerCase()!==n.toLowerCase())&&(o=i||null,i=hc(e.ownerDocument,n,r),e.insertBefore(i,o)),i}function Ho(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function Fne(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function u5(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function bTe(e,t,n,r){var i=e&&e.mark,o,a;if(i&&(o=Ao[i.marktype]).tip){for(a=u5(t,n),a[0]-=r[0],a[1]-=r[1];e=e.mark.group;)a[0]-=e.x||0,a[1]-=e.y||0;e=o.tip(i.items,a)}return e}function Zc(e,t){this._active=null,this._handlers={},this._loader=e||P3(),this._tooltip=t||xTe}function xTe(e,t,n,r){e.element().setAttribute("title",r||"")}Zc.prototype={initialize(e,t,n){return this._el=e,this._obj=n||null,this.origin(t)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(e){return arguments.length?(this._origin=e||[0,0],this):this._origin.slice()},scene(e){return arguments.length?(this._scene=e,this):this._scene},on(){},off(){},_handlerIndex(e,t,n){for(let r=e?e.length:0;--r>=0;)if(e[r].type===t&&(!n||e[r].handler===n))return r;return-1},handlers(e){const t=this._handlers,n=[];if(e)n.push(...t[this.eventName(e)]);else for(const r in t)n.push(...t[r]);return n},eventName(e){const t=e.indexOf(".");return t<0?e:e.slice(0,t)},handleHref(e,t,n){this._loader.sanitize(n,{context:"href"}).then(r=>{const i=new MouseEvent(e.type,e),o=hc(null,"a");for(const a in r)o.setAttribute(a,r[a]);o.dispatchEvent(i)}).catch(()=>{})},handleTooltip(e,t,n){if(t&&t.tooltip!=null){t=bTe(t,e,this.canvas(),this._origin);const r=n&&t&&t.tooltip||null;this._tooltip.call(this._obj,this,e,t,r)}},getItemBoundingClientRect(e){const t=this.canvas();if(!t)return;const n=t.getBoundingClientRect(),r=this._origin,i=e.bounds,o=i.width(),a=i.height();let s=i.x1+r[0]+n.left,u=i.y1+r[1]+n.top;for(;e.mark&&(e=e.mark.group);)s+=e.x||0,u+=e.y||0;return{x:s,y:u,width:o,height:a,left:s,top:u,right:s+o,bottom:u+a}}};function ko(e){this._el=null,this._bgcolor=null,this._loader=new EM(e)}ko.prototype={initialize(e,t,n,r,i){return this._el=e,this.resize(t,n,r,i)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(e){return arguments.length===0?this._bgcolor:(this._bgcolor=e,this)},resize(e,t,n,r){return this._width=e,this._height=t,this._origin=n||[0,0],this._scale=r||1,this},dirty(){},render(e,t){const n=this;return n._call=function(){n._render(e,t)},n._call(),n._call=null,n},_render(){},renderAsync(e,t){const n=this.render(e,t);return this._ready?this._ready.then(()=>n):Promise.resolve(n)},_load(e,t){var n=this,r=n._loader[e](t);if(!n._ready){const i=n._call;n._ready=n._loader.ready().then(o=>{o&&i(),n._ready=null})}return r},sanitizeURL(e){return this._load("sanitizeURL",e)},loadImage(e){return this._load("loadImage",e)}};const wTe="keydown",ATe="keypress",_Te="keyup",Dne="dragenter",fw="dragleave",Lne="dragover",NC="pointerdown",STe="pointerup",e_="pointermove",Vm="pointerout",Pne="pointerover",OC="mousedown",ETe="mouseup",Ine="mousemove",RC="mouseout",zne="mouseover",t_="click",CTe="dblclick",$Te="wheel",Bne="mousewheel",n_="touchstart",r_="touchmove",i_="touchend",kTe=[wTe,ATe,_Te,Dne,fw,Lne,NC,STe,e_,Vm,Pne,OC,ETe,Ine,RC,zne,t_,CTe,$Te,Bne,n_,r_,i_],FC=e_,Uy=Vm,DC=t_;function ef(e,t){Zc.call(this,e,t),this._down=null,this._touch=null,this._first=!0,this._events={}}const TTe=e=>e===n_||e===r_||e===i_?[n_,r_,i_]:[e];function VB(e,t){TTe(t).forEach(n=>MTe(e,n))}function MTe(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?r=>e[t](r):r=>e.fire(t,r)))}function xm(e,t,n){t.forEach(r=>e.fire(r,n))}function YB(e,t,n){return function(r){const i=this._active,o=this.pickEvent(r);o===i?xm(this,e,r):((!i||!i.exit)&&xm(this,n,r),this._active=o,xm(this,t,r),xm(this,e,r))}}function JB(e){return function(t){xm(this,e,t),this._active=null}}ve(ef,Zc,{initialize(e,t,n){return this._canvas=e&&jM(e,"canvas"),[t_,OC,NC,e_,Vm,fw].forEach(r=>VB(this,r)),Zc.prototype.initialize.call(this,e,t,n)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:kTe,DOMMouseScroll(e){this.fire(Bne,e)},pointermove:YB([e_,Ine],[Pne,zne],[Vm,RC]),dragover:YB([Lne],[Dne],[fw]),pointerout:JB([Vm,RC]),dragleave:JB([fw]),pointerdown(e){this._down=this._active,this.fire(NC,e)},mousedown(e){this._down=this._active,this.fire(OC,e)},click(e){this._down===this._active&&(this.fire(t_,e),this._down=null)},touchstart(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(n_,e,!0)},touchmove(e){this.fire(r_,e,!0)},touchend(e){this.fire(i_,e,!0),this._touch=null},fire(e,t,n){const r=n?this._touch:this._active,i=this._handlers[e];if(t.vegaType=e,e===DC&&r&&r.href?this.handleHref(t,r,r.href):(e===FC||e===Uy)&&this.handleTooltip(t,r,e!==Uy),i)for(let o=0,a=i.length;o<a;++o)i[o].handler.call(this._obj,t,r)},on(e,t){const n=this.eventName(e),r=this._handlers;return this._handlerIndex(r[n],e,t)<0&&(VB(this,e),(r[n]||(r[n]=[])).push({type:e,handler:t})),this},off(e,t){const n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&r.splice(i,1),this},pickEvent(e){const t=u5(e,this._canvas),n=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-n[0],t[1]-n[1])},pick(e,t,n,r,i){const o=this.context();return Ao[e.marktype].pick.call(this,o,e,t,n,r,i)}});function NTe(){return typeof window<"u"&&window.devicePixelRatio||1}var OTe=NTe();function RTe(e,t,n,r,i,o){const a=typeof HTMLElement<"u"&&e instanceof HTMLElement&&e.parentNode!=null,s=e.getContext("2d"),u=a?OTe:i;e.width=t*u,e.height=n*u;for(const l in o)s[l]=o[l];return a&&u!==1&&(e.style.width=t+"px",e.style.height=n+"px"),s.pixelRatio=u,s.setTransform(u,0,0,u,u*r[0],u*r[1]),e}function jy(e){ko.call(this,e),this._options={},this._redraw=!1,this._dirty=new Tn,this._tempb=new Tn}const XB=ko.prototype,FTe=(e,t,n)=>new Tn().set(0,0,t,n).translate(-e[0],-e[1]);function DTe(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-(n[0]%1),-(n[1]%1)),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}ve(jy,ko,{initialize(e,t,n,r,i,o){return this._options=o||{},this._canvas=this._options.externalContext?null:Rc(1,1,this._options.type),e&&this._canvas&&(Ho(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),XB.initialize.call(this,e,t,n,r,i)},resize(e,t,n,r){if(XB.resize.call(this,e,t,n,r),this._canvas)RTe(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const i=this._options.externalContext;i||ae("CanvasRenderer is missing a valid canvas or context"),i.scale(this._scale,this._scale),i.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(e){const t=this._tempb.clear().union(e.bounds);let n=e.mark.group;for(;n;)t.translate(n.x||0,n.y||0),n=n.mark.group;this._dirty.union(t)},_render(e,t){const n=this.context(),r=this._origin,i=this._width,o=this._height,a=this._dirty,s=FTe(r,i,o);n.save();const u=this._redraw||a.empty()?(this._redraw=!1,s.expand(1)):DTe(n,s.intersect(a),r);return this.clear(-r[0],-r[1],i,o),this.draw(n,e,u,t),n.restore(),a.clear(),this},draw(e,t,n,r){if(t.marktype!=="group"&&r!=null&&!r.includes(t.marktype))return;const i=Ao[t.marktype];t.clip&&N7e(e,t),i.draw.call(this,e,t,n,r),t.clip&&e.restore()},clear(e,t,n,r){const i=this._options,o=this.context();i.type!=="pdf"&&!i.externalContext&&o.clearRect(e,t,n,r),this._bgcolor!=null&&(o.fillStyle=this._bgcolor,o.fillRect(e,t,n,r))}});function WM(e,t){Zc.call(this,e,t);const n=this;n._hrefHandler=LC(n,(r,i)=>{i&&i.href&&n.handleHref(r,i,i.href)}),n._tooltipHandler=LC(n,(r,i)=>{n.handleTooltip(r,i,r.type!==Uy)})}const LC=(e,t)=>n=>{let r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)};ve(WM,Zc,{initialize(e,t,n){let r=this._svg;return r&&(r.removeEventListener(DC,this._hrefHandler),r.removeEventListener(FC,this._tooltipHandler),r.removeEventListener(Uy,this._tooltipHandler)),this._svg=r=e&&jM(e,"svg"),r&&(r.addEventListener(DC,this._hrefHandler),r.addEventListener(FC,this._tooltipHandler),r.addEventListener(Uy,this._tooltipHandler)),Zc.prototype.initialize.call(this,e,t,n)},canvas(){return this._svg},on(e,t){const n=this.eventName(e),r=this._handlers;if(this._handlerIndex(r[n],e,t)<0){const o={type:e,handler:t,listener:LC(this,t)};(r[n]||(r[n]=[])).push(o),this._svg&&this._svg.addEventListener(n,o.listener)}return this},off(e,t){const n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&(this._svg&&this._svg.removeEventListener(n,r[i].listener),r.splice(i,1)),this}});const Une="aria-hidden",HM="aria-label",qM="role",GM="aria-roledescription",jne="graphics-object",VM="graphics-symbol",Wne=(e,t,n)=>({[qM]:e,[GM]:t,[HM]:n||void 0}),LTe=es(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),KB={axis:{desc:"axis",caption:zTe},legend:{desc:"legend",caption:BTe},"title-text":{desc:"title",caption:e=>`Title text '${ZB(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${ZB(e)}'`}},QB={ariaRole:qM,ariaRoleDescription:GM,description:HM};function Hne(e,t){const n=t.aria===!1;if(e(Une,n||void 0),n||t.description==null)for(const r in QB)e(QB[r],void 0);else{const r=t.mark.marktype;e(HM,t.description),e(qM,t.ariaRole||(r==="group"?jne:VM)),e(GM,t.ariaRoleDescription||`${r} mark`)}}function qne(e){return e.aria===!1?{[Une]:!0}:LTe[e.role]?null:KB[e.role]?ITe(e,KB[e.role]):PTe(e)}function PTe(e){const t=e.marktype,n=t==="group"||t==="text"||e.items.some(r=>r.description!=null&&r.aria!==!1);return Wne(n?jne:VM,`${t} mark container`,e.description)}function ITe(e,t){try{const n=e.items[0],r=t.caption||(()=>"");return Wne(t.role||VM,t.desc,n.description||r(n))}catch{return null}}function ZB(e){return Se(e.text).join(" ")}function zTe(e){const t=e.datum,n=e.orient,r=t.title?Gne(e):null,i=e.context,o=i.scales[t.scale].value,a=i.dataflow.locale(),s=o.type;return`${n==="left"||n==="right"?"Y":"X"}-axis`+(r?` titled '${r}'`:"")+` for a ${Bp(s)?"discrete":s} scale with ${sne(a,o,e)}`}function BTe(e){const t=e.datum,n=t.title?Gne(e):null,r=`${t.type||""} legend`.trim(),i=t.scales,o=Object.keys(i),a=e.context,s=a.scales[i[o[0]]].value,u=a.dataflow.locale();return jTe(r)+(n?` titled '${n}'`:"")+` for ${UTe(o)} with ${sne(u,s,e)}`}function Gne(e){try{return Se(gt(e.items).items[0].text).join(" ")}catch{return null}}function UTe(e){return e=e.map(t=>t+(t==="fill"||t==="stroke"?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+gt(e)}function jTe(e){return e.length?e[0].toUpperCase()+e.slice(1):e}const Vne=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),WTe=e=>Vne(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function YM(){let e="",t="",n="";const r=[],i=()=>t=n="",o=u=>{t&&(e+=`${t}>${n}`,i()),r.push(u)},a=(u,l)=>(l!=null&&(t+=` ${u}="${WTe(l)}"`),s),s={open(u){o(u),t="<"+u;for(var l=arguments.length,c=new Array(l>1?l-1:0),f=1;f<l;f++)c[f-1]=arguments[f];for(const d of c)for(const p in d)a(p,d[p]);return s},close(){const u=r.pop();return t?e+=t+(n?`>${n}</${u}>`:"/>"):e+=`</${u}>`,i(),s},attr:a,text:u=>(n+=Vne(u),s),toString:()=>e};return s}const Yne=e=>Jne(YM(),e)+"";function Jne(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,r=n.length;for(let i=0;i<r;++i)e.attr(n[i].name,n[i].value)}if(t.hasChildNodes()){const n=t.childNodes;for(const r of n)r.nodeType===3?e.text(r.nodeValue):Jne(e,r)}return e.close()}const o_={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},a_={blend:"mix-blend-mode"},Xne={fill:"none","stroke-miterlimit":10},F1=0,eU="http://www.w3.org/2000/xmlns/",Fn=By.xmlns;function l5(e){ko.call(this,e),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}const h6=ko.prototype;ve(l5,ko,{initialize(e,t,n,r,i){return this._defs={},this._clearDefs(),e&&(this._svg=Dn(e,0,"svg",Fn),this._svg.setAttributeNS(eU,"xmlns",Fn),this._svg.setAttributeNS(eU,"xmlns:xlink",By["xmlns:xlink"]),this._svg.setAttribute("version",By.version),this._svg.setAttribute("class","marks"),Ho(e,1),this._root=Dn(this._svg,F1,"g",Fn),pc(this._root,Xne),Ho(this._svg,F1+1)),this.background(this._bgcolor),h6.initialize.call(this,e,t,n,r,i)},background(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),h6.background.apply(this,arguments)},resize(e,t,n,r){return h6.resize.call(this,e,t,n,r),this._svg&&(pc(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this},canvas(){return this._svg},svg(){const e=this._svg,t=this._bgcolor;if(!e)return null;let n;t&&(e.removeAttribute("style"),n=Dn(e,F1,"rect",Fn),pc(n,{width:this._width,height:this._height,fill:t}));const r=Yne(e);return t&&(e.removeChild(n),this._svg.style.setProperty("background-color",t)),r},_render(e,t){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,e,void 0,t),Ho(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},isDirty(e){return this._dirtyAll||!e._svg||!e._svg.ownerSVGElement||e.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const e=this._dirty;if(!e.length||!this._dirtyID)return!0;const t=++this._dirtyID;let n,r,i,o,a,s,u;for(a=0,s=e.length;a<s;++a)if(n=e[a],r=n.mark,r.marktype!==i&&(i=r.marktype,o=Ao[i]),r.zdirty&&r.dirty!==t&&(this._dirtyAll=!1,tU(n,t),r.items.forEach(l=>{l.dirty=t})),!r.zdirty){if(n.exit){o.nested&&r.items.length?(u=r.items[0],u._svg&&this._update(o,u._svg,u)):n._svg&&(u=n._svg.parentNode,u&&u.removeChild(n._svg)),n._svg=null;continue}n=o.nested?r.items[0]:n,n._update!==t&&(!n._svg||!n._svg.ownerSVGElement?(this._dirtyAll=!1,tU(n,t)):this._update(o,n._svg,n),n._update=t)}return!this._dirtyAll},mark(e,t,n,r){if(!this.isDirty(t))return t._svg;const i=this._svg,o=t.marktype,a=Ao[o],s=t.interactive===!1?"none":null,u=a.tag==="g",l=nU(t,e,n,"g",i);if(o!=="group"&&r!=null&&!r.includes(o))return Ho(l,0),t._svg;l.setAttribute("class",Fne(t));const c=qne(t);for(const g in c)Jr(l,g,c[g]);u||Jr(l,"pointer-events",s),Jr(l,"clip-path",t.clip?SM(this,t,t.group):null);let f=null,d=0;const p=g=>{const y=this.isDirty(g),v=nU(g,l,f,a.tag,i);y&&(this._update(a,v,g),u&&GTe(this,v,g,r)),f=v,++d};return a.nested?t.items.length&&p(t.items[0]):ns(t,p),Ho(l,d),l},_update(e,t,n){Qu=t,Mr=t.__values__,Hne(Ym,n),e.attr(Ym,n,this);const r=YTe[e.type];r&&r.call(this,e,t,n),Qu&&this.style(Qu,n)},style(e,t){if(t!=null){for(const n in o_){let r=n==="font"?Q2(t):t[n];if(r===Mr[n])continue;const i=o_[n];r==null?e.removeAttribute(i):(wM(r)&&(r=lne(r,this._defs.gradient,Kne())),e.setAttribute(i,r+"")),Mr[n]=r}for(const n in a_)dw(e,a_[n],t[n])}},defs(){const e=this._svg,t=this._defs;let n=t.el,r=0;for(const i in t.gradient)n||(t.el=n=Dn(e,F1+1,"defs",Fn)),r=HTe(n,t.gradient[i],r);for(const i in t.clipping)n||(t.el=n=Dn(e,F1+1,"defs",Fn)),r=qTe(n,t.clipping[i],r);n&&(r===0?(e.removeChild(n),t.el=null):Ho(n,r))},_clearDefs(){const e=this._defs;e.gradient={},e.clipping={}}});function tU(e,t){for(;e&&e.dirty!==t;e=e.mark.group)if(e.dirty=t,e.mark&&e.mark.dirty!==t)e.mark.dirty=t;else return}function HTe(e,t,n){let r,i,o;if(t.gradient==="radial"){let a=Dn(e,n++,"pattern",Fn);pc(a,{id:XA+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),a=Dn(a,0,"rect",Fn),pc(a,{width:1,height:1,fill:`url(${Kne()}#${t.id})`}),e=Dn(e,n++,"radialGradient",Fn),pc(e,{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else e=Dn(e,n++,"linearGradient",Fn),pc(e,{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,i=t.stops.length;r<i;++r)o=Dn(e,r,"stop",Fn),o.setAttribute("offset",t.stops[r].offset),o.setAttribute("stop-color",t.stops[r].color);return Ho(e,r),n}function qTe(e,t,n){let r;return e=Dn(e,n,"clipPath",Fn),e.setAttribute("id",t.id),t.path?(r=Dn(e,0,"path",Fn),r.setAttribute("d",t.path)):(r=Dn(e,0,"rect",Fn),pc(r,{x:0,y:0,width:t.width,height:t.height})),Ho(e,1),n+1}function GTe(e,t,n,r){t=t.lastChild.previousSibling;let i,o=0;ns(n,a=>{i=e.mark(t,a,i,r),++o}),Ho(t,1+o)}function nU(e,t,n,r,i){let o=e._svg,a;if(!o&&(a=t.ownerDocument,o=hc(a,r,Fn),e._svg=o,e.mark&&(o.__data__=e,o.__values__={fill:"default"},r==="g"))){const s=hc(a,"path",Fn);o.appendChild(s),s.__data__=e;const u=hc(a,"g",Fn);o.appendChild(u),u.__data__=e;const l=hc(a,"path",Fn);o.appendChild(l),l.__data__=e,l.__values__={fill:"default"}}return(o.ownerSVGElement!==i||VTe(o,n))&&t.insertBefore(o,n?n.nextSibling:t.firstChild),o}function VTe(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}let Qu=null,Mr=null;const YTe={group(e,t,n){const r=Qu=t.childNodes[2];Mr=r.__values__,e.foreground(Ym,n,this),Mr=t.__values__,Qu=t.childNodes[1],e.content(Ym,n,this);const i=Qu=t.childNodes[0];e.background(Ym,n,this);const o=n.mark.interactive===!1?"none":null;if(o!==Mr.events&&(Jr(r,"pointer-events",o),Jr(i,"pointer-events",o),Mr.events=o),n.strokeForeground&&n.stroke){const a=n.fill;Jr(r,"display",null),this.style(i,n),Jr(i,"stroke",null),a&&(n.fill=null),Mr=r.__values__,this.style(r,n),a&&(n.fill=a),Qu=null}else Jr(r,"display","none")},image(e,t,n){n.smooth===!1?(dw(t,"image-rendering","optimizeSpeed"),dw(t,"image-rendering","pixelated")):dw(t,"image-rendering",null)},text(e,t,n){const r=K2(n);let i,o,a,s;se(r)?(o=r.map(u=>Qc(n,u)),i=o.join(`
`),i!==Mr.text&&(Ho(t,0),a=t.ownerDocument,s=Kc(n),o.forEach((u,l)=>{const c=hc(a,"tspan",Fn);c.__data__=n,c.textContent=u,l&&(c.setAttribute("x",0),c.setAttribute("dy",s)),t.appendChild(c)}),Mr.text=i)):(o=Qc(n,r),o!==Mr.text&&(t.textContent=o,Mr.text=o)),Jr(t,"font-family",Q2(n)),Jr(t,"font-size",su(n)+"px"),Jr(t,"font-style",n.fontStyle),Jr(t,"font-variant",n.fontVariant),Jr(t,"font-weight",n.fontWeight)}};function Ym(e,t,n){t!==Mr[e]&&(n?JTe(Qu,e,t,n):Jr(Qu,e,t),Mr[e]=t)}function dw(e,t,n){n!==Mr[t]&&(n==null?e.style.removeProperty(t):e.style.setProperty(t,n+""),Mr[t]=n)}function pc(e,t){for(const n in t)Jr(e,n,t[n])}function Jr(e,t,n){n!=null?e.setAttribute(t,n):e.removeAttribute(t)}function JTe(e,t,n,r){n!=null?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}function Kne(){let e;return typeof window>"u"?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}function JM(e){ko.call(this,e),this._text=null,this._defs={gradient:{},clipping:{}}}ve(JM,ko,{svg(){return this._text},_render(e){const t=YM();t.open("svg",Ke({},By,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const n=this._bgcolor;return n&&n!=="transparent"&&n!=="none"&&t.open("rect",{width:this._width,height:this._height,fill:n}).close(),t.open("g",Xne,{transform:"translate("+this._origin+")"}),this.mark(t,e),t.close(),this.defs(t),this._text=t.close()+"",this},mark(e,t){const n=Ao[t.marktype],r=n.tag,i=[Hne,n.attr];e.open("g",{class:Fne(t),"clip-path":t.clip?SM(this,t,t.group):null},qne(t),{"pointer-events":r!=="g"&&t.interactive===!1?"none":null});const o=a=>{const s=this.href(a);if(s&&e.open("a",s),e.open(r,this.attr(t,a,i,r!=="g"?r:null)),r==="text"){const u=K2(a);if(se(u)){const l={x:0,dy:Kc(a)};for(let c=0;c<u.length;++c)e.open("tspan",c?l:null).text(Qc(a,u[c])).close()}else e.text(Qc(a,u))}else if(r==="g"){const u=a.strokeForeground,l=a.fill,c=a.stroke;u&&c&&(a.stroke=null),e.open("path",this.attr(t,a,n.background,"bgrect")).close(),e.open("g",this.attr(t,a,n.content)),ns(a,f=>this.mark(e,f)),e.close(),u&&c?(l&&(a.fill=null),a.stroke=c,e.open("path",this.attr(t,a,n.foreground,"bgrect")).close(),l&&(a.fill=l)):e.open("path",this.attr(t,a,n.foreground,"bgfore")).close()}e.close(),s&&e.close()};return n.nested?t.items&&t.items.length&&o(t.items[0]):ns(t,o),e.close()},href(e){const t=e.href;let n;if(t){if(n=this._hrefs&&this._hrefs[t])return n;this.sanitizeURL(t).then(r=>{r["xlink:href"]=r.href,r.href=null,(this._hrefs||(this._hrefs={}))[t]=r})}return null},attr(e,t,n,r){const i={},o=(a,s,u,l)=>{i[l||a]=s};return Array.isArray(n)?n.forEach(a=>a(o,t,this)):n(o,t,this),r&&XTe(i,t,e,r,this._defs),i},defs(e){const t=this._defs.gradient,n=this._defs.clipping;if(Object.keys(t).length+Object.keys(n).length!==0){e.open("defs");for(const i in t){const o=t[i],a=o.stops;o.gradient==="radial"?(e.open("pattern",{id:XA+i,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),e.open("rect",{width:"1",height:"1",fill:"url(#"+i+")"}).close(),e.close(),e.open("radialGradient",{id:i,fx:o.x1,fy:o.y1,fr:o.r1,cx:o.x2,cy:o.y2,r:o.r2})):e.open("linearGradient",{id:i,x1:o.x1,x2:o.x2,y1:o.y1,y2:o.y2});for(let s=0;s<a.length;++s)e.open("stop",{offset:a[s].offset,"stop-color":a[s].color}).close();e.close()}for(const i in n){const o=n[i];e.open("clipPath",{id:i}),o.path?e.open("path",{d:o.path}).close():e.open("rect",{x:0,y:0,width:o.width,height:o.height}).close(),e.close()}e.close()}}});function XTe(e,t,n,r,i){let o;if(t==null||(r==="bgrect"&&n.interactive===!1&&(e["pointer-events"]="none"),r==="bgfore"&&(n.interactive===!1&&(e["pointer-events"]="none"),e.display="none",t.fill!==null)))return e;r==="image"&&t.smooth===!1&&(o=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),r==="text"&&(e["font-family"]=Q2(t),e["font-size"]=su(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const a in o_){let s=t[a];const u=o_[a];s==="transparent"&&(u==="fill"||u==="stroke")||s!=null&&(wM(s)&&(s=lne(s,i.gradient,"")),e[u]=s)}for(const a in a_){const s=t[a];s!=null&&(o=o||[],o.push(`${a_[a]}: ${s};`))}return o&&(e.style=o.join(" ")),e}const Fa={svgMarkTypes:["text"],svgOnTop:!0,debug:!1};function KTe(e){Fa.svgMarkTypes=e.svgMarkTypes??["text"],Fa.svgOnTop=e.svgOnTop??!0,Fa.debug=e.debug??!1}function s_(e){ko.call(this,e),this._svgRenderer=new l5(e),this._canvasRenderer=new jy(e)}const rU=ko.prototype;ve(s_,ko,{initialize(e,t,n,r,i){this._root_el=Dn(e,0,"div");const o=Dn(this._root_el,0,"div"),a=Dn(this._root_el,1,"div");return this._root_el.style.position="relative",Fa.debug||(o.style.height="100%",a.style.position="absolute",a.style.top="0",a.style.left="0",a.style.height="100%",a.style.width="100%"),this._svgEl=Fa.svgOnTop?a:o,this._canvasEl=Fa.svgOnTop?o:a,this._svgEl.style.pointerEvents="none",this._canvasRenderer.initialize(this._canvasEl,t,n,r,i),this._svgRenderer.initialize(this._svgEl,t,n,r,i),rU.initialize.call(this,e,t,n,r,i)},dirty(e){return Fa.svgMarkTypes.includes(e.mark.marktype)?this._svgRenderer.dirty(e):this._canvasRenderer.dirty(e),this},_render(e,t){const r=(t??["arc","area","image","line","path","rect","rule","shape","symbol","text","trail"]).filter(i=>!Fa.svgMarkTypes.includes(i));this._svgRenderer.render(e,Fa.svgMarkTypes),this._canvasRenderer.render(e,r)},resize(e,t,n,r){return rU.resize.call(this,e,t,n,r),this._svgRenderer.resize(e,t,n,r),this._canvasRenderer.resize(e,t,n,r),this},background(e){return Fa.svgOnTop?this._canvasRenderer.background(e):this._svgRenderer.background(e),this}});function XM(e,t){ef.call(this,e,t)}ve(XM,ef,{initialize(e,t,n){const r=Dn(Dn(e,0,"div"),Fa.svgOnTop?0:1,"div");return ef.prototype.initialize.call(this,r,t,n)}});const Qne="canvas",Zne="hybrid",ere="png",tre="svg",nre="none",gc={Canvas:Qne,PNG:ere,SVG:tre,Hybrid:Zne,None:nre},n0={};n0[Qne]=n0[ere]={renderer:jy,headless:jy,handler:ef};n0[tre]={renderer:l5,headless:JM,handler:WM};n0[Zne]={renderer:s_,headless:s_,handler:XM};n0[nre]={};function c5(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(n0[e]=t,this):n0[e]}function rre(e,t,n){const r=[],i=new Tn().union(t),o=e.marktype;return o?ire(e,i,n,r):o==="group"?ore(e,i,n,r):ae("Intersect scene must be mark node or group item.")}function ire(e,t,n,r){if(QTe(e,t,n)){const i=e.items,o=e.marktype,a=i.length;let s=0;if(o==="group")for(;s<a;++s)ore(i[s],t,n,r);else for(const u=Ao[o].isect;s<a;++s){const l=i[s];are(l,t,u)&&r.push(l)}}return r}function QTe(e,t,n){return e.bounds&&t.intersects(e.bounds)&&(e.marktype==="group"||e.interactive!==!1&&(!n||n(e)))}function ore(e,t,n,r){n&&n(e.mark)&&are(e,t,Ao.group.isect)&&r.push(e);const i=e.items,o=i&&i.length;if(o){const a=e.x||0,s=e.y||0;t.translate(-a,-s);for(let u=0;u<o;++u)ire(i[u],t,n,r);t.translate(a,s)}return r}function are(e,t,n){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}const p6=new Tn;function sre(e){const t=e.clip;if(Qe(t))t(J2(p6.clear()));else if(t)p6.set(0,0,e.group.width,e.group.height);else return;e.bounds.intersect(p6)}const ZTe=1e-9;function KM(e,t,n){return e===t?!0:n==="path"?ure(e,t):e instanceof Date&&t instanceof Date?+e==+t:xt(e)&&xt(t)?Math.abs(e-t)<=ZTe:!e||!t||!$e(e)&&!$e(t)?e==t:eMe(e,t)}function ure(e,t){return KM(Up(e),Up(t))}function eMe(e,t){var n=Object.keys(e),r=Object.keys(t),i,o;if(n.length!==r.length)return!1;for(n.sort(),r.sort(),o=n.length-1;o>=0;o--)if(n[o]!=r[o])return!1;for(o=n.length-1;o>=0;o--)if(i=n[o],!KM(e[i],t[i],i))return!1;return typeof e==typeof t}function tMe(){mne(),Ske()}const Hp="top",Ba="left",ja="right",tf="bottom",nMe="top-left",rMe="top-right",iMe="bottom-left",oMe="bottom-right",QM="start",PC="middle",Kr="end",aMe="x",sMe="y",f5="group",ZM="axis",eN="title",uMe="frame",lMe="scope",tN="legend",lre="row-header",cre="row-footer",fre="row-title",dre="column-header",hre="column-footer",pre="column-title",cMe="padding",fMe="symbol",gre="fit",mre="fit-x",yre="fit-y",dMe="pad",nN="none",lx="all",IC="each",rN="flush",mc="column",yc="row";function vre(e){Z.call(this,null,e)}ve(vre,Z,{transform(e,t){const n=t.dataflow,r=e.mark,i=r.marktype,o=Ao[i],a=o.bound;let s=r.bounds,u;if(o.nested)r.items.length&&n.dirty(r.items[0]),s=cx(r,a),r.items.forEach(l=>{l.bounds.clear().union(s)});else if(i===f5||e.modified())switch(t.visit(t.MOD,l=>n.dirty(l)),s.clear(),r.items.forEach(l=>s.union(cx(l,a))),r.role){case ZM:case tN:case eN:t.reflow()}else u=t.changed(t.REM),t.visit(t.ADD,l=>{s.union(cx(l,a))}),t.visit(t.MOD,l=>{u=u||s.alignsWith(l.bounds),n.dirty(l),s.union(cx(l,a))}),u&&(s.clear(),r.items.forEach(l=>s.union(l.bounds)));return sre(r),t.modifies("bounds")}});function cx(e,t,n){return t(e.bounds.clear(),e,n)}const iU=":vega_identifier:";function iN(e){Z.call(this,0,e)}iN.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};ve(iN,Z,{transform(e,t){const n=hMe(t.dataflow),r=e.as;let i=n.value;return t.visit(t.ADD,o=>o[r]=o[r]||++i),n.set(this.value=i),t}});function hMe(e){return e._signals[iU]||(e._signals[iU]=e.add(0))}function bre(e){Z.call(this,null,e)}ve(bre,Z,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,pMe(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);const r=n.marktype===f5?t5:e5;return t.visit(t.ADD,i=>r.call(i,n)),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});function pMe(e){const t=e.groups,n=e.parent;return t&&t.size===1?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}function xre(e){Z.call(this,null,e)}const oU={parity:e=>e.filter((t,n)=>n%2?t.opacity=0:1),greedy:(e,t)=>{let n;return e.filter((r,i)=>!i||!wre(n.bounds,r.bounds,t)?(n=r,1):r.opacity=0)}},wre=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),aU=(e,t)=>{for(var n=1,r=e.length,i=e[0].bounds,o;n<r;i=o,++n)if(wre(i,o=e[n].bounds,t))return!0},gMe=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},mMe=(e,t,n)=>{var r=e.range(),i=new Tn;return t===Hp||t===tf?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),o=>i.encloses(o.bounds)},sU=e=>(e.forEach(t=>t.opacity=1),e),uU=(e,t)=>e.reflow(t.modified()).modifies("opacity");ve(xre,Z,{transform(e,t){const n=oU[e.method]||oU.parity,r=e.separation||0;let i=t.materialize(t.SOURCE).source,o,a;if(!i||!i.length)return;if(!e.method)return e.modified("method")&&(sU(i),t=uU(t,e)),t;if(i=i.filter(gMe),!i.length)return;if(e.sort&&(i=i.slice().sort(e.sort)),o=sU(i),t=uU(t,e),o.length>=3&&aU(o,r)){do o=n(o,r);while(o.length>=3&&aU(o,r));o.length<3&&!gt(i).opacity&&(o.length>1&&(gt(o).opacity=0),gt(i).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(a=mMe(e.boundScale,e.boundOrient,+e.boundTolerance),i.forEach(u=>{a(u)||(u.opacity=0)}));const s=o[0].mark.bounds.clear();return i.forEach(u=>{u.opacity&&s.union(u.bounds)}),t}});function Are(e){Z.call(this,null,e)}ve(Are,Z,{transform(e,t){const n=t.dataflow;if(t.visit(t.ALL,r=>n.dirty(r)),t.fields&&t.fields.zindex){const r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}});const Tr=new Tn;function Hh(e,t,n){return e[t]===n?0:(e[t]=n,1)}function yMe(e){var t=e.items[0].orient;return t===Ba||t===ja}function vMe(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}function bMe(e,t,n,r){var i=t.items[0],o=i.datum,a=i.translate!=null?i.translate:.5,s=i.orient,u=vMe(o),l=i.range,c=i.offset,f=i.position,d=i.minExtent,p=i.maxExtent,g=o.title&&i.items[u[2]].items[0],y=i.titlePadding,v=i.bounds,b=g&&IM(g),x=0,_=0,A,S;switch(Tr.clear().union(v),v.clear(),(A=u[0])>-1&&v.union(i.items[A].bounds),(A=u[1])>-1&&v.union(i.items[A].bounds),s){case Hp:x=f||0,_=-c,S=Math.max(d,Math.min(p,-v.y1)),v.add(0,-S).add(l,0),g&&fx(e,g,S,y,b,0,-1,v);break;case Ba:x=-c,_=f||0,S=Math.max(d,Math.min(p,-v.x1)),v.add(-S,0).add(0,l),g&&fx(e,g,S,y,b,1,-1,v);break;case ja:x=n+c,_=f||0,S=Math.max(d,Math.min(p,v.x2)),v.add(0,0).add(S,l),g&&fx(e,g,S,y,b,1,1,v);break;case tf:x=f||0,_=r+c,S=Math.max(d,Math.min(p,v.y2)),v.add(0,0).add(l,S),g&&fx(e,g,S,y,0,0,1,v);break;default:x=i.x,_=i.y}return wl(v.translate(x,_),i),Hh(i,"x",x+a)|Hh(i,"y",_+a)&&(i.bounds=Tr,e.dirty(i),i.bounds=v,e.dirty(i)),i.mark.bounds.clear().union(v)}function fx(e,t,n,r,i,o,a,s){const u=t.bounds;if(t.auto){const l=a*(n+i+r);let c=0,f=0;e.dirty(t),o?c=(t.x||0)-(t.x=l):f=(t.y||0)-(t.y=l),t.mark.bounds.clear().union(u.translate(-c,-f)),e.dirty(t)}s.union(u)}const lU=(e,t)=>Math.floor(Math.min(e,t)),cU=(e,t)=>Math.ceil(Math.max(e,t));function xMe(e){var t=e.items,n=t.length,r=0,i,o;const a={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;r<n;++r)if(i=t[r],o=i.items,i.marktype===f5)switch(i.role){case ZM:case tN:case eN:break;case lre:a.rowheaders.push(...o);break;case cre:a.rowfooters.push(...o);break;case dre:a.colheaders.push(...o);break;case hre:a.colfooters.push(...o);break;case fre:a.rowtitle=o[0];break;case pre:a.coltitle=o[0];break;default:a.marks.push(...o)}return a}function wMe(e){return new Tn().set(0,0,e.width||0,e.height||0)}function AMe(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function nn(e,t,n){const r=$e(e)?e[t]:e;return r??(n!==void 0?n:0)}function fU(e){return e<0?Math.ceil(-e):0}function _re(e,t,n){var r=!n.nodirty,i=n.bounds===rN?wMe:AMe,o=Tr.set(0,0,0,0),a=nn(n.align,mc),s=nn(n.align,yc),u=nn(n.padding,mc),l=nn(n.padding,yc),c=n.columns||t.length,f=c<=0?1:Math.ceil(t.length/c),d=t.length,p=Array(d),g=Array(c),y=0,v=Array(d),b=Array(f),x=0,_=Array(d),A=Array(d),S=Array(d),C,E,k,O,N,F,W,I,M,D,P;for(E=0;E<c;++E)g[E]=0;for(E=0;E<f;++E)b[E]=0;for(E=0;E<d;++E)F=t[E],N=S[E]=i(F),F.x=F.x||0,_[E]=0,F.y=F.y||0,A[E]=0,k=E%c,O=~~(E/c),y=Math.max(y,W=Math.ceil(N.x2)),x=Math.max(x,I=Math.ceil(N.y2)),g[k]=Math.max(g[k],W),b[O]=Math.max(b[O],I),p[E]=u+fU(N.x1),v[E]=l+fU(N.y1),r&&e.dirty(t[E]);for(E=0;E<d;++E)E%c===0&&(p[E]=0),E<c&&(v[E]=0);if(a===IC)for(k=1;k<c;++k){for(P=0,E=k;E<d;E+=c)P<p[E]&&(P=p[E]);for(E=k;E<d;E+=c)p[E]=P+g[k-1]}else if(a===lx){for(P=0,E=0;E<d;++E)E%c&&P<p[E]&&(P=p[E]);for(E=0;E<d;++E)E%c&&(p[E]=P+y)}else for(a=!1,k=1;k<c;++k)for(E=k;E<d;E+=c)p[E]+=g[k-1];if(s===IC)for(O=1;O<f;++O){for(P=0,E=O*c,C=E+c;E<C;++E)P<v[E]&&(P=v[E]);for(E=O*c;E<C;++E)v[E]=P+b[O-1]}else if(s===lx){for(P=0,E=c;E<d;++E)P<v[E]&&(P=v[E]);for(E=c;E<d;++E)v[E]=P+x}else for(s=!1,O=1;O<f;++O)for(E=O*c,C=E+c;E<C;++E)v[E]+=b[O-1];for(M=0,E=0;E<d;++E)M=p[E]+(E%c?M:0),_[E]+=M-t[E].x;for(k=0;k<c;++k)for(D=0,E=k;E<d;E+=c)D+=v[E],A[E]+=D-t[E].y;if(a&&nn(n.center,mc)&&f>1)for(E=0;E<d;++E)N=a===lx?y:g[E%c],M=N-S[E].x2-t[E].x-_[E],M>0&&(_[E]+=M/2);if(s&&nn(n.center,yc)&&c!==1)for(E=0;E<d;++E)N=s===lx?x:b[~~(E/c)],D=N-S[E].y2-t[E].y-A[E],D>0&&(A[E]+=D/2);for(E=0;E<d;++E)o.union(S[E].translate(_[E],A[E]));switch(M=nn(n.anchor,aMe),D=nn(n.anchor,sMe),nn(n.anchor,mc)){case Kr:M-=o.width();break;case PC:M-=o.width()/2}switch(nn(n.anchor,yc)){case Kr:D-=o.height();break;case PC:D-=o.height()/2}for(M=Math.round(M),D=Math.round(D),o.clear(),E=0;E<d;++E)t[E].mark.bounds.clear();for(E=0;E<d;++E)F=t[E],F.x+=_[E]+=M,F.y+=A[E]+=D,o.union(F.mark.bounds.union(F.bounds.translate(_[E],A[E]))),r&&e.dirty(F);return o}function _Me(e,t,n){var r=xMe(t),i=r.marks,o=n.bounds===rN?SMe:EMe,a=n.offset,s=n.columns||i.length,u=s<=0?1:Math.ceil(i.length/s),l=u*s,c,f,d,p,g,y,v;const b=_re(e,i,n);b.empty()&&b.set(0,0,0,0),r.rowheaders&&(y=nn(n.headerBand,yc,null),c=dx(e,r.rowheaders,i,s,u,-nn(a,"rowHeader"),lU,0,o,"x1",0,s,1,y)),r.colheaders&&(y=nn(n.headerBand,mc,null),f=dx(e,r.colheaders,i,s,s,-nn(a,"columnHeader"),lU,1,o,"y1",0,1,s,y)),r.rowfooters&&(y=nn(n.footerBand,yc,null),d=dx(e,r.rowfooters,i,s,u,nn(a,"rowFooter"),cU,0,o,"x2",s-1,s,1,y)),r.colfooters&&(y=nn(n.footerBand,mc,null),p=dx(e,r.colfooters,i,s,s,nn(a,"columnFooter"),cU,1,o,"y2",l-s,1,s,y)),r.rowtitle&&(g=nn(n.titleAnchor,yc),v=nn(a,"rowTitle"),v=g===Kr?d+v:c-v,y=nn(n.titleBand,yc,.5),dU(e,r.rowtitle,v,0,b,y)),r.coltitle&&(g=nn(n.titleAnchor,mc),v=nn(a,"columnTitle"),v=g===Kr?p+v:f-v,y=nn(n.titleBand,mc,.5),dU(e,r.coltitle,v,1,b,y))}function SMe(e,t){return t==="x1"?e.x||0:t==="y1"?e.y||0:t==="x2"?(e.x||0)+(e.width||0):t==="y2"?(e.y||0)+(e.height||0):void 0}function EMe(e,t){return e.bounds[t]}function dx(e,t,n,r,i,o,a,s,u,l,c,f,d,p){var g=n.length,y=0,v=0,b,x,_,A,S,C,E,k,O;if(!g)return y;for(b=c;b<g;b+=f)n[b]&&(y=a(y,u(n[b],l)));if(!t.length)return y;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),y+=o,x=0,A=t.length;x<A;++x)e.dirty(t[x]),t[x].mark.bounds.clear();for(b=c,x=0,A=t.length;x<A;++x,b+=f){for(C=t[x],S=C.mark.bounds,_=b;_>=0&&(E=n[_])==null;_-=d);s?(k=p==null?E.x:Math.round(E.bounds.x1+p*E.bounds.width()),O=y):(k=y,O=p==null?E.y:Math.round(E.bounds.y1+p*E.bounds.height())),S.union(C.bounds.translate(k-(C.x||0),O-(C.y||0))),C.x=k,C.y=O,e.dirty(C),v=a(v,S[l])}return v}function dU(e,t,n,r,i,o){if(t){e.dirty(t);var a=n,s=n;r?a=Math.round(i.x1+o*i.width()):s=Math.round(i.y1+o*i.height()),t.bounds.translate(a-(t.x||0),s-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=a,t.y=s,e.dirty(t)}}function CMe(e,t){const n=e[t]||{};return(r,i)=>n[r]!=null?n[r]:e[r]!=null?e[r]:i}function $Me(e,t){let n=-1/0;return e.forEach(r=>{r.offset!=null&&(n=Math.max(n,r.offset))}),n>-1/0?n:t}function kMe(e,t,n,r,i,o,a){const s=CMe(n,t),u=$Me(e,s("offset",0)),l=s("anchor",QM),c=l===Kr?1:l===PC?.5:0,f={align:IC,bounds:s("bounds",rN),columns:s("direction")==="vertical"?1:e.length,padding:s("margin",8),center:s("center"),nodirty:!0};switch(t){case Ba:f.anchor={x:Math.floor(r.x1)-u,column:Kr,y:c*(a||r.height()+2*r.y1),row:l};break;case ja:f.anchor={x:Math.ceil(r.x2)+u,y:c*(a||r.height()+2*r.y1),row:l};break;case Hp:f.anchor={y:Math.floor(i.y1)-u,row:Kr,x:c*(o||i.width()+2*i.x1),column:l};break;case tf:f.anchor={y:Math.ceil(i.y2)+u,x:c*(o||i.width()+2*i.x1),column:l};break;case nMe:f.anchor={x:u,y:u};break;case rMe:f.anchor={x:o-u,y:u,column:Kr};break;case iMe:f.anchor={x:u,y:a-u,row:Kr};break;case oMe:f.anchor={x:o-u,y:a-u,column:Kr,row:Kr};break}return f}function TMe(e,t){var n=t.items[0],r=n.datum,i=n.orient,o=n.bounds,a=n.x,s=n.y,u,l;return n._bounds?n._bounds.clear().union(o):n._bounds=o.clone(),o.clear(),NMe(e,n,n.items[0].items[0]),o=MMe(n,o),u=2*n.padding,l=2*n.padding,o.empty()||(u=Math.ceil(o.width()+u),l=Math.ceil(o.height()+l)),r.type===fMe&&OMe(n.items[0].items[0].items[0].items),i!==nN&&(n.x=a=0,n.y=s=0),n.width=u,n.height=l,wl(o.set(a,s,a+u,s+l),n),n.mark.bounds.clear().union(o),n}function MMe(e,t){return e.items.forEach(n=>t.union(n.bounds)),t.x1=e.padding,t.y1=e.padding,t}function NMe(e,t,n){var r=t.padding,i=r-n.x,o=r-n.y;if(!t.datum.title)(i||o)&&D1(e,n,i,o);else{var a=t.items[1].items[0],s=a.anchor,u=t.titlePadding||0,l=r-a.x,c=r-a.y;switch(a.orient){case Ba:i+=Math.ceil(a.bounds.width())+u;break;case ja:case tf:break;default:o+=a.bounds.height()+u}switch((i||o)&&D1(e,n,i,o),a.orient){case Ba:c+=hh(t,n,a,s,1,1);break;case ja:l+=hh(t,n,a,Kr,0,0)+u,c+=hh(t,n,a,s,1,1);break;case tf:l+=hh(t,n,a,s,0,0),c+=hh(t,n,a,Kr,-1,0,1)+u;break;default:l+=hh(t,n,a,s,0,0)}(l||c)&&D1(e,a,l,c),(l=Math.round(a.bounds.x1-r))<0&&(D1(e,n,-l,0),D1(e,a,-l,0))}}function hh(e,t,n,r,i,o,a){const s=e.datum.type!=="symbol",u=n.datum.vgrad,l=s&&(o||!u)&&!a?t.items[0]:t,c=l.bounds[i?"y2":"x2"]-e.padding,f=u&&o?c:0,d=u&&o?0:c,p=i<=0?0:IM(n);return Math.round(r===QM?f:r===Kr?d-p:.5*(c-p))}function D1(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function OMe(e){const t=e.reduce((n,r)=>(n[r.column]=Math.max(r.bounds.x2-r.x,n[r.column]||0),n),{});e.forEach(n=>{n.width=t[n.column],n.height=n.bounds.y2-n.y})}function RMe(e,t,n,r,i){var o=t.items[0],a=o.frame,s=o.orient,u=o.anchor,l=o.offset,c=o.padding,f=o.items[0].items[0],d=o.items[1]&&o.items[1].items[0],p=s===Ba||s===ja?r:n,g=0,y=0,v=0,b=0,x=0,_;if(a!==f5?s===Ba?(g=i.y2,p=i.y1):s===ja?(g=i.y1,p=i.y2):(g=i.x1,p=i.x2):s===Ba&&(g=r,p=0),_=u===QM?g:u===Kr?p:(g+p)/2,d&&d.text){switch(s){case Hp:case tf:x=f.bounds.height()+c;break;case Ba:b=f.bounds.width()+c;break;case ja:b=-f.bounds.width()-c;break}Tr.clear().union(d.bounds),Tr.translate(b-(d.x||0),x-(d.y||0)),Hh(d,"x",b)|Hh(d,"y",x)&&(e.dirty(d),d.bounds.clear().union(Tr),d.mark.bounds.clear().union(Tr),e.dirty(d)),Tr.clear().union(d.bounds)}else Tr.clear();switch(Tr.union(f.bounds),s){case Hp:y=_,v=i.y1-Tr.height()-l;break;case Ba:y=i.x1-Tr.width()-l,v=_;break;case ja:y=i.x2+Tr.width()+l,v=_;break;case tf:y=_,v=i.y2+l;break;default:y=o.x,v=o.y}return Hh(o,"x",y)|Hh(o,"y",v)&&(Tr.translate(y,v),e.dirty(o),o.bounds.clear().union(Tr),t.bounds.clear().union(Tr),e.dirty(o)),o.bounds}function Sre(e){Z.call(this,null,e)}ve(Sre,Z,{transform(e,t){const n=t.dataflow;return e.mark.items.forEach(r=>{e.layout&&_Me(n,r,e.layout),DMe(n,r,e)}),FMe(e.mark.group)?t.reflow():t}});function FMe(e){return e&&e.mark.role!=="legend-entry"}function DMe(e,t,n){var r=t.items,i=Math.max(0,t.width||0),o=Math.max(0,t.height||0),a=new Tn().set(0,0,i,o),s=a.clone(),u=a.clone(),l=[],c,f,d,p,g,y;for(g=0,y=r.length;g<y;++g)switch(f=r[g],f.role){case ZM:p=yMe(f)?s:u,p.union(bMe(e,f,i,o));break;case eN:c=f;break;case tN:l.push(TMe(e,f));break;case uMe:case lMe:case lre:case cre:case fre:case dre:case hre:case pre:s.union(f.bounds),u.union(f.bounds);break;default:a.union(f.bounds)}if(l.length){const v={};l.forEach(b=>{d=b.orient||ja,d!==nN&&(v[d]||(v[d]=[])).push(b)});for(const b in v){const x=v[b];_re(e,x,kMe(x,b,n.legends,s,u,i,o))}l.forEach(b=>{const x=b.bounds;if(x.equals(b._bounds)||(b.bounds=b._bounds,e.dirty(b),b.bounds=x,e.dirty(b)),n.autosize&&(n.autosize.type===gre||n.autosize.type===mre||n.autosize.type===yre))switch(b.orient){case Ba:case ja:a.add(x.x1,0).add(x.x2,0);break;case Hp:case tf:a.add(0,x.y1).add(0,x.y2)}else a.union(x)})}a.union(s).union(u),c&&a.union(RMe(e,c,i,o,a)),t.clip&&a.set(0,0,t.width||0,t.height||0),LMe(e,t,a,n)}function LMe(e,t,n,r){const i=r.autosize||{},o=i.type;if(e._autosize<1||!o)return;let a=e._width,s=e._height,u=Math.max(0,t.width||0),l=Math.max(0,Math.ceil(-n.x1)),c=Math.max(0,t.height||0),f=Math.max(0,Math.ceil(-n.y1));const d=Math.max(0,Math.ceil(n.x2-u)),p=Math.max(0,Math.ceil(n.y2-c));if(i.contains===cMe){const g=e.padding();a-=g.left+g.right,s-=g.top+g.bottom}o===nN?(l=0,f=0,u=a,c=s):o===gre?(u=Math.max(0,a-l-d),c=Math.max(0,s-f-p)):o===mre?(u=Math.max(0,a-l-d),s=c+f+p):o===yre?(a=u+l+d,c=Math.max(0,s-f-p)):o===dMe&&(a=u+l+d,s=c+f+p),e._resizeView(a,s,u,c,[l,f],i.resize)}const PMe=Object.freeze(Object.defineProperty({__proto__:null,bound:vre,identifier:iN,mark:bre,overlap:xre,render:Are,viewlayout:Sre},Symbol.toStringTag,{value:"Module"}));function Ere(e){Z.call(this,null,e)}ve(Ere,Z,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,o=e.scale,a=e.count==null?e.values?e.values.length:10:e.count,s=bM(o,a,e.minstep),u=e.format||nne(n,o,s,e.formatSpecifier,e.formatType,!!e.values),l=e.values?tne(o,e.values,s):xM(o,s);return i&&(r.rem=i),i=l.map((c,f)=>Mt({index:f/(l.length-1||1),value:c,label:u(c)})),e.extra&&i.length&&i.push(Mt({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}});function Cre(e){Z.call(this,null,e)}function IMe(){return Mt({})}function zMe(e){const t=kg().test(n=>n.exit);return t.lookup=n=>t.get(e(n)),t}ve(Cre,Z,{transform(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||IMe,o=e.key||Ie,a=this.value;return se(r.encode)&&(r.encode=null),a&&(e.modified("key")||t.modified(o))&&ae("DataJoin does not support modified key function or fields."),a||(t=t.addAll(),this.value=a=zMe(o)),t.visit(t.ADD,s=>{const u=o(s);let l=a.get(u);l?l.exit?(a.empty--,r.add.push(l)):r.mod.push(l):(l=i(s),a.set(u,l),r.add.push(l)),l.datum=s,l.exit=!1}),t.visit(t.MOD,s=>{const u=o(s),l=a.get(u);l&&(l.datum=s,r.mod.push(l))}),t.visit(t.REM,s=>{const u=o(s),l=a.get(u);s===l.datum&&!l.exit&&(r.rem.push(l),l.exit=!0,++a.empty)}),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&a.empty>n.cleanThreshold)&&n.runAfter(a.clean),r}});function $re(e){Z.call(this,null,e)}ve($re,Z,{transform(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,i=e.encoders,o=t.encode;if(se(o))if(n.changed()||o.every(f=>i[f]))o=o[0],n.encode=null;else return t.StopPropagation;var a=o==="enter",s=i.update||Vl,u=i.enter||Vl,l=i.exit||Vl,c=(o&&!a?i[o]:s)||Vl;if(t.changed(t.ADD)&&(t.visit(t.ADD,f=>{u(f,e),s(f,e)}),n.modifies(u.output),n.modifies(s.output),c!==Vl&&c!==s&&(t.visit(t.ADD,f=>{c(f,e)}),n.modifies(c.output))),t.changed(t.REM)&&l!==Vl&&(t.visit(t.REM,f=>{l(f,e)}),n.modifies(l.output)),a||c!==Vl){const f=t.MOD|(e.modified()?t.REFLOW:0);a?(t.visit(f,d=>{const p=u(d,e)||r;(c(d,e)||p)&&n.mod.push(d)}),n.mod.length&&n.modifies(u.output)):t.visit(f,d=>{(c(d,e)||r)&&n.mod.push(d)}),n.mod.length&&n.modifies(c.output)}return n.changed()?n:t.StopPropagation}});function kre(e){Z.call(this,[],e)}ve(kre,Z,{transform(e,t){if(this.value!=null&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,o=e.type||ow,a=e.scale,s=+e.limit,u=bM(a,e.count==null?5:e.count,e.minstep),l=!!e.values||o===ow,c=e.format||ane(n,a,u,o,e.formatSpecifier,e.formatType,l),f=e.values||one(a,u),d,p,g,y,v;return i&&(r.rem=i),o===ow?(s&&f.length>s?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),i=f.slice(0,s-1),v=!0):i=f,Qe(g=e.size)?(!e.values&&a(i[0])===0&&(i=i.slice(1)),y=i.reduce((b,x)=>Math.max(b,g(x,e)),0)):g=jr(y=g||8),i=i.map((b,x)=>Mt({index:x,label:c(b,x,i),value:b,offset:y,size:g(b,e)})),v&&(v=f[i.length],i.push(Mt({index:i.length,label:`…${f.length-i.length} entries`,value:v,offset:y,size:g(v,e)})))):o===fke?(d=a.domain(),p=Qte(a,d[0],gt(d)),f.length<3&&!e.values&&d[0]!==gt(d)&&(f=[d[0],gt(d)]),i=f.map((b,x)=>Mt({index:x,label:c(b,x,f),value:b,perc:p(b)}))):(g=f.length-1,p=Ake(a),i=f.map((b,x)=>Mt({index:x,label:c(b,x,f),value:b,perc:x?p(b):0,perc2:x===g?1:p(f[x+1])}))),r.source=i,r.add=i,this.value=i,r}});const BMe=e=>e.source.x,UMe=e=>e.source.y,jMe=e=>e.target.x,WMe=e=>e.target.y;function oN(e){Z.call(this,{},e)}oN.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};ve(oN,Z,{transform(e,t){var n=e.sourceX||BMe,r=e.sourceY||UMe,i=e.targetX||jMe,o=e.targetY||WMe,a=e.as||"path",s=e.orient||"vertical",u=e.shape||"line",l=hU.get(u+"-"+s)||hU.get(u);return l||ae("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,c=>{c[a]=l(n(c),r(c),i(c),o(c))}),t.reflow(e.modified()).modifies(a)}});const Tre=(e,t,n,r)=>"M"+e+","+t+"L"+n+","+r,HMe=(e,t,n,r)=>Tre(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),Mre=(e,t,n,r)=>{var i=n-e,o=r-t,a=Math.hypot(i,o)/2,s=180*Math.atan2(o,i)/Math.PI;return"M"+e+","+t+"A"+a+","+a+" "+s+" 0 1 "+n+","+r},qMe=(e,t,n,r)=>Mre(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),Nre=(e,t,n,r)=>{const i=n-e,o=r-t,a=.2*(i+o),s=.2*(o-i);return"M"+e+","+t+"C"+(e+a)+","+(t+s)+" "+(n+s)+","+(r-a)+" "+n+","+r},GMe=(e,t,n,r)=>Nre(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),VMe=(e,t,n,r)=>"M"+e+","+t+"V"+r+"H"+n,YMe=(e,t,n,r)=>"M"+e+","+t+"H"+n+"V"+r,JMe=(e,t,n,r)=>{const i=Math.cos(e),o=Math.sin(e),a=Math.cos(n),s=Math.sin(n),u=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*o+"A"+t+","+t+" 0 0,"+(u?1:0)+" "+t*a+","+t*s+"L"+r*a+","+r*s},XMe=(e,t,n,r)=>{const i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},KMe=(e,t,n,r)=>{const i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},QMe=(e,t,n,r)=>{const i=Math.cos(e),o=Math.sin(e),a=Math.cos(n),s=Math.sin(n),u=(t+r)/2;return"M"+t*i+","+t*o+"C"+u*i+","+u*o+" "+u*a+","+u*s+" "+r*a+","+r*s},hU=kg({line:Tre,"line-radial":HMe,arc:Mre,"arc-radial":qMe,curve:Nre,"curve-radial":GMe,"orthogonal-horizontal":VMe,"orthogonal-vertical":YMe,"orthogonal-radial":JMe,"diagonal-horizontal":XMe,"diagonal-vertical":KMe,"diagonal-radial":QMe});function aN(e){Z.call(this,null,e)}aN.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};ve(aN,Z,{transform(e,t){var n=e.as||["startAngle","endAngle"],r=n[0],i=n[1],o=e.field||Eg,a=e.startAngle||0,s=e.endAngle!=null?e.endAngle:2*Math.PI,u=t.source,l=u.map(o),c=l.length,f=a,d=(s-a)/A2(l),p=Pn(c),g,y,v;for(e.sort&&p.sort((b,x)=>l[b]-l[x]),g=0;g<c;++g)v=l[p[g]],y=u[p[g]],y[r]=f,y[i]=f+=v*d;return this.value=l,t.reflow(e.modified()).modifies(n)}});const ZMe=5;function eNe(e){const t=e.type;return!e.bins&&(t===Ip||t===j2||t===W2)}function Ore(e){return mM(e)&&e!==qs}const tNe=es(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function Rre(e){Z.call(this,null,e),this.modified(!0)}ve(Rre,Z,{transform(e,t){var n=t.dataflow,r=this.value,i=nNe(e);(!r||i!==r.type)&&(this.value=r=St(i)());for(i in e)if(!tNe[i]){if(i==="padding"&&Ore(r.type))continue;Qe(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return uNe(r,e,sNe(r,e,iNe(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function nNe(e){var t=e.type,n="",r;return t===qs?qs+"-"+Ip:(rNe(e)&&(r=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(e.domainMid!=null):0,n=r===2?qs+"-":r===3?Og+"-":""),(n+t||Ip).toLowerCase())}function rNe(e){const t=e.type;return mM(t)&&t!==e0&&t!==t0&&(e.scheme||e.range&&e.range.length&&e.range.every(Ee))}function iNe(e,t,n){const r=oNe(e,t.domainRaw,n);if(r>-1)return r;var i=t.domain,o=e.type,a=t.zero||t.zero===void 0&&eNe(e),s,u;if(!i)return 0;if(Ore(o)&&t.padding&&i[0]!==gt(i)&&(i=aNe(o,i,t.range,t.padding,t.exponent,t.constant)),(a||t.domainMin!=null||t.domainMax!=null||t.domainMid!=null)&&(s=(i=i.slice()).length-1||1,a&&(i[0]>0&&(i[0]=0),i[s]<0&&(i[s]=0)),t.domainMin!=null&&(i[0]=t.domainMin),t.domainMax!=null&&(i[s]=t.domainMax),t.domainMid!=null)){u=t.domainMid;const l=u>i[s]?s+1:u<i[0]?0:s;l!==s&&n.warn("Scale domainMid exceeds domain min or max.",u),i.splice(l,0,u)}return e.domain(Fre(o,i,n)),o===dM&&e.unknown(t.domainImplicit?LA:void 0),t.nice&&e.nice&&e.nice(t.nice!==!0&&bM(e,t.nice)||null),i.length}function oNe(e,t,n){return t?(e.domain(Fre(e.type,t,n)),t.length):-1}function aNe(e,t,n,r,i,o){var a=Math.abs(gt(n)-n[0]),s=a/(a-2*r),u=e===gl?oT(t,null,s):e===W2?GA(t,null,s,.5):e===j2?GA(t,null,s,i||1):e===J3?aT(t,null,s,o||1):iT(t,null,s);return t=t.slice(),t[0]=u[0],t[t.length-1]=u[1],t}function Fre(e,t,n){if(Vte(e)){var r=Math.abs(t.reduce((i,o)=>i+(o<0?-1:o>0?1:0),0));r!==t.length&&n.warn("Log scale domain includes zero: "+xe(t))}return t}function sNe(e,t,n){let r=t.bins;if(r&&!se(r)){const i=e.domain(),o=i[0],a=gt(i),s=r.step;let u=r.start==null?o:r.start,l=r.stop==null?a:r.stop;s||ae("Scale bins parameter missing step property."),u<o&&(u=s*Math.ceil(o/s)),l>a&&(l=s*Math.floor(a/s)),r=Pn(u,l+s/2,s)}return r?e.bins=r:e.bins&&delete e.bins,e.type===hM&&(r?!t.domain&&!t.domainRaw&&(e.domain(r),n=r.length):e.bins=e.domain()),n}function uNe(e,t,n){var r=e.type,i=t.round||!1,o=t.range;if(t.rangeStep!=null)o=lNe(r,t,n);else if(t.scheme&&(o=cNe(r,t,n),Qe(o))){if(e.interpolator)return e.interpolator(o);ae(`Scale type ${r} does not support interpolating color schemes.`)}if(o&&Yte(r))return e.interpolator(Q3(zC(o,t.reverse),t.interpolate,t.interpolateGamma));o&&t.interpolate&&e.interpolate?e.interpolate(yM(t.interpolate,t.interpolateGamma)):Qe(e.round)?e.round(i):Qe(e.rangeRound)&&e.interpolate(i?bg:yf),o&&e.range(zC(o,t.reverse))}function lNe(e,t,n){e!==Ute&&e!==_C&&ae("Only band and point scales support rangeStep.");var r=(t.paddingOuter!=null?t.paddingOuter:t.padding)||0,i=e===_C?1:(t.paddingInner!=null?t.paddingInner:t.padding)||0;return[0,t.rangeStep*fM(n,i,r)]}function cNe(e,t,n){var r=t.schemeExtent,i,o;return se(t.scheme)?o=Q3(t.scheme,t.interpolate,t.interpolateGamma):(i=t.scheme.toLowerCase(),o=vM(i),o||ae(`Unrecognized scheme name: ${t.scheme}`)),n=e===K3?n+1:e===hM?n-1:e===zp||e===X3?+t.schemeCount||ZMe:n,Yte(e)?pU(o,r,t.reverse):Qe(o)?Kte(pU(o,r),n):e===dM?o:o.slice(0,n)}function pU(e,t,n){return Qe(e)&&(t||n)?Xte(e,zC(t||[0,1],n)):e}function zC(e,t){return t?e.slice().reverse():e}function Dre(e){Z.call(this,null,e)}ve(Dre,Z,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(E0(e.sort)),this.modified(n),t}});const gU="zero",Lre="center",Pre="normalize",Ire=["y0","y1"];function sN(e){Z.call(this,null,e)}sN.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:gU,values:[gU,Lre,Pre]},{name:"as",type:"string",array:!0,length:2,default:Ire}]};ve(sN,Z,{transform(e,t){var n=e.as||Ire,r=n[0],i=n[1],o=E0(e.sort),a=e.field||Eg,s=e.offset===Lre?fNe:e.offset===Pre?dNe:hNe,u,l,c,f;for(u=pNe(t.source,e.groupby,o,a),l=0,c=u.length,f=u.max;l<c;++l)s(u[l],f,a,r,i);return t.reflow(e.modified()).modifies(n)}});function fNe(e,t,n,r,i){for(var o=(t-e.sum)/2,a=e.length,s=0,u;s<a;++s)u=e[s],u[r]=o,u[i]=o+=Math.abs(n(u))}function dNe(e,t,n,r,i){for(var o=1/e.sum,a=0,s=e.length,u=0,l=0,c;u<s;++u)c=e[u],c[r]=a,c[i]=a=o*(l+=Math.abs(n(c)))}function hNe(e,t,n,r,i){for(var o=0,a=0,s=e.length,u=0,l,c;u<s;++u)c=e[u],l=+n(c),l<0?(c[r]=a,c[i]=a+=l):(c[r]=o,c[i]=o+=l)}function pNe(e,t,n,r){var i=[],o=y=>y(c),a,s,u,l,c,f,d,p,g;if(t==null)i.push(e.slice());else for(a={},s=0,u=e.length;s<u;++s)c=e[s],f=t.map(o),d=a[f],d||(a[f]=d=[],i.push(d)),d.push(c);for(f=0,g=0,l=i.length;f<l;++f){for(d=i[f],s=0,p=0,u=d.length;s<u;++s)p+=Math.abs(r(d[s]));d.sum=p,p>g&&(g=p),n&&d.sort(n)}return i.max=g,i}const gNe=Object.freeze(Object.defineProperty({__proto__:null,axisticks:Ere,datajoin:Cre,encode:$re,legendentries:kre,linkpath:oN,pie:aN,scale:Rre,sortitems:Dre,stack:sN},Symbol.toStringTag,{value:"Module"}));var mNe=Math.abs,BC=Math.cos,u_=Math.sin,yNe=1e-6,zre=Math.PI,UC=zre/2,mU=vNe(2);function yU(e){return e>1?UC:e<-1?-UC:Math.asin(e)}function vNe(e){return e>0?Math.sqrt(e):0}function bNe(e,t){var n=e*u_(t),r=30,i;do t-=i=(t+u_(t)-n)/(1+BC(t));while(mNe(i)>yNe&&--r>0);return t/2}function xNe(e,t,n){function r(i,o){return[e*i*BC(o=bNe(n,o)),t*u_(o)]}return r.invert=function(i,o){return o=yU(o/t),[i/(e*BC(o)),yU((2*o+u_(2*o))/n)]},r}var wNe=xNe(mU/UC,mU,zre);function ANe(){return ou(wNe).scale(169.529)}const _Ne=k2(),jC=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function SNe(e,t){return function n(){const r=t();return r.type=e,r.path=k2().projection(r),r.copy=r.copy||function(){const i=n();return jC.forEach(o=>{r[o]&&i[o](r[o]())}),i.path.pointRadius(r.path.pointRadius()),i},qte(r)}}function uN(e,t){if(!e||typeof e!="string")throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(l_[e]=SNe(e,t),this):l_[e]||null}function Bre(e){return e&&e.path||_Ne}const l_={albers:N7,albersusa:nK,azimuthalequalarea:oK,azimuthalequidistant:sK,conicconformal:lK,conicequalarea:Ny,conicequidistant:fK,equalEarth:hK,equirectangular:cK,gnomonic:gK,identity:kEe,mercator:O7,mollweide:ANe,naturalEarth1:TEe,orthographic:vK,stereographic:xK,transversemercator:AK};for(const e in l_)uN(e,l_[e]);function ENe(){}const Tu=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Ure(){var e=1,t=1,n=s;function r(u,l){return l.map(c=>i(u,c))}function i(u,l){var c=[],f=[];return o(u,l,d=>{n(d,u,l),CNe(d)>0?c.push([d]):f.push(d)}),f.forEach(d=>{for(var p=0,g=c.length,y;p<g;++p)if($Ne((y=c[p])[0],d)!==-1){y.push(d);return}}),{type:"MultiPolygon",value:l,coordinates:c}}function o(u,l,c){var f=new Array,d=new Array,p,g,y,v,b,x;for(p=g=-1,v=u[0]>=l,Tu[v<<1].forEach(_);++p<e-1;)y=v,v=u[p+1]>=l,Tu[y|v<<1].forEach(_);for(Tu[v<<0].forEach(_);++g<t-1;){for(p=-1,v=u[g*e+e]>=l,b=u[g*e]>=l,Tu[v<<1|b<<2].forEach(_);++p<e-1;)y=v,v=u[g*e+e+p+1]>=l,x=b,b=u[g*e+p+1]>=l,Tu[y|v<<1|b<<2|x<<3].forEach(_);Tu[v|b<<3].forEach(_)}for(p=-1,b=u[g*e]>=l,Tu[b<<2].forEach(_);++p<e-1;)x=b,b=u[g*e+p+1]>=l,Tu[b<<2|x<<3].forEach(_);Tu[b<<3].forEach(_);function _(A){var S=[A[0][0]+p,A[0][1]+g],C=[A[1][0]+p,A[1][1]+g],E=a(S),k=a(C),O,N;(O=d[E])?(N=f[k])?(delete d[O.end],delete f[N.start],O===N?(O.ring.push(C),c(O.ring)):f[O.start]=d[N.end]={start:O.start,end:N.end,ring:O.ring.concat(N.ring)}):(delete d[O.end],O.ring.push(C),d[O.end=k]=O):(O=f[k])?(N=d[E])?(delete f[O.start],delete d[N.end],O===N?(O.ring.push(C),c(O.ring)):f[N.start]=d[O.end]={start:N.start,end:O.end,ring:N.ring.concat(O.ring)}):(delete f[O.start],O.ring.unshift(S),f[O.start=E]=O):f[E]=d[k]={start:E,end:k,ring:[S,C]}}}function a(u){return u[0]*2+u[1]*(e+1)*4}function s(u,l,c){u.forEach(f=>{var d=f[0],p=f[1],g=d|0,y=p|0,v,b=l[y*e+g];d>0&&d<e&&g===d&&(v=l[y*e+g-1],f[0]=d+(c-v)/(b-v)-.5),p>0&&p<t&&y===p&&(v=l[(y-1)*e+g],f[1]=p+(c-v)/(b-v)-.5)})}return r.contour=i,r.size=function(u){if(!arguments.length)return[e,t];var l=Math.floor(u[0]),c=Math.floor(u[1]);return l>=0&&c>=0||ae("invalid size"),e=l,t=c,r},r.smooth=function(u){return arguments.length?(n=u?s:ENe,r):n===s},r}function CNe(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}function $Ne(e,t){for(var n=-1,r=t.length,i;++n<r;)if(i=kNe(e,t[n]))return i;return 0}function kNe(e,t){for(var n=t[0],r=t[1],i=-1,o=0,a=e.length,s=a-1;o<a;s=o++){var u=e[o],l=u[0],c=u[1],f=e[s],d=f[0],p=f[1];if(TNe(u,f,t))return 0;c>r!=p>r&&n<(d-l)*(r-c)/(p-c)+l&&(i=-i)}return i}function TNe(e,t,n){var r;return MNe(e,t,n)&&NNe(e[r=+(e[0]===t[0])],n[r],t[r])}function MNe(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function NNe(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function jre(e,t,n){return function(r){var i=Ks(r),o=n?Math.min(i[0],0):i[0],a=i[1],s=a-o,u=t?jc(o,a,e):s/(e+1);return Pn(o+u,a,u)}}function lN(e){Z.call(this,null,e)}lN.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]};ve(lN,Z,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=e.field||Ur,o=Ure().smooth(e.smooth!==!1),a=e.thresholds||ONe(r,i,e),s=e.as===null?null:e.as||"contour",u=[];return r.forEach(l=>{const c=i(l),f=o.size([c.width,c.height])(c.values,se(a)?a:a(c.values));RNe(f,c,l,e),f.forEach(d=>{u.push(B3(l,Mt(s!=null?{[s]:d}:d)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=u,n}});function ONe(e,t,n){const r=jre(n.levels||10,n.nice,n.zero!==!1);return n.resolve!=="shared"?r:r(e.map(i=>si(t(i).values)))}function RNe(e,t,n,r){let i=r.scale||t.scale,o=r.translate||t.translate;if(Qe(i)&&(i=i(n,r)),Qe(o)&&(o=o(n,r)),(i===1||i==null)&&!o)return;const a=(xt(i)?i:i[0])||1,s=(xt(i)?i:i[1])||1,u=o&&o[0]||0,l=o&&o[1]||0;e.forEach(Wre(t,a,s,u,l))}function Wre(e,t,n,r,i){const o=e.x1||0,a=e.y1||0,s=t*n<0;function u(f){f.forEach(l)}function l(f){s&&f.reverse(),f.forEach(c)}function c(f){f[0]=(f[0]-o)*t+r,f[1]=(f[1]-a)*n+i}return function(f){return f.coordinates.forEach(u),f}}function vU(e,t,n){const r=e>=0?e:ET(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function g6(e){return Qe(e)?e:jr(+e)}function Hre(){var e=u=>u[0],t=u=>u[1],n=Eg,r=[-1,-1],i=960,o=500,a=2;function s(u,l){const c=vU(r[0],u,e)>>a,f=vU(r[1],u,t)>>a,d=c?c+2:0,p=f?f+2:0,g=2*d+(i>>a),y=2*p+(o>>a),v=new Float32Array(g*y),b=new Float32Array(g*y);let x=v;u.forEach(A=>{const S=d+(+e(A)>>a),C=p+(+t(A)>>a);S>=0&&S<g&&C>=0&&C<y&&(v[S+C*g]+=+n(A))}),c>0&&f>0?(ph(g,y,v,b,c),gh(g,y,b,v,f),ph(g,y,v,b,c),gh(g,y,b,v,f),ph(g,y,v,b,c),gh(g,y,b,v,f)):c>0?(ph(g,y,v,b,c),ph(g,y,b,v,c),ph(g,y,v,b,c),x=b):f>0&&(gh(g,y,v,b,f),gh(g,y,b,v,f),gh(g,y,v,b,f),x=b);const _=l?Math.pow(2,-2*a):1/A2(x);for(let A=0,S=g*y;A<S;++A)x[A]*=_;return{values:x,scale:1<<a,width:g,height:y,x1:d,y1:p,x2:d+(i>>a),y2:p+(o>>a)}}return s.x=function(u){return arguments.length?(e=g6(u),s):e},s.y=function(u){return arguments.length?(t=g6(u),s):t},s.weight=function(u){return arguments.length?(n=g6(u),s):n},s.size=function(u){if(!arguments.length)return[i,o];var l=+u[0],c=+u[1];return l>=0&&c>=0||ae("invalid size"),i=l,o=c,s},s.cellSize=function(u){return arguments.length?((u=+u)>=1||ae("invalid cell size"),a=Math.floor(Math.log(u)/Math.LN2),s):1<<a},s.bandwidth=function(u){return arguments.length?(u=Se(u),u.length===1&&(u=[+u[0],+u[0]]),u.length!==2&&ae("invalid bandwidth"),r=u,s):r},s}function ph(e,t,n,r,i){const o=(i<<1)+1;for(let a=0;a<t;++a)for(let s=0,u=0;s<e+i;++s)s<e&&(u+=n[s+a*e]),s>=i&&(s>=o&&(u-=n[s-o+a*e]),r[s-i+a*e]=u/Math.min(s+1,e-1+o-s,o))}function gh(e,t,n,r,i){const o=(i<<1)+1;for(let a=0;a<e;++a)for(let s=0,u=0;s<t+i;++s)s<t&&(u+=n[a+s*e]),s>=i&&(s>=o&&(u-=n[a+(s-o)*e]),r[a+(s-i)*e]=u/Math.min(s+1,t-1+o-s,o))}function cN(e){Z.call(this,null,e)}cN.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const FNe=["x","y","weight","size","cellSize","bandwidth"];function qre(e,t){return FNe.forEach(n=>t[n]!=null?e[n](t[n]):0),e}ve(cN,Z,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=DNe(r,e.groupby),o=(e.groupby||[]).map(xn),a=qre(Hre(),e),s=e.as||"grid",u=[];function l(c,f){for(let d=0;d<o.length;++d)c[o[d]]=f[d];return c}return u=i.map(c=>Mt(l({[s]:a(c,e.counts)},c.dims))),this.value&&(n.rem=this.value),this.value=n.source=n.add=u,n}});function DNe(e,t){var n=[],r=c=>c(s),i,o,a,s,u,l;if(t==null)n.push(e);else for(i={},o=0,a=e.length;o<a;++o)s=e[o],u=t.map(r),l=i[u],l||(i[u]=l=[],l.dims=u,n.push(l)),l.push(s);return n}function fN(e){Z.call(this,null,e)}fN.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]};ve(fN,Z,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=Ure().smooth(e.smooth!==!1),i=e.values,o=e.thresholds||jre(e.count||10,e.nice,!!i),a=e.size,s,u;return i||(i=t.materialize(t.SOURCE).source,s=qre(Hre(),e)(i,!0),u=Wre(s,s.scale||1,s.scale||1,0,0),a=[s.width,s.height],i=s.values),o=se(o)?o:o(i),i=r.size(a)(i,o),u&&i.forEach(u),this.value&&(n.rem=this.value),this.value=n.source=n.add=(i||[]).map(Mt),n}});const WC="Feature",dN="FeatureCollection",LNe="MultiPoint";function hN(e){Z.call(this,null,e)}hN.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};ve(hN,Z,{transform(e,t){var n=this._features,r=this._points,i=e.fields,o=i&&i[0],a=i&&i[1],s=e.geojson||!i&&Ur,u=t.ADD,l;l=e.modified()||t.changed(t.REM)||t.modified(Lr(s))||o&&t.modified(Lr(o))||a&&t.modified(Lr(a)),(!this.value||l)&&(u=t.SOURCE,this._features=n=[],this._points=r=[]),s&&t.visit(u,c=>n.push(s(c))),o&&a&&(t.visit(u,c=>{var f=o(c),d=a(c);f!=null&&d!=null&&(f=+f)===f&&(d=+d)===d&&r.push([f,d])}),n=n.concat({type:WC,geometry:{type:LNe,coordinates:r}})),this.value={type:dN,features:n}}});function pN(e){Z.call(this,null,e)}pN.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};ve(pN,Z,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||Ur,o=e.as||"path",a=n.SOURCE;!r||e.modified()?(this.value=r=Bre(e.projection),n.materialize().reflow()):a=i===Ur||t.modified(i.fields)?n.ADD_MOD:n.ADD;const s=PNe(r,e.pointRadius);return n.visit(a,u=>u[o]=r(i(u))),r.pointRadius(s),n.modifies(o)}});function PNe(e,t){const n=e.pointRadius();return e.context(null),t!=null&&e.pointRadius(t),n}function gN(e){Z.call(this,null,e)}gN.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};ve(gN,Z,{transform(e,t){var n=e.projection,r=e.fields[0],i=e.fields[1],o=e.as||["x","y"],a=o[0],s=o[1],u;function l(c){const f=n([r(c),i(c)]);f?(c[a]=f[0],c[s]=f[1]):(c[a]=void 0,c[s]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,l):(u=t.modified(r.fields)||t.modified(i.fields),t.visit(u?t.ADD_MOD:t.ADD,l)),t.modifies(o)}});function mN(e){Z.call(this,null,e)}mN.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};ve(mN,Z,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.as||"shape",o=n.ADD;return(!r||e.modified())&&(this.value=r=INe(Bre(e.projection),e.field||ca("datum"),e.pointRadius),n.materialize().reflow(),o=n.SOURCE),n.visit(o,a=>a[i]=r),n.modifies(i)}});function INe(e,t,n){const r=n==null?i=>e(t(i)):i=>{var o=e.pointRadius(),a=e.pointRadius(n)(t(i));return e.pointRadius(o),a};return r.context=i=>(e.context(i),r),r}function yN(e){Z.call(this,[],e),this.generator=rEe()}yN.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};ve(yN,Z,{transform(e,t){var n=this.value,r=this.generator,i;if(!n.length||e.modified())for(const o in e)Qe(r[o])&&r[o](e[o]);return i=r(),n.length?t.mod.push(Jee(n[0],i)):t.add.push(Mt(i)),n[0]=i,t}});function vN(e){Z.call(this,null,e)}vN.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]};ve(vN,Z,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r=e.resolve==="shared",i=e.field||Ur,o=BNe(e.opacity,e),a=zNe(e.color,e),s=e.as||"image",u={$x:0,$y:0,$value:0,$max:r?si(n.map(l=>si(i(l).values))):0};return n.forEach(l=>{const c=i(l),f=Ke({},l,u);r||(f.$max=si(c.values||[])),l[s]=UNe(c,f,a.dep?a:jr(a(f)),o.dep?o:jr(o(f)))}),t.reflow(!0).modifies(s)}});function zNe(e,t){let n;return Qe(e)?(n=r=>oa(e(r,t)),n.dep=Gre(e)):n=jr(oa(e||"#888")),n}function BNe(e,t){let n;return Qe(e)?(n=r=>e(r,t),n.dep=Gre(e)):e?n=jr(e):(n=r=>r.$value/r.$max||0,n.dep=!0),n}function Gre(e){if(!Qe(e))return!1;const t=es(Lr(e));return t.$x||t.$y||t.$value||t.$max}function UNe(e,t,n,r){const i=e.width,o=e.height,a=e.x1||0,s=e.y1||0,u=e.x2||i,l=e.y2||o,c=e.values,f=c?v=>c[v]:uc,d=Rc(u-a,l-s),p=d.getContext("2d"),g=p.getImageData(0,0,u-a,l-s),y=g.data;for(let v=s,b=0;v<l;++v){t.$y=v-s;for(let x=a,_=v*i;x<u;++x,b+=4){t.$x=x-a,t.$value=f(x+_);const A=n(t);y[b+0]=A.r,y[b+1]=A.g,y[b+2]=A.b,y[b+3]=~~(255*r(t))}}return p.putImageData(g,0,0),d}function Vre(e){Z.call(this,null,e),this.modified(!0)}ve(Vre,Z,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=WNe(e.type),jC.forEach(r=>{e[r]!=null&&bU(n,r,e[r])})):jC.forEach(r=>{e.modified(r)&&bU(n,r,e[r])}),e.pointRadius!=null&&n.path.pointRadius(e.pointRadius),e.fit&&jNe(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function jNe(e,t){const n=HNe(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}function WNe(e){const t=uN((e||"mercator").toLowerCase());return t||ae("Unrecognized projection type: "+e),t()}function bU(e,t,n){Qe(e[t])&&e[t](n)}function HNe(e){return e=Se(e),e.length===1?e[0]:{type:dN,features:e.reduce((t,n)=>t.concat(qNe(n)),[])}}function qNe(e){return e.type===dN?e.features:Se(e).filter(t=>t!=null).map(t=>t.type===WC?t:{type:WC,geometry:t})}const GNe=Object.freeze(Object.defineProperty({__proto__:null,contour:fN,geojson:hN,geopath:pN,geopoint:gN,geoshape:mN,graticule:yN,heatmap:vN,isocontour:lN,kde2d:cN,projection:Vre},Symbol.toStringTag,{value:"Module"})),xU={center:vX,collide:gSe,nbody:AX,link:xX,x:SSe,y:ESe},wm="forces",HC=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],VNe=["static","iterations"],Yre=["x","y","vx","vy"];function bN(e){Z.call(this,null,e)}bN.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30,expr:!0},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:Yre}]};ve(bN,Z,{transform(e,t){var n=this.value,r=t.changed(t.ADD_REM),i=e.modified(HC),o=e.iterations||300;if(n?(r&&(t.modifies("index"),n.nodes(t.source)),(i||t.changed(t.MOD))&&Jre(n,e,0,t)):(this.value=n=JNe(t.source,e),n.on("tick",YNe(t.dataflow,this)),e.static||(r=!0,n.tick()),t.modifies("index")),i||r||e.modified(VNe)||t.changed()&&e.restart){if(n.alpha(Math.max(n.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/o)),e.static)for(n.stop();--o>=0;)n.tick();else if(n.stopped()&&n.restart(),!r)return t.StopPropagation}return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let s=this._argops,u=0,l=s.length,c;u<l;++u)if(c=s[u],!(c.name!==wm||c.op._argval.force!=="link")){for(var r=c.op._argops,i=0,o=r.length,a;i<o;++i)if(r[i].name==="links"&&(a=r[i].op.source)){n.pulse(a,n.changeset().reflow());break}}return t.reflow(e.modified()).modifies(Yre)}});function YNe(e,t){return()=>e.touch(t).run()}function JNe(e,t){const n=wX(e),r=n.stop,i=n.restart;let o=!1;return n.stopped=()=>o,n.restart=()=>(o=!1,i()),n.stop=()=>(o=!0,r()),Jre(n,t,!0).on("end",()=>o=!0)}function Jre(e,t,n,r){var i=Se(t.forces),o,a,s,u;for(o=0,a=HC.length;o<a;++o)s=HC[o],s!==wm&&t.modified(s)&&e[s](t[s]);for(o=0,a=i.length;o<a;++o)u=wm+o,s=n||t.modified(wm,o)?KNe(i[o]):r&&XNe(i[o],r)?e.force(u):null,s&&e.force(u,s);for(a=e.numForces||0;o<a;++o)e.force(wm+o,null);return e.numForces=i.length,e}function XNe(e,t){var n,r;for(n in e)if(Qe(r=e[n])&&t.modified(Lr(r)))return 1;return 0}function KNe(e){var t,n;Be(xU,e.force)||ae("Unrecognized force: "+e.force),t=xU[e.force]();for(n in e)Qe(t[n])&&QNe(t[n],e[n],e);return t}function QNe(e,t,n){e(Qe(t)?r=>t(r,n):t)}const ZNe=Object.freeze(Object.defineProperty({__proto__:null,force:bN},Symbol.toStringTag,{value:"Module"}));function qC(e,t,n){const r={};return e.each(i=>{const o=i.data;n(o)&&(r[t(o)]=i)}),e.lookup=r,e}function xN(e){Z.call(this,null,e)}xN.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const eOe=e=>e.values;ve(xN,Z,{transform(e,t){t.source||ae("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),o=this.value;return(!o||r||t.changed())&&(o&&o.each(a=>{a.children&&z3(a.data)&&i.rem.push(a.data)}),this.value=o=R7({values:Se(e.keys).reduce((a,s)=>(a.key(s),a),tOe()).entries(i.source)},eOe),n&&o.each(a=>{a.children&&(a=Mt(a.data),i.add.push(a),i.source.push(a))}),qC(o,Ie,Ie)),i.source.root=o,i}});function tOe(){const e=[],t={entries:i=>r(n(i,0),0),key:i=>(e.push(i),t)};function n(i,o){if(o>=e.length)return i;const a=i.length,s=e[o++],u={},l={};let c=-1,f,d,p;for(;++c<a;)f=s(d=i[c])+"",(p=u[f])?p.push(d):u[f]=[d];for(f in u)l[f]=n(u[f],o);return l}function r(i,o){if(++o>e.length)return i;const a=[];for(const s in i)a.push({key:s,values:r(i[s],o)});return a}return t}function Al(e){Z.call(this,null,e)}const nOe=(e,t)=>e.parent===t.parent?1:2;ve(Al,Z,{transform(e,t){(!t.source||!t.source.root)&&ae(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(e.method),r=this.fields,i=t.source.root,o=e.as||r;e.field?i.sum(e.field):i.count(),e.sort&&i.sort(E0(e.sort,a=>a.data)),rOe(n,this.params,e),n.separation&&n.separation(e.separation!==!1?nOe:Eg);try{this.value=n(i)}catch(a){ae(a)}return i.each(a=>iOe(a,r,o)),t.reflow(e.modified()).modifies(o).modifies("leaf")}});function rOe(e,t,n){for(let r,i=0,o=t.length;i<o;++i)r=t[i],r in n&&e[r](n[r])}function iOe(e,t,n){const r=e.data,i=t.length-1;for(let o=0;o<i;++o)r[n[o]]=e[t[o]];r[n[i]]=e.children?e.children.length:0}const GC=["x","y","r","depth","children"];function wN(e){Al.call(this,e)}wN.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:GC.length,default:GC}]};ve(wN,Al,{layout:p9e,params:["radius","size","padding"],fields:GC});const VC=["x0","y0","x1","y1","depth","children"];function AN(e){Al.call(this,e)}AN.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:VC.length,default:VC}]};ve(AN,Al,{layout:g9e,params:["size","round","padding"],fields:VC});function _N(e){Z.call(this,null,e)}_N.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};ve(_N,Z,{transform(e,t){t.source||ae("Stratify transform requires an upstream data source.");let n=this.value;const r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),o=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),o&&(n=i.source.length?qC(zz().id(e.key).parentId(e.parentKey)(i.source),e.key,fa):qC(zz()([{}]),e.key,e.key)),i.source.root=this.value=n,i}});const wU={tidy:E9e,cluster:PEe},YC=["x","y","depth","children"];function SN(e){Al.call(this,e)}SN.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:YC.length,default:YC}]};ve(SN,Al,{layout(e){const t=e||"tidy";if(Be(wU,t))return wU[t]();ae("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:YC});function EN(e){Z.call(this,[],e)}EN.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};ve(EN,Z,{transform(e,t){const n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),o={};return r||ae("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,a=>o[Ie(a)]=1),r.each(a=>{const s=a.data,u=a.parent&&a.parent.data;u&&o[Ie(s)]&&o[Ie(u)]&&i.add.push(Mt({source:u,target:s}))}),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,a=>o[Ie(a)]=1),n.forEach(a=>{(o[Ie(a.source)]||o[Ie(a.target)])&&i.mod.push(a)})),i}});const AU={binary:$9e,dice:N2,slice:v3,slicedice:k9e,squarify:MK,resquarify:T9e},JC=["x0","y0","x1","y1","depth","children"];function CN(e){Al.call(this,e)}CN.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:JC.length,default:JC}]};ve(CN,Al,{layout(){const e=C9e();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{Be(AU,t)?e.tile(AU[t]):ae("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:JC});const oOe=Object.freeze(Object.defineProperty({__proto__:null,nest:xN,pack:wN,partition:AN,stratify:_N,tree:SN,treelinks:EN,treemap:CN},Symbol.toStringTag,{value:"Module"})),m6=4278190080;function aOe(e,t){const n=e.bitmap();return(t||[]).forEach(r=>n.set(e(r.boundary[0]),e(r.boundary[3]))),[n,void 0]}function sOe(e,t,n,r,i){const o=e.width,a=e.height,s=r||i,u=Rc(o,a).getContext("2d"),l=Rc(o,a).getContext("2d"),c=s&&Rc(o,a).getContext("2d");n.forEach(k=>hw(u,k,!1)),hw(l,t,!1),s&&hw(c,t,!0);const f=y6(u,o,a),d=y6(l,o,a),p=s&&y6(c,o,a),g=e.bitmap(),y=s&&e.bitmap();let v,b,x,_,A,S,C,E;for(b=0;b<a;++b)for(v=0;v<o;++v)A=b*o+v,S=f[A]&m6,E=d[A]&m6,C=s&&p[A]&m6,(S||C||E)&&(x=e(v),_=e(b),!i&&(S||E)&&g.set(x,_),s&&(S||C)&&y.set(x,_));return[g,y]}function y6(e,t,n){return new Uint32Array(e.getImageData(0,0,t,n).data.buffer)}function hw(e,t,n){if(!t.length)return;const r=t[0].mark.marktype;r==="group"?t.forEach(i=>{i.items.forEach(o=>hw(e,o.items,n))}):Ao[r].draw(e,{items:n?t.map(uOe):t})}function uOe(e){const t=B3(e,{});return t.stroke&&t.strokeOpacity!==0||t.fill&&t.fillOpacity!==0?{...t,strokeOpacity:1,stroke:"#000",fillOpacity:0}:t}const Mu=5,Vr=31,Wy=32,rc=new Uint32Array(Wy+1),Pa=new Uint32Array(Wy+1);Pa[0]=0;rc[0]=~Pa[0];for(let e=1;e<=Wy;++e)Pa[e]=Pa[e-1]<<1|1,rc[e]=~Pa[e];function lOe(e,t){const n=new Uint32Array(~~((e*t+Wy)/Wy));function r(o,a){n[o]|=a}function i(o,a){n[o]&=a}return{array:n,get:(o,a)=>{const s=a*e+o;return n[s>>>Mu]&1<<(s&Vr)},set:(o,a)=>{const s=a*e+o;r(s>>>Mu,1<<(s&Vr))},clear:(o,a)=>{const s=a*e+o;i(s>>>Mu,~(1<<(s&Vr)))},getRange:(o,a,s,u)=>{let l=u,c,f,d,p;for(;l>=a;--l)if(c=l*e+o,f=l*e+s,d=c>>>Mu,p=f>>>Mu,d===p){if(n[d]&rc[c&Vr]&Pa[(f&Vr)+1])return!0}else{if(n[d]&rc[c&Vr]||n[p]&Pa[(f&Vr)+1])return!0;for(let g=d+1;g<p;++g)if(n[g])return!0}return!1},setRange:(o,a,s,u)=>{let l,c,f,d,p;for(;a<=u;++a)if(l=a*e+o,c=a*e+s,f=l>>>Mu,d=c>>>Mu,f===d)r(f,rc[l&Vr]&Pa[(c&Vr)+1]);else for(r(f,rc[l&Vr]),r(d,Pa[(c&Vr)+1]),p=f+1;p<d;++p)r(p,4294967295)},clearRange:(o,a,s,u)=>{let l,c,f,d,p;for(;a<=u;++a)if(l=a*e+o,c=a*e+s,f=l>>>Mu,d=c>>>Mu,f===d)i(f,Pa[l&Vr]|rc[(c&Vr)+1]);else for(i(f,Pa[l&Vr]),i(d,rc[(c&Vr)+1]),p=f+1;p<d;++p)i(p,0)},outOfBounds:(o,a,s,u)=>o<0||a<0||u>=t||s>=e}}function cOe(e,t,n){const r=Math.max(1,Math.sqrt(e*t/1e6)),i=~~((e+2*n+r)/r),o=~~((t+2*n+r)/r),a=s=>~~((s+n)/r);return a.invert=s=>s*r-n,a.bitmap=()=>lOe(i,o),a.ratio=r,a.padding=n,a.width=e,a.height=t,a}function fOe(e,t,n,r){const i=e.width,o=e.height;return function(a){const s=a.datum.datum.items[r].items,u=s.length,l=a.datum.fontSize,c=mo.width(a.datum,a.datum.text);let f=0,d,p,g,y,v,b,x;for(let _=0;_<u;++_)d=s[_].x,g=s[_].y,p=s[_].x2===void 0?d:s[_].x2,y=s[_].y2===void 0?g:s[_].y2,v=(d+p)/2,b=(g+y)/2,x=Math.abs(p-d+y-g),x>=f&&(f=x,a.x=v,a.y=b);return v=c/2,b=l/2,d=a.x-v,p=a.x+v,g=a.y-b,y=a.y+b,a.align="center",d<0&&p<=i?a.align="left":0<=d&&i<p&&(a.align="right"),a.baseline="middle",g<0&&y<=o?a.baseline="top":0<=g&&o<y&&(a.baseline="bottom"),!0}}function c_(e,t,n,r,i,o){let a=n/2;return e-a<0||e+a>i||t-(a=r/2)<0||t+a>o}function vc(e,t,n,r,i,o,a,s){const u=i*o/(r*2),l=e(t-u),c=e(t+u),f=e(n-(o=o/2)),d=e(n+o);return a.outOfBounds(l,f,c,d)||a.getRange(l,f,c,d)||s&&s.getRange(l,f,c,d)}function dOe(e,t,n,r){const i=e.width,o=e.height,a=t[0],s=t[1];function u(l,c,f,d,p){const g=e.invert(l),y=e.invert(c);let v=f,b=o,x;if(!c_(g,y,d,p,i,o)&&!vc(e,g,y,p,d,v,a,s)&&!vc(e,g,y,p,d,p,a,null)){for(;b-v>=1;)x=(v+b)/2,vc(e,g,y,p,d,x,a,s)?b=x:v=x;if(v>f)return[g,y,v,!0]}}return function(l){const c=l.datum.datum.items[r].items,f=c.length,d=l.datum.fontSize,p=mo.width(l.datum,l.datum.text);let g=n?d:0,y=!1,v=!1,b=0,x,_,A,S,C,E,k,O,N,F,W,I,M,D,P,U,z;for(let H=0;H<f;++H){for(x=c[H].x,A=c[H].y,_=c[H].x2===void 0?x:c[H].x2,S=c[H].y2===void 0?A:c[H].y2,x>_&&(z=x,x=_,_=z),A>S&&(z=A,A=S,S=z),N=e(x),W=e(_),F=~~((N+W)/2),I=e(A),D=e(S),M=~~((I+D)/2),k=F;k>=N;--k)for(O=M;O>=I;--O)U=u(k,O,g,p,d),U&&([l.x,l.y,g,y]=U);for(k=F;k<=W;++k)for(O=M;O<=D;++O)U=u(k,O,g,p,d),U&&([l.x,l.y,g,y]=U);!y&&!n&&(P=Math.abs(_-x+S-A),C=(x+_)/2,E=(A+S)/2,P>=b&&!c_(C,E,p,d,i,o)&&!vc(e,C,E,d,p,d,a,null)&&(b=P,l.x=C,l.y=E,v=!0))}return y||v?(C=p/2,E=d/2,a.setRange(e(l.x-C),e(l.y-E),e(l.x+C),e(l.y+E)),l.align="center",l.baseline="middle",!0):!1}}const hOe=[-1,-1,1,1],pOe=[-1,1,-1,1];function gOe(e,t,n,r){const i=e.width,o=e.height,a=t[0],s=t[1],u=e.bitmap();return function(l){const c=l.datum.datum.items[r].items,f=c.length,d=l.datum.fontSize,p=mo.width(l.datum,l.datum.text),g=[];let y=n?d:0,v=!1,b=!1,x=0,_,A,S,C,E,k,O,N,F,W,I,M;for(let D=0;D<f;++D){for(_=c[D].x,S=c[D].y,A=c[D].x2===void 0?_:c[D].x2,C=c[D].y2===void 0?S:c[D].y2,g.push([e((_+A)/2),e((S+C)/2)]);g.length;)if([O,N]=g.pop(),!(a.get(O,N)||s.get(O,N)||u.get(O,N))){u.set(O,N);for(let P=0;P<4;++P)E=O+hOe[P],k=N+pOe[P],u.outOfBounds(E,k,E,k)||g.push([E,k]);if(E=e.invert(O),k=e.invert(N),F=y,W=o,!c_(E,k,p,d,i,o)&&!vc(e,E,k,d,p,F,a,s)&&!vc(e,E,k,d,p,d,a,null)){for(;W-F>=1;)I=(F+W)/2,vc(e,E,k,d,p,I,a,s)?W=I:F=I;F>y&&(l.x=E,l.y=k,y=F,v=!0)}}!v&&!n&&(M=Math.abs(A-_+C-S),E=(_+A)/2,k=(S+C)/2,M>=x&&!c_(E,k,p,d,i,o)&&!vc(e,E,k,d,p,d,a,null)&&(x=M,l.x=E,l.y=k,b=!0))}return v||b?(E=p/2,k=d/2,a.setRange(e(l.x-E),e(l.y-k),e(l.x+E),e(l.y+k)),l.align="center",l.baseline="middle",!0):!1}}const mOe=["right","center","left"],yOe=["bottom","middle","top"];function vOe(e,t,n,r){const i=e.width,o=e.height,a=t[0],s=t[1],u=r.length;return function(l){const c=l.boundary,f=l.datum.fontSize;if(c[2]<0||c[5]<0||c[0]>i||c[3]>o)return!1;let d=l.textWidth??0,p,g,y,v,b,x,_,A,S,C,E,k,O,N,F;for(let W=0;W<u;++W){if(p=(n[W]&3)-1,g=(n[W]>>>2&3)-1,y=p===0&&g===0||r[W]<0,v=p&&g?Math.SQRT1_2:1,b=r[W]<0?-1:1,x=c[1+p]+r[W]*p*v,E=c[4+g]+b*f*g/2+r[W]*g*v,A=E-f/2,S=E+f/2,k=e(x),N=e(A),F=e(S),!d)if(_U(k,k,N,F,a,s,x,x,A,S,c,y))d=mo.width(l.datum,l.datum.text);else continue;if(C=x+b*d*p/2,x=C-d/2,_=C+d/2,k=e(x),O=e(_),_U(k,O,N,F,a,s,x,_,A,S,c,y))return l.x=p?p*b<0?_:x:C,l.y=g?g*b<0?S:A:E,l.align=mOe[p*b+1],l.baseline=yOe[g*b+1],a.setRange(k,N,O,F),!0}return!1}}function _U(e,t,n,r,i,o,a,s,u,l,c,f){return!(i.outOfBounds(e,n,t,r)||(f&&o||i).getRange(e,n,t,r))}const v6=0,b6=4,x6=8,w6=0,A6=1,_6=2,bOe={"top-left":v6+w6,top:v6+A6,"top-right":v6+_6,left:b6+w6,middle:b6+A6,right:b6+_6,"bottom-left":x6+w6,bottom:x6+A6,"bottom-right":x6+_6},xOe={naive:fOe,"reduced-search":dOe,floodfill:gOe};function wOe(e,t,n,r,i,o,a,s,u,l,c){if(!e.length)return e;const f=Math.max(r.length,i.length),d=AOe(r,f),p=_Oe(i,f),g=SOe(e[0].datum),y=g==="group"&&e[0].datum.items[u].marktype,v=y==="area",b=EOe(g,y,s,u),x=l===null||l===1/0,_=v&&c==="naive";let A=-1,S=-1;const C=e.map(N=>{const F=x?mo.width(N,N.text):void 0;return A=Math.max(A,F),S=Math.max(S,N.fontSize),{datum:N,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:b(N),textWidth:F}});l=l===null||l===1/0?Math.max(A,S)+Math.max(...r):l;const E=cOe(t[0],t[1],l);let k;if(!_){n&&C.sort((W,I)=>n(W.datum,I.datum));let N=!1;for(let W=0;W<p.length&&!N;++W)N=p[W]===5||d[W]<0;const F=(g&&a||v)&&e.map(W=>W.datum);k=o.length||F?sOe(E,F||[],o,N,v):aOe(E,a&&C)}const O=v?xOe[c](E,k,a,u):vOe(E,k,p,d);return C.forEach(N=>N.opacity=+O(N)),C}function AOe(e,t){const n=new Float64Array(t),r=e.length;for(let i=0;i<r;++i)n[i]=e[i]||0;for(let i=r;i<t;++i)n[i]=n[r-1];return n}function _Oe(e,t){const n=new Int8Array(t),r=e.length;for(let i=0;i<r;++i)n[i]|=bOe[e[i]];for(let i=r;i<t;++i)n[i]=n[r-1];return n}function SOe(e){return e&&e.mark&&e.mark.marktype}function EOe(e,t,n,r){const i=o=>[o.x,o.x,o.x,o.y,o.y,o.y];return e?e==="line"||e==="area"?o=>i(o.datum):t==="line"?o=>{const a=o.datum.items[r].items;return i(a.length?a[n==="start"?0:a.length-1]:{x:NaN,y:NaN})}:o=>{const a=o.datum.bounds;return[a.x1,(a.x1+a.x2)/2,a.x2,a.y1,(a.y1+a.y2)/2,a.y2]}:i}const XC=["x","y","opacity","align","baseline"],Xre=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function $N(e){Z.call(this,null,e)}$N.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:Xre},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:XC.length,default:XC}]};ve($N,Z,{transform(e,t){function n(o){const a=e[o];return Qe(a)&&t.modified(a.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||n("sort")))return;(!e.size||e.size.length!==2)&&ae("Size parameter should be specified as a [width, height] array.");const i=e.as||XC;return wOe(t.materialize(t.SOURCE).source||[],e.size,e.sort,Se(e.offset==null?1:e.offset),Se(e.anchor||Xre),e.avoidMarks||[],e.avoidBaseMark!==!1,e.lineAnchor||"end",e.markIndex||0,e.padding===void 0?0:e.padding,e.method||"naive").forEach(o=>{const a=o.datum;a[i[0]]=o.x,a[i[1]]=o.y,a[i[2]]=o.opacity,a[i[3]]=o.align,a[i[4]]=o.baseline}),t.reflow(r).modifies(i)}});const COe=Object.freeze(Object.defineProperty({__proto__:null,label:$N},Symbol.toStringTag,{value:"Module"}));function Kre(e,t){var n=[],r=function(c){return c(s)},i,o,a,s,u,l;if(t==null)n.push(e);else for(i={},o=0,a=e.length;o<a;++o)s=e[o],u=t.map(r),l=i[u],l||(i[u]=l=[],l.dims=u,n.push(l)),l.push(s);return n}function kN(e){Z.call(this,null,e)}kN.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]};ve(kN,Z,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=Kre(r,e.groupby),o=(e.groupby||[]).map(xn),a=o.length,s=e.as||[xn(e.x),xn(e.y)],u=[];i.forEach(l=>{hte(l,e.x,e.y,e.bandwidth||.3).forEach(c=>{const f={};for(let d=0;d<a;++d)f[o[d]]=l.dims[d];f[s[0]]=c[0],f[s[1]]=c[1],u.push(Mt(f))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});const KC={constant:PT,linear:IT,log:lte,exp:cte,pow:fte,quad:zT,poly:dte},$Oe=(e,t)=>e==="poly"?t:e==="quad"?2:1;function TN(e){Z.call(this,null,e)}TN.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(KC)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]};ve(TN,Z,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=Kre(r,e.groupby),o=(e.groupby||[]).map(xn),a=e.method||"linear",s=e.order==null?3:e.order,u=$Oe(a,s),l=e.as||[xn(e.x),xn(e.y)],c=KC[a],f=[];let d=e.extent;Be(KC,a)||ae("Invalid regression method: "+a),d!=null&&a==="log"&&d[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),d=null),i.forEach(p=>{if(p.length<=u){t.dataflow.warn("Skipping regression with more parameters than data points.");return}const y=c(p,e.x,e.y,s);if(e.params){f.push(Mt({keys:p.dims,coef:y.coef,rSquared:y.rSquared}));return}const v=d||Ks(p,e.x),b=x=>{const _={};for(let A=0;A<o.length;++A)_[o[A]]=p.dims[A];_[l[0]]=x[0],_[l[1]]=x[1],f.push(Mt(_))};a==="linear"||a==="constant"?v.forEach(x=>b([x,y.predict(x)])):V3(y.predict,v,25,200).forEach(b)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=f}return n}});const kOe=Object.freeze(Object.defineProperty({__proto__:null,loess:kN,regression:TN},Symbol.toStringTag,{value:"Module"}));function MN(e){Z.call(this,null,e)}MN.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const TOe=[-1e5,-1e5,1e5,1e5];ve(MN,Z,{transform(e,t){const n=e.as||"path",r=t.source;if(!r||!r.length)return t;let i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:TOe;const o=this.value=v7.from(r,e.x,e.y).voronoi(i);for(let a=0,s=r.length;a<s;++a){const u=o.cellPolygon(a);r[a][n]=u&&!NOe(u)?MOe(u):null}return t.reflow(e.modified()).modifies(n)}});function MOe(e){const t=e[0][0],n=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}function NOe(e){return e.length===2&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]}const OOe=Object.freeze(Object.defineProperty({__proto__:null,voronoi:MN},Symbol.toStringTag,{value:"Module"}));var S6=Math.PI/180,Am=64,pw=2048;function ROe(){var e=[256,256],t,n,r,i,o,a,s,u=Qre,l=[],c=Math.random,f={};f.layout=function(){for(var g=d(Rc()),y=zOe((e[0]>>5)*e[1]),v=null,b=l.length,x=-1,_=[],A=l.map(C=>({text:t(C),font:n(C),style:i(C),weight:o(C),rotate:a(C),size:~~(r(C)+1e-14),padding:s(C),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:C})).sort((C,E)=>E.size-C.size);++x<b;){var S=A[x];S.x=e[0]*(c()+.5)>>1,S.y=e[1]*(c()+.5)>>1,FOe(g,S,A,x),S.hasText&&p(y,S,v)&&(_.push(S),v?LOe(v,S):v=[{x:S.x+S.x0,y:S.y+S.y0},{x:S.x+S.x1,y:S.y+S.y1}],S.x-=e[0]>>1,S.y-=e[1]>>1)}return _};function d(g){g.width=g.height=1;var y=Math.sqrt(g.getContext("2d").getImageData(0,0,1,1).data.length>>2);g.width=(Am<<5)/y,g.height=pw/y;var v=g.getContext("2d");return v.fillStyle=v.strokeStyle="red",v.textAlign="center",{context:v,ratio:y}}function p(g,y,v){for(var b=y.x,x=y.y,_=Math.sqrt(e[0]*e[0]+e[1]*e[1]),A=u(e),S=c()<.5?1:-1,C=-S,E,k,O;(E=A(C+=S))&&(k=~~E[0],O=~~E[1],!(Math.min(Math.abs(k),Math.abs(O))>=_));)if(y.x=b+k,y.y=x+O,!(y.x+y.x0<0||y.y+y.y0<0||y.x+y.x1>e[0]||y.y+y.y1>e[1])&&(!v||!DOe(y,g,e[0]))&&(!v||POe(y,v))){for(var N=y.sprite,F=y.width>>5,W=e[0]>>5,I=y.x-(F<<4),M=I&127,D=32-M,P=y.y1-y.y0,U=(y.y+y.y0)*W+(I>>5),z,H=0;H<P;H++){z=0;for(var j=0;j<=F;j++)g[U+j]|=z<<D|(j<F?(z=N[H*F+j])>>>M:0);U+=W}return y.sprite=null,!0}return!1}return f.words=function(g){return arguments.length?(l=g,f):l},f.size=function(g){return arguments.length?(e=[+g[0],+g[1]],f):e},f.font=function(g){return arguments.length?(n=Hf(g),f):n},f.fontStyle=function(g){return arguments.length?(i=Hf(g),f):i},f.fontWeight=function(g){return arguments.length?(o=Hf(g),f):o},f.rotate=function(g){return arguments.length?(a=Hf(g),f):a},f.text=function(g){return arguments.length?(t=Hf(g),f):t},f.spiral=function(g){return arguments.length?(u=BOe[g]||g,f):u},f.fontSize=function(g){return arguments.length?(r=Hf(g),f):r},f.padding=function(g){return arguments.length?(s=Hf(g),f):s},f.random=function(g){return arguments.length?(c=g,f):c},f}function FOe(e,t,n,r){if(!t.sprite){var i=e.context,o=e.ratio;i.clearRect(0,0,(Am<<5)/o,pw/o);var a=0,s=0,u=0,l=n.length,c,f,d,p,g;for(--r;++r<l;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/o)+"px "+t.font,c=i.measureText(t.text+"m").width*o,d=t.size<<1,t.rotate){var y=Math.sin(t.rotate*S6),v=Math.cos(t.rotate*S6),b=c*v,x=c*y,_=d*v,A=d*y;c=Math.max(Math.abs(b+A),Math.abs(b-A))+31>>5<<5,d=~~Math.max(Math.abs(x+_),Math.abs(x-_))}else c=c+31>>5<<5;if(d>u&&(u=d),a+c>=Am<<5&&(a=0,s+=u,u=0),s+d>=pw)break;i.translate((a+(c>>1))/o,(s+(d>>1))/o),t.rotate&&i.rotate(t.rotate*S6),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=c,t.height=d,t.xoff=a,t.yoff=s,t.x1=c>>1,t.y1=d>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,a+=c}for(var S=i.getImageData(0,0,(Am<<5)/o,pw/o).data,C=[];--r>=0;)if(t=n[r],!!t.hasText){for(c=t.width,f=c>>5,d=t.y1-t.y0,p=0;p<d*f;p++)C[p]=0;if(a=t.xoff,a==null)return;s=t.yoff;var E=0,k=-1;for(g=0;g<d;g++){for(p=0;p<c;p++){var O=f*g+(p>>5),N=S[(s+g)*(Am<<5)+(a+p)<<2]?1<<31-p%32:0;C[O]|=N,E|=N}E?k=g:(t.y0++,d--,g--,s++)}t.y1=t.y0+k,t.sprite=C.slice(0,(t.y1-t.y0)*f)}}}function DOe(e,t,n){n>>=5;for(var r=e.sprite,i=e.width>>5,o=e.x-(i<<4),a=o&127,s=32-a,u=e.y1-e.y0,l=(e.y+e.y0)*n+(o>>5),c,f=0;f<u;f++){c=0;for(var d=0;d<=i;d++)if((c<<s|(d<i?(c=r[f*i+d])>>>a:0))&t[l+d])return!0;l+=n}return!1}function LOe(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function POe(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function Qre(e){var t=e[0]/e[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function IOe(e){var t=4,n=t*e[0]/e[1],r=0,i=0;return function(o){var a=o<0?-1:1;switch(Math.sqrt(1+4*a*o)-a&3){case 0:r+=n;break;case 1:i+=t;break;case 2:r-=n;break;default:i-=t;break}return[r,i]}}function zOe(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}function Hf(e){return typeof e=="function"?e:function(){return e}}var BOe={archimedean:Qre,rectangular:IOe};const Zre=["x","y","font","fontSize","fontStyle","fontWeight","angle"],UOe=["text","font","rotate","fontSize","fontStyle","fontWeight"];function NN(e){Z.call(this,ROe(),e)}NN.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:Zre}]};ve(NN,Z,{transform(e,t){e.size&&!(e.size[0]&&e.size[1])&&ae("Wordcloud size dimensions must be non-zero.");function n(g){const y=e[g];return Qe(y)&&t.modified(y.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||UOe.some(n)))return;const i=t.materialize(t.SOURCE).source,o=this.value,a=e.as||Zre;let s=e.fontSize||14,u;if(Qe(s)?u=e.fontSizeRange:s=jr(s),u){const g=s,y=St("sqrt")().domain(Ks(i,g)).range(u);s=v=>y(g(v))}i.forEach(g=>{g[a[0]]=NaN,g[a[1]]=NaN,g[a[3]]=0});const l=o.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(s).random(ha).layout(),c=o.size(),f=c[0]>>1,d=c[1]>>1,p=l.length;for(let g=0,y,v;g<p;++g)y=l[g],v=y.datum,v[a[0]]=y.x+f,v[a[1]]=y.y+d,v[a[2]]=y.font,v[a[3]]=y.size,v[a[4]]=y.style,v[a[5]]=y.weight,v[a[6]]=y.rotate;return t.reflow(r).modifies(a)}});const jOe=Object.freeze(Object.defineProperty({__proto__:null,wordcloud:NN},Symbol.toStringTag,{value:"Module"})),WOe=e=>new Uint8Array(e),HOe=e=>new Uint16Array(e),Jm=e=>new Uint32Array(e);function qOe(){let e=8,t=[],n=Jm(0),r=hx(0,e),i=hx(0,e);return{data:()=>t,seen:()=>n=GOe(n,t.length),add(o){for(let a=0,s=t.length,u=o.length,l;a<u;++a)l=o[a],l._index=s++,t.push(l)},remove(o,a){const s=t.length,u=Array(s-o),l=t;let c,f,d;for(f=0;!a[f]&&f<s;++f)u[f]=t[f],l[f]=f;for(d=f;f<s;++f)c=t[f],a[f]?l[f]=-1:(l[f]=d,r[d]=r[f],i[d]=i[f],u[d]=c,c._index=d++),r[f]=0;return t=u,l},size:()=>t.length,curr:()=>r,prev:()=>i,reset:o=>i[o]=r[o],all:()=>e<257?255:e<65537?65535:4294967295,set(o,a){r[o]|=a},clear(o,a){r[o]&=~a},resize(o,a){const s=r.length;(o>s||a>e)&&(e=Math.max(a,e),r=hx(o,e,r),i=hx(o,e))}}}function GOe(e,t,n){return e.length>=t?e:(n=n||new e.constructor(t),n.set(e),n)}function hx(e,t,n){const r=(t<257?WOe:t<65537?HOe:Jm)(e);return n&&r.set(n),r}function SU(e,t,n){const r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(i,o){const a=this,s=a.bisect(a.range,i.value),u=i.index,l=s[0],c=s[1],f=u.length;let d;for(d=0;d<l;++d)o[u[d]]|=r;for(d=c;d<f;++d)o[u[d]]|=r;return a}}}function EU(){let e=Jm(0),t=[],n=0;function r(s,u,l){if(!u.length)return[];const c=n,f=u.length,d=Jm(f);let p=Array(f),g,y,v;for(v=0;v<f;++v)p[v]=s(u[v]),d[v]=v;if(p=VOe(p,d),c)g=t,y=e,t=Array(c+f),e=Jm(c+f),YOe(l,g,y,c,p,d,f,t,e);else{if(l>0)for(v=0;v<f;++v)d[v]+=l;t=p,e=d}return n=c+f,{index:d,value:p}}function i(s,u){const l=n;let c,f,d;for(f=0;!u[e[f]]&&f<l;++f);for(d=f;f<l;++f)u[c=e[f]]||(e[d]=c,t[d]=t[f],++d);n=l-s}function o(s){for(let u=0,l=n;u<l;++u)e[u]=s[e[u]]}function a(s,u){let l;return u?l=u.length:(u=t,l=n),[gwe(u,s[0],0,l),Kw(u,s[1],0,l)]}return{insert:r,remove:i,bisect:a,reindex:o,index:()=>e,size:()=>n}}function VOe(e,t){return e.sort.call(t,(n,r)=>{const i=e[n],o=e[r];return i<o?-1:i>o?1:0}),dJ(e,t)}function YOe(e,t,n,r,i,o,a,s,u){let l=0,c=0,f;for(f=0;l<r&&c<a;++f)t[l]<i[c]?(s[f]=t[l],u[f]=n[l++]):(s[f]=i[c],u[f]=o[c++]+e);for(;l<r;++l,++f)s[f]=t[l],u[f]=n[l];for(;c<a;++c,++f)s[f]=i[c],u[f]=o[c]+e}function ON(e){Z.call(this,qOe(),e),this._indices=null,this._dims=null}ON.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};ve(ON,Z,{transform(e,t){if(this._dims){var n=e.modified("fields")||e.fields.some(r=>t.modified(r.fields));return n?this.reinit(e,t):this.eval(e,t)}else return this.init(e,t)},init(e,t){const n=e.fields,r=e.query,i=this._indices={},o=this._dims=[],a=r.length;let s=0,u,l;for(;s<a;++s)u=n[s].fname,l=i[u]||(i[u]=EU()),o.push(SU(l,s,r[s]));return this.eval(e,t)},reinit(e,t){const n=t.materialize().fork(),r=e.fields,i=e.query,o=this._indices,a=this._dims,s=this.value,u=s.curr(),l=s.prev(),c=s.all(),f=n.rem=n.add,d=n.mod,p=i.length,g={};let y,v,b,x,_,A,S,C,E;if(l.set(u),t.rem.length&&(_=this.remove(e,t,n)),t.add.length&&s.add(t.add),t.mod.length)for(A={},x=t.mod,S=0,C=x.length;S<C;++S)A[x[S]._index]=1;for(S=0;S<p;++S)E=r[S],(!a[S]||e.modified("fields",S)||t.modified(E.fields))&&(b=E.fname,(y=g[b])||(o[b]=v=EU(),g[b]=y=v.insert(E,t.source,0)),a[S]=SU(v,S,i[S]).onAdd(y,u));for(S=0,C=s.data().length;S<C;++S)_[S]||(l[S]!==u[S]?f.push(S):A[S]&&u[S]!==c&&d.push(S));return s.mask=(1<<p)-1,n},eval(e,t){const n=t.materialize().fork(),r=this._dims.length;let i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},insert(e,t,n){const r=t.add,i=this.value,o=this._dims,a=this._indices,s=e.fields,u={},l=n.add,c=i.size()+r.length,f=o.length;let d=i.size(),p,g,y;i.resize(c,f),i.add(r);const v=i.curr(),b=i.prev(),x=i.all();for(p=0;p<f;++p)g=s[p].fname,y=u[g]||(u[g]=a[g].insert(s[p],r,d)),o[p].onAdd(y,v);for(;d<c;++d)b[d]=x,v[d]!==x&&l.push(d)},modify(e,t){const n=t.mod,r=this.value,i=r.curr(),o=r.all(),a=e.mod;let s,u,l;for(s=0,u=a.length;s<u;++s)l=a[s]._index,i[l]!==o&&n.push(l)},remove(e,t,n){const r=this._indices,i=this.value,o=i.curr(),a=i.prev(),s=i.all(),u={},l=n.rem,c=t.rem;let f,d,p,g;for(f=0,d=c.length;f<d;++f)p=c[f]._index,u[p]=1,a[p]=g=o[p],o[p]=s,g!==s&&l.push(p);for(p in r)r[p].remove(d,u);return this.reindex(t,d,u),u},reindex(e,t,n){const r=this._indices,i=this.value;e.runAfter(()=>{const o=i.remove(t,n);for(const a in r)r[a].reindex(o)})},update(e,t,n){const r=this._dims,i=e.query,o=t.stamp,a=r.length;let s=0,u,l;for(n.filters=0,l=0;l<a;++l)e.modified("query",l)&&(u=l,++s);if(s===1)s=r[u].one,this.incrementOne(r[u],i[u],n.add,n.rem);else for(l=0,s=0;l<a;++l)e.modified("query",l)&&(s|=r[l].one,this.incrementAll(r[l],i[l],o,n.add),n.rem=n.add);return s},incrementAll(e,t,n,r){const i=this.value,o=i.seen(),a=i.curr(),s=i.prev(),u=e.index(),l=e.bisect(e.range),c=e.bisect(t),f=c[0],d=c[1],p=l[0],g=l[1],y=e.one;let v,b,x;if(f<p)for(v=f,b=Math.min(p,d);v<b;++v)x=u[v],o[x]!==n&&(s[x]=a[x],o[x]=n,r.push(x)),a[x]^=y;else if(f>p)for(v=p,b=Math.min(f,g);v<b;++v)x=u[v],o[x]!==n&&(s[x]=a[x],o[x]=n,r.push(x)),a[x]^=y;if(d>g)for(v=Math.max(f,g),b=d;v<b;++v)x=u[v],o[x]!==n&&(s[x]=a[x],o[x]=n,r.push(x)),a[x]^=y;else if(d<g)for(v=Math.max(p,d),b=g;v<b;++v)x=u[v],o[x]!==n&&(s[x]=a[x],o[x]=n,r.push(x)),a[x]^=y;e.range=t.slice()},incrementOne(e,t,n,r){const i=this.value,o=i.curr(),a=e.index(),s=e.bisect(e.range),u=e.bisect(t),l=u[0],c=u[1],f=s[0],d=s[1],p=e.one;let g,y,v;if(l<f)for(g=l,y=Math.min(f,c);g<y;++g)v=a[g],o[v]^=p,n.push(v);else if(l>f)for(g=f,y=Math.min(l,d);g<y;++g)v=a[g],o[v]^=p,r.push(v);if(c>d)for(g=Math.max(l,d),y=c;g<y;++g)v=a[g],o[v]^=p,n.push(v);else if(c<d)for(g=Math.max(f,c),y=d;g<y;++g)v=a[g],o[v]^=p,r.push(v);e.range=t.slice()}});function RN(e){Z.call(this,null,e)}RN.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};ve(RN,Z,{transform(e,t){const n=~(e.ignore||0),r=e.filter,i=r.mask;if(!(i&n))return t.StopPropagation;const o=t.fork(t.ALL),a=r.data(),s=r.curr(),u=r.prev(),l=c=>s[c]&n?null:a[c];return o.filter(o.MOD,l),i&i-1?(o.filter(o.ADD,c=>{const f=s[c]&n;return!f&&f^u[c]&n?a[c]:null}),o.filter(o.REM,c=>{const f=s[c]&n;return f&&!(f^(f^u[c]&n))?a[c]:null})):(o.filter(o.ADD,l),o.filter(o.REM,c=>(s[c]&n)===i?a[c]:null)),o.filter(o.SOURCE,c=>l(c._index))}});const JOe=Object.freeze(Object.defineProperty({__proto__:null,crossfilter:ON,resolvefilter:RN},Symbol.toStringTag,{value:"Module"})),XOe="RawCode",r0="Literal",KOe="Property",QOe="Identifier",ZOe="ArrayExpression",eRe="BinaryExpression",eie="CallExpression",tRe="ConditionalExpression",nRe="LogicalExpression",rRe="MemberExpression",iRe="ObjectExpression",oRe="UnaryExpression";function ss(e){this.type=e}ss.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=aRe(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function aRe(e){switch(e.type){case ZOe:return e.elements;case eRe:case nRe:return[e.left,e.right];case eie:return[e.callee].concat(e.arguments);case tRe:return[e.test,e.consequent,e.alternate];case rRe:return[e.object,e.property];case iRe:return e.properties;case KOe:return[e.key,e.value];case oRe:return[e.argument];case QOe:case r0:case XOe:default:return[]}}var uu,Oe,ie,Ir,Dt,d5=1,Z2=2,i0=3,Af=4,h5=5,k0=6,Ci=7,ev=8,sRe=9;uu={};uu[d5]="Boolean";uu[Z2]="<end>";uu[i0]="Identifier";uu[Af]="Keyword";uu[h5]="Null";uu[k0]="Numeric";uu[Ci]="Punctuator";uu[ev]="String";uu[sRe]="RegularExpression";var uRe="ArrayExpression",lRe="BinaryExpression",cRe="CallExpression",fRe="ConditionalExpression",tie="Identifier",dRe="Literal",hRe="LogicalExpression",pRe="MemberExpression",gRe="ObjectExpression",mRe="Property",yRe="UnaryExpression",Zn="Unexpected token %0",vRe="Unexpected number",bRe="Unexpected string",xRe="Unexpected identifier",wRe="Unexpected reserved word",ARe="Unexpected end of input",QC="Invalid regular expression",E6="Invalid regular expression: missing /",nie="Octal literals are not allowed in strict mode.",_Re="Duplicate data property in object literal not allowed in strict mode",hr="ILLEGAL",Hy="Disabled.",SRe=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),ERe=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function p5(e,t){if(!e)throw new Error("ASSERT: "+t)}function Wu(e){return e>=48&&e<=57}function FN(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function Xm(e){return"01234567".indexOf(e)>=0}function CRe(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function qy(e){return e===10||e===13||e===8232||e===8233}function tv(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&SRe.test(String.fromCharCode(e))}function f_(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&ERe.test(String.fromCharCode(e))}const $Re={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function rie(){for(;ie<Ir;){const e=Oe.charCodeAt(ie);if(CRe(e)||qy(e))++ie;else break}}function ZC(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)ie<Ir&&FN(Oe[ie])?(r=Oe[ie++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):At({},Zn,hr);return String.fromCharCode(i)}function kRe(){var e,t,n,r;for(e=Oe[ie],t=0,e==="}"&&At({},Zn,hr);ie<Ir&&(e=Oe[ie++],!!FN(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&At({},Zn,hr),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function iie(){var e,t;for(e=Oe.charCodeAt(ie++),t=String.fromCharCode(e),e===92&&(Oe.charCodeAt(ie)!==117&&At({},Zn,hr),++ie,e=ZC("u"),(!e||e==="\\"||!tv(e.charCodeAt(0)))&&At({},Zn,hr),t=e);ie<Ir&&(e=Oe.charCodeAt(ie),!!f_(e));)++ie,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),Oe.charCodeAt(ie)!==117&&At({},Zn,hr),++ie,e=ZC("u"),(!e||e==="\\"||!f_(e.charCodeAt(0)))&&At({},Zn,hr),t+=e);return t}function TRe(){var e,t;for(e=ie++;ie<Ir;){if(t=Oe.charCodeAt(ie),t===92)return ie=e,iie();if(f_(t))++ie;else break}return Oe.slice(e,ie)}function MRe(){var e,t,n;return e=ie,t=Oe.charCodeAt(ie)===92?iie():TRe(),t.length===1?n=i0:$Re.hasOwnProperty(t)?n=Af:t==="null"?n=h5:t==="true"||t==="false"?n=d5:n=i0,{type:n,value:t,start:e,end:ie}}function C6(){var e=ie,t=Oe.charCodeAt(ie),n,r=Oe[ie],i,o,a;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++ie,{type:Ci,value:String.fromCharCode(t),start:e,end:ie};default:if(n=Oe.charCodeAt(ie+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return ie+=2,{type:Ci,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:ie};case 33:case 61:return ie+=2,Oe.charCodeAt(ie)===61&&++ie,{type:Ci,value:Oe.slice(e,ie),start:e,end:ie}}}if(a=Oe.substr(ie,4),a===">>>=")return ie+=4,{type:Ci,value:a,start:e,end:ie};if(o=a.substr(0,3),o===">>>"||o==="<<="||o===">>=")return ie+=3,{type:Ci,value:o,start:e,end:ie};if(i=o.substr(0,2),r===i[1]&&"+-<>&|".indexOf(r)>=0||i==="=>")return ie+=2,{type:Ci,value:i,start:e,end:ie};if(i==="//"&&At({},Zn,hr),"<>=!+-*%&|^/".indexOf(r)>=0)return++ie,{type:Ci,value:r,start:e,end:ie};At({},Zn,hr)}function NRe(e){let t="";for(;ie<Ir&&FN(Oe[ie]);)t+=Oe[ie++];return t.length===0&&At({},Zn,hr),tv(Oe.charCodeAt(ie))&&At({},Zn,hr),{type:k0,value:parseInt("0x"+t,16),start:e,end:ie}}function ORe(e){let t="0"+Oe[ie++];for(;ie<Ir&&Xm(Oe[ie]);)t+=Oe[ie++];return(tv(Oe.charCodeAt(ie))||Wu(Oe.charCodeAt(ie)))&&At({},Zn,hr),{type:k0,value:parseInt(t,8),octal:!0,start:e,end:ie}}function CU(){var e,t,n;if(n=Oe[ie],p5(Wu(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=ie,e="",n!=="."){if(e=Oe[ie++],n=Oe[ie],e==="0"){if(n==="x"||n==="X")return++ie,NRe(t);if(Xm(n))return ORe(t);n&&Wu(n.charCodeAt(0))&&At({},Zn,hr)}for(;Wu(Oe.charCodeAt(ie));)e+=Oe[ie++];n=Oe[ie]}if(n==="."){for(e+=Oe[ie++];Wu(Oe.charCodeAt(ie));)e+=Oe[ie++];n=Oe[ie]}if(n==="e"||n==="E")if(e+=Oe[ie++],n=Oe[ie],(n==="+"||n==="-")&&(e+=Oe[ie++]),Wu(Oe.charCodeAt(ie)))for(;Wu(Oe.charCodeAt(ie));)e+=Oe[ie++];else At({},Zn,hr);return tv(Oe.charCodeAt(ie))&&At({},Zn,hr),{type:k0,value:parseFloat(e),start:t,end:ie}}function RRe(){var e="",t,n,r,i,o=!1;for(t=Oe[ie],p5(t==="'"||t==='"',"String literal must starts with a quote"),n=ie,++ie;ie<Ir;)if(r=Oe[ie++],r===t){t="";break}else if(r==="\\")if(r=Oe[ie++],!r||!qy(r.charCodeAt(0)))switch(r){case"u":case"x":Oe[ie]==="{"?(++ie,e+=kRe()):e+=ZC(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:Xm(r)?(i="01234567".indexOf(r),i!==0&&(o=!0),ie<Ir&&Xm(Oe[ie])&&(o=!0,i=i*8+"01234567".indexOf(Oe[ie++]),"0123".indexOf(r)>=0&&ie<Ir&&Xm(Oe[ie])&&(i=i*8+"01234567".indexOf(Oe[ie++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&Oe[ie]===`
`&&++ie;else{if(qy(r.charCodeAt(0)))break;e+=r}return t!==""&&At({},Zn,hr),{type:ev,value:e,octal:o,start:n,end:ie}}function FRe(e,t){let n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";At({},QC)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{At({},QC)}try{return new RegExp(e,t)}catch{return null}}function DRe(){var e,t,n,r,i;for(e=Oe[ie],p5(e==="/","Regular expression literal must start with a slash"),t=Oe[ie++],n=!1,r=!1;ie<Ir;)if(e=Oe[ie++],t+=e,e==="\\")e=Oe[ie++],qy(e.charCodeAt(0))&&At({},E6),t+=e;else if(qy(e.charCodeAt(0)))At({},E6);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||At({},E6),i=t.substr(1,t.length-2),{value:i,literal:t}}function LRe(){var e,t,n;for(t="",n="";ie<Ir&&(e=Oe[ie],!!f_(e.charCodeAt(0)));)++ie,e==="\\"&&ie<Ir?At({},Zn,hr):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&At({},QC,n),{value:n,literal:t}}function PRe(){var e,t,n,r;return Dt=null,rie(),e=ie,t=DRe(),n=LRe(),r=FRe(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:ie}}function IRe(e){return e.type===i0||e.type===Af||e.type===d5||e.type===h5}function oie(){if(rie(),ie>=Ir)return{type:Z2,start:ie,end:ie};const e=Oe.charCodeAt(ie);return tv(e)?MRe():e===40||e===41||e===59?C6():e===39||e===34?RRe():e===46?Wu(Oe.charCodeAt(ie+1))?CU():C6():Wu(e)?CU():C6()}function Mi(){const e=Dt;return ie=e.end,Dt=oie(),ie=e.end,e}function aie(){const e=ie;Dt=oie(),ie=e}function zRe(e){const t=new ss(uRe);return t.elements=e,t}function $U(e,t,n){const r=new ss(e==="||"||e==="&&"?hRe:lRe);return r.operator=e,r.left=t,r.right=n,r}function BRe(e,t){const n=new ss(cRe);return n.callee=e,n.arguments=t,n}function URe(e,t,n){const r=new ss(fRe);return r.test=e,r.consequent=t,r.alternate=n,r}function DN(e){const t=new ss(tie);return t.name=e,t}function _m(e){const t=new ss(dRe);return t.value=e.value,t.raw=Oe.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function kU(e,t,n){const r=new ss(pRe);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function jRe(e){const t=new ss(gRe);return t.properties=e,t}function TU(e,t,n){const r=new ss(mRe);return r.key=t,r.value=n,r.kind=e,r}function WRe(e,t){const n=new ss(yRe);return n.operator=e,n.argument=t,n.prefix=!0,n}function At(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(o,a)=>(p5(a<r.length,"Message reference must be in range"),r[a]));throw n=new Error(i),n.index=ie,n.description=i,n}function g5(e){e.type===Z2&&At(e,ARe),e.type===k0&&At(e,vRe),e.type===ev&&At(e,bRe),e.type===i0&&At(e,xRe),e.type===Af&&At(e,wRe),At(e,Zn,e.value)}function zr(e){const t=Mi();(t.type!==Ci||t.value!==e)&&g5(t)}function Kt(e){return Dt.type===Ci&&Dt.value===e}function $6(e){return Dt.type===Af&&Dt.value===e}function HRe(){const e=[];for(ie=Dt.start,zr("[");!Kt("]");)Kt(",")?(Mi(),e.push(null)):(e.push(o0()),Kt("]")||zr(","));return Mi(),zRe(e)}function MU(){ie=Dt.start;const e=Mi();return e.type===ev||e.type===k0?(e.octal&&At(e,nie),_m(e)):DN(e.value)}function qRe(){var e,t,n,r;if(ie=Dt.start,e=Dt,e.type===i0)return n=MU(),zr(":"),r=o0(),TU("init",n,r);if(e.type===Z2||e.type===Ci)g5(e);else return t=MU(),zr(":"),r=o0(),TU("init",t,r)}function GRe(){var e=[],t,n,r,i={},o=String;for(ie=Dt.start,zr("{");!Kt("}");)t=qRe(),t.key.type===tie?n=t.key.name:n=o(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?At({},_Re):i[r]=!0,e.push(t),Kt("}")||zr(",");return zr("}"),jRe(e)}function VRe(){zr("(");const e=LN();return zr(")"),e}const YRe={if:1};function JRe(){var e,t,n;if(Kt("("))return VRe();if(Kt("["))return HRe();if(Kt("{"))return GRe();if(e=Dt.type,ie=Dt.start,e===i0||YRe[Dt.value])n=DN(Mi().value);else if(e===ev||e===k0)Dt.octal&&At(Dt,nie),n=_m(Mi());else{if(e===Af)throw new Error(Hy);e===d5?(t=Mi(),t.value=t.value==="true",n=_m(t)):e===h5?(t=Mi(),t.value=null,n=_m(t)):Kt("/")||Kt("/=")?(n=_m(PRe()),aie()):g5(Mi())}return n}function XRe(){const e=[];if(zr("("),!Kt(")"))for(;ie<Ir&&(e.push(o0()),!Kt(")"));)zr(",");return zr(")"),e}function KRe(){ie=Dt.start;const e=Mi();return IRe(e)||g5(e),DN(e.value)}function QRe(){return zr("."),KRe()}function ZRe(){zr("[");const e=LN();return zr("]"),e}function eFe(){var e,t,n;for(e=JRe();;)if(Kt("."))n=QRe(),e=kU(".",e,n);else if(Kt("("))t=XRe(),e=BRe(e,t);else if(Kt("["))n=ZRe(),e=kU("[",e,n);else break;return e}function NU(){const e=eFe();if(Dt.type===Ci&&(Kt("++")||Kt("--")))throw new Error(Hy);return e}function gw(){var e,t;if(Dt.type!==Ci&&Dt.type!==Af)t=NU();else{if(Kt("++")||Kt("--"))throw new Error(Hy);if(Kt("+")||Kt("-")||Kt("~")||Kt("!"))e=Mi(),t=gw(),t=WRe(e.value,t);else{if($6("delete")||$6("void")||$6("typeof"))throw new Error(Hy);t=NU()}}return t}function OU(e){let t=0;if(e.type!==Ci&&e.type!==Af)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function tFe(){var e,t,n,r,i,o,a,s,u,l;if(e=Dt,u=gw(),r=Dt,i=OU(r),i===0)return u;for(r.prec=i,Mi(),t=[e,Dt],a=gw(),o=[u,r,a];(i=OU(Dt))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)a=o.pop(),s=o.pop().value,u=o.pop(),t.pop(),n=$U(s,u,a),o.push(n);r=Mi(),r.prec=i,o.push(r),t.push(Dt),n=gw(),o.push(n)}for(l=o.length-1,n=o[l],t.pop();l>1;)t.pop(),n=$U(o[l-1].value,o[l-2],n),l-=2;return n}function o0(){var e,t,n;return e=tFe(),Kt("?")&&(Mi(),t=o0(),zr(":"),n=o0(),e=URe(e,t,n)),e}function LN(){const e=o0();if(Kt(","))throw new Error(Hy);return e}function PN(e){Oe=e,ie=0,Ir=Oe.length,Dt=null,aie();const t=LN();if(Dt.type!==Z2)throw new Error("Unexpect token after expression.");return t}var sie={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function uie(e){function t(a,s,u,l){let c=e(s[0]);return u&&(c=u+"("+c+")",u.lastIndexOf("new ",0)===0&&(c="("+c+")")),c+"."+a+(l<0?"":l===0?"()":"("+s.slice(1).map(e).join(",")+")")}function n(a,s,u){return l=>t(a,l,s,u)}const r="new Date",i="String",o="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(a){a.length<3&&ae("Missing arguments to clamp function."),a.length>3&&ae("Too many arguments to clamp function.");const s=a.map(e);return"Math.max("+s[1]+", Math.min("+s[2]+","+s[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),regexp:o,test:n("test",o),if:function(a){a.length<3&&ae("Missing arguments to if function."),a.length>3&&ae("Too many arguments to if function.");const s=a.map(e);return"("+s[0]+"?"+s[1]+":"+s[2]+")"}}}function nFe(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function lie(e){e=e||{};const t=e.allowed?es(e.allowed):{},n=e.forbidden?es(e.forbidden):{},r=e.constants||sie,i=(e.functions||uie)(f),o=e.globalvar,a=e.fieldvar,s=Qe(o)?o:g=>`${o}["${g}"]`;let u={},l={},c=0;function f(g){if(Ee(g))return g;const y=d[g.type];return y==null&&ae("Unsupported type: "+g.type),y(g)}const d={Literal:g=>g.raw,Identifier:g=>{const y=g.name;return c>0?y:Be(n,y)?ae("Illegal identifier: "+y):Be(r,y)?r[y]:Be(t,y)?y:(u[y]=1,s(y))},MemberExpression:g=>{const y=!g.computed,v=f(g.object);y&&(c+=1);const b=f(g.property);return v===a&&(l[nFe(b)]=1),y&&(c-=1),v+(y?"."+b:"["+b+"]")},CallExpression:g=>{g.callee.type!=="Identifier"&&ae("Illegal callee type: "+g.callee.type);const y=g.callee.name,v=g.arguments,b=Be(i,y)&&i[y];return b||ae("Unrecognized function: "+y),Qe(b)?b(v):b+"("+v.map(f).join(",")+")"},ArrayExpression:g=>"["+g.elements.map(f).join(",")+"]",BinaryExpression:g=>"("+f(g.left)+" "+g.operator+" "+f(g.right)+")",UnaryExpression:g=>"("+g.operator+f(g.argument)+")",ConditionalExpression:g=>"("+f(g.test)+"?"+f(g.consequent)+":"+f(g.alternate)+")",LogicalExpression:g=>"("+f(g.left)+g.operator+f(g.right)+")",ObjectExpression:g=>"{"+g.properties.map(f).join(",")+"}",Property:g=>{c+=1;const y=f(g.key);return c-=1,y+":"+f(g.value)}};function p(g){const y={code:f(g),globals:Object.keys(u),fields:Object.keys(l)};return u={},l={},y}return p.functions=i,p.constants=r,p}const RU=Symbol("vega_selection_getter");function cie(e){return(!e.getter||!e.getter[RU])&&(e.getter=ca(e.field),e.getter[RU]=!0),e.getter}const IN="intersect",FU="union",rFe="vlMulti",iFe="vlPoint",DU="or",oFe="and",Ms="_vgsid_",Gy=ca(Ms),aFe="E",sFe="R",uFe="R-E",lFe="R-LE",cFe="R-RE",d_="index:unit";function LU(e,t){for(var n=t.fields,r=t.values,i=n.length,o=0,a,s;o<i;++o)if(s=n[o],a=cie(s)(e),Nc(a)&&(a=Rr(a)),Nc(r[o])&&(r[o]=Rr(r[o])),se(r[o])&&Nc(r[o][0])&&(r[o]=r[o].map(Rr)),s.type===aFe){if(se(r[o])?r[o].indexOf(a)<0:a!==r[o])return!1}else if(s.type===sFe){if(!jh(a,r[o]))return!1}else if(s.type===cFe){if(!jh(a,r[o],!0,!1))return!1}else if(s.type===uFe){if(!jh(a,r[o],!1,!1))return!1}else if(s.type===lFe&&!jh(a,r[o],!1,!0))return!1;return!0}function fFe(e,t,n){for(var r=this.context.data[e],i=r?r.values.value:[],o=r?r[d_]&&r[d_].value:void 0,a=n===IN,s=i.length,u=0,l,c,f,d,p;u<s;++u)if(l=i[u],o&&a){if(c=c||{},f=c[d=l.unit]||0,f===-1)continue;if(p=LU(t,l),c[d]=p?-1:++f,p&&o.size===1)return!0;if(!p&&f===o.get(d).count)return!1}else if(p=LU(t,l),a^p)return p;return s&&a}const fie=w0(Gy),dFe=fie.left,hFe=fie.right;function pFe(e,t,n){const r=this.context.data[e],i=r?r.values.value:[],o=r?r[d_]&&r[d_].value:void 0,a=n===IN,s=Gy(t),u=dFe(i,s);if(u===i.length||Gy(i[u])!==s)return!1;if(o&&a){if(o.size===1)return!0;if(hFe(i,s)-u<o.size)return!1}return!0}function gFe(e,t){return e.map(n=>Ke(t.fields?{values:t.fields.map(r=>cie(r)(n.datum))}:{[Ms]:Gy(n.datum)},t))}function mFe(e,t,n,r){for(var i=this.context.data[e],o=i?i.values.value:[],a={},s={},u={},l,c,f,d,p,g,y,v,b,x,_=o.length,A=0,S,C;A<_;++A)if(l=o[A],d=l.unit,c=l.fields,f=l.values,c&&f){for(S=0,C=c.length;S<C;++S)p=c[S],y=a[p.field]||(a[p.field]={}),v=y[d]||(y[d]=[]),u[p.field]=b=p.type.charAt(0),x=k6[`${b}_union`],y[d]=x(v,Se(f[S]));n&&(v=s[d]||(s[d]=[]),v.push(Se(f).reduce((E,k,O)=>(E[c[O].field]=k,E),{})))}else p=Ms,g=Gy(l),y=a[p]||(a[p]={}),v=y[d]||(y[d]=[]),v.push(g),n&&(v=s[d]||(s[d]=[]),v.push({[Ms]:g}));if(t=t||FU,a[Ms]?a[Ms]=k6[`${Ms}_${t}`](...Object.values(a[Ms])):Object.keys(a).forEach(E=>{a[E]=Object.keys(a[E]).map(k=>a[E][k]).reduce((k,O)=>k===void 0?O:k6[`${u[E]}_${t}`](k,O))}),o=Object.keys(s),n&&o.length){const E=r?iFe:rFe;a[E]=t===FU?{[DU]:o.reduce((k,O)=>(k.push(...s[O]),k),[])}:{[oFe]:o.map(k=>({[DU]:s[k]}))}}return a}var k6={[`${Ms}_union`]:Dwe,[`${Ms}_intersect`]:Rwe,E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.indexOf(t[n])<0&&e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter(n=>t.indexOf(n)>=0):t},R_union:function(e,t){var n=Rr(t[0]),r=Rr(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=Rr(t[0]),r=Rr(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};const yFe=":",vFe="@";function zN(e,t,n,r){t[0].type!==r0&&ae("First argument to selection functions must be a string literal.");const i=t[0].value,o=t.length>=2&&gt(t).value,a="unit",s=vFe+a,u=yFe+i;o===IN&&!Be(r,s)&&(r[s]=n.getData(i).indataRef(n,a)),Be(r,u)||(r[u]=n.getData(i).tuplesRef())}function die(e){const t=this.context.data[e];return t?t.values.value:[]}function bFe(e,t,n){const r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i&&i.count}function xFe(e,t){const n=this.context.dataflow,r=this.context.data[e],i=r.input;return n.pulse(i,n.changeset().remove(fa).insert(t)),1}function wFe(e,t,n){if(e){const r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return n!==void 0?n:e}const nv=e=>function(t,n){return this.context.dataflow.locale()[e](n)(t)},AFe=nv("format"),hie=nv("timeFormat"),_Fe=nv("utcFormat"),SFe=nv("timeParse"),EFe=nv("utcParse"),px=new Date(2e3,0,1);function m5(e,t,n){return!Number.isInteger(e)||!Number.isInteger(t)?"":(px.setYear(2e3),px.setMonth(e),px.setDate(t),hie.call(this,px,n))}function CFe(e){return m5.call(this,e,1,"%B")}function $Fe(e){return m5.call(this,e,1,"%b")}function kFe(e){return m5.call(this,0,2+e,"%A")}function TFe(e){return m5.call(this,0,2+e,"%a")}const MFe=":",NFe="@",e$="%",pie="$";function BN(e,t,n,r){t[0].type!==r0&&ae("First argument to data functions must be a string literal.");const i=t[0].value,o=MFe+i;if(!Be(o,r))try{r[o]=n.getData(i).tuplesRef()}catch{}}function OFe(e,t,n,r){t[0].type!==r0&&ae("First argument to indata must be a string literal."),t[1].type!==r0&&ae("Second argument to indata must be a string literal.");const i=t[0].value,o=t[1].value,a=NFe+o;Be(a,r)||(r[a]=n.getData(i).indataRef(n,o))}function ui(e,t,n,r){if(t[0].type===r0)PU(n,r,t[0].value);else for(e in n.scales)PU(n,r,e)}function PU(e,t,n){const r=e$+n;if(!Be(t,r))try{t[r]=e.scaleRef(n)}catch{}}function lu(e,t){if(Qe(e))return e;if(Ee(e)){const n=t.scales[e];return n&&rke(n.value)?n.value:void 0}}function RFe(e,t,n){t.__bandwidth=i=>i&&i.bandwidth?i.bandwidth():0,n._bandwidth=ui,n._range=ui,n._scale=ui;const r=i=>"_["+(i.type===r0?xe(e$+i.value):xe(e$)+"+"+e(i))+"]";return{_bandwidth:i=>`this.__bandwidth(${r(i[0])})`,_range:i=>`${r(i[0])}.range()`,_scale:i=>`${r(i[0])}(${e(i[1])})`}}function UN(e,t){return function(n,r,i){if(n){const o=lu(n,(i||this).context);return o&&o.path[e](r)}else return t(r)}}const FFe=UN("area",LSe),DFe=UN("bounds",BSe),LFe=UN("centroid",GSe);function PFe(e,t){const n=lu(e,(t||this).context);return n&&n.scale()}function IFe(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}function jN(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function zFe(){return jN(this.context.dataflow,"warn",arguments)}function BFe(){return jN(this.context.dataflow,"info",arguments)}function UFe(){return jN(this.context.dataflow,"debug",arguments)}function T6(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function t$(e){const t=oa(e),n=T6(t.r),r=T6(t.g),i=T6(t.b);return .2126*n+.7152*r+.0722*i}function jFe(e,t){const n=t$(e),r=t$(t),i=Math.max(n,r),o=Math.min(n,r);return(i+.05)/(o+.05)}function WFe(){const e=[].slice.call(arguments);return e.unshift({}),Ke(...e)}function gie(e,t){return e===t||e!==e&&t!==t?!0:se(e)?se(t)&&e.length===t.length?HFe(e,t):!1:$e(e)&&$e(t)?mie(e,t):!1}function HFe(e,t){for(let n=0,r=e.length;n<r;++n)if(!gie(e[n],t[n]))return!1;return!0}function mie(e,t){for(const n in e)if(!gie(e[n],t[n]))return!1;return!0}function IU(e){return t=>mie(e,t)}function qFe(e,t,n,r,i,o){const a=this.context.dataflow,s=this.context.data[e],u=s.input,l=a.stamp();let c=s.changes,f,d;if(a._trigger===!1||!(u.value.length||t||r))return 0;if((!c||c.stamp<l)&&(s.changes=c=a.changeset(),c.stamp=l,a.runAfter(()=>{s.modified=!0,a.pulse(u,c).run()},!0,1)),n&&(f=n===!0?fa:se(n)||z3(n)?n:IU(n),c.remove(f)),t&&c.insert(t),r&&(f=IU(r),u.value.some(f)?c.remove(f):c.insert(r)),i)for(d in o)c.modify(i,d,o[d]);return 1}function GFe(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.hypot(n,r)}function VFe(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}const zU={};function YFe(e,t){const n=zU[t]||(zU[t]=ca(t));return se(e)?e.map(n):n(e)}function WN(e){return se(e)||ArrayBuffer.isView(e)?e:null}function HN(e){return WN(e)||(Ee(e)?e:null)}function JFe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return WN(e).join(...n)}function XFe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return HN(e).indexOf(...n)}function KFe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return HN(e).lastIndexOf(...n)}function QFe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return HN(e).slice(...n)}function ZFe(e,t,n){return Qe(n)&&ae("Function argument passed to replace."),String(e).replace(t,n)}function eDe(e){return WN(e).slice().reverse()}function tDe(e,t,n){return fM(e||0,t||0,n||0)}function nDe(e,t){const n=lu(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function rDe(e,t){const n=lu(e,(t||this).context);return n?n.copy():void 0}function iDe(e,t){const n=lu(e,(t||this).context);return n?n.domain():[]}function oDe(e,t,n){const r=lu(e,(n||this).context);return r?se(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}function aDe(e,t){const n=lu(e,(t||this).context);return n&&n.range?n.range():[]}function sDe(e,t,n){const r=lu(e,(n||this).context);return r?r(t):void 0}function uDe(e,t,n,r,i){e=lu(e,(i||this).context);const o=cne(t,n);let a=e.domain(),s=a[0],u=gt(a),l=Ur;return u-s?l=Qte(e,s,u):e=(e.interpolator?St("sequential")().interpolator(e.interpolator()):St("linear")().interpolate(e.interpolate()).range(e.range())).domain([s=0,u=1]),e.ticks&&(a=e.ticks(+r||15),s!==a[0]&&a.unshift(s),u!==gt(a)&&a.push(u)),a.forEach(c=>o.stop(l(c),e(c))),o}function lDe(e,t,n){const r=lu(e,(n||this).context);return function(i){return r?r.path.context(i)(t):""}}function cDe(e){let t=null;return function(n){return n?Iy(n,t=t||Up(e)):e}}const yie=e=>e.data;function vie(e,t){const n=die.call(t,e);return n.root&&n.root.lookup||{}}function fDe(e,t,n){const r=vie(e,this),i=r[t],o=r[n];return i&&o?i.path(o).map(yie):void 0}function dDe(e,t){const n=vie(e,this)[t];return n?n.ancestors().map(yie):void 0}const bie=()=>typeof window<"u"&&window||null;function hDe(){const e=bie();return e?e.screen:{}}function pDe(){const e=bie();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]}function gDe(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}function xie(e,t,n){if(!e)return[];const[r,i]=e,o=new Tn().set(r[0],r[1],i[0],i[1]),a=n||this.context.dataflow.scenegraph().root;return rre(a,o,mDe(t))}function mDe(e){let t=null;if(e){const n=Se(e.marktype),r=Se(e.markname);t=i=>(!n.length||n.some(o=>i.marktype===o))&&(!r.length||r.some(o=>i.name===o))}return t}function yDe(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5;e=Se(e);const i=e[e.length-1];return i===void 0||Math.hypot(i[0]-t,i[1]-n)>r?[...e,[t,n]]:e}function vDe(e){return Se(e).reduce((t,n,r)=>{let[i,o]=n;return t+=r==0?`M ${i},${o} `:r===e.length-1?" Z":`L ${i},${o} `},"")}function bDe(e,t,n){const{x:r,y:i,mark:o}=n,a=new Tn().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[u,l]of t)u<a.x1&&(a.x1=u),u>a.x2&&(a.x2=u),l<a.y1&&(a.y1=l),l>a.y2&&(a.y2=l);return a.translate(r,i),xie([[a.x1,a.y1],[a.x2,a.y2]],e,o).filter(u=>xDe(u.x,u.y,t))}function xDe(e,t,n){let r=0;for(let i=0,o=n.length-1;i<n.length;o=i++){const[a,s]=n[o],[u,l]=n[i];l>t!=s>t&&e<(a-u)*(t-l)/(s-l)+u&&r++}return r&1}const Vy={random(){return ha()},cumulativeNormal:H3,cumulativeLogNormal:NT,cumulativeUniform:DT,densityNormal:CT,densityLogNormal:MT,densityUniform:FT,quantileNormal:q3,quantileLogNormal:OT,quantileUniform:LT,sampleNormal:W3,sampleLogNormal:TT,sampleUniform:RT,isArray:se,isBoolean:wf,isDate:Nc,isDefined(e){return e!==void 0},isNumber:xt,isObject:$e,isRegExp:uee,isString:Ee,isTuple:z3,isValid(e){return e!=null&&e===e},toBoolean:cT,toDate(e){return fT(e)},toNumber:Rr,toString:dT,indexof:XFe,join:JFe,lastindexof:KFe,replace:ZFe,reverse:eDe,slice:QFe,flush:aee,lerp:lee,merge:WFe,pad:dee,peek:gt,pluck:YFe,span:I2,inrange:jh,truncate:hee,rgb:oa,lab:aA,hcl:sA,hsl:iA,luminance:t$,contrast:jFe,sequence:Pn,format:AFe,utcFormat:_Fe,utcParse:EFe,utcOffset:$ee,utcSequence:Mee,timeFormat:hie,timeParse:SFe,timeOffset:Cee,timeSequence:Tee,timeUnitSpecifier:gee,monthFormat:CFe,monthAbbrevFormat:$Fe,dayFormat:kFe,dayAbbrevFormat:TFe,quarter:nee,utcquarter:ree,week:yee,utcweek:xee,dayofyear:mee,utcdayofyear:bee,warn:zFe,info:BFe,debug:UFe,extent(e){return Ks(e)},inScope:IFe,intersect:xie,clampRange:iee,pinchDistance:GFe,pinchAngle:VFe,screen:hDe,containerSize:gDe,windowSize:pDe,bandspace:tDe,setdata:xFe,pathShape:cDe,panLinear:QZ,panLog:ZZ,panPow:eee,panSymlog:tee,zoomLinear:iT,zoomLog:oT,zoomPow:GA,zoomSymlog:aT,encode:wFe,modify:qFe,lassoAppend:yDe,lassoPath:vDe,intersectLasso:bDe},wDe=["view","item","group","xy","x","y"],ADe="event.vega.",wie="this.",qN={},Aie={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${xe(pie+e)}]`,functions:_De,constants:sie,visitors:qN},n$=lie(Aie);function _De(e){const t=uie(e);wDe.forEach(n=>t[n]=ADe+n);for(const n in Vy)t[n]=wie+n;return Ke(t,RFe(e,Vy,qN)),t}function $n(e,t,n){return arguments.length===1?Vy[e]:(Vy[e]=t,n&&(qN[e]=n),n$&&(n$.functions[e]=wie+e),this)}$n("bandwidth",nDe,ui);$n("copy",rDe,ui);$n("domain",iDe,ui);$n("range",aDe,ui);$n("invert",oDe,ui);$n("scale",sDe,ui);$n("gradient",uDe,ui);$n("geoArea",FFe,ui);$n("geoBounds",DFe,ui);$n("geoCentroid",LFe,ui);$n("geoShape",lDe,ui);$n("geoScale",PFe,ui);$n("indata",bFe,OFe);$n("data",die,BN);$n("treePath",fDe,BN);$n("treeAncestors",dDe,BN);$n("vlSelectionTest",fFe,zN);$n("vlSelectionIdTest",pFe,zN);$n("vlSelectionResolve",mFe,zN);$n("vlSelectionTuples",gFe);function Zs(e,t){const n={};let r;try{e=Ee(e)?e:xe(e)+"",r=PN(e)}catch{ae("Expression parse error: "+e)}r.visit(o=>{if(o.type!==eie)return;const a=o.callee.name,s=Aie.visitors[a];s&&s(a,o.arguments,t,n)});const i=n$(r);return i.globals.forEach(o=>{const a=pie+o;!Be(n,a)&&t.getSignal(o)&&(n[a]=t.signalRef(o))}),{$expr:Ke({code:i.code},t.options.ast?{ast:r}:null),$fields:i.fields,$params:n}}function SDe(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach(r=>t.parseOperator(r)),n.forEach(r=>t.parseOperatorParameters(r)),(e.streams||[]).forEach(r=>t.parseStream(r)),(e.updates||[]).forEach(r=>t.parseUpdate(r)),t.resolve()}const EDe=es(["rule"]),BU=es(["group","image","rect"]);function CDe(e,t){let n="";return EDe[t]||(e.x2&&(e.x?(BU[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(BU[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}function GN(e){return(e+"").toLowerCase()}function $De(e){return GN(e)==="operator"}function kDe(e){return GN(e)==="collect"}function L1(e,t,n){n.endsWith(";")||(n="return("+n+");");const r=Function(...t.concat(n));return e&&e.functions?r.bind(e.functions):r}function TDe(e,t,n,r){return`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
  : (u > v || v == null) && u != null ? ${r}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
  : v !== v && u === u ? ${r} : `}var MDe={operator:(e,t)=>L1(e,["_"],t.code),parameter:(e,t)=>L1(e,["datum","_"],t.code),event:(e,t)=>L1(e,["event"],t.code),handler:(e,t)=>{const n=`var datum=event.item&&event.item.datum;return ${t.code};`;return L1(e,["_","event"],n)},encode:(e,t)=>{const{marktype:n,channels:r}=t;let i="var o=item,datum=o.datum,m=0,$;";for(const o in r){const a="o["+xe(o)+"]";i+=`$=${r[o].code};if(${a}!==$)${a}=$,m=1;`}return i+=CDe(r,n),i+="return m;",L1(e,["item","_"],i)},codegen:{get(e){const t=`[${e.map(xe).join("][")}]`,n=Function("_",`return _${t};`);return n.path=t,n},comparator(e,t){let n;const r=(o,a)=>{const s=t[a];let u,l;return o.path?(u=`a${o.path}`,l=`b${o.path}`):((n=n||{})["f"+a]=o,u=`this.f${a}(a)`,l=`this.f${a}(b)`),TDe(u,l,-s,s)},i=Function("a","b","var u, v; return "+e.map(r).join("")+"0;");return n?i.bind(n):i}}};function NDe(e){const t=this;$De(e.type)||!e.type?t.operator(e,e.update?t.operatorExpression(e.update):null):t.transform(e,e.type)}function ODe(e){const t=this;if(e.params){const n=t.get(e.id);n||ae("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}}function RDe(e,t){t=t||{};const n=this;for(const r in e){const i=e[r];t[r]=se(i)?i.map(o=>UU(o,n,t)):UU(i,n,t)}return t}function UU(e,t,n){if(!e||!$e(e))return e;for(let r=0,i=jU.length,o;r<i;++r)if(o=jU[r],Be(e,o.key))return o.parse(e,t,n);return e}var jU=[{key:"$ref",parse:FDe},{key:"$key",parse:LDe},{key:"$expr",parse:DDe},{key:"$field",parse:PDe},{key:"$encode",parse:zDe},{key:"$compare",parse:IDe},{key:"$context",parse:BDe},{key:"$subflow",parse:UDe},{key:"$tupleid",parse:jDe}];function FDe(e,t){return t.get(e.$ref)||ae("Operator not defined: "+e.$ref)}function DDe(e,t,n){e.$params&&t.parseParameters(e.$params,n);const r="e:"+e.$expr.code;return t.fn[r]||(t.fn[r]=Yi(t.parameterExpression(e.$expr),e.$fields))}function LDe(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=lT(e.$key,e.$flat,t.expr.codegen))}function PDe(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=ca(e.$field,e.$name,t.expr.codegen))}function IDe(e,t){const n="c:"+e.$compare+"_"+e.$order,r=Se(e.$compare).map(i=>i&&i.$tupleid?Ie:i);return t.fn[n]||(t.fn[n]=sT(r,e.$order,t.expr.codegen))}function zDe(e,t){const n=e.$encode,r={};for(const i in n){const o=n[i];r[i]=Yi(t.encodeExpression(o.$expr),o.$fields),r[i].output=o.$output}return r}function BDe(e,t){return t}function UDe(e,t){const n=e.$subflow;return function(r,i,o){const a=t.fork().parse(n),s=a.get(n.operators[0].id),u=a.signals.parent;return u&&u.set(o),s.detachSubflow=()=>t.detach(a),s}}function jDe(){return Ie}function WDe(e){var t=this,n=e.filter!=null?t.eventExpression(e.filter):void 0,r=e.stream!=null?t.get(e.stream):void 0,i;e.source?r=t.events(e.source,e.type,n):e.merge&&(i=e.merge.map(o=>t.get(o)),r=i[0].merge.apply(i[0],i.slice(1))),e.between&&(i=e.between.map(o=>t.get(o)),r=r.between(i[0],i[1])),e.filter&&(r=r.filter(n)),e.throttle!=null&&(r=r.throttle(+e.throttle)),e.debounce!=null&&(r=r.debounce(+e.debounce)),r==null&&ae("Invalid stream definition: "+JSON.stringify(e)),e.consume&&r.consume(!0),t.stream(e,r)}function HDe(e){var t=this,n=$e(n=e.source)?n.$ref:n,r=t.get(n),i=null,o=e.update,a=void 0;r||ae("Source not defined: "+e.source),i=e.target&&e.target.$expr?t.eventExpression(e.target.$expr):t.get(e.target),o&&o.$expr&&(o.$params&&(a=t.parseParameters(o.$params)),o=t.handlerExpression(o.$expr)),t.update(e,r,i,o,a)}const qDe={skip:!0};function GDe(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach(o=>{const a=t.signals[o];e.signals(o,a)&&(r[o]=a.value)})}if(e.data){var i=n.data={};Object.keys(t.data).forEach(o=>{const a=t.data[o];e.data(o,a)&&(i[o]=a.input.value)})}return t.subcontext&&e.recurse!==!1&&(n.subcontext=t.subcontext.map(o=>o.getState(e))),n}function VDe(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach(o=>{n.update(t.signals[o],i[o],qDe)}),Object.keys(r||{}).forEach(o=>{n.pulse(t.data[o].input,n.changeset().remove(fa).insert(r[o]))}),(e.subcontext||[]).forEach((o,a)=>{const s=t.subcontext[a];s&&s.setState(o)})}function _ie(e,t,n,r){return new Sie(e,t,n,r)}function Sie(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||MDe,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function WU(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}Sie.prototype=WU.prototype={fork(){const e=new WU(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(n=>n!==e);const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,r=n.dataflow,i=e.value;if(n.set(e.id,t),kDe(e.type)&&i&&(i.$ingest?r.ingest(t,i.$ingest,i.$format):i.$request?r.preload(t,i.$request,i.$format):r.pulse(t,r.changeset().insert(i))),e.root&&(n.root=t),e.parent){let o=n.get(e.parent.$ref);o?(r.connect(o,[t]),t.targets().add(o)):(n.unresolved=n.unresolved||[]).push(()=>{o=n.get(e.parent.$ref),r.connect(o,[t]),t.targets().add(o)})}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const o in e.data){const a=n.data[o]||(n.data[o]={});e.data[o].forEach(s=>a[s]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[GN(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:SDe,parseOperator:NDe,parseOperatorParameters:ODe,parseParameters:RDe,parseStream:WDe,parseUpdate:HDe,getState:GDe,setState:VDe};function YDe(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),Eie(t,e.description()))}function Eie(e,t){e&&(t==null?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}function JDe(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}const M6="default";function XDe(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:M6,item:null}));e.on(e.events("view","mousemove"),t,(n,r)=>{const i=t.value,o=i?Ee(i)?i:i.user:M6,a=r.item&&r.item.cursor||null;return i&&o===i.user&&a==i.item?i:{user:o,item:a}}),e.add(null,function(n){let r=n.cursor,i=this.value;return Ee(r)||(i=r.item,r=r.user),r$(e,r&&r!==M6?r:i||r),i},{cursor:t})}function r$(e,t){const n=e.globalCursor()?typeof document<"u"&&document.body:e.container();if(n)return t==null?n.style.removeProperty("cursor"):n.style.cursor=t}function h_(e,t){var n=e._runtime.data;return Be(n,t)||ae("Unrecognized data set: "+t),n[t]}function KDe(e,t){return arguments.length<2?h_(this,e).values.value:y5.call(this,e,C0().remove(fa).insert(t))}function y5(e,t){Xee(t)||ae("Second argument to changes must be a changeset.");const n=h_(this,e);return n.modified=!0,this.pulse(n.input,t)}function QDe(e,t){return y5.call(this,e,C0().insert(t))}function ZDe(e,t){return y5.call(this,e,C0().remove(t))}function Cie(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function $ie(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function v5(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function eLe(e){var t=v5(e),n=Cie(e),r=$ie(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach(i=>{try{i(n,r)}catch(o){e.error(o)}})}function tLe(e,t,n){var r=e._renderer,i=r&&r.canvas(),o,a,s;return i&&(s=v5(e),a=t.changedTouches?t.changedTouches[0]:t,o=u5(a,i),o[0]-=s[0],o[1]-=s[1]),t.dataflow=e,t.item=n,t.vega=nLe(e,n,o),t}function nLe(e,t,n){const r=t?t.mark.marktype==="group"?t:t.mark.group:null;function i(a){var s=r,u;if(a){for(u=t;u;u=u.mark.group)if(u.mark.name===a){s=u;break}}return s&&s.mark&&s.mark.interactive?s:{}}function o(a){if(!a)return n;Ee(a)&&(a=i(a));const s=n.slice();for(;a;)s[0]-=a.x||0,s[1]-=a.y||0,a=a.mark&&a.mark.group;return s}return{view:jr(e),item:jr(t||{}),group:i,xy:o,x:a=>o(a)[0],y:a=>o(a)[1]}}const HU="view",rLe="timer",iLe="window",oLe={trap:!1};function aLe(e){const t=Ke({defaults:{}},e),n=(r,i)=>{i.forEach(o=>{se(r[o])&&(r[o]=es(r[o]))})};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}function kie(e,t,n,r){e._eventListeners.push({type:n,sources:Se(t),handler:r})}function sLe(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return r===!1||i===!0?!1:r===!0||i===!1?!0:r?r[t]:i?!i[t]:e.preventDefault()}function gx(e,t,n){const r=e._eventConfig&&e._eventConfig[t];return r===!1||$e(r)&&!r[n]?(e.warn(`Blocked ${t} ${n} event listener.`),!1):!0}function uLe(e,t,n){var r=this,i=new j3(n),o=function(l,c){r.runAsync(null,()=>{e===HU&&sLe(r,t)&&l.preventDefault(),i.receive(tLe(r,l,c))})},a;if(e===rLe)gx(r,"timer",t)&&r.timer(o,t);else if(e===HU)gx(r,"view",t)&&r.addEventListener(t,o,oLe);else if(e===iLe?gx(r,"window",t)&&typeof window<"u"&&(a=[window]):typeof document<"u"&&gx(r,"selector",t)&&(a=Array.from(document.querySelectorAll(e))),!a)r.warn("Can not resolve event source: "+e);else{for(var s=0,u=a.length;s<u;++s)a[s].addEventListener(t,o);kie(r,a,t,o)}return i}function qU(e){return e.item}function GU(e){return e.item.mark.source}function VU(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function lLe(e,t){return e=[e||"hover"],t=[t||"update",e[0]],this.on(this.events("view","mouseover",qU),GU,VU(e)),this.on(this.events("view","mouseout",qU),GU,VU(t)),this}function cLe(){var e=this._tooltip,t=this._timers,n=this._eventListeners,r,i,o;for(r=t.length;--r>=0;)t[r].stop();for(r=n.length;--r>=0;)for(o=n[r],i=o.sources.length;--i>=0;)o.sources[i].removeEventListener(o.type,o.handler);return e&&e.call(this,this._handler,null,null,null),this}function yo(e,t,n){const r=document.createElement(e);for(const i in t)r.setAttribute(i,t[i]);return n!=null&&(r.textContent=n),r}const fLe="vega-bind",dLe="vega-bind-name",hLe="vega-bind-radio";function pLe(e,t,n){if(!t)return;const r=n.param;let i=n.state;return i||(i=n.state={elements:null,active:!1,set:null,update:a=>{a!=e.signal(r.signal)&&e.runAsync(null,()=>{i.source=!0,e.signal(r.signal,a)})}},r.debounce&&(i.update=uT(r.debounce,i.update))),(r.input==null&&r.element?gLe:yLe)(i,t,r,e),i.active||(e.on(e._signals[r.signal],null,()=>{i.source?i.source=!1:i.set(e.signal(r.signal))}),i.active=!0),i}function gLe(e,t,n,r){const i=n.event||"input",o=()=>e.update(t.value);r.signal(n.signal,t.value),t.addEventListener(i,o),kie(r,t,i,o),e.set=a=>{t.value=a,t.dispatchEvent(mLe(i))}}function mLe(e){return typeof Event<"u"?new Event(e):{type:e}}function yLe(e,t,n,r){const i=r.signal(n.signal),o=yo("div",{class:fLe}),a=n.input==="radio"?o:o.appendChild(yo("label"));a.appendChild(yo("span",{class:dLe},n.name||n.signal)),t.appendChild(o);let s=vLe;switch(n.input){case"checkbox":s=bLe;break;case"select":s=xLe;break;case"radio":s=wLe;break;case"range":s=ALe;break}s(e,a,n,i)}function vLe(e,t,n,r){const i=yo("input");for(const o in n)o!=="signal"&&o!=="element"&&i.setAttribute(o==="input"?"type":o,n[o]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",()=>e.update(i.value)),e.elements=[i],e.set=o=>i.value=o}function bLe(e,t,n,r){const i={type:"checkbox",name:n.signal};r&&(i.checked=!0);const o=yo("input",i);t.appendChild(o),o.addEventListener("change",()=>e.update(o.checked)),e.elements=[o],e.set=a=>o.checked=!!a||null}function xLe(e,t,n,r){const i=yo("select",{name:n.signal}),o=n.labels||[];n.options.forEach((a,s)=>{const u={value:a};p_(a,r)&&(u.selected=!0),i.appendChild(yo("option",u,(o[s]||a)+""))}),t.appendChild(i),i.addEventListener("change",()=>{e.update(n.options[i.selectedIndex])}),e.elements=[i],e.set=a=>{for(let s=0,u=n.options.length;s<u;++s)if(p_(n.options[s],a)){i.selectedIndex=s;return}}}function wLe(e,t,n,r){const i=yo("span",{class:hLe}),o=n.labels||[];t.appendChild(i),e.elements=n.options.map((a,s)=>{const u={type:"radio",name:n.signal,value:a};p_(a,r)&&(u.checked=!0);const l=yo("input",u);l.addEventListener("change",()=>e.update(a));const c=yo("label",{},(o[s]||a)+"");return c.prepend(l),i.appendChild(c),l}),e.set=a=>{const s=e.elements,u=s.length;for(let l=0;l<u;++l)p_(s[l].value,a)&&(s[l].checked=!0)}}function ALe(e,t,n,r){r=r!==void 0?r:(+n.max+ +n.min)/2;const i=n.max!=null?n.max:Math.max(100,+r)||100,o=n.min||Math.min(0,i,+r)||0,a=n.step||jc(o,i,100),s=yo("input",{type:"range",name:n.signal,min:o,max:i,step:a});s.value=r;const u=yo("span",{},+r);t.appendChild(s),t.appendChild(u);const l=()=>{u.textContent=s.value,e.update(+s.value)};s.addEventListener("input",l),s.addEventListener("change",l),e.elements=[s],e.set=c=>{s.value=c,u.textContent=c}}function p_(e,t){return e===t||e+""==t+""}function Tie(e,t,n,r,i,o){return t=t||new r(e.loader()),t.initialize(n,Cie(e),$ie(e),v5(e),i,o).background(e.background())}function VN(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null}function _Le(e,t,n,r){const i=new r(e.loader(),VN(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,v5(e),e);return t&&t.handlers().forEach(o=>{i.on(o.type,o.handler)}),i}function SLe(e,t){const n=this,r=n._renderType,i=n._eventConfig.bind,o=c5(r);e=n._el=e?N6(n,e,!0):null,YDe(n),o||n.error("Unrecognized renderer type: "+r);const a=o.handler||ef,s=e?o.renderer:o.headless;return n._renderer=s?Tie(n,n._renderer,e,s):null,n._handler=_Le(n,n._handler,e,a),n._redraw=!0,e&&i!=="none"&&(t=t?n._elBind=N6(n,t,!0):e.appendChild(yo("form",{class:"vega-bindings"})),n._bind.forEach(u=>{u.param.element&&i!=="container"&&(u.element=N6(n,u.param.element,!!u.param.input))}),n._bind.forEach(u=>{pLe(n,u.element||t,u)})),n}function N6(e,t,n){if(typeof t=="string")if(typeof document<"u"){if(t=document.querySelector(t),!t)return e.error("Signal bind element not found: "+t),null}else return e.error("DOM document instance not found."),null;if(t&&n)try{t.textContent=""}catch(r){t=null,e.error(r)}return t}const P1=e=>+e||0,ELe=e=>({top:e,bottom:e,left:e,right:e});function YU(e){return $e(e)?{top:P1(e.top),bottom:P1(e.bottom),left:P1(e.left),right:P1(e.right)}:ELe(P1(e))}async function YN(e,t,n,r){const i=c5(t),o=i&&i.headless;return o||ae("Unrecognized renderer type: "+t),await e.runAsync(),Tie(e,null,null,o,n,r).renderAsync(e._scenegraph.root)}async function CLe(e,t){e!==gc.Canvas&&e!==gc.SVG&&e!==gc.PNG&&ae("Unrecognized image type: "+e);const n=await YN(this,e,t);return e===gc.SVG?$Le(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")}function $Le(e,t){const n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}async function kLe(e,t){return(await YN(this,gc.Canvas,e,t)).canvas()}async function TLe(e){return(await YN(this,gc.SVG,e)).svg()}function MLe(e,t,n){return _ie(e,Pp,Vy,n).parse(t)}function NLe(e){var t=this._runtime.scales;return Be(t,e)||ae("Unrecognized scale or projection: "+e),t[e].value}var Mie="width",Nie="height",JN="padding",JU={skip:!0};function Oie(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===JN?r.left+r.right:0)}function Rie(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===JN?r.top+r.bottom:0)}function OLe(e){var t=e._signals,n=t[Mie],r=t[Nie],i=t[JN];function o(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,s=>{e._width=s.size,e._viewWidth=Oie(e,s.size),o()},{size:n}),e._resizeHeight=e.add(null,s=>{e._height=s.size,e._viewHeight=Rie(e,s.size),o()},{size:r});const a=e.add(null,o,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,a.rank=i.rank+1}function RLe(e,t,n,r,i,o){this.runAfter(a=>{let s=0;a._autosize=0,a.width()!==n&&(s=1,a.signal(Mie,n,JU),a._resizeWidth.skip(!0)),a.height()!==r&&(s=1,a.signal(Nie,r,JU),a._resizeHeight.skip(!0)),a._viewWidth!==e&&(a._resize=1,a._viewWidth=e),a._viewHeight!==t&&(a._resize=1,a._viewHeight=t),(a._origin[0]!==i[0]||a._origin[1]!==i[1])&&(a._resize=1,a._origin=i),s&&a.run("enter"),o&&a.runAfter(u=>u.resize())},!1,1)}function FLe(e){return this._runtime.getState(e||{data:DLe,signals:LLe,recurse:!0})}function DLe(e,t){return t.modified&&se(t.input.value)&&e.indexOf("_:vega:_")}function LLe(e,t){return!(e==="parent"||t instanceof Pp.proxy)}function PLe(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},t=>{t._trigger=!0}),this}function ILe(e,t){function n(r){e({timestamp:Date.now(),elapsed:r})}this._timers.push(f3e(n,t))}function zLe(e,t,n,r){const i=e.element();i&&i.setAttribute("title",BLe(r))}function BLe(e){return e==null?"":se(e)?Fie(e):$e(e)&&!Nc(e)?ULe(e):e+""}function ULe(e){return Object.keys(e).map(t=>{const n=e[t];return t+": "+(se(n)?Fie(n):Die(n))}).join(`
`)}function Fie(e){return"["+e.map(Die).join(", ")+"]"}function Die(e){return se(e)?"[…]":$e(e)&&!Nc(e)?"{…}":e}function Lie(e,t){const n=this;if(t=t||{},ip.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),t.logLevel!=null&&n.logLevel(t.logLevel),t.locale||e.locale){const o=Ke({},e.locale,t.locale);n.locale(Bee(o.number,o.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||gc.Canvas,n._scenegraph=new UM;const r=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||zLe,n._redraw=!0,n._handler=new ef().scene(r),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=aLe(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const i=MLe(n,e,t.expr);n._runtime=i,n._signals=i.signals,n._bind=(e.bindings||[]).map(o=>({state:null,param:Ke({},o)})),i.root&&i.root.set(r),r.source=i.data.root.input,n.pulse(i.data.root.input,n.changeset().insert(r.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=Oie(n,n._width),n._viewHeight=Rie(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,OLe(n),JDe(n),XDe(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind)}function mx(e,t){return Be(e._signals,t)?e._signals[t]:ae("Unrecognized signal name: "+xe(t))}function Pie(e,t){const n=(e._targets||[]).filter(r=>r._update&&r._update.handler===t);return n.length?n[0]:null}function XU(e,t,n,r){let i=Pie(n,r);return i||(i=VN(e,()=>r(t,n.value)),i.handler=r,e.on(n,null,i)),e}function KU(e,t,n){const r=Pie(t,n);return r&&t._targets.remove(r),e}ve(Lie,ip,{async evaluate(e,t,n){if(await ip.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,eLe(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(r){this.error(r)}return n&&rw(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=e!=null?e+"":null;return t!==this._desc&&Eie(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){const r=mx(this,e);return arguments.length===1?r.value:this.update(r,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",YU(e)):YU(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(c5(e)||ae("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(ip.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(mx(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:RLe,addEventListener(e,t,n){let r=t;return n&&n.trap===!1||(r=VN(this,t),r.raw=t),this._handler.on(e,r),this},removeEventListener(e,t){for(var n=this._handler.handlers(e),r=n.length,i,o;--r>=0;)if(o=n[r].type,i=n[r].handler,e===o&&(t===i||t===i.raw)){this._handler.off(o,i);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.indexOf(e)<0&&t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return XU(this,e,mx(this,e),t)},removeSignalListener(e,t){return KU(this,mx(this,e),t)},addDataListener(e,t){return XU(this,e,h_(this,e).values,t)},removeDataListener(e,t){return KU(this,h_(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=r$(this,null);this._globalCursor=!!e,t&&r$(this,t)}return this}else return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:ILe,events:uLe,finalize:cLe,hover:lLe,data:KDe,change:y5,insert:QDe,remove:ZDe,scale:NLe,initialize:SLe,toImageURL:CLe,toCanvas:kLe,toSVG:TLe,getState:FLe,setState:PLe});const jLe="view",g_="[",m_="]",Iie="{",zie="}",WLe=":",Bie=",",HLe="@",qLe=">",GLe=/[[\]{}]/,VLe={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let Uie,jie;function _f(e,t,n){return Uie=t||jLe,jie=n||VLe,Wie(e.trim()).map(i$)}function YLe(e){return jie[e]}function Km(e,t,n,r,i){const o=e.length;let a=0,s;for(;t<o;++t){if(s=e[t],!a&&s===n)return t;i&&i.indexOf(s)>=0?--a:r&&r.indexOf(s)>=0&&++a}return t}function Wie(e){const t=[],n=e.length;let r=0,i=0;for(;i<n;)i=Km(e,i,Bie,g_+Iie,m_+zie),t.push(e.substring(r,i).trim()),r=++i;if(t.length===0)throw"Empty event selector: "+e;return t}function i$(e){return e[0]==="["?JLe(e):XLe(e)}function JLe(e){const t=e.length;let n=1,r;if(n=Km(e,n,m_,g_,m_),n===t)throw"Empty between selector: "+e;if(r=Wie(e.substring(1,n)),r.length!==2)throw"Between selector must have two elements: "+e;if(e=e.slice(n+1).trim(),e[0]!==qLe)throw"Expected '>' after between selector: "+e;r=r.map(i$);const i=i$(e.slice(1).trim());return i.between?{between:r,stream:i}:(i.between=r,i)}function XLe(e){const t={source:Uie},n=[];let r=[0,0],i=0,o=0,a=e.length,s=0,u,l;if(e[a-1]===zie){if(s=e.lastIndexOf(Iie),s>=0){try{r=KLe(e.substring(s+1,a-1))}catch{throw"Invalid throttle specification: "+e}e=e.slice(0,s).trim(),a=e.length}else throw"Unmatched right brace: "+e;s=0}if(!a)throw e;if(e[0]===HLe&&(i=++s),u=Km(e,s,WLe),u<a&&(n.push(e.substring(o,u).trim()),o=s=++u),s=Km(e,s,g_),s===a)n.push(e.substring(o,a).trim());else if(n.push(e.substring(o,s).trim()),l=[],o=++s,o===a)throw"Unmatched left bracket: "+e;for(;s<a;){if(s=Km(e,s,m_),s===a)throw"Unmatched left bracket: "+e;if(l.push(e.substring(o,s).trim()),s<a-1&&e[++s]!==g_)throw"Expected left bracket: "+e;o=++s}if(!(a=n.length)||GLe.test(n[a-1]))throw"Invalid event selector: "+e;return a>1?(t.type=n[1],i?t.markname=n[0].slice(1):YLe(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],t.type.slice(-1)==="!"&&(t.consume=!0,t.type=t.type.slice(0,-1)),l!=null&&(t.filter=l),r[0]&&(t.throttle=r[0]),r[1]&&(t.debounce=r[1]),t}function KLe(e){const t=e.split(Bie);if(!e.length||t.length>2)throw e;return t.map(n=>{const r=+n;if(r!==r)throw e;return r})}function QLe(e){return $e(e)?e:{type:e||"pad"}}const I1=e=>+e||0,ZLe=e=>({top:e,bottom:e,left:e,right:e});function ePe(e){return $e(e)?e.signal?e:{top:I1(e.top),bottom:I1(e.bottom),left:I1(e.left),right:I1(e.right)}:ZLe(I1(e))}const er=e=>$e(e)&&!se(e)?Ke({},e):{value:e};function QU(e,t,n,r){return n!=null?($e(n)&&!se(n)||se(n)&&n.length&&$e(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function vr(e,t,n){for(const r in t)QU(e,r,t[r]);for(const r in n)QU(e,r,n[r],"update")}function Fg(e,t,n){for(const r in t)n&&Be(n,r)||(e[r]=Ke(e[r]||{},t[r]));return e}function Eh(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const XN="mark",KN="frame",QN="scope",tPe="axis",nPe="axis-domain",rPe="axis-grid",iPe="axis-label",oPe="axis-tick",aPe="axis-title",sPe="legend",uPe="legend-band",lPe="legend-entry",cPe="legend-gradient",Hie="legend-label",fPe="legend-symbol",dPe="legend-title",hPe="title",pPe="title-text",gPe="title-subtitle";function mPe(e,t,n,r,i){const o={},a={};let s,u,l,c;u="lineBreak",t==="text"&&i[u]!=null&&!Eh(u,e)&&O6(o,u,i[u]),(n=="legend"||String(n).startsWith("axis"))&&(n=null),c=n===KN?i.group:n===XN?Ke({},i.mark,i[t]):null;for(u in c)l=Eh(u,e)||(u==="fill"||u==="stroke")&&(Eh("fill",e)||Eh("stroke",e)),l||O6(o,u,c[u]);Se(r).forEach(f=>{const d=i.style&&i.style[f];for(const p in d)Eh(p,e)||O6(o,p,d[p])}),e=Ke({},e);for(u in o)c=o[u],c.signal?(s=s||{})[u]=c:a[u]=c;return e.enter=Ke(a,e.enter),s&&(e.update=Ke(s,e.update)),e}function O6(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const qie=e=>Ee(e)?xe(e):e.signal?`(${e.signal})`:Gie(e);function b5(e){if(e.gradient!=null)return vPe(e);let t=e.signal?`(${e.signal})`:e.color?yPe(e.color):e.field!=null?Gie(e.field):e.value!==void 0?xe(e.value):void 0;return e.scale!=null&&(t=bPe(e,t)),t===void 0&&(t=null),e.exponent!=null&&(t=`pow(${t},${mw(e.exponent)})`),e.mult!=null&&(t+=`*${mw(e.mult)}`),e.offset!=null&&(t+=`+${mw(e.offset)}`),e.round&&(t=`round(${t})`),t}const yx=(e,t,n,r)=>`(${e}(${[t,n,r].map(b5).join(",")})+'')`;function yPe(e){return e.c?yx("hcl",e.h,e.c,e.l):e.h||e.s?yx("hsl",e.h,e.s,e.l):e.l||e.a?yx("lab",e.l,e.a,e.b):e.r||e.g||e.b?yx("rgb",e.r,e.g,e.b):null}function vPe(e){const t=[e.start,e.stop,e.count].map(n=>n==null?null:xe(n));for(;t.length&&gt(t)==null;)t.pop();return t.unshift(qie(e.gradient)),`gradient(${t.join(",")})`}function mw(e){return $e(e)?"("+b5(e)+")":e}function Gie(e){return Vie($e(e)?e:{datum:e})}function Vie(e){let t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):ae("Invalid field reference: "+xe(e));return e.signal||(r=Ee(r)?au(r).map(xe).join("]["):Vie(r)),t+"["+r+"]"}function bPe(e,t){const n=qie(e.scale);return e.range!=null?t=`lerp(_range(${n}), ${+e.range})`:(t!==void 0&&(t=`_scale(${n}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${n})`+(+e.band==1?"":"*"+mw(e.band)),e.extra&&(t=`(datum.extra ? _scale(${n}, datum.extra.value) : ${t})`)),t==null&&(t="0")),t}function xPe(e){let t="";return e.forEach(n=>{const r=b5(n);t+=n.test?`(${n.test})?${r}:`:r}),gt(t)===":"&&(t+="null"),t}function Yie(e,t,n,r,i,o){const a={};o=o||{},o.encoders={$encode:a},e=mPe(e,t,n,r,i.config);for(const s in e)a[s]=wPe(e[s],t,o,i);return o}function wPe(e,t,n,r){const i={},o={};for(const a in e)e[a]!=null&&(i[a]=_Pe(APe(e[a]),r,n,o));return{$expr:{marktype:t,channels:i},$fields:Object.keys(o),$output:Object.keys(e)}}function APe(e){return se(e)?xPe(e):b5(e)}function _Pe(e,t,n,r){const i=Zs(e,t);return i.$fields.forEach(o=>r[o]=1),Ke(n,i.$params),i.$expr}const SPe="outer",EPe=["value","update","init","react","bind"];function ZU(e,t){ae(e+' for "outer" push: '+xe(t))}function Jie(e,t){const n=e.name;if(e.push===SPe)t.signals[n]||ZU("No prior signal definition",n),EPe.forEach(r=>{e[r]!==void 0&&ZU("Invalid property ",r)});else{const r=t.addSignal(n,e.value);e.react===!1&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function o$(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function x5(e,t,n,r){return new o$(e,t,n,r)}function y_(e,t){return x5("operator",e,t)}function Pe(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function Yy(e,t){return t?{$field:e,$name:t}:{$field:e}}const a$=Yy("key");function ej(e,t){return{$compare:e,$order:t}}function CPe(e,t){const n={$key:e};return t&&(n.$flat=!0),n}const $Pe="ascending",kPe="descending";function TPe(e){return $e(e)?(e.order===kPe?"-":"+")+w5(e.op,e.field):""}function w5(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const ZN="scope",s$="view";function Bn(e){return e&&e.signal}function MPe(e){return e&&e.expr}function yw(e){if(Bn(e))return!0;if($e(e)){for(const t in e)if(yw(e[t]))return!0}return!1}function Da(e,t){return e??t}function Nd(e){return e&&e.signal||e}const tj="timer";function Jy(e,t){return(e.merge?OPe:e.stream?RPe:e.type?FPe:ae("Invalid stream specification: "+xe(e)))(e,t)}function NPe(e){return e===ZN?s$:e||s$}function OPe(e,t){const n=e.merge.map(i=>Jy(i,t)),r=eO({merge:n},e,t);return t.addStream(r).id}function RPe(e,t){const n=Jy(e.stream,t),r=eO({stream:n},e,t);return t.addStream(r).id}function FPe(e,t){let n;e.type===tj?(n=t.event(tj,e.throttle),e={between:e.between,filter:e.filter}):n=t.event(NPe(e.source),e.type);const r=eO({stream:n},e,t);return Object.keys(r).length===1?n:t.addStream(r).id}function eO(e,t,n){let r=t.between;return r&&(r.length!==2&&ae('Stream "between" parameter must have 2 entries: '+xe(t)),e.between=[Jy(r[0],n),Jy(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(DPe(t.marktype,t.markname,t.markrole)),t.source===ZN&&r.push("inScope(event.item)"),r.length&&(e.filter=Zs("("+r.join(")&&(")+")",n).$expr),(r=t.throttle)!=null&&(e.throttle=+r),(r=t.debounce)!=null&&(e.debounce=+r),t.consume&&(e.consume=!0),e}function DPe(e,t,n){const r="event.item";return r+(e&&e!=="*"?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}const LPe={code:"_.$value",ast:{type:"Identifier",value:"value"}};function PPe(e,t,n){const r=e.encode,i={target:n};let o=e.events,a=e.update,s=[];o||ae("Signal update missing events specification."),Ee(o)&&(o=_f(o,t.isSubscope()?ZN:s$)),o=Se(o).filter(u=>u.signal||u.scale?(s.push(u),0):1),s.length>1&&(s=[zPe(s)]),o.length&&s.push(o.length>1?{merge:o}:o[0]),r!=null&&(a&&ae("Signal encode and update are mutually exclusive."),a="encode(item(),"+xe(r)+")"),i.update=Ee(a)?Zs(a,t):a.expr!=null?Zs(a.expr,t):a.value!=null?a.value:a.signal!=null?{$expr:LPe,$params:{$value:t.signalRef(a.signal)}}:ae("Invalid signal update specification."),e.force&&(i.options={force:!0}),s.forEach(u=>t.addUpdate(Ke(IPe(u,t),i)))}function IPe(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):Jy(e,t)}}function zPe(e){return{signal:"["+e.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}function BPe(e,t){const n=t.getSignal(e.name);let r=e.update;e.init&&(r?ae("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=Zs(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach(i=>PPe(i,t,n.id))}const Ut=e=>(t,n,r)=>x5(e,n,t||void 0,r),Xie=Ut("aggregate"),UPe=Ut("axisticks"),Kie=Ut("bound"),us=Ut("collect"),nj=Ut("compare"),jPe=Ut("datajoin"),Qie=Ut("encode"),WPe=Ut("expression"),HPe=Ut("facet"),qPe=Ut("field"),GPe=Ut("key"),VPe=Ut("legendentries"),YPe=Ut("load"),JPe=Ut("mark"),XPe=Ut("multiextent"),KPe=Ut("multivalues"),QPe=Ut("overlap"),ZPe=Ut("params"),Zie=Ut("prefacet"),eIe=Ut("projection"),tIe=Ut("proxy"),nIe=Ut("relay"),eoe=Ut("render"),rIe=Ut("scale"),T0=Ut("sieve"),iIe=Ut("sortitems"),toe=Ut("viewlayout"),oIe=Ut("values");let aIe=0;const noe={min:"min",max:"max",count:"sum"};function sIe(e,t){const n=e.type||"linear";Gte(n)||ae("Unrecognized scale type: "+xe(n)),t.addScale(e.name,{type:n,domain:void 0})}function uIe(e,t){const n=t.getScale(e.name).params;let r;n.domain=roe(e.domain,e,t),e.range!=null&&(n.range=ooe(e,t,n)),e.interpolate!=null&&vIe(e.interpolate,n),e.nice!=null&&(n.nice=yIe(e.nice)),e.bins!=null&&(n.bins=mIe(e.bins,t));for(r in e)Be(n,r)||r==="name"||(n[r]=Jo(e[r],t))}function Jo(e,t){return $e(e)?e.signal?t.signalRef(e.signal):ae("Unsupported object: "+xe(e)):e}function vw(e,t){return e.signal?t.signalRef(e.signal):e.map(n=>Jo(n,t))}function A5(e){ae("Can not find data set: "+xe(e))}function roe(e,t,n){if(!e){(t.domainMin!=null||t.domainMax!=null)&&ae("No scale domain defined for domainMin/domainMax to override.");return}return e.signal?n.signalRef(e.signal):(se(e)?lIe:e.fields?fIe:cIe)(e,t,n)}function lIe(e,t,n){return e.map(r=>Jo(r,n))}function cIe(e,t,n){const r=n.getData(e.data);return r||A5(e.data),Bp(t.type)?r.valuesRef(n,e.field,ioe(e.sort,!1)):Jte(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function fIe(e,t,n){const r=e.data,i=e.fields.reduce((o,a)=>(a=Ee(a)?{data:r,field:a}:se(a)||a.signal?dIe(a,n):a,o.push(a),o),[]);return(Bp(t.type)?hIe:Jte(t.type)?pIe:gIe)(e,n,i)}function dIe(e,t){const n="_:vega:_"+aIe++,r=us({});if(se(e))r.value={$ingest:e};else if(e.signal){const i="setdata("+xe(n)+","+e.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(n,[r,T0({})]),{data:n,field:"data"}}function hIe(e,t,n){const r=ioe(e.sort,!0);let i,o;const a=n.map(l=>{const c=t.getData(l.data);return c||A5(l.data),c.countsRef(t,l.field,r)}),s={groupby:a$,pulse:a};r&&(i=r.op||"count",o=r.field?w5(i,r.field):"count",s.ops=[noe[i]],s.fields=[t.fieldRef(o)],s.as=[o]),i=t.add(Xie(s));const u=t.add(us({pulse:Pe(i)}));return o=t.add(oIe({field:a$,sort:t.sortRef(r),pulse:Pe(u)})),Pe(o)}function ioe(e,t){return e&&(!e.field&&!e.op?$e(e)?e.field="key":e={field:"key"}:!e.field&&e.op!=="count"?ae("No field provided for sort aggregate op: "+e.op):t&&e.field&&e.op&&!noe[e.op]&&ae("Multiple domain scales can not be sorted using "+e.op)),e}function pIe(e,t,n){const r=n.map(i=>{const o=t.getData(i.data);return o||A5(i.data),o.domainRef(t,i.field)});return Pe(t.add(KPe({values:r})))}function gIe(e,t,n){const r=n.map(i=>{const o=t.getData(i.data);return o||A5(i.data),o.extentRef(t,i.field)});return Pe(t.add(XPe({extents:r})))}function mIe(e,t){return e.signal||se(e)?vw(e,t):t.objectProperty(e)}function yIe(e){return $e(e)?{interval:Jo(e.interval),step:Jo(e.step)}:Jo(e)}function vIe(e,t){t.interpolate=Jo(e.type||e),e.gamma!=null&&(t.interpolateGamma=Jo(e.gamma))}function ooe(e,t,n){const r=t.config.range;let i=e.range;if(i.signal)return t.signalRef(i.signal);if(Ee(i)){if(r&&Be(r,i))return e=Ke({},e,{range:r[i]}),ooe(e,t,n);i==="width"?i=[0,{signal:"width"}]:i==="height"?i=Bp(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:ae("Unrecognized scale range value: "+xe(i))}else if(i.scheme){n.scheme=se(i.scheme)?vw(i.scheme,t):Jo(i.scheme,t),i.extent&&(n.schemeExtent=vw(i.extent,t)),i.count&&(n.schemeCount=Jo(i.count,t));return}else if(i.step){n.rangeStep=Jo(i.step,t);return}else{if(Bp(e.type)&&!se(i))return roe(i,e,t);se(i)||ae("Unsupported range type: "+xe(i))}return i.map(o=>(se(o)?vw:Jo)(o,t))}function bIe(e,t){const n=t.config.projection||{},r={};for(const i in e)i!=="name"&&(r[i]=u$(e[i],i,t));for(const i in n)r[i]==null&&(r[i]=u$(n[i],i,t));t.addProjection(e.name,r)}function u$(e,t,n){return se(e)?e.map(r=>u$(r,t,n)):$e(e)?e.signal?n.signalRef(e.signal):t==="fit"?e:ae("Unsupported parameter object: "+xe(e)):e}const ls="top",Dg="left",Lg="right",nf="bottom",aoe="center",xIe="vertical",wIe="start",AIe="middle",_Ie="end",l$="index",tO="label",SIe="offset",qp="perc",EIe="perc2",Zo="value",rv="guide-label",nO="guide-title",CIe="group-title",$Ie="group-subtitle",rj="symbol",bw="gradient",c$="discrete",f$="size",kIe="shape",TIe="fill",MIe="stroke",NIe="strokeWidth",OIe="strokeDash",RIe="opacity",rO=[f$,kIe,TIe,MIe,NIe,OIe,RIe],iv={name:1,style:1,interactive:1},mt={value:0},ea={value:1},_5="group",soe="rect",iO="rule",FIe="symbol",M0="text";function Xy(e){return e.type=_5,e.interactive=e.interactive||!1,e}function Ji(e,t){const n=(r,i)=>Da(e[r],Da(t[r],i));return n.isVertical=r=>xIe===Da(e.direction,t.direction||(r?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>Da(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>Da(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>Da(e.columns,Da(t.columns,+n.isVertical(!0))),n}function uoe(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function DIe(e,t,n){const r=t.config.style[n];return r&&r[e]}function S5(e,t,n){return`item.anchor === '${wIe}' ? ${e} : item.anchor === '${_Ie}' ? ${t} : ${n}`}const oO=S5(xe(Dg),xe(Lg),xe(aoe));function LIe(e){const t=e("tickBand");let n=e("tickOffset"),r,i;return t?t.signal?(r={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},i={signal:`(${t.signal}) === 'extent'`},$e(n)||(n={signal:`(${t.signal}) === 'extent' ? 0 : ${n}`})):t==="extent"?(r=1,i=!0,n=0):(r=.5,i=!1):(r=e("bandPosition"),i=e("tickExtra")),{extra:i,band:r,offset:n}}function loe(e,t){return t?e?$e(e)?Object.assign({},e,{offset:loe(e.offset,t)}):{value:e,offset:t}:t:e}function _o(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=Fg(e.encode,t,iv)):e.interactive=!1,e}function PIe(e,t,n,r){const i=Ji(e,n),o=i.isVertical(),a=i.gradientThickness(),s=i.gradientLength();let u,l,c,f,d;o?(l=[0,1],c=[0,0],f=a,d=s):(l=[0,0],c=[1,0],f=s,d=a);const p={enter:u={opacity:mt,x:mt,y:mt,width:er(f),height:er(d)},update:Ke({},u,{opacity:ea,fill:{gradient:t,start:l,stop:c}}),exit:{opacity:mt}};return vr(p,{stroke:i("gradientStrokeColor"),strokeWidth:i("gradientStrokeWidth")},{opacity:i("gradientOpacity")}),_o({type:soe,role:cPe,encode:p},r)}function IIe(e,t,n,r,i){const o=Ji(e,n),a=o.isVertical(),s=o.gradientThickness(),u=o.gradientLength();let l,c,f,d,p="";a?(l="y",f="y2",c="x",d="width",p="1-"):(l="x",f="x2",c="y",d="height");const g={opacity:mt,fill:{scale:t,field:Zo}};g[l]={signal:p+"datum."+qp,mult:u},g[c]=mt,g[f]={signal:p+"datum."+EIe,mult:u},g[d]=er(s);const y={enter:g,update:Ke({},g,{opacity:ea}),exit:{opacity:mt}};return vr(y,{stroke:o("gradientStrokeColor"),strokeWidth:o("gradientStrokeWidth")},{opacity:o("gradientOpacity")}),_o({type:soe,role:uPe,key:Zo,from:i,encode:y},r)}const zIe=`datum.${qp}<=0?"${Dg}":datum.${qp}>=1?"${Lg}":"${aoe}"`,BIe=`datum.${qp}<=0?"${nf}":datum.${qp}>=1?"${ls}":"${AIe}"`;function ij(e,t,n,r){const i=Ji(e,t),o=i.isVertical(),a=er(i.gradientThickness()),s=i.gradientLength();let u=i("labelOverlap"),l,c,f,d,p="";const g={enter:l={opacity:mt},update:c={opacity:ea,text:{field:tO}},exit:{opacity:mt}};return vr(g,{fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontStyle:i("labelFontStyle"),fontWeight:i("labelFontWeight"),limit:Da(e.labelLimit,t.gradientLabelLimit)}),o?(l.align={value:"left"},l.baseline=c.baseline={signal:BIe},f="y",d="x",p="1-"):(l.align=c.align={signal:zIe},l.baseline={value:"top"},f="x",d="y"),l[f]=c[f]={signal:p+"datum."+qp,mult:s},l[d]=c[d]=a,a.offset=Da(e.labelOffset,t.gradientLabelOffset)||0,u=u?{separation:i("labelSeparation"),method:u,order:"datum."+l$}:void 0,_o({type:M0,role:Hie,style:rv,key:Zo,from:r,encode:g,overlap:u},n)}function UIe(e,t,n,r,i){const o=Ji(e,t),a=n.entries,s=!!(a&&a.interactive),u=a?a.name:void 0,l=o("clipHeight"),c=o("symbolOffset"),f={data:"value"},d=`(${i}) ? datum.${SIe} : datum.${f$}`,p=l?er(l):{field:f$},g=`datum.${l$}`,y=`max(1, ${i})`;let v,b,x,_,A;p.mult=.5,v={enter:b={opacity:mt,x:{signal:d,mult:.5,offset:c},y:p},update:x={opacity:ea,x:b.x,y:b.y},exit:{opacity:mt}};let S=null,C=null;e.fill||(S=t.symbolBaseFillColor,C=t.symbolBaseStrokeColor),vr(v,{fill:o("symbolFillColor",S),shape:o("symbolType"),size:o("symbolSize"),stroke:o("symbolStrokeColor",C),strokeDash:o("symbolDash"),strokeDashOffset:o("symbolDashOffset"),strokeWidth:o("symbolStrokeWidth")},{opacity:o("symbolOpacity")}),rO.forEach(N=>{e[N]&&(x[N]=b[N]={scale:e[N],field:Zo})});const E=_o({type:FIe,role:fPe,key:Zo,from:f,clip:l?!0:void 0,encode:v},n.symbols),k=er(c);k.offset=o("labelOffset"),v={enter:b={opacity:mt,x:{signal:d,offset:k},y:p},update:x={opacity:ea,text:{field:tO},x:b.x,y:b.y},exit:{opacity:mt}},vr(v,{align:o("labelAlign"),baseline:o("labelBaseline"),fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontStyle:o("labelFontStyle"),fontWeight:o("labelFontWeight"),limit:o("labelLimit")});const O=_o({type:M0,role:Hie,style:rv,key:Zo,from:f,encode:v},n.labels);return v={enter:{noBound:{value:!l},width:mt,height:l?er(l):mt,opacity:mt},exit:{opacity:mt},update:x={opacity:ea,row:{signal:null},column:{signal:null}}},o.isVertical(!0)?(_=`ceil(item.mark.items.length / ${y})`,x.row.signal=`${g}%${_}`,x.column.signal=`floor(${g} / ${_})`,A={field:["row",g]}):(x.row.signal=`floor(${g} / ${y})`,x.column.signal=`${g} % ${y}`,A={field:g}),x.column.signal=`(${i})?${x.column.signal}:${g}`,r={facet:{data:r,name:"value",groupby:l$}},Xy({role:QN,from:r,encode:Fg(v,a,iv),marks:[E,O],name:u,interactive:s,sort:A})}function jIe(e,t){const n=Ji(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}const aO='item.orient === "left"',sO='item.orient === "right"',E5=`(${aO} || ${sO})`,WIe=`datum.vgrad && ${E5}`,HIe=S5('"top"','"bottom"','"middle"'),qIe=S5('"right"','"left"','"center"'),GIe=`datum.vgrad && ${sO} ? (${qIe}) : (${E5} && !(datum.vgrad && ${aO})) ? "left" : ${oO}`,VIe=`item._anchor || (${E5} ? "middle" : "start")`,YIe=`${WIe} ? (${aO} ? -90 : 90) : 0`,JIe=`${E5} ? (datum.vgrad ? (${sO} ? "bottom" : "top") : ${HIe}) : "top"`;function XIe(e,t,n,r){const i=Ji(e,t),o={enter:{opacity:mt},update:{opacity:ea,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:mt}};return vr(o,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:VIe},angle:{signal:YIe},align:{signal:GIe},baseline:{signal:JIe},text:e.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),_o({type:M0,role:dPe,style:nO,from:r,encode:o},n)}function KIe(e,t){let n;return $e(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+oj(e.path)+")":e.sphere&&(n="geoShape("+oj(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function oj(e){return $e(e)&&e.signal?e.signal:xe(e)}function coe(e){const t=e.role||"";return!t.indexOf("axis")||!t.indexOf("legend")||!t.indexOf("title")?t:e.type===_5?QN:t||XN}function QIe(e){return{marktype:e.type,name:e.name||void 0,role:e.role||coe(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function ZIe(e,t){return e&&e.signal?t.signalRef(e.signal):e!==!1}function uO(e,t){const n=Zee(e.type);n||ae("Unrecognized transform type: "+xe(e.type));const r=x5(n.type.toLowerCase(),null,foe(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function foe(e,t,n){const r={},i=e.params.length;for(let o=0;o<i;++o){const a=e.params[o];r[a.name]=eze(a,t,n)}return r}function eze(e,t,n){const r=e.type,i=t[e.name];if(r==="index")return tze(e,t,n);if(i===void 0){e.required&&ae("Missing required "+xe(t.type)+" parameter: "+xe(e.name));return}else{if(r==="param")return nze(e,t,n);if(r==="projection")return n.projectionRef(t[e.name])}return e.array&&!Bn(i)?i.map(o=>aj(e,o,n)):aj(e,i,n)}function aj(e,t,n){const r=e.type;if(Bn(t))return uj(r)?ae("Expression references can not be signals."):R6(r)?n.fieldRef(t):lj(r)?n.compareRef(t):n.signalRef(t.signal);{const i=e.expr||R6(r);return i&&rze(t)?n.exprRef(t.expr,t.as):i&&ize(t)?Yy(t.field,t.as):uj(r)?Zs(t,n):oze(r)?Pe(n.getData(t).values):R6(r)?Yy(t):lj(r)?n.compareRef(t):t}}function tze(e,t,n){return Ee(t.from)||ae('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}function nze(e,t,n){const r=t[e.name];return e.array?(se(r)||ae("Expected an array of sub-parameters. Instead: "+xe(r)),r.map(i=>sj(e,i,n))):sj(e,r,n)}function sj(e,t,n){const r=e.params.length;let i;for(let a=0;a<r;++a){i=e.params[a];for(const s in i.key)if(i.key[s]!==t[s]){i=null;break}if(i)break}i||ae("Unsupported parameter: "+xe(t));const o=Ke(foe(i,t,n),i.key);return Pe(n.add(ZPe(o)))}const rze=e=>e&&e.expr,ize=e=>e&&e.field,oze=e=>e==="data",uj=e=>e==="expr",R6=e=>e==="field",lj=e=>e==="compare";function aze(e,t,n){let r,i,o,a,s;return e?(r=e.facet)&&(t||ae("Only group marks can be faceted."),r.field!=null?a=s=xw(r,n):(e.data?s=Pe(n.getData(e.data).aggregate):(o=uO(Ke({type:"aggregate",groupby:Se(r.groupby)},r.aggregate),n),o.params.key=n.keyRef(r.groupby),o.params.pulse=xw(r,n),a=s=Pe(n.add(o))),i=n.keyRef(r.groupby,!0))):a=Pe(n.add(us(null,[{}]))),a||(a=xw(e,n)),{key:i,pulse:a,parent:s}}function xw(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:Pe(t.getData(e.data).output)}function a0(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}a0.fromEntries=function(e,t){const n=t.length,r=t[n-1],i=t[n-2];let o=t[0],a=null,s=1;for(o&&o.type==="load"&&(o=t[1]),e.add(t[0]);s<n;++s)t[s].params.pulse=Pe(t[s-1]),e.add(t[s]),t[s].type==="aggregate"&&(a=t[s]);return new a0(e,o,i,r,a)};function doe(e){return Ee(e)?e:null}function cj(e,t,n){const r=w5(n.op,n.field);let i;if(t.ops){for(let o=0,a=t.as.length;o<a;++o)if(t.as[o]===r)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((i=n.op.signal)?e.signalRef(i):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(r))}function z1(e,t,n,r,i,o,a){const s=t[n]||(t[n]={}),u=TPe(o);let l=doe(i),c,f;if(l!=null&&(e=t.scope,l=l+(u?"|"+u:""),c=s[l]),!c){const d=o?{field:a$,pulse:t.countsRef(e,i,o)}:{field:e.fieldRef(i),pulse:Pe(t.output)};u&&(d.sort=e.sortRef(o)),f=e.add(x5(r,void 0,d)),a&&(t.index[i]=f),c=Pe(f),l!=null&&(s[l]=c)}return c}a0.prototype={countsRef(e,t,n){const r=this,i=r.counts||(r.counts={}),o=doe(t);let a,s,u;return o!=null&&(e=r.scope,a=i[o]),a?n&&n.field&&cj(e,a.agg.params,n):(u={groupby:e.fieldRef(t,"key"),pulse:Pe(r.output)},n&&n.field&&cj(e,u,n),s=e.add(Xie(u)),a=e.add(us({pulse:Pe(s)})),a={agg:s,ref:Pe(a)},o!=null&&(i[o]=a)),a.ref},tuplesRef(){return Pe(this.values)},extentRef(e,t){return z1(e,this,"extent","extent",t,!1)},domainRef(e,t){return z1(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return z1(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return z1(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return z1(e,this,"indata","tupleindex",t,!0,!0)}};function sze(e,t,n){const r=e.from.facet,i=r.name,o=xw(r,t);let a;r.name||ae("Facet must have a name: "+xe(r)),r.data||ae("Facet must reference a data set: "+xe(r)),r.field?a=t.add(Zie({field:t.fieldRef(r.field),pulse:o})):r.groupby?a=t.add(HPe({key:t.keyRef(r.groupby),group:Pe(t.proxy(n.parent)),pulse:o})):ae("Facet must specify groupby or field: "+xe(r));const s=t.fork(),u=s.add(us()),l=s.add(T0({pulse:Pe(u)}));s.addData(i,new a0(s,u,u,l)),s.addSignal("parent",null),a.params.subflow={$subflow:s.parse(e).toRuntime()}}function uze(e,t,n){const r=t.add(Zie({pulse:n.pulse})),i=t.fork();i.add(T0()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(e).toRuntime()}}function hoe(e,t,n){const r=e.remove,i=e.insert,o=e.toggle,a=e.modify,s=e.values,u=t.add(y_()),l="if("+e.trigger+',modify("'+n+'",'+[i,r,o,a,s].map(f=>f??"null").join(",")+"),0)",c=Zs(l,t);u.update=c.$expr,u.params=c.$params}function C5(e,t){const n=coe(e),r=e.type===_5,i=e.from&&e.from.facet,o=e.overlap;let a=e.layout||n===QN||n===KN,s,u,l,c,f,d,p;const g=n===XN||a||i,y=aze(e.from,r,t);u=t.add(jPe({key:y.key||(e.key?Yy(e.key):void 0),pulse:y.pulse,clean:!r}));const v=Pe(u);u=l=t.add(us({pulse:v})),u=t.add(JPe({markdef:QIe(e),interactive:ZIe(e.interactive,t),clip:KIe(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:Pe(u)}));const b=Pe(u);u=c=t.add(Qie(Yie(e.encode,e.type,n,e.style,t,{mod:!1,pulse:b}))),u.params.parent=t.encode(),e.transform&&e.transform.forEach(C=>{const E=uO(C,t),k=E.metadata;(k.generates||k.changes)&&ae("Mark transforms should not generate new data."),k.nomod||(c.params.mod=!0),E.params.pulse=Pe(u),t.add(u=E)}),e.sort&&(u=t.add(iIe({sort:t.compareRef(e.sort),pulse:Pe(u)})));const x=Pe(u);(i||a)&&(a=t.add(toe({layout:t.objectProperty(e.layout),legends:t.legends,mark:b,pulse:x})),d=Pe(a));const _=t.add(Kie({mark:b,pulse:d||x}));p=Pe(_),r&&(g&&(s=t.operators,s.pop(),a&&s.pop()),t.pushState(x,d||p,v),i?sze(e,t,y):g?uze(e,t,y):t.parse(e),t.popState(),g&&(a&&s.push(a),s.push(_))),o&&(p=lze(o,p,t));const A=t.add(eoe({pulse:p})),S=t.add(T0({pulse:Pe(A)},void 0,t.parent()));e.name!=null&&(f=e.name,t.addData(f,new a0(t,l,A,S)),e.on&&e.on.forEach(C=>{(C.insert||C.remove||C.toggle)&&ae("Marks only support modify triggers."),hoe(C,t,f)}))}function lze(e,t,n){const r=e.method,i=e.bound,o=e.separation,a={separation:Bn(o)?n.signalRef(o.signal):o,method:Bn(r)?n.signalRef(r.signal):r,pulse:t};if(e.order&&(a.sort=n.compareRef({field:e.order})),i){const s=i.tolerance;a.boundTolerance=Bn(s)?n.signalRef(s.signal):+s,a.boundScale=n.scaleRef(i.scale),a.boundOrient=i.orient}return Pe(n.add(QPe(a)))}function cze(e,t){const n=t.config.legend,r=e.encode||{},i=Ji(e,n),o=r.legend||{},a=o.name||void 0,s=o.interactive,u=o.style,l={};let c=0,f,d,p;rO.forEach(_=>e[_]?(l[_]=e[_],c=c||e[_]):0),c||ae("Missing valid scale for legend.");const g=fze(e,t.scaleType(c)),y={title:e.title!=null,scales:l,type:g,vgrad:g!=="symbol"&&i.isVertical()},v=Pe(t.add(us(null,[y]))),b={enter:{x:{value:0},y:{value:0}}},x=Pe(t.add(VPe(d={type:g,scale:t.scaleRef(c),count:t.objectProperty(i("tickCount")),limit:t.property(i("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return g===bw?(p=[PIe(e,c,n,r.gradient),ij(e,n,r.labels,x)],d.count=d.count||t.signalRef(`max(2,2*floor((${Nd(i.gradientLength())})/100))`)):g===c$?p=[IIe(e,c,n,r.gradient,x),ij(e,n,r.labels,x)]:(f=jIe(e,n),p=[UIe(e,n,r,x,Nd(f.columns))],d.size=pze(e,t,p[0].marks)),p=[Xy({role:lPe,from:v,encode:b,marks:p,layout:f,interactive:s})],y.title&&p.push(XIe(e,n,r.title,v)),C5(Xy({role:sPe,from:v,encode:Fg(hze(i,e,n),o,iv),marks:p,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:a,interactive:s,style:u}),t)}function fze(e,t){let n=e.type||rj;return!e.type&&dze(e)===1&&(e.fill||e.stroke)&&(n=mM(t)?bw:SC(t)?c$:rj),n!==bw?n:SC(t)?c$:bw}function dze(e){return rO.reduce((t,n)=>t+(e[n]?1:0),0)}function hze(e,t,n){const r={enter:{},update:{}};return vr(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function pze(e,t,n){const r=Nd(fj("size",e,n)),i=Nd(fj("strokeWidth",e,n)),o=Nd(gze(n[1].encode,t,rv));return Zs(`max(ceil(sqrt(${r})+${i}),${o})`,t)}function fj(e,t,n){return t[e]?`scale("${t[e]}",datum)`:uoe(e,n[0].encode)}function gze(e,t,n){return uoe("fontSize",e)||DIe("fontSize",t,n)}const mze=`item.orient==="${Dg}"?-90:item.orient==="${Lg}"?90:0`;function yze(e,t){e=Ee(e)?{text:e}:e;const n=Ji(e,t.config.title),r=e.encode||{},i=r.group||{},o=i.name||void 0,a=i.interactive,s=i.style,u=[],l={},c=Pe(t.add(us(null,[l])));return u.push(xze(e,n,vze(e),c)),e.subtitle&&u.push(wze(e,n,r.subtitle,c)),C5(Xy({role:hPe,from:c,encode:bze(n,i),marks:u,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:o,interactive:a,style:s}),t)}function vze(e){const t=e.encode;return t&&t.title||Ke({name:e.name,interactive:e.interactive,style:e.style},t)}function bze(e,t){const n={enter:{},update:{}};return vr(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:oO},angle:{signal:mze},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),Fg(n,t,iv)}function xze(e,t,n,r){const i={value:0},o=e.text,a={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return vr(a,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),_o({type:M0,role:pPe,style:CIe,from:r,encode:a},n)}function wze(e,t,n,r){const i={value:0},o=e.subtitle,a={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return vr(a,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),_o({type:M0,role:gPe,style:$Ie,from:r,encode:a},n)}function Aze(e,t){const n=[];e.transform&&e.transform.forEach(r=>{n.push(uO(r,t))}),e.on&&e.on.forEach(r=>{hoe(r,t,e.name)}),t.addDataPipeline(e.name,_ze(e,t,n))}function _ze(e,t,n){const r=[];let i=null,o=!1,a=!1,s,u,l,c,f;for(e.values?Bn(e.values)||yw(e.format)?(r.push(dj(t,e)),r.push(i=qf())):r.push(i=qf({$ingest:e.values,$format:e.format})):e.url?yw(e.url)||yw(e.format)?(r.push(dj(t,e)),r.push(i=qf())):r.push(i=qf({$request:e.url,$format:e.format})):e.source&&(i=s=Se(e.source).map(d=>Pe(t.getData(d).output)),r.push(null)),u=0,l=n.length;u<l;++u)c=n[u],f=c.metadata,!i&&!f.source&&r.push(i=qf()),r.push(c),f.generates&&(a=!0),f.modifies&&!a&&(o=!0),f.source?i=c:f.changes&&(i=null);return s&&(l=s.length-1,r[0]=nIe({derive:o,pulse:l?s:s[0]}),(o||l)&&r.splice(1,0,qf())),i||r.push(qf()),r.push(T0({})),r}function qf(e){const t=us({},e);return t.metadata={source:!0},t}function dj(e,t){return YPe({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}const poe=e=>e===nf||e===ls,$5=(e,t,n)=>Bn(e)?$ze(e.signal,t,n):e===Dg||e===ls?t:n,tr=(e,t,n)=>Bn(e)?Eze(e.signal,t,n):poe(e)?t:n,Xa=(e,t,n)=>Bn(e)?Cze(e.signal,t,n):poe(e)?n:t,goe=(e,t,n)=>Bn(e)?kze(e.signal,t,n):e===ls?{value:t}:{value:n},Sze=(e,t,n)=>Bn(e)?Tze(e.signal,t,n):e===Lg?{value:t}:{value:n},Eze=(e,t,n)=>moe(`${e} === '${ls}' || ${e} === '${nf}'`,t,n),Cze=(e,t,n)=>moe(`${e} !== '${ls}' && ${e} !== '${nf}'`,t,n),$ze=(e,t,n)=>lO(`${e} === '${Dg}' || ${e} === '${ls}'`,t,n),kze=(e,t,n)=>lO(`${e} === '${ls}'`,t,n),Tze=(e,t,n)=>lO(`${e} === '${Lg}'`,t,n),moe=(e,t,n)=>(t=t!=null?er(t):t,n=n!=null?er(n):n,hj(t)&&hj(n)?(t=t?t.signal||xe(t.value):null,n=n?n.signal||xe(n.value):null,{signal:`${e} ? (${t}) : (${n})`}):[Ke({test:e},t)].concat(n||[])),hj=e=>e==null||Object.keys(e).length===1,lO=(e,t,n)=>({signal:`${e} ? (${qh(t)}) : (${qh(n)})`}),Mze=(e,t,n,r,i)=>({signal:(r!=null?`${e} === '${Dg}' ? (${qh(r)}) : `:"")+(n!=null?`${e} === '${nf}' ? (${qh(n)}) : `:"")+(i!=null?`${e} === '${Lg}' ? (${qh(i)}) : `:"")+(t!=null?`${e} === '${ls}' ? (${qh(t)}) : `:"")+"(null)"}),qh=e=>Bn(e)?e.signal:e==null?null:xe(e),Nze=(e,t)=>t===0?0:Bn(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t},op=(e,t)=>{const n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function mh(e,t,n,r){let i;if(t&&Be(t,e))return t[e];if(Be(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=e[5].toLowerCase()+e.slice(6)}return r[nO][i]}else if(e.startsWith("label")){switch(e){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=e[5].toLowerCase()+e.slice(6)}return r[rv][i]}return null}function pj(e){const t={};for(const n of e)if(n)for(const r in n)t[r]=1;return Object.keys(t)}function Oze(e,t){var n=t.config,r=n.style,i=n.axis,o=t.scaleType(e.scale)==="band"&&n.axisBand,a=e.orient,s,u,l;if(Bn(a)){const f=pj([n.axisX,n.axisY]),d=pj([n.axisTop,n.axisBottom,n.axisLeft,n.axisRight]);s={};for(l of f)s[l]=tr(a,mh(l,n.axisX,i,r),mh(l,n.axisY,i,r));u={};for(l of d)u[l]=Mze(a.signal,mh(l,n.axisTop,i,r),mh(l,n.axisBottom,i,r),mh(l,n.axisLeft,i,r),mh(l,n.axisRight,i,r))}else s=a===ls||a===nf?n.axisX:n.axisY,u=n["axis"+a[0].toUpperCase()+a.slice(1)];return s||u||o?Ke({},i,s,u,o):i}function Rze(e,t,n,r){const i=Ji(e,t),o=e.orient;let a,s;const u={enter:a={opacity:mt},update:s={opacity:ea},exit:{opacity:mt}};vr(u,{stroke:i("domainColor"),strokeCap:i("domainCap"),strokeDash:i("domainDash"),strokeDashOffset:i("domainDashOffset"),strokeWidth:i("domainWidth"),strokeOpacity:i("domainOpacity")});const l=gj(e,0),c=gj(e,1);return a.x=s.x=tr(o,l,mt),a.x2=s.x2=tr(o,c),a.y=s.y=Xa(o,l,mt),a.y2=s.y2=Xa(o,c),_o({type:iO,role:nPe,from:r,encode:u},n)}function gj(e,t){return{scale:e.scale,range:t}}function Fze(e,t,n,r,i){const o=Ji(e,t),a=e.orient,s=e.gridScale,u=$5(a,1,-1),l=Dze(e.offset,u);let c,f,d;const p={enter:c={opacity:mt},update:d={opacity:ea},exit:f={opacity:mt}};vr(p,{stroke:o("gridColor"),strokeCap:o("gridCap"),strokeDash:o("gridDash"),strokeDashOffset:o("gridDashOffset"),strokeOpacity:o("gridOpacity"),strokeWidth:o("gridWidth")});const g={scale:e.scale,field:Zo,band:i.band,extra:i.extra,offset:i.offset,round:o("tickRound")},y=tr(a,{signal:"height"},{signal:"width"}),v=s?{scale:s,range:0,mult:u,offset:l}:{value:0,offset:l},b=s?{scale:s,range:1,mult:u,offset:l}:Ke(y,{mult:u,offset:l});return c.x=d.x=tr(a,g,v),c.y=d.y=Xa(a,g,v),c.x2=d.x2=Xa(a,b),c.y2=d.y2=tr(a,b),f.x=tr(a,g),f.y=Xa(a,g),_o({type:iO,role:rPe,key:Zo,from:r,encode:p},n)}function Dze(e,t){if(t!==1)if(!$e(e))e=Bn(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);else{let n=e=Ke({},e);for(;n.mult!=null;)if($e(n.mult))n=n.mult=Ke({},n.mult);else return n.mult=Bn(t)?{signal:`(${n.mult}) * (${t.signal})`}:n.mult*t,e;n.mult=t}return e}function Lze(e,t,n,r,i,o){const a=Ji(e,t),s=e.orient,u=$5(s,-1,1);let l,c,f;const d={enter:l={opacity:mt},update:f={opacity:ea},exit:c={opacity:mt}};vr(d,{stroke:a("tickColor"),strokeCap:a("tickCap"),strokeDash:a("tickDash"),strokeDashOffset:a("tickDashOffset"),strokeOpacity:a("tickOpacity"),strokeWidth:a("tickWidth")});const p=er(i);p.mult=u;const g={scale:e.scale,field:Zo,band:o.band,extra:o.extra,offset:o.offset,round:a("tickRound")};return f.y=l.y=tr(s,mt,g),f.y2=l.y2=tr(s,p),c.x=tr(s,g),f.x=l.x=Xa(s,mt,g),f.x2=l.x2=Xa(s,p),c.y=Xa(s,g),_o({type:iO,role:oPe,key:Zo,from:r,encode:d},n)}function F6(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}function Pze(e,t,n,r,i,o){const a=Ji(e,t),s=e.orient,u=e.scale,l=$5(s,-1,1),c=Nd(a("labelFlush")),f=Nd(a("labelFlushOffset")),d=a("labelAlign"),p=a("labelBaseline");let g=c===0||!!c,y;const v=er(i);v.mult=l,v.offset=er(a("labelPadding")||0),v.offset.mult=l;const b={scale:u,field:Zo,band:.5,offset:loe(o.offset,a("labelOffset"))},x=tr(s,g?F6(u,c,'"left"','"right"','"center"'):{value:"center"},Sze(s,"left","right")),_=tr(s,goe(s,"bottom","top"),g?F6(u,c,'"top"','"bottom"','"middle"'):{value:"middle"}),A=F6(u,c,`-(${f})`,f,0);g=g&&f;const S={opacity:mt,x:tr(s,b,v),y:Xa(s,b,v)},C={enter:S,update:y={opacity:ea,text:{field:tO},x:S.x,y:S.y,align:x,baseline:_},exit:{opacity:mt,x:S.x,y:S.y}};vr(C,{dx:!d&&g?tr(s,A):null,dy:!p&&g?Xa(s,A):null}),vr(C,{angle:a("labelAngle"),fill:a("labelColor"),fillOpacity:a("labelOpacity"),font:a("labelFont"),fontSize:a("labelFontSize"),fontWeight:a("labelFontWeight"),fontStyle:a("labelFontStyle"),limit:a("labelLimit"),lineHeight:a("labelLineHeight")},{align:d,baseline:p});const E=a("labelBound");let k=a("labelOverlap");return k=k||E?{separation:a("labelSeparation"),method:k,order:"datum.index",bound:E?{scale:u,orient:s,tolerance:E}:null}:void 0,y.align!==x&&(y.align=op(y.align,x)),y.baseline!==_&&(y.baseline=op(y.baseline,_)),_o({type:M0,role:iPe,style:rv,key:Zo,from:r,encode:C,overlap:k},n)}function Ize(e,t,n,r){const i=Ji(e,t),o=e.orient,a=$5(o,-1,1);let s,u;const l={enter:s={opacity:mt,anchor:er(i("titleAnchor",null)),align:{signal:oO}},update:u=Ke({},s,{opacity:ea,text:er(e.title)}),exit:{opacity:mt}},c={signal:`lerp(range("${e.scale}"), ${S5(0,1,.5)})`};return u.x=tr(o,c),u.y=Xa(o,c),s.angle=tr(o,mt,Nze(a,90)),s.baseline=tr(o,goe(o,nf,ls),{value:nf}),u.angle=s.angle,u.baseline=s.baseline,vr(l,{fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),angle:i("titleAngle"),baseline:i("titleBaseline")}),zze(i,o,l,n),l.update.align=op(l.update.align,s.align),l.update.angle=op(l.update.angle,s.angle),l.update.baseline=op(l.update.baseline,s.baseline),_o({type:M0,role:aPe,style:nO,from:r,encode:l},n)}function zze(e,t,n,r){const i=(s,u)=>s!=null?(n.update[u]=op(er(s),n.update[u]),!1):!Eh(u,r),o=i(e("titleX"),"x"),a=i(e("titleY"),"y");n.enter.auto=a===o?er(a):tr(t,er(a),er(o))}function Bze(e,t){const n=Oze(e,t),r=e.encode||{},i=r.axis||{},o=i.name||void 0,a=i.interactive,s=i.style,u=Ji(e,n),l=LIe(u),c={scale:e.scale,ticks:!!u("ticks"),labels:!!u("labels"),grid:!!u("grid"),domain:!!u("domain"),title:e.title!=null},f=Pe(t.add(us({},[c]))),d=Pe(t.add(UPe({scale:t.scaleRef(e.scale),extra:t.property(l.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),p=[];let g;return c.grid&&p.push(Fze(e,n,r.grid,d,l)),c.ticks&&(g=u("tickSize"),p.push(Lze(e,n,r.ticks,d,g,l))),c.labels&&(g=c.ticks?g:0,p.push(Pze(e,n,r.labels,d,g,l))),c.domain&&p.push(Rze(e,n,r.domain,f)),c.title&&p.push(Ize(e,n,r.title,f)),C5(Xy({role:tPe,from:f,encode:Fg(Uze(u,e),i,iv),marks:p,aria:u("aria"),description:u("description"),zindex:u("zindex"),name:o,interactive:a,style:s}),t)}function Uze(e,t){const n={enter:{},update:{}};return vr(n,{orient:e("orient"),offset:e("offset")||0,position:Da(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function yoe(e,t,n){const r=Se(e.signals),i=Se(e.scales);return n||r.forEach(o=>Jie(o,t)),Se(e.projections).forEach(o=>bIe(o,t)),i.forEach(o=>sIe(o,t)),Se(e.data).forEach(o=>Aze(o,t)),i.forEach(o=>uIe(o,t)),(n||r).forEach(o=>BPe(o,t)),Se(e.axes).forEach(o=>Bze(o,t)),Se(e.marks).forEach(o=>C5(o,t)),Se(e.legends).forEach(o=>cze(o,t)),e.title&&yze(e.title,t),t.parseLambdas(),t}const jze=e=>Fg({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e);function Wze(e,t){const n=t.config,r=Pe(t.root=t.add(y_())),i=Hze(e,n);i.forEach(l=>Jie(l,t)),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const o=t.add(us()),a=t.add(Qie(Yie(jze(e.encode),_5,KN,e.style,t,{pulse:Pe(o)}))),s=t.add(toe({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:Pe(a)}));t.operators.pop(),t.pushState(Pe(a),Pe(s),null),yoe(e,t,i),t.operators.push(s);let u=t.add(Kie({mark:r,pulse:Pe(s)}));return u=t.add(eoe({pulse:Pe(u)})),u=t.add(T0({pulse:Pe(u)})),t.addData("root",new a0(t,o,o,u)),t}function B1(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function Hze(e,t){const n=a=>Da(e[a],t[a]),r=[B1("background",n("background")),B1("autosize",QLe(n("autosize"))),B1("padding",ePe(n("padding"))),B1("width",n("width")||0),B1("height",n("height")||0)],i=r.reduce((a,s)=>(a[s.name]=s,a),{}),o={};return Se(e.signals).forEach(a=>{Be(i,a.name)?a=Ke(i[a.name],a):r.push(a),o[a.name]=a}),Se(t.signals).forEach(a=>{!Be(o,a.name)&&!Be(i,a.name)&&r.push(a)}),r}function voe(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function mj(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}voe.prototype=mj.prototype={parse(e){return yoe(e,this)},fork(){return new mj(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof o$?Pe(e):e;return this.add(tIe({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;this.root&&(this.root.root=!0);for(e in this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(r,i,o){let a,s;r&&(a=r.data||(r.data={}),s=a[i]||(a[i]=[]),s.push(o))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(const r in t.index)n(t.index[r],e,"index:"+r)}return this},pushState(e,t,n){this._encode.push(Pe(this.add(T0({pulse:e})))),this._parent.push(t),this._lookup.push(n?Pe(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return gt(this._parent)},encode(){return gt(this._encode)},lookup(){return gt(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(Ee(e))return Yy(e,t);e.signal||ae("Unsupported field reference: "+xe(e));const n=e.signal;let r=this.field[n];if(!r){const i={name:this.signalRef(n)};t&&(i.as=t),this.field[n]=r=Pe(this.add(qPe(i)))}return r},compareRef(e){let t=!1;const n=o=>Bn(o)?(t=!0,this.signalRef(o.signal)):MPe(o)?(t=!0,this.exprRef(o.expr)):o,r=Se(e.field).map(n),i=Se(e.order).map(n);return t?Pe(this.add(nj({fields:r,orders:i}))):ej(r,i)},keyRef(e,t){let n=!1;const r=o=>Bn(o)?(n=!0,Pe(i[o.signal])):o,i=this.signals;return e=Se(e).map(r),n?Pe(this.add(GPe({fields:e,flat:t}))):CPe(e,t)},sortRef(e){if(!e)return e;const t=w5(e.op,e.field),n=e.order||$Pe;return n.signal?Pe(this.add(nj({fields:t,orders:this.signalRef(n.signal)}))):ej(t,n)},event(e,t){const n=e+":"+t;if(!this.events[n]){const r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hasOwnSignal(e){return Be(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&ae("Duplicate signal name: "+xe(e));const n=t instanceof o$?t:this.add(y_(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||ae("Unrecognized signal name: "+xe(e)),this.signals[e]},signalRef(e){return this.signals[e]?Pe(this.signals[e]):(Be(this.lambdas,e)||(this.lambdas[e]=this.add(y_(null))),Pe(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){const r=e[t],i=Zs(r,this),o=this.lambdas[r];o.params=i.$params,o.update=i.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return!e||!$e(e)?e:this.signalRef(e.signal||cO(e))},exprRef(e,t){const n={expr:Zs(e,this)};return t&&(n.expr.$name=t),Pe(this.add(WPe(n)))},addBinding(e,t){this.bindings||ae("Nested signals do not support binding: "+xe(e)),this.bindings.push(Ke({signal:e},t))},addScaleProj(e,t){Be(this.scales,e)&&ae("Duplicate scale or projection name: "+xe(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,rIe(t))},addProjection(e,t){this.addScaleProj(e,eIe(t))},getScale(e){return this.scales[e]||ae("Unrecognized scale name: "+xe(e)),this.scales[e]},scaleRef(e){return Pe(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return Be(this.data,e)&&ae("Duplicate data set name: "+xe(e)),this.data[e]=t},getData(e){return this.data[e]||ae("Undefined data set name: "+xe(e)),this.data[e]},addDataPipeline(e,t){return Be(this.data,e)&&ae("Duplicate data set name: "+xe(e)),this.addData(e,a0.fromEntries(this,t))}};function cO(e){return(se(e)?qze:Gze)(e)}function qze(e){const t=e.length;let n="[";for(let r=0;r<t;++r){const i=e[r];n+=(r>0?",":"")+($e(i)?i.signal||cO(i):xe(i))}return n+"]"}function Gze(e){let t="{",n=0,r,i;for(r in e)i=e[r],t+=(++n>1?",":"")+xe(r)+":"+($e(i)?i.signal||cO(i):xe(i));return t+"}"}function Vze(){const e="sans-serif",r="#4c78a8",i="#000",o="#888",a="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:r},area:{fill:r},image:null,line:{stroke:r,strokeWidth:2},path:{stroke:r},rect:{fill:r},rule:{stroke:i},shape:{stroke:r},symbol:{fill:r,size:64},text:{fill:i,font:e,fontSize:11},trail:{fill:r,size:2},style:{"guide-label":{fill:i,font:e,fontSize:10},"guide-title":{fill:i,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:i,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:i,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:a},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:o,grid:!1,gridWidth:1,gridColor:a,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:o,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:a,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:o,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function Yze(e,t,n){return $e(e)||ae("Input Vega specification must be an object."),t=Cg(Vze(),t,e.config),Wze(e,new voe(t,n)).toRuntime()}var Jze="5.26.1";Ke(Pp,Y$e,PMe,gNe,GNe,ZNe,COe,oOe,kOe,OOe,jOe,JOe);const Xze=Object.freeze(Object.defineProperty({__proto__:null,Bounds:Tn,CanvasHandler:ef,CanvasRenderer:jy,DATE:Hi,DAY:Or,DAYOFYEAR:Qs,Dataflow:ip,Debug:VZ,Error:tT,EventStream:j3,Gradient:cne,GroupItem:t5,HOURS:xo,Handler:Zc,HybridHandler:XM,HybridRenderer:s_,Info:GZ,Item:e5,MILLISECONDS:ts,MINUTES:wo,MONTH:Pr,Marks:Ao,MultiPulse:wT,None:qZ,Operator:Wt,Parameters:U3,Pulse:Oc,QUARTER:Wi,RenderType:gc,Renderer:ko,ResourceLoader:EM,SECONDS:da,SVGHandler:WM,SVGRenderer:l5,SVGStringRenderer:JM,Scenegraph:UM,TIME_UNITS:hT,Transform:Z,View:Lie,WEEK:In,Warn:nT,YEAR:gr,accessor:Yi,accessorFields:Lr,accessorName:xn,array:Se,ascending:D3,bandwidthNRD:ET,bin:nte,bootstrapCI:rte,boundClip:sre,boundContext:J2,boundItem:MC,boundMark:Tne,boundStroke:wl,changeset:C0,clampRange:iee,codegenExpression:lie,compare:sT,constant:jr,cumulativeLogNormal:NT,cumulativeNormal:H3,cumulativeUniform:DT,dayofyear:mee,debounce:uT,defaultLocale:mT,definition:Zee,densityLogNormal:MT,densityNormal:CT,densityUniform:FT,domChild:Dn,domClear:Ho,domCreate:hc,domFind:jM,dotbin:ite,error:ae,expressionFunction:$n,extend:Ke,extent:Ks,extentIndex:oee,falsy:Vl,fastmap:kg,field:ca,flush:aee,font:a5,fontFamily:Q2,fontSize:su,format:nw,formatLocale:VA,formats:bT,hasOwnProperty:Be,id:P2,identity:Ur,inferType:jee,inferTypes:Wee,ingest:Mt,inherits:ve,inrange:jh,interpolate:yM,interpolateColors:Q3,interpolateRange:Xte,intersect:rre,intersectBoxLine:Wh,intersectPath:CM,intersectPoint:$M,intersectRule:vne,isArray:se,isBoolean:wf,isDate:Nc,isFunction:Qe,isIterable:see,isNumber:xt,isObject:$e,isRegExp:uee,isString:Ee,isTuple:z3,key:lT,lerp:lee,lineHeight:Kc,loader:P3,locale:Bee,logger:rT,lruCache:cee,markup:YM,merge:fee,mergeConfig:Cg,multiLineOffset:IM,one:Eg,pad:dee,panLinear:QZ,panLog:ZZ,panPow:eee,panSymlog:tee,parse:Yze,parseExpression:PN,parseSelector:_f,path:g3,pathCurves:AM,pathEqual:ure,pathParse:Up,pathRectangle:hne,pathRender:Iy,pathSymbols:dne,pathTrail:pne,peek:gt,point:u5,projection:uN,quantileLogNormal:OT,quantileNormal:q3,quantileUniform:LT,quantiles:_T,quantizeInterpolator:Kte,quarter:nee,quartiles:ST,get random(){return ha},randomInteger:QCe,randomKDE:kT,randomLCG:KCe,randomLogNormal:ate,randomMixture:ste,randomNormal:$T,randomUniform:ute,read:Gee,regressionConstant:PT,regressionExp:cte,regressionLinear:IT,regressionLoess:hte,regressionLog:lte,regressionPoly:dte,regressionPow:fte,regressionQuad:zT,renderModule:c5,repeat:dm,resetDefaultLocale:Y4e,resetSVGClipId:mne,resetSVGDefIds:tMe,responseType:qee,runtimeContext:_ie,sampleCurve:V3,sampleLogNormal:TT,sampleNormal:W3,sampleUniform:RT,scale:St,sceneEqual:KM,sceneFromJSON:Nne,scenePickVisit:QA,sceneToJSON:Mne,sceneVisit:ns,sceneZOrder:kM,scheme:vM,serializeXML:Yne,setHybridRendererOptions:KTe,setRandom:JCe,span:I2,splitAccessPath:au,stringValue:xe,textMetrics:mo,timeBin:Ree,timeFloor:_ee,timeFormatLocale:Dy,timeInterval:Tg,timeOffset:Cee,timeSequence:Tee,timeUnitSpecifier:gee,timeUnits:pT,toBoolean:cT,toDate:fT,toNumber:Rr,toSet:es,toString:dT,transform:ete,transforms:Pp,truncate:hee,truthy:fa,tupleid:Ie,typeParsers:wC,utcFloor:See,utcInterval:Mg,utcOffset:$ee,utcSequence:Mee,utcdayofyear:bee,utcquarter:ree,utcweek:xee,version:Jze,visitArray:tc,week:yee,writeConfig:$g,zero:uc,zoomLinear:iT,zoomLog:oT,zoomPow:GA,zoomSymlog:aT},Symbol.toStringTag,{value:"Module"}));function Kze(e,t,n){let r;t.x2&&(t.x?(n&&e.x>e.x2&&(r=e.x,e.x=e.x2,e.x2=r),e.width=e.x2-e.x):e.x=e.x2-(e.width||0)),t.xc&&(e.x=e.xc-(e.width||0)/2),t.y2&&(t.y?(n&&e.y>e.y2&&(r=e.y,e.y=e.y2,e.y2=r),e.height=e.y2-e.y):e.y=e.y2-(e.height||0)),t.yc&&(e.y=e.yc-(e.height||0)/2)}var Qze={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},Zze={"*":(e,t)=>e*t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"/":(e,t)=>e/t,"%":(e,t)=>e%t,">":(e,t)=>e>t,"<":(e,t)=>e<t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t,"==":(e,t)=>e==t,"!=":(e,t)=>e!=t,"===":(e,t)=>e===t,"!==":(e,t)=>e!==t,"&":(e,t)=>e&t,"|":(e,t)=>e|t,"^":(e,t)=>e^t,"<<":(e,t)=>e<<t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t},eBe={"+":e=>+e,"-":e=>-e,"~":e=>~e,"!":e=>!e};const tBe=Array.prototype.slice,Gf=(e,t,n)=>{const r=n?n(t[0]):t[0];return r[e].apply(r,tBe.call(t,1))},nBe=(e,t,n,r,i,o,a)=>new Date(e,t||0,n??1,r||0,i||0,o||0,a||0);var rBe={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(e,t,n)=>Math.max(t,Math.min(n,e)),now:Date.now,utc:Date.UTC,datetime:nBe,date:e=>new Date(e).getDate(),day:e=>new Date(e).getDay(),year:e=>new Date(e).getFullYear(),month:e=>new Date(e).getMonth(),hours:e=>new Date(e).getHours(),minutes:e=>new Date(e).getMinutes(),seconds:e=>new Date(e).getSeconds(),milliseconds:e=>new Date(e).getMilliseconds(),time:e=>new Date(e).getTime(),timezoneoffset:e=>new Date(e).getTimezoneOffset(),utcdate:e=>new Date(e).getUTCDate(),utcday:e=>new Date(e).getUTCDay(),utcyear:e=>new Date(e).getUTCFullYear(),utcmonth:e=>new Date(e).getUTCMonth(),utchours:e=>new Date(e).getUTCHours(),utcminutes:e=>new Date(e).getUTCMinutes(),utcseconds:e=>new Date(e).getUTCSeconds(),utcmilliseconds:e=>new Date(e).getUTCMilliseconds(),length:e=>e.length,join:function(){return Gf("join",arguments)},indexof:function(){return Gf("indexOf",arguments)},lastindexof:function(){return Gf("lastIndexOf",arguments)},slice:function(){return Gf("slice",arguments)},reverse:e=>e.slice().reverse(),parseFloat,parseInt,upper:e=>String(e).toUpperCase(),lower:e=>String(e).toLowerCase(),substring:function(){return Gf("substring",arguments,String)},split:function(){return Gf("split",arguments,String)},replace:function(){return Gf("replace",arguments,String)},trim:e=>String(e).trim(),regexp:RegExp,test:(e,t)=>RegExp(e).test(t)};const iBe=["view","item","group","xy","x","y"],d$=new Set([Function,eval,setTimeout,setInterval]);typeof setImmediate=="function"&&d$.add(setImmediate);const oBe={Literal:(e,t)=>t.value,Identifier:(e,t)=>{const n=t.name;return e.memberDepth>0?n:n==="datum"?e.datum:n==="event"?e.event:n==="item"?e.item:Qze[n]||e.params["$"+n]},MemberExpression:(e,t)=>{const n=!t.computed,r=e(t.object);n&&(e.memberDepth+=1);const i=e(t.property);if(n&&(e.memberDepth-=1),d$.has(r[i])){console.error(`Prevented interpretation of member "${i}" which could lead to insecure code execution`);return}return r[i]},CallExpression:(e,t)=>{const n=t.arguments;let r=t.callee.name;return r.startsWith("_")&&(r=r.slice(1)),r==="if"?e(n[0])?e(n[1]):e(n[2]):(e.fn[r]||rBe[r]).apply(e.fn,n.map(e))},ArrayExpression:(e,t)=>t.elements.map(e),BinaryExpression:(e,t)=>Zze[t.operator](e(t.left),e(t.right)),UnaryExpression:(e,t)=>eBe[t.operator](e(t.argument)),ConditionalExpression:(e,t)=>e(t.test)?e(t.consequent):e(t.alternate),LogicalExpression:(e,t)=>t.operator==="&&"?e(t.left)&&e(t.right):e(t.left)||e(t.right),ObjectExpression:(e,t)=>t.properties.reduce((n,r)=>{e.memberDepth+=1;const i=e(r.key);return e.memberDepth-=1,d$.has(e(r.value))?console.error(`Prevented interpretation of property "${i}" which could lead to insecure code execution`):n[i]=e(r.value),n},{})};function U1(e,t,n,r,i,o){const a=s=>oBe[s.type](a,s);return a.memberDepth=0,a.fn=Object.create(t),a.params=n,a.datum=r,a.event=i,a.item=o,iBe.forEach(s=>a.fn[s]=function(){return i.vega[s](...arguments)}),a(e)}var aBe={operator(e,t){const n=t.ast,r=e.functions;return i=>U1(n,r,i)},parameter(e,t){const n=t.ast,r=e.functions;return(i,o)=>U1(n,r,o,i)},event(e,t){const n=t.ast,r=e.functions;return i=>U1(n,r,void 0,void 0,i)},handler(e,t){const n=t.ast,r=e.functions;return(i,o)=>{const a=o.item&&o.item.datum;return U1(n,r,i,a,o)}},encode(e,t){const{marktype:n,channels:r}=t,i=e.functions,o=n==="group"||n==="image"||n==="rect";return(a,s)=>{const u=a.datum;let l=0,c;for(const f in r)c=U1(r[f].ast,i,s,u,void 0,a),a[f]!==c&&(a[f]=c,l=1);return n!=="rule"&&Kze(a,r,o),l}}};const sBe="vega-lite",uBe='Dominik Moritz, Kanit "Ham" Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer',lBe="5.16.3",cBe=["Kanit Wongsuphasawat (http://kanitw.yellowpigz.com)","Dominik Moritz (https://www.domoritz.de)","Arvind Satyanarayan (https://arvindsatya.com)","Jeffrey Heer (https://jheer.org)"],fBe="https://vega.github.io/vega-lite/",dBe="Vega-Lite is a concise high-level language for interactive visualization.",hBe=["vega","chart","visualization"],pBe="build/vega-lite.js",gBe="build/vega-lite.min.js",mBe="build/vega-lite.min.js",yBe="build/src/index",vBe="build/src/index.d.ts",bBe={vl2pdf:"./bin/vl2pdf",vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2vg:"./bin/vl2vg"},xBe=["bin","build","src","vega-lite*","tsconfig.json"],wBe={changelog:"conventional-changelog -p angular -r 2",prebuild:"yarn clean:build",build:"yarn build:only","build:only":"tsc -p tsconfig.build.json && rollup -c","prebuild:examples":"yarn build:only","build:examples":"yarn data && TZ=America/Los_Angeles scripts/build-examples.sh","prebuild:examples-full":"yarn build:only","build:examples-full":"TZ=America/Los_Angeles scripts/build-examples.sh 1","build:example":"TZ=America/Los_Angeles scripts/build-example.sh","build:toc":"yarn build:jekyll && scripts/generate-toc","build:site":"rollup -c site/rollup.config.mjs","build:jekyll":"pushd site && bundle exec jekyll build -q && popd","build:versions":"scripts/update-version.sh",clean:"yarn clean:build && del-cli 'site/data/*' 'examples/compiled/*.png' && find site/examples ! -name 'index.md' ! -name 'data' -type f -delete","clean:build":"del-cli 'build/*' !build/vega-lite-schema.json",data:"rsync -r node_modules/vega-datasets/data/* site/data",schema:"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/",renameschema:"scripts/rename-schema.sh",presite:"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh",site:"yarn site:only","site:only":"pushd site && bundle exec jekyll serve -I -l && popd",prettierbase:"prettier '**/*.{md,css,yml}'",format:"eslint . --fix && yarn prettierbase --write",lint:"eslint . && yarn prettierbase --check",jest:"NODE_OPTIONS=--experimental-vm-modules npx jest",test:"yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn test:runtime","test:cover":"yarn jest --collectCoverage test/","test:inspect":"node --inspect-brk --experimental-vm-modules ./node_modules/.bin/jest --runInBand test","test:runtime":"NODE_OPTIONS=--experimental-vm-modules TZ=America/Los_Angeles npx jest test-runtime/ --config test-runtime/jest-config.json","test:runtime:generate":"yarn build:only && del-cli test-runtime/resources && VL_GENERATE_TESTS=true yarn test:runtime",watch:"tsc -p tsconfig.build.json -w","watch:site":"yarn build:site -w","watch:test":"yarn jest --watch test/","watch:test:runtime":"NODE_OPTIONS=--experimental-vm-modules TZ=America/Los_Angeles npx jest --watch test-runtime/ --config test-runtime/jest-config.json",release:"release-it"},ABe={type:"git",url:"https://github.com/vega/vega-lite.git"},_Be="BSD-3-Clause",SBe={url:"https://github.com/vega/vega-lite/issues"},EBe={"@babel/core":"^7.22.10","@babel/plugin-proposal-class-properties":"^7.18.6","@babel/preset-env":"^7.22.10","@babel/preset-typescript":"^7.22.5","@release-it/conventional-changelog":"^7.0.0","@rollup/plugin-alias":"^5.0.0","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^25.0.4","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.2.1","@rollup/plugin-terser":"^0.4.3","@types/chai":"^4.3.5","@types/d3":"^7.4.0","@types/jest":"^29.5.4","@types/pako":"^2.0.0","@typescript-eslint/eslint-plugin":"^6.4.1","@typescript-eslint/parser":"^6.4.1",ajv:"^8.12.0","ajv-formats":"^2.1.1",chai:"^4.3.7",cheerio:"^1.0.0-rc.12","conventional-changelog-cli":"^4.0.0",d3:"^7.8.5","del-cli":"^5.0.0",eslint:"^8.47.0","eslint-config-prettier":"^9.0.0","eslint-plugin-jest":"^27.2.3","eslint-plugin-prettier":"^5.0.0","fast-json-stable-stringify":"~2.1.0","highlight.js":"^11.8.0",jest:"^29.6.3","jest-dev-server":"^9.0.0",mkdirp:"^3.0.1",pako:"^2.1.0",prettier:"^3.0.2",puppeteer:"^15.0.0","release-it":"^16.1.5",rollup:"^3.28.1","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-sourcemaps":"^0.6.3",serve:"^14.2.1",terser:"^5.19.2","ts-jest":"^29.1.1","ts-json-schema-generator":"^1.3.0",typescript:"~5.2.2","vega-cli":"^5.25.0","vega-datasets":"^2.7.0","vega-embed":"^6.22.2","vega-tooltip":"^0.33.0","yaml-front-matter":"^4.1.1"},CBe={"json-stringify-pretty-compact":"~3.0.0",tslib:"~2.6.2","vega-event-selector":"~3.0.1","vega-expression":"~5.1.0","vega-util":"~1.17.2",yargs:"~17.7.2"},$Be={vega:"^5.24.0"},kBe={node:">=18"},TBe={name:sBe,author:uBe,version:lBe,collaborators:cBe,homepage:fBe,description:dBe,keywords:hBe,main:pBe,unpkg:gBe,jsdelivr:mBe,module:yBe,types:vBe,bin:bBe,files:xBe,scripts:wBe,repository:ABe,license:_Be,bugs:SBe,devDependencies:EBe,dependencies:CBe,peerDependencies:$Be,engines:kBe};function fO(e){return!!e.or}function dO(e){return!!e.and}function hO(e){return!!e.not}function ww(e,t){if(hO(e))ww(e.not,t);else if(dO(e))for(const n of e.and)ww(n,t);else if(fO(e))for(const n of e.or)ww(n,t);else t(e)}function ap(e,t){return hO(e)?{not:ap(e.not,t)}:dO(e)?{and:e.and.map(n=>ap(n,t))}:fO(e)?{or:e.or.map(n=>ap(n,t))}:t(e)}const Ve=structuredClone;function boe(e){throw new Error(e)}function Gp(e,t){const n={};for(const r of t)Be(e,r)&&(n[r]=e[r]);return n}function Bi(e,t){const n={...e};for(const r of t)delete n[r];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>Bt(e)).join(",")})`};function lt(e){if(xt(e))return e;const t=Ee(e)?e:Bt(e);if(t.length<250)return t;let n=0;for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return n}function h$(e){return e===!1||e===null}function ct(e,t){return e.includes(t)}function s0(e,t){let n=0;for(const[r,i]of e.entries())if(t(i,r,n++))return!0;return!1}function pO(e,t){let n=0;for(const[r,i]of e.entries())if(!t(i,r,n++))return!1;return!0}function xoe(e,...t){for(const n of t)MBe(e,n??{});return e}function MBe(e,t){for(const n of he(t))$g(e,n,t[n],!0)}function Ls(e,t){const n=[],r={};let i;for(const o of e)i=t(o),!(i in r)&&(r[i]=1,n.push(o));return n}function NBe(e,t){const n=he(e),r=he(t);if(n.length!==r.length)return!1;for(const i of n)if(e[i]!==t[i])return!1;return!0}function woe(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function gO(e,t){for(const n of e)if(t.has(n))return!0;return!1}function p$(e){const t=new Set;for(const n of e){const i=au(n).map((a,s)=>s===0?a:`[${a}]`),o=i.map((a,s)=>i.slice(0,s+1).join(""));for(const a of o)t.add(a)}return t}function mO(e,t){return e===void 0||t===void 0?!0:gO(p$(e),p$(t))}function zt(e){return he(e).length===0}const he=Object.keys,mr=Object.values,rf=Object.entries;function Ky(e){return e===!0||e===!1}function an(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function Qm(e,t){return hO(e)?`!(${Qm(e.not,t)})`:dO(e)?`(${e.and.map(n=>Qm(n,t)).join(") && (")})`:fO(e)?`(${e.or.map(n=>Qm(n,t)).join(") || (")})`:t(e)}function v_(e,t){if(t.length===0)return!0;const n=t.shift();return n in e&&v_(e[n],t)&&delete e[n],zt(e)}function ov(e){return e.charAt(0).toUpperCase()+e.substr(1)}function yO(e,t="datum"){const n=au(e),r=[];for(let i=1;i<=n.length;i++){const o=`[${n.slice(0,i).map(xe).join("][")}]`;r.push(`${t}${o}`)}return r.join(" && ")}function Aoe(e,t="datum"){return`${t}[${xe(au(e).join("."))}]`}function OBe(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function pa(e){return`${au(e).map(OBe).join("\\.")}`}function u0(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function vO(e){return`${au(e).join(".")}`}function Vp(e){return e?au(e).length:0}function En(...e){for(const t of e)if(t!==void 0)return t}let _oe=42;function Soe(e){const t=++_oe;return e?String(e)+t:t}function RBe(){_oe=42}function Eoe(e){return Coe(e)?e:`__${e}`}function Coe(e){return e.startsWith("__")}function Qy(e){if(e!==void 0)return(e%360+360)%360}function k5(e){return xt(e)?!0:!isNaN(e)&&!isNaN(parseFloat(e))}const yj=Object.getPrototypeOf(structuredClone({}));function ho(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor.name!==t.constructor.name)return!1;let n,r;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!ho(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;for(r of e.entries())if(!ho(r[1],t.get(r[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&e.valueOf!==yj.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&e.toString!==yj.toString)return e.toString()===t.toString();const i=Object.keys(e);if(n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!ho(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Bt(e){const t=[];return function n(r){if(r&&r.toJSON&&typeof r.toJSON=="function"&&(r=r.toJSON()),r===void 0)return;if(typeof r=="number")return isFinite(r)?""+r:"null";if(typeof r!="object")return JSON.stringify(r);let i,o;if(Array.isArray(r)){for(o="[",i=0;i<r.length;i++)i&&(o+=","),o+=n(r[i])||"null";return o+"]"}if(r===null)return"null";if(t.includes(r))throw new TypeError("Converting circular structure to JSON");const a=t.push(r)-1,s=Object.keys(r).sort();for(o="",i=0;i<s.length;i++){const u=s[i],l=n(r[u]);l&&(o&&(o+=","),o+=JSON.stringify(u)+":"+l)}return t.splice(a,1),`{${o}}`}(e)}const nl="row",rl="column",T5="facet",sn="x",ar="y",cs="x2",cu="y2",Sf="xOffset",Pg="yOffset",fs="radius",_l="radius2",ya="theta",Sl="theta2",ds="latitude",hs="longitude",ps="latitude2",ga="longitude2",qi="color",fu="fill",du="stroke",Gi="shape",El="size",N0="angle",Cl="opacity",Ef="fillOpacity",Cf="strokeOpacity",$f="strokeWidth",kf="strokeDash",av="text",Yp="order",sv="detail",M5="key",l0="tooltip",N5="href",O5="url",R5="description",FBe={x:1,y:1,x2:1,y2:1},$oe={theta:1,theta2:1,radius:1,radius2:1};function koe(e){return e in $oe}const bO={longitude:1,longitude2:1,latitude:1,latitude2:1};function Toe(e){switch(e){case ds:return"y";case ps:return"y2";case hs:return"x";case ga:return"x2"}}function Moe(e){return e in bO}const DBe=he(bO),xO={...FBe,...$oe,...bO,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function sp(e){return e===qi||e===fu||e===du}const Noe={row:1,column:1,facet:1},Xo=he(Noe),wO={...xO,...Noe},LBe=he(wO),{order:mrt,detail:yrt,tooltip:vrt,...PBe}=wO,{row:brt,column:xrt,facet:wrt,...IBe}=PBe;function zBe(e){return!!IBe[e]}function Ooe(e){return!!wO[e]}const BBe=[cs,cu,ps,ga,Sl,_l];function Roe(e){return O0(e)!==e}function O0(e){switch(e){case cs:return sn;case cu:return ar;case ps:return ds;case ga:return hs;case Sl:return ya;case _l:return fs}return e}function of(e){if(koe(e))switch(e){case ya:return"startAngle";case Sl:return"endAngle";case fs:return"outerRadius";case _l:return"innerRadius"}return e}function hu(e){switch(e){case sn:return cs;case ar:return cu;case ds:return ps;case hs:return ga;case ya:return Sl;case fs:return _l}}function Vi(e){switch(e){case sn:case cs:return"width";case ar:case cu:return"height"}}function Foe(e){switch(e){case sn:return"xOffset";case ar:return"yOffset";case cs:return"x2Offset";case cu:return"y2Offset";case ya:return"thetaOffset";case fs:return"radiusOffset";case Sl:return"theta2Offset";case _l:return"radius2Offset"}}function AO(e){switch(e){case sn:return"xOffset";case ar:return"yOffset"}}function UBe(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}const jBe=he(xO),{x:Art,y:_rt,x2:Srt,y2:Ert,xOffset:Crt,yOffset:$rt,latitude:krt,longitude:Trt,latitude2:Mrt,longitude2:Nrt,theta:Ort,theta2:Rrt,radius:Frt,radius2:Drt,..._O}=xO,WBe=he(_O),SO={x:1,y:1},pu=he(SO);function Cn(e){return e in SO}const EO={theta:1,radius:1},HBe=he(EO);function F5(e){return e==="width"?sn:ar}const Doe={xOffset:1,yOffset:1};function uv(e){return e in Doe}const{text:Lrt,tooltip:Prt,href:Irt,url:zrt,description:Brt,detail:Urt,key:jrt,order:Wrt,...Loe}=_O,qBe=he(Loe);function GBe(e){return!!_O[e]}function VBe(e){switch(e){case qi:case fu:case du:case El:case Gi:case Cl:case $f:case kf:return!0;case Ef:case Cf:case N0:return!1}}const Poe={...SO,...EO,...Doe,...Loe},D5=he(Poe);function $l(e){return!!Poe[e]}function YBe(e,t){return XBe(e)[t]}const Ioe={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:Hrt,...JBe}=Ioe;function XBe(e){switch(e){case qi:case fu:case du:case R5:case sv:case M5:case l0:case N5:case Yp:case Cl:case Ef:case Cf:case $f:case T5:case nl:case rl:return Ioe;case sn:case ar:case Sf:case Pg:case ds:case hs:return JBe;case cs:case cu:case ps:case ga:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case El:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case kf:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case Gi:return{point:"always",geoshape:"always"};case av:return{text:"always"};case N0:return{point:"always",square:"always",text:"always"};case O5:return{image:"always"};case ya:return{text:"always",arc:"always"};case fs:return{text:"always",arc:"always"};case Sl:case _l:return{arc:"always"}}}function D6(e){switch(e){case sn:case ar:case ya:case fs:case Sf:case Pg:case El:case N0:case $f:case Cl:case Ef:case Cf:case cs:case cu:case Sl:case _l:return;case T5:case nl:case rl:case Gi:case kf:case av:case l0:case N5:case O5:case R5:return"discrete";case qi:case fu:case du:return"flexible";case ds:case hs:case ps:case ga:case sv:case M5:case Yp:return}}const KBe={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},QBe={count:1,min:1,max:1};function ml(e){return!!e&&!!e.argmin}function Tf(e){return!!e&&!!e.argmax}function CO(e){return Ee(e)&&!!KBe[e]}const ZBe=new Set(["count","valid","missing","distinct"]);function zoe(e){return Ee(e)&&ZBe.has(e)}function eUe(e){return Ee(e)&&ct(["min","max"],e)}const tUe=new Set(["count","sum","distinct","valid","missing"]),nUe=new Set(["mean","average","median","q1","q3","min","max"]);function Boe(e){return wf(e)&&(e=V5(e,void 0)),"bin"+he(e).map(t=>L5(e[t])?an(`_${t}_${rf(e[t])}`):an(`_${t}_${e[t]}`)).join("")}function Yt(e){return e===!0||R0(e)&&!e.binned}function cr(e){return e==="binned"||R0(e)&&e.binned===!0}function R0(e){return $e(e)}function L5(e){return e==null?void 0:e.param}function vj(e){switch(e){case nl:case rl:case El:case qi:case fu:case du:case $f:case Cl:case Ef:case Cf:case Gi:return 6;case kf:return 4;default:return 10}}function lv(e){return!!(e!=null&&e.expr)}function Ti(e){const t=he(e||{}),n={};for(const r of t)n[r]=lo(e[r]);return n}function Uoe(e){const{anchor:t,frame:n,offset:r,orient:i,angle:o,limit:a,color:s,subtitleColor:u,subtitleFont:l,subtitleFontSize:c,subtitleFontStyle:f,subtitleFontWeight:d,subtitleLineHeight:p,subtitlePadding:g,...y}=e,v={...y,...s?{fill:s}:{}},b={...t?{anchor:t}:{},...n?{frame:n}:{},...r?{offset:r}:{},...i?{orient:i}:{},...o!==void 0?{angle:o}:{},...a!==void 0?{limit:a}:{}},x={...u?{subtitleColor:u}:{},...l?{subtitleFont:l}:{},...c?{subtitleFontSize:c}:{},...f?{subtitleFontStyle:f}:{},...d?{subtitleFontWeight:d}:{},...p?{subtitleLineHeight:p}:{},...g?{subtitlePadding:g}:{}},_=Gp(e,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:v,subtitleMarkConfig:_,nonMarkTitleProperties:b,subtitle:x}}function ic(e){return Ee(e)||se(e)&&Ee(e[0])}function Re(e){return!!(e!=null&&e.signal)}function Mf(e){return!!e.step}function rUe(e){return se(e)?!1:"fields"in e&&!("data"in e)}function iUe(e){return se(e)?!1:"fields"in e&&"data"in e}function Zu(e){return se(e)?!1:"field"in e&&"data"in e}const oUe={aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1},aUe=he(oUe),sUe={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},g$=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function joe(e){const t=se(e.condition)?e.condition.map(bj):bj(e.condition);return{...lo(e),condition:t}}function lo(e){if(lv(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function bj(e){if(lv(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function Qt(e){if(lv(e)){const{expr:t,...n}=e;return{signal:t,...n}}return Re(e)?e:e!==void 0?{value:e}:void 0}function uUe(e){return Re(e)?e.signal:xe(e)}function xj(e){return Re(e)?e.signal:xe(e.value)}function Wa(e){return Re(e)?e.signal:e==null?null:xe(e)}function lUe(e,t,n){for(const r of n){const i=yl(r,t.markDef,t.config);i!==void 0&&(e[r]=Qt(i))}return e}function Woe(e){return[].concat(e.type,e.style??[])}function Rt(e,t,n,r={}){const{vgChannel:i,ignoreVgConfig:o}=r;return i&&t[i]!==void 0?t[i]:t[e]!==void 0?t[e]:o&&(!i||i===e)?void 0:yl(e,t,n,r)}function yl(e,t,n,{vgChannel:r}={}){return En(r?b_(e,t,n.style):void 0,b_(e,t,n.style),r?n[t.type][r]:void 0,n[t.type][e],r?n.mark[r]:n.mark[e])}function b_(e,t,n){return Hoe(e,Woe(t),n)}function Hoe(e,t,n){t=Se(t);let r;for(const i of t){const o=n[i];o&&o[e]!==void 0&&(r=o[e])}return r}function qoe(e,t){return Se(e).reduce((n,r)=>(n.field.push(we(r,t)),n.order.push(r.sort??"ascending"),n),{field:[],order:[]})}function Goe(e,t){const n=[...e];return t.forEach(r=>{for(const i of n)if(ho(i,r))return;n.push(r)}),n}function Voe(e,t){return ho(e,t)||!t?e:e?[...Se(e),...Se(t)].join(", "):t}function Yoe(e,t){const n=e.value,r=t.value;if(n==null||r===null)return{explicit:e.explicit,value:null};if((ic(n)||Re(n))&&(ic(r)||Re(r)))return{explicit:e.explicit,value:Voe(n,r)};if(ic(n)||Re(n))return{explicit:e.explicit,value:n};if(ic(r)||Re(r))return{explicit:e.explicit,value:r};if(!ic(n)&&!Re(n)&&!ic(r)&&!Re(r))return{explicit:e.explicit,value:Goe(n,r)};throw new Error("It should never reach here")}function $O(e){return`Invalid specification ${Bt(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const cUe='Autosize "fit" only works for single views and layered views.';function wj(e){return`${e=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function Aj(e){const t=e=="width"?"Width":"Height",n=e=="width"?"x":"y";return`${t} "container" only works well with autosize "fit" or "fit-${n}".`}function _j(e){return e?`Dropping "fit-${e}" because spec has discrete ${Vi(e)}.`:'Dropping "fit" because spec has discrete size.'}function kO(e){return`Unknown field for ${e}. Cannot calculate view size.`}function Sj(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function fUe(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function dUe(e){return`The "nearest" transform is not supported for ${e} marks.`}function Joe(e){return`Selection not supported for ${e} yet.`}function hUe(e){return`Cannot find a selection named "${e}".`}const pUe="Scale bindings are currently only supported for scales with unbinned, continuous domains.",gUe="Legend bindings are only supported for selections over an individual field or encoding channel.";function mUe(e){return`Lookups can only be performed on selection parameters. "${e}" is a variable parameter.`}function yUe(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}const vUe="The same selection must be used to override scale domains in a layered view.",bUe='Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.';function xUe(e){return`Unknown repeated value "${e}".`}function Ej(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}const wUe="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function AUe(e){return`Unrecognized parse "${e}".`}function Cj(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}const _Ue="Attempt to add the same child twice.";function SUe(e){return`Ignoring an invalid transform: ${Bt(e)}.`}const EUe='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function $j(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function CUe(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${Bt(t)} is overridden by a child projection ${Bt(n)}.`}const $Ue="Arc marks uses theta channel rather than angle, replacing angle with theta.";function kUe(e){return`${e}Offset dropped because ${e} is continuous`}function TUe(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${Bt(n)}}.`}function Xoe(e){return`Invalid field type "${e}".`}function MUe(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}function NUe(e){return`Invalid aggregation operator "${e}".`}function Koe(e,t){const{fill:n,stroke:r}=t;return`Dropping color ${e} as the plot also has ${n&&r?"fill and stroke":n?"fill":"stroke"}.`}function OUe(e){return`Position range does not support relative band size for ${e}.`}function m$(e,t){return`Dropping ${Bt(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}const RUe="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function P5(e,t,n){return`${e} dropped as it is incompatible with "${t}"${n?` when ${n}`:""}.`}function FUe(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function DUe(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function LUe(e){return`${e} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function PUe(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}function L6(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${t==="ordinal"?"order":"magnitude"}.`}function IUe(e){return`The ${e} for range marks cannot be an expression`}function zUe(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function BUe(e,t){return`Specified orient "${e}" overridden with "${t}".`}function UUe(e){return`Cannot use the scale property "${e}" with non-color channel.`}function jUe(e){return`Cannot use the relative band size with ${e} scale.`}function WUe(e){return`Using unaggregated domain with raw field has no effect (${Bt(e)}).`}function HUe(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function qUe(e){return`Unaggregated domain is currently unsupported for log scale (${Bt(e)}).`}function GUe(e){return`Cannot apply size to non-oriented mark "${e}".`}function VUe(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}function YUe(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}function Qoe(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function Zoe(e){return`The step for "${e}" is dropped because the ${e==="width"?"x":"y"} is continuous.`}function JUe(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${Bt(n)} and ${Bt(r)}). Using ${Bt(n)}.`}function XUe(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${Bt(n)} and ${Bt(r)}). Using the union of the two domains.`}function KUe(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}function QUe(e){return`Dropping sort property ${Bt(e)} as unioned domains only support boolean or op "count", "min", and "max".`}const kj="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",ZUe="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",eje="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",tje="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function nje(e){return`Cannot stack "${e}" if there is already "${e}2".`}function rje(e){return`Cannot stack non-linear scale (${e}).`}function ije(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}function x_(e,t){return`Invalid ${e}: ${Bt(t)}.`}function oje(e){return`Dropping day from datetime ${Bt(e)} as day cannot be combined with other units.`}function aje(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}function sje(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}function uje(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}function Tj(e){return`1D error band does not support ${e}.`}function eae(e){return`Channel ${e} is required for "binned" bin.`}function lje(e){return`Channel ${e} should not be used with "binned" bin.`}function cje(e){return`Domain for ${e} is required for threshold scale.`}const tae=rT(nT);let Jp=tae;function fje(e){return Jp=e,Jp}function dje(){return Jp=tae,Jp}function ge(...e){Jp.warn(...e)}function hje(...e){Jp.debug(...e)}function F0(e){if(e&&$e(e)){for(const t of MO)if(t in e)return!0}return!1}const nae=["january","february","march","april","may","june","july","august","september","october","november","december"],pje=nae.map(e=>e.substr(0,3)),rae=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],gje=rae.map(e=>e.substr(0,3));function mje(e){if(k5(e)&&(e=+e),xt(e))return e>4&&ge(x_("quarter",e)),e-1;throw new Error(x_("quarter",e))}function yje(e){if(k5(e)&&(e=+e),xt(e))return e-1;{const t=e.toLowerCase(),n=nae.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=pje.indexOf(r);if(i!==-1)return i;throw new Error(x_("month",e))}}function vje(e){if(k5(e)&&(e=+e),xt(e))return e%7;{const t=e.toLowerCase(),n=rae.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=gje.indexOf(r);if(i!==-1)return i;throw new Error(x_("day",e))}}function TO(e,t){const n=[];if(t&&e.day!==void 0&&he(e).length>1&&(ge(oje(e)),e=Ve(e),delete e.day),e.year!==void 0?n.push(e.year):n.push(2012),e.month!==void 0){const r=t?yje(e.month):e.month;n.push(r)}else if(e.quarter!==void 0){const r=t?mje(e.quarter):e.quarter;n.push(xt(r)?r*3:`${r}*3`)}else n.push(0);if(e.date!==void 0)n.push(e.date);else if(e.day!==void 0){const r=t?vje(e.day):e.day;n.push(xt(r)?r+1:`${r}+1`)}else n.push(1);for(const r of["hours","minutes","seconds","milliseconds"]){const i=e[r];n.push(typeof i>"u"?0:i)}return n}function c0(e){const n=TO(e,!0).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function bje(e){const n=TO(e,!1).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function xje(e){const t=TO(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}const iae={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},MO=he(iae);function wje(e){return!!iae[e]}function D0(e){return $e(e)?e.binned:oae(e)}function oae(e){return e&&e.startsWith("binned")}function NO(e){return e.startsWith("utc")}function Aje(e){return e.substring(3)}const _je={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function I5(e){return MO.filter(t=>sae(e,t))}function aae(e){const t=I5(e);return t[t.length-1]}function sae(e,t){const n=e.indexOf(t);return!(n<0||n>0&&t==="seconds"&&e.charAt(n-1)==="i"||e.length>n+3&&t==="day"&&e.charAt(n+3)==="o"||n>0&&t==="year"&&e.charAt(n-1)==="f")}function Sje(e,t,{end:n}={end:!1}){const r=yO(t),i=NO(e)?"utc":"";function o(u){return u==="quarter"?`(${i}quarter(${r})-1)`:`${i}${u}(${r})`}let a;const s={};for(const u of MO)sae(e,u)&&(s[u]=o(u),a=u);return n&&(s[a]+="+1"),bje(s)}function uae(e){if(!e)return;const t=I5(e);return`timeUnitSpecifier(${Bt(t)}, ${Bt(_je)})`}function Eje(e,t,n){if(!e)return;const r=uae(e);return`${n||NO(e)?"utc":"time"}Format(${t}, ${r})`}function rr(e){if(!e)return;let t;return Ee(e)?oae(e)?t={unit:e.substring(6),binned:!0}:t={unit:e}:$e(e)&&(t={...e,...e.unit?{unit:e.unit}:{}}),NO(t.unit)&&(t.utc=!0,t.unit=Aje(t.unit)),t}function Cje(e){const{utc:t,...n}=rr(e);return n.unit?(t?"utc":"")+he(n).map(r=>an(`${r==="unit"?"":`_${r}_`}${n[r]}`)).join(""):(t?"utc":"")+"timeunit"+he(n).map(r=>an(`_${r}_${n[r]}`)).join("")}function lae(e,t=n=>n){const n=rr(e),r=aae(n.unit);if(r&&r!=="day"){const i={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},{step:o,part:a}=cae(r,n.step),s={...i,[a]:+i[a]+o};return`${t(c0(s))} - ${t(c0(i))}`}}const $je={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};function kje(e){return!!$je[e]}function cae(e,t=1){if(kje(e))return{part:e,step:t};switch(e){case"day":case"dayofyear":return{part:"date",step:t};case"quarter":return{part:"month",step:t*3};case"week":return{part:"date",step:t*7}}}function Tje(e){return e==null?void 0:e.param}function OO(e){return!!(e!=null&&e.field)&&e.equal!==void 0}function RO(e){return!!(e!=null&&e.field)&&e.lt!==void 0}function FO(e){return!!(e!=null&&e.field)&&e.lte!==void 0}function DO(e){return!!(e!=null&&e.field)&&e.gt!==void 0}function LO(e){return!!(e!=null&&e.field)&&e.gte!==void 0}function PO(e){if(e!=null&&e.field){if(se(e.range)&&e.range.length===2)return!0;if(Re(e.range))return!0}return!1}function IO(e){return!!(e!=null&&e.field)&&(se(e.oneOf)||se(e.in))}function Mje(e){return!!(e!=null&&e.field)&&e.valid!==void 0}function fae(e){return IO(e)||OO(e)||PO(e)||RO(e)||DO(e)||FO(e)||LO(e)}function As(e,t){return Y5(e,{timeUnit:t,wrapTime:!0})}function Nje(e,t){return e.map(n=>As(n,t))}function dae(e,t=!0){const{field:n}=e,r=rr(e.timeUnit),{unit:i,binned:o}=r||{},a=we(e,{expr:"datum"}),s=i?`time(${o?a:Sje(i,n)})`:a;if(OO(e))return`${s}===${As(e.equal,i)}`;if(RO(e)){const u=e.lt;return`${s}<${As(u,i)}`}else if(DO(e)){const u=e.gt;return`${s}>${As(u,i)}`}else if(FO(e)){const u=e.lte;return`${s}<=${As(u,i)}`}else if(LO(e)){const u=e.gte;return`${s}>=${As(u,i)}`}else{if(IO(e))return`indexof([${Nje(e.oneOf,i).join(",")}], ${s}) !== -1`;if(Mje(e))return zO(s,e.valid);if(PO(e)){const{range:u}=e,l=Re(u)?{signal:`${u.signal}[0]`}:u[0],c=Re(u)?{signal:`${u.signal}[1]`}:u[1];if(l!==null&&c!==null&&t)return"inrange("+s+", ["+As(l,i)+", "+As(c,i)+"])";const f=[];return l!==null&&f.push(`${s} >= ${As(l,i)}`),c!==null&&f.push(`${s} <= ${As(c,i)}`),f.length>0?f.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${Bt(e)}`)}function zO(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function Oje(e){return fae(e)&&e.timeUnit?{...e,timeUnit:rr(e.timeUnit)}:e}const cv={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function Rje(e){return e==="quantitative"||e==="temporal"}function hae(e){return e==="ordinal"||e==="nominal"}const f0=cv.quantitative,BO=cv.ordinal,Xp=cv.temporal,UO=cv.nominal,Ig=cv.geojson;function Fje(e){if(e)switch(e=e.toLowerCase(),e){case"q":case f0:return"quantitative";case"t":case Xp:return"temporal";case"o":case BO:return"ordinal";case"n":case UO:return"nominal";case Ig:return"geojson"}}const Ui={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},y$={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function Dje(e,t){const n=y$[e],r=y$[t];return n===r||n==="ordinal-position"&&r==="time"||r==="ordinal-position"&&n==="time"}const Lje={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function Mj(e){return Lje[e]}const pae=new Set(["linear","log","pow","sqrt","symlog"]),gae=new Set([...pae,"time","utc"]);function mae(e){return pae.has(e)}const yae=new Set(["quantile","quantize","threshold"]),Pje=new Set([...gae,...yae,"sequential","identity"]),Ije=new Set(["ordinal","bin-ordinal","point","band"]);function ir(e){return Ije.has(e)}function So(e){return Pje.has(e)}function Ha(e){return gae.has(e)}function Kp(e){return yae.has(e)}const zje={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0};function Bje(e){return!Ee(e)&&!!e.name}function vae(e){return e==null?void 0:e.param}function Uje(e){return e==null?void 0:e.unionWith}function jje(e){return $e(e)&&"field"in e}const Wje={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:qrt,domain:Grt,range:Vrt,rangeMax:Yrt,rangeMin:Jrt,scheme:Xrt,...Hje}=Wje,qje=he(Hje);function v$(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return Ha(e)||e==="band"||e==="point";case"padding":case"rangeMin":case"rangeMax":return Ha(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return e==="band";case"domainMax":case"domainMid":case"domainMin":case"domainRaw":case"clamp":return Ha(e);case"nice":return Ha(e)||e==="quantize"||e==="threshold";case"exponent":return e==="pow";case"base":return e==="log";case"constant":return e==="symlog";case"zero":return So(e)&&!ct(["log","time","utc","threshold","quantile"],e)}}function bae(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return sp(e)?void 0:UUe(t);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"domainRaw":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function Gje(e,t){return ct([BO,UO],t)?e===void 0||ir(e):t===Xp?ct([Ui.TIME,Ui.UTC,void 0],e):t===f0?mae(e)||Kp(e)||e===void 0:!0}function Vje(e,t,n=!1){if(!$l(e))return!1;switch(e){case sn:case ar:case Sf:case Pg:case ya:case fs:return Ha(t)||t==="band"?!0:t==="point"?!n:!1;case El:case $f:case Cl:case Ef:case Cf:case N0:return Ha(t)||Kp(t)||ct(["band","point","ordinal"],t);case qi:case fu:case du:return t!=="band";case kf:case Gi:return t==="ordinal"||Kp(t)}}const yi={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},xae=yi.arc,z5=yi.area,B5=yi.bar,Yje=yi.image,U5=yi.line,j5=yi.point,Jje=yi.rect,w_=yi.rule,wae=yi.text,jO=yi.tick,Xje=yi.trail,WO=yi.circle,HO=yi.square,Aae=yi.geoshape;function Nf(e){return["line","area","trail"].includes(e)}function Zy(e){return["rect","bar","image","arc"].includes(e)}const Kje=new Set(he(yi));function eu(e){return e.type}const Qje=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],Zje=["fill","fillOpacity"],eWe=[...Qje,...Zje],tWe={color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1},Nj=he(tWe),nWe={area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],line:["point"],tick:["bandSize","thickness"]},rWe={color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},iWe={mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1},_ae=he(iWe);function d0(e){return e&&e.band!=null}const oWe={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},Sae=5,aWe={binSpacing:1,continuousBandSize:Sae,minBandSize:.25,timeUnitBandPosition:.5},sWe={binSpacing:0,continuousBandSize:Sae,minBandSize:.25,timeUnitBandPosition:.5},uWe={thickness:1};function lWe(e){return eu(e)?e.type:e}function qO(e){const{channel:t,channelDef:n,markDef:r,scale:i,config:o}=e,a=VO(e);return pe(n)&&!zoe(n.aggregate)&&i&&Ha(i.get("type"))?cWe({fieldDef:n,channel:t,markDef:r,ref:a,config:o}):a}function cWe({fieldDef:e,channel:t,markDef:n,ref:r,config:i}){return Nf(n.type)?r:Rt("invalid",n,i)===null?[fWe(e,t),r]:r}function fWe(e,t){const n=GO(e,!0),i=O0(t)==="y"?{field:{group:"height"}}:{value:0};return{test:n,...i}}function GO(e,t=!0){return zO(Ee(e)?e:we(e,{expr:"datum"}),!t)}function dWe(e){const{datum:t}=e;return F0(t)?c0(t):`${Bt(t)}`}function Od(e,t,n,r){const i={};if(t&&(i.scale=t),gu(e)){const{datum:o}=e;F0(o)?i.signal=c0(o):Re(o)?i.signal=o.signal:lv(o)?i.signal=o.expr:i.value=o}else i.field=we(e,n);if(r){const{offset:o,band:a}=r;o&&(i.offset=o),a&&(i.band=a)}return i}function A_({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:n,offset:r,startSuffix:i,endSuffix:o="end",bandPosition:a=.5}){const s=!Re(a)&&0<a&&a<1?"datum":void 0,u=we(t,{expr:s,suffix:i}),l=n!==void 0?we(n,{expr:s}):we(t,{suffix:o,expr:s}),c={};if(a===0||a===1){c.scale=e;const f=a===0?u:l;c.field=f}else{const f=Re(a)?`(1-${a.signal}) * ${u} + ${a.signal} * ${l}`:`${1-a} * ${u} + ${a} * ${l}`;c.signal=`scale("${e}", ${f})`}return r&&(c.offset=r),c}function hWe({scaleName:e,fieldDef:t}){const n=we(t,{expr:"datum"}),r=we(t,{expr:"datum",suffix:"end"});return`abs(scale("${e}", ${r}) - scale("${e}", ${n}))`}function VO({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:o,scale:a,stack:s,offset:u,defaultRef:l,bandPosition:c}){if(t){if(Ye(t)){const f=a==null?void 0:a.get("type");if(hi(t)){c??(c=af({fieldDef:t,fieldDef2:n,markDef:r,config:i}));const{bin:d,timeUnit:p,type:g}=t;if(Yt(d)||c&&p&&g===Xp)return s!=null&&s.impute?Od(t,o,{binSuffix:"mid"},{offset:u}):c&&!ir(f)?A_({scaleName:o,fieldOrDatumDef:t,bandPosition:c,offset:u}):Od(t,o,pv(t,e)?{binSuffix:"range"}:{},{offset:u});if(cr(d)){if(pe(n))return A_({scaleName:o,fieldOrDatumDef:t,fieldOrDatumDef2:n,bandPosition:c,offset:u});ge(eae(e===sn?cs:cu))}}return Od(t,o,ir(f)?{binSuffix:"range"}:{},{offset:u,band:f==="band"?c??t.bandPosition??.5:void 0})}else if(rs(t)){const f=t.value,d=u?{offset:u}:{};return{...Zm(e,f),...d}}}return Qe(l)&&(l=l()),l&&{...l,...u?{offset:u}:{}}}function Zm(e,t){return ct(["x","x2"],e)&&t==="width"?{field:{group:"width"}}:ct(["y","y2"],e)&&t==="height"?{field:{group:"height"}}:Qt(t)}function h0(e){return e&&e!=="number"&&e!=="time"}function Eae(e,t,n){return`${e}(${t}${n?`, ${Bt(n)}`:""})`}const pWe=" – ";function YO({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:o}){var u,l;if(h0(n))return qa({fieldOrDatumDef:e,format:t,formatType:n,expr:r,config:o});const a=Cae(e,r,i),s=Qp(e);if(t===void 0&&n===void 0&&o.customFormatTypes){if(s==="quantitative"){if(i&&o.normalizedNumberFormatType)return qa({fieldOrDatumDef:e,format:o.normalizedNumberFormat,formatType:o.normalizedNumberFormatType,expr:r,config:o});if(o.numberFormatType)return qa({fieldOrDatumDef:e,format:o.numberFormat,formatType:o.numberFormatType,expr:r,config:o})}if(s==="temporal"&&o.timeFormatType&&pe(e)&&e.timeUnit===void 0)return qa({fieldOrDatumDef:e,format:o.timeFormat,formatType:o.timeFormatType,expr:r,config:o})}if(eg(e)){const c=mWe({field:a,timeUnit:pe(e)?(u=rr(e.timeUnit))==null?void 0:u.unit:void 0,format:t,formatType:o.timeFormatType,rawTimeFormat:o.timeFormat,isUTCScale:L0(e)&&((l=e.scale)==null?void 0:l.type)===Ui.UTC});return c?{signal:c}:void 0}if(t=b$({type:s,specifiedFormat:t,config:o,normalizeStack:i}),pe(e)&&Yt(e.bin)){const c=we(e,{expr:r,binSuffix:"end"});return{signal:fv(a,c,t,n,o)}}else return t||Qp(e)==="quantitative"?{signal:`${Tae(a,t)}`}:{signal:`isValid(${a}) ? ${a} : ""+${a}`}}function Cae(e,t,n){return pe(e)?n?`${we(e,{expr:t,suffix:"end"})}-${we(e,{expr:t,suffix:"start"})}`:we(e,{expr:t}):dWe(e)}function qa({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:o,field:a}){if(a??(a=Cae(e,r,i)),a!=="datum.value"&&pe(e)&&Yt(e.bin)){const s=we(e,{expr:r,binSuffix:"end"});return{signal:fv(a,s,t,n,o)}}return{signal:Eae(n,a,t)}}function $ae(e,t,n,r,i,o){var a;if(!(Ee(r)&&h0(r))&&!(n===void 0&&r===void 0&&i.customFormatTypes&&Qp(e)==="quantitative"&&(i.normalizedNumberFormatType&&Zp(e)&&e.stack==="normalize"||i.numberFormatType))){if(Zp(e)&&e.stack==="normalize"&&i.normalizedNumberFormat)return b$({type:"quantitative",config:i,normalizeStack:!0});if(eg(e)){const s=pe(e)?(a=rr(e.timeUnit))==null?void 0:a.unit:void 0;return s===void 0&&i.customFormatTypes&&i.timeFormatType?void 0:gWe({specifiedFormat:n,timeUnit:s,config:i,omitTimeFormatConfig:o})}return b$({type:t,specifiedFormat:n,config:i})}}function kae(e,t,n){var r;if(e&&(Re(e)||e==="number"||e==="time"))return e;if(eg(t)&&n!=="time"&&n!=="utc")return pe(t)&&((r=rr(t==null?void 0:t.timeUnit))!=null&&r.utc)?"utc":"time"}function b$({type:e,specifiedFormat:t,config:n,normalizeStack:r}){if(Ee(t))return t;if(e===f0)return r?n.normalizedNumberFormat:n.numberFormat}function gWe({specifiedFormat:e,timeUnit:t,config:n,omitTimeFormatConfig:r}){return e||(t?{signal:uae(t)}:r?void 0:n.timeFormat)}function Tae(e,t){return`format(${e}, "${t||""}")`}function Oj(e,t,n,r){return h0(n)?Eae(n,e,t):Tae(e,(Ee(t)?t:void 0)??r.numberFormat)}function fv(e,t,n,r,i){if(n===void 0&&r===void 0&&i.customFormatTypes&&i.numberFormatType)return fv(e,t,i.numberFormat,i.numberFormatType,i);const o=Oj(e,n,r,i),a=Oj(t,n,r,i);return`${zO(e,!1)} ? "null" : ${o} + "${pWe}" + ${a}`}function mWe({field:e,timeUnit:t,format:n,formatType:r,rawTimeFormat:i,isUTCScale:o}){return!t||n?!t&&r?`${r}(${e}, '${n}')`:(n=Ee(n)?n:i,`${o?"utc":"time"}Format(${e}, '${n}')`):Eje(t,e,o)}const W5="min",yWe={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function Rj(e){return e in yWe}function Mae(e){return!!(e!=null&&e.encoding)}function Gs(e){return e&&(e.op==="count"||!!e.field)}function Nae(e){return e&&se(e)}function dv(e){return"row"in e||"column"in e}function JO(e){return!!e&&"header"in e}function H5(e){return"facet"in e}function vWe(e){return e.param}function bWe(e){return e&&!Ee(e)&&"repeat"in e}function Fj(e){const{field:t,timeUnit:n,bin:r,aggregate:i}=e;return{...n?{timeUnit:n}:{},...r?{bin:r}:{},...i?{aggregate:i}:{},field:t}}function XO(e){return"sort"in e}function af({fieldDef:e,fieldDef2:t,markDef:n,config:r}){if(Ye(e)&&e.bandPosition!==void 0)return e.bandPosition;if(pe(e)){const{timeUnit:i,bin:o}=e;if(i&&!t)return yl("timeUnitBandPosition",n,r);if(Yt(o))return .5}}function Oae({channel:e,fieldDef:t,fieldDef2:n,markDef:r,config:i,scaleType:o,useVlSizeChannel:a}){var l,c,f;const s=Vi(e),u=Rt(a?"size":s,r,i,{vgChannel:s});if(u!==void 0)return u;if(pe(t)){const{timeUnit:d,bin:p}=t;if(d&&!n)return{band:yl("timeUnitBandSize",r,i)};if(Yt(p)&&!ir(o))return{band:1}}if(Zy(r.type))return o?ir(o)?((l=i[r.type])==null?void 0:l.discreteBandSize)||{band:1}:(c=i[r.type])==null?void 0:c.continuousBandSize:(f=i[r.type])==null?void 0:f.discreteBandSize}function Rae(e,t,n,r){return Yt(e.bin)||e.timeUnit&&hi(e)&&e.type==="temporal"?af({fieldDef:e,fieldDef2:t,markDef:n,config:r})!==void 0:!1}function Fae(e){return e&&!!e.sort&&!e.field}function q5(e){return e&&"condition"in e}function G5(e){const t=e==null?void 0:e.condition;return!!t&&!se(t)&&pe(t)}function hv(e){const t=e==null?void 0:e.condition;return!!t&&!se(t)&&Ye(t)}function xWe(e){const t=e==null?void 0:e.condition;return!!t&&(se(t)||rs(t))}function pe(e){return e&&(!!e.field||e.aggregate==="count")}function Qp(e){return e==null?void 0:e.type}function gu(e){return e&&"datum"in e}function bc(e){return hi(e)&&!S_(e)||__(e)}function Dj(e){return hi(e)&&e.type==="quantitative"&&!e.bin||__(e)}function __(e){return gu(e)&&xt(e.datum)}function Ye(e){return pe(e)||gu(e)}function hi(e){return e&&("field"in e||e.aggregate==="count")&&"type"in e}function rs(e){return e&&"value"in e&&"value"in e}function L0(e){return e&&("scale"in e||"sort"in e)}function Zp(e){return e&&("axis"in e||"stack"in e||"impute"in e)}function Dae(e){return e&&"legend"in e}function Lae(e){return e&&("format"in e||"formatType"in e)}function wWe(e){return Bi(e,["legend","axis","header","scale"])}function AWe(e){return"op"in e}function we(e,t={}){let n=e.field;const r=t.prefix;let i=t.suffix,o="";if(SWe(e))n=Eoe("count");else{let a;if(!t.nofn)if(AWe(e))a=e.op;else{const{bin:s,aggregate:u,timeUnit:l}=e;Yt(s)?(a=Boe(s),i=(t.binSuffix??"")+(t.suffix??"")):u?Tf(u)?(o=`["${n}"]`,n=`argmax_${u.argmax}`):ml(u)?(o=`["${n}"]`,n=`argmin_${u.argmin}`):a=String(u):l&&!D0(l)&&(a=Cje(l),i=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+(t.suffix??""))}a&&(n=n?`${a}_${n}`:a)}return i&&(n=`${n}_${i}`),r&&(n=`${r}_${n}`),t.forAs?vO(n):t.expr?Aoe(n,t.expr)+o:pa(n)+o}function S_(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return pe(e)&&!!e.bin;case"temporal":return!1}throw new Error(Xoe(e.type))}function _We(e){var t;return L0(e)&&Kp((t=e.scale)==null?void 0:t.type)}function SWe(e){return e.aggregate==="count"}function EWe(e,t){var a;const{field:n,bin:r,timeUnit:i,aggregate:o}=e;if(o==="count")return t.countTitle;if(Yt(r))return`${n} (binned)`;if(i&&!D0(i)){const s=(a=rr(i))==null?void 0:a.unit;if(s)return`${n} (${I5(s).join("-")})`}else if(o)return Tf(o)?`${n} for max ${o.argmax}`:ml(o)?`${n} for min ${o.argmin}`:`${ov(o)} of ${n}`;return n}function CWe(e){const{aggregate:t,bin:n,timeUnit:r,field:i}=e;if(Tf(t))return`${i} for argmax(${t.argmax})`;if(ml(t))return`${i} for argmin(${t.argmin})`;const o=r&&!D0(r)?rr(r):void 0,a=t||(o==null?void 0:o.unit)||(o==null?void 0:o.maxbins)&&"timeunit"||Yt(n)&&"bin";return a?`${a.toUpperCase()}(${i})`:i}const Pae=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return CWe(e);default:return EWe(e,t)}};let Iae=Pae;function zae(e){Iae=e}function $We(){zae(Pae)}function up(e,t,{allowDisabling:n,includeDefault:r=!0}){var s;const i=(s=KO(e))==null?void 0:s.title;if(!pe(e))return i??e.title;const o=e,a=r?QO(o,t):void 0;return n?En(i,o.title,a):i??o.title??a}function KO(e){if(Zp(e)&&e.axis)return e.axis;if(Dae(e)&&e.legend)return e.legend;if(JO(e)&&e.header)return e.header}function QO(e,t){return Iae(e,t)}function E_(e){if(Lae(e)){const{format:t,formatType:n}=e;return{format:t,formatType:n}}else{const t=KO(e)??{},{format:n,formatType:r}=t;return{format:n,formatType:r}}}function kWe(e,t){var o;switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(XO(e)&&se(e.sort))return"ordinal";const{aggregate:n,bin:r,timeUnit:i}=e;if(i)return"temporal";if(r||n&&!Tf(n)&&!ml(n))return"quantitative";if(L0(e)&&((o=e.scale)!=null&&o.type))switch(y$[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function tu(e){if(pe(e))return e;if(G5(e))return e.condition}function zn(e){if(Ye(e))return e;if(hv(e))return e.condition}function Bae(e,t,n,r={}){if(Ee(e)||xt(e)||wf(e)){const i=Ee(e)?"string":xt(e)?"number":"boolean";return ge(TUe(t,i,e)),{value:e}}return Ye(e)?C_(e,t,n,r):hv(e)?{...e,condition:C_(e.condition,t,n,r)}:e}function C_(e,t,n,r){if(Lae(e)){const{format:i,formatType:o,...a}=e;if(h0(o)&&!n.customFormatTypes)return ge($j(t)),C_(a,t,n,r)}else{const i=Zp(e)?"axis":Dae(e)?"legend":JO(e)?"header":null;if(i&&e[i]){const{format:o,formatType:a,...s}=e[i];if(h0(a)&&!n.customFormatTypes)return ge($j(t)),C_({...e,[i]:s},t,n,r)}}return pe(e)?ZO(e,t,r):TWe(e)}function TWe(e){let t=e.type;if(t)return e;const{datum:n}=e;return t=xt(n)?"quantitative":Ee(n)?"nominal":F0(n)?"temporal":void 0,{...e,type:t}}function ZO(e,t,{compositeMark:n=!1}={}){const{aggregate:r,timeUnit:i,bin:o,field:a}=e,s={...e};if(!n&&r&&!CO(r)&&!Tf(r)&&!ml(r)&&(ge(NUe(r)),delete s.aggregate),i&&(s.timeUnit=rr(i)),a&&(s.field=`${a}`),Yt(o)&&(s.bin=V5(o,t)),cr(o)&&!Cn(t)&&ge(lje(t)),hi(s)){const{type:u}=s,l=Fje(u);u!==l&&(s.type=l),u!=="quantitative"&&zoe(r)&&(ge(MUe(u,r)),s.type="quantitative")}else if(!Roe(t)){const u=kWe(s,t);s.type=u}if(hi(s)){const{compatible:u,warning:l}=MWe(s,t)||{};u===!1&&ge(l)}if(XO(s)&&Ee(s.sort)){const{sort:u}=s;if(Rj(u))return{...s,sort:{encoding:u}};const l=u.substr(1);if(u.charAt(0)==="-"&&Rj(l))return{...s,sort:{encoding:l,order:"descending"}}}if(JO(s)){const{header:u}=s;if(u){const{orient:l,...c}=u;if(l)return{...s,header:{...c,labelOrient:u.labelOrient||l,titleOrient:u.titleOrient||l}}}}return s}function V5(e,t){return wf(e)?{maxbins:vj(t)}:e==="binned"?{binned:!0}:!e.maxbins&&!e.step?{...e,maxbins:vj(t)}:e}const yh={compatible:!0};function MWe(e,t){const n=e.type;if(n==="geojson"&&t!=="shape")return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case nl:case rl:case T5:return S_(e)?yh:{compatible:!1,warning:DUe(t)};case sn:case ar:case Sf:case Pg:case qi:case fu:case du:case av:case sv:case M5:case l0:case N5:case O5:case N0:case ya:case fs:case R5:return yh;case hs:case ga:case ds:case ps:return n!==f0?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:yh;case Cl:case Ef:case Cf:case $f:case El:case Sl:case _l:case cs:case cu:return n==="nominal"&&!e.sort?{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`}:yh;case Gi:case kf:return!S_(e)&&!_We(e)?{compatible:!1,warning:LUe(t)}:yh;case Yp:return e.type==="nominal"&&!("sort"in e)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:yh}}function eg(e){const{formatType:t}=E_(e);return t==="time"||!t&&NWe(e)}function NWe(e){return e&&(e.type==="temporal"||pe(e)&&!!e.timeUnit)}function Y5(e,{timeUnit:t,type:n,wrapTime:r,undefinedIfExprNotRequired:i}){var u;const o=t&&((u=rr(t))==null?void 0:u.unit);let a=o||n==="temporal",s;return lv(e)?s=e.expr:Re(e)?s=e.signal:F0(e)?(a=!0,s=c0(e)):(Ee(e)||xt(e))&&a&&(s=`datetime(${Bt(e)})`,wje(o)&&(xt(e)&&e<1e4||Ee(e)&&isNaN(Date.parse(e)))&&(s=c0({[o]:e}))),s?r&&a?`time(${s})`:s:i?void 0:Bt(e)}function Uae(e,t){const{type:n}=e;return t.map(r=>{const i=pe(e)&&!D0(e.timeUnit)?e.timeUnit:void 0,o=Y5(r,{timeUnit:i,type:n,undefinedIfExprNotRequired:!0});return o!==void 0?{signal:o}:r})}function pv(e,t){return Yt(e.bin)?$l(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}const Lj={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function gv(e){return e==null?void 0:e.condition}const jae=["domain","grid","labels","ticks","title"],OWe={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},Wae={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},RWe={...Wae,style:1,labelExpr:1,encoding:1};function Pj(e){return!!RWe[e]}const FWe={axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1},Hae=he(FWe);function kl(e){return"mark"in e}class J5{constructor(t,n){this.name=t,this.run=n}hasMatchingType(t){return kl(t)?lWe(t.mark)===this.name:!1}}function Rd(e,t){const n=e&&e[t];return n?se(n)?s0(n,r=>!!r.field):pe(n)||G5(n):!1}function qae(e,t){const n=e&&e[t];return n?se(n)?s0(n,r=>!!r.field):pe(n)||gu(n)||hv(n):!1}function Gae(e,t){if(Cn(t)){const n=e[t];if((pe(n)||gu(n))&&(hae(n.type)||pe(n)&&n.timeUnit)){const r=AO(t);return qae(e,r)}}return!1}function eR(e){return s0(LBe,t=>{if(Rd(e,t)){const n=e[t];if(se(n))return s0(n,r=>!!r.aggregate);{const r=tu(n);return r&&!!r.aggregate}}return!1})}function Vae(e,t){const n=[],r=[],i=[],o=[],a={};return tR(e,(s,u)=>{if(pe(s)){const{field:l,aggregate:c,bin:f,timeUnit:d,...p}=s;if(c||d||f){const g=KO(s),y=g==null?void 0:g.title;let v=we(s,{forAs:!0});const b={...y?[]:{title:up(s,t,{allowDisabling:!0})},...p,field:v};if(c){let x;if(Tf(c)?(x="argmax",v=we({op:"argmax",field:c.argmax},{forAs:!0}),b.field=`${v}.${l}`):ml(c)?(x="argmin",v=we({op:"argmin",field:c.argmin},{forAs:!0}),b.field=`${v}.${l}`):c!=="boxplot"&&c!=="errorbar"&&c!=="errorband"&&(x=c),x){const _={op:x,as:v};l&&(_.field=l),o.push(_)}}else if(n.push(v),hi(s)&&Yt(f)){if(r.push({bin:f,field:l,as:v}),n.push(we(s,{binSuffix:"end"})),pv(s,u)&&n.push(we(s,{binSuffix:"range"})),Cn(u)){const x={field:`${v}_end`};a[`${u}2`]=x}b.bin="binned",Roe(u)||(b.type=f0)}else if(d&&!D0(d)){i.push({timeUnit:d,field:l,as:v});const x=hi(s)&&s.type!==Xp&&"time";x&&(u===av||u===l0?b.formatType=x:GBe(u)?b.legend={formatType:x,...b.legend}:Cn(u)&&(b.axis={formatType:x,...b.axis}))}a[u]=b}else n.push(l),a[u]=e[u]}else a[u]=e[u]}),{bins:r,timeUnits:i,aggregate:o,groupby:n,encoding:a}}function DWe(e,t,n){const r=YBe(t,n);if(r){if(r==="binned"){const i=e[t===cs?sn:ar];return!!(pe(i)&&pe(e[t])&&cr(i.bin))}}else return!1;return!0}function LWe(e,t,n,r){const i={};for(const o of he(e))Ooe(o)||ge(FUe(o));for(let o of jBe){if(!e[o])continue;const a=e[o];if(uv(o)){const s=UBe(o),u=i[s];if(pe(u)&&Rje(u.type)&&pe(a)&&!u.timeUnit){ge(kUe(s));continue}}if(o==="angle"&&t==="arc"&&!e.theta&&(ge($Ue),o=ya),!DWe(e,o,t)){ge(P5(o,t));continue}if(o===El&&t==="line"){const s=tu(e[o]);if(s!=null&&s.aggregate){ge(RUe);continue}}if(o===qi&&(n?"fill"in e:"stroke"in e)){ge(Koe("encoding",{fill:"fill"in e,stroke:"stroke"in e}));continue}if(o===sv||o===Yp&&!se(a)&&!rs(a)||o===l0&&se(a)){if(a){if(o===Yp){const s=e[o];if(Fae(s)){i[o]=s;continue}}i[o]=Se(a).reduce((s,u)=>(pe(u)?s.push(ZO(u,o)):ge(m$(u,o)),s),[])}}else{if(o===l0&&a===null)i[o]=null;else if(!pe(a)&&!gu(a)&&!rs(a)&&!q5(a)&&!Re(a)){ge(m$(a,o));continue}i[o]=Bae(a,o,r)}}return i}function X5(e,t){const n={};for(const r of he(e)){const i=Bae(e[r],r,t,{compositeMark:!0});n[r]=i}return n}function PWe(e){const t=[];for(const n of he(e))if(Rd(e,n)){const r=e[n],i=Se(r);for(const o of i)pe(o)?t.push(o):G5(o)&&t.push(o.condition)}return t}function tR(e,t,n){if(e)for(const r of he(e)){const i=e[r];if(se(i))for(const o of i)t.call(n,o,r);else t.call(n,i,r)}}function IWe(e,t,n,r){return e?he(e).reduce((i,o)=>{const a=e[o];return se(a)?a.reduce((s,u)=>t.call(r,s,u,o),i):t.call(r,i,a,o)},n):n}function Yae(e,t){return he(t).reduce((n,r)=>{switch(r){case sn:case ar:case N5:case R5:case O5:case cs:case cu:case Sf:case Pg:case ya:case Sl:case fs:case _l:case ds:case hs:case ps:case ga:case av:case Gi:case N0:case l0:return n;case Yp:if(e==="line"||e==="trail")return n;case sv:case M5:{const i=t[r];if(se(i)||pe(i))for(const o of Se(i))o.aggregate||n.push(we(o,{}));return n}case El:if(e==="trail")return n;case qi:case fu:case du:case Cl:case Ef:case Cf:case kf:case $f:{const i=tu(t[r]);return i&&!i.aggregate&&n.push(we(i,{})),n}}},[])}function zWe(e){const{tooltip:t,...n}=e;if(!t)return{filteredEncoding:n};let r,i;if(se(t)){for(const o of t)o.aggregate?(r||(r=[]),r.push(o)):(i||(i=[]),i.push(o));r&&(n.tooltip=r)}else t.aggregate?n.tooltip=t:i=t;return se(i)&&i.length===1&&(i=i[0]),{customTooltipWithoutAggregatedField:i,filteredEncoding:n}}function x$(e,t,n,r=!0){if("tooltip"in n)return{tooltip:n.tooltip};const i=e.map(({fieldPrefix:a,titlePrefix:s})=>{const u=r?` of ${nR(t)}`:"";return{field:a+t.field,type:t.type,title:Re(s)?{signal:`${s}"${escape(u)}"`}:s+u}}),o=PWe(n).map(wWe);return{tooltip:[...i,...Ls(o,lt)]}}function nR(e){const{title:t,field:n}=e;return En(t,n)}function rR(e,t,n,r,i){const{scale:o,axis:a}=n;return({partName:s,mark:u,positionPrefix:l,endPositionPrefix:c=void 0,extraEncoding:f={}})=>{const d=nR(n);return Jae(e,s,i,{mark:u,encoding:{[t]:{field:`${l}_${n.field}`,type:n.type,...d!==void 0?{title:d}:{},...o!==void 0?{scale:o}:{},...a!==void 0?{axis:a}:{}},...Ee(c)?{[`${t}2`]:{field:`${c}_${n.field}`}}:{},...r,...f}})}}function Jae(e,t,n,r){const{clip:i,color:o,opacity:a}=e,s=e.type;return e[t]||e[t]===void 0&&n[t]?[{...r,mark:{...n[t],...i?{clip:i}:{},...o?{color:o}:{},...a?{opacity:a}:{},...eu(r.mark)?r.mark:{type:r.mark},style:`${s}-${String(t)}`,...wf(e[t])?{}:e[t]}}]:[]}function Xae(e,t,n){const{encoding:r}=e,i=t==="vertical"?"y":"x",o=r[i],a=r[`${i}2`],s=r[`${i}Error`],u=r[`${i}Error2`];return{continuousAxisChannelDef:vx(o,n),continuousAxisChannelDef2:vx(a,n),continuousAxisChannelDefError:vx(s,n),continuousAxisChannelDefError2:vx(u,n),continuousAxis:i}}function vx(e,t){if(e!=null&&e.aggregate){const{aggregate:n,...r}=e;return n!==t&&ge(uje(n,t)),r}else return e}function Kae(e,t){const{mark:n,encoding:r}=e,{x:i,y:o}=r;if(eu(n)&&n.orient)return n.orient;if(bc(i)){if(bc(o)){const a=pe(i)&&i.aggregate,s=pe(o)&&o.aggregate;if(!a&&s===t)return"vertical";if(!s&&a===t)return"horizontal";if(a===t&&s===t)throw new Error("Both x and y cannot have aggregate");return eg(o)&&!eg(i)?"horizontal":"vertical"}return"horizontal"}else{if(bc(o))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}}const $_="boxplot",BWe=["box","median","outliers","rule","ticks"],UWe=new J5($_,Zae);function Qae(e){return xt(e)?"tukey":e}function Zae(e,{config:t}){e={...e,encoding:X5(e.encoding,t)};const{mark:n,encoding:r,params:i,projection:o,...a}=e,s=eu(n)?n:{type:n};i&&ge(Joe("boxplot"));const u=s.extent??t.boxplot.extent,l=Rt("size",s,t),c=s.invalid,f=Qae(u),{bins:d,timeUnits:p,transform:g,continuousAxisChannelDef:y,continuousAxis:v,groupby:b,aggregate:x,encodingWithoutContinuousAxis:_,ticksOrient:A,boxOrient:S,customTooltipWithoutAggregatedField:C}=jWe(e,u,t),{color:E,size:k,...O}=_,N=dt=>rR(s,v,y,dt,t.boxplot),F=N(O),W=N(_),I=N({...O,...k?{size:k}:{}}),M=x$([{fieldPrefix:f==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:f==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],y,_),D={type:"tick",color:"black",opacity:1,orient:A,invalid:c,aria:!1},P=f==="min-max"?M:x$([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],y,_),U=[...F({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:P}),...F({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:P}),...F({partName:"ticks",mark:D,positionPrefix:"lower_whisker",extraEncoding:P}),...F({partName:"ticks",mark:D,positionPrefix:"upper_whisker",extraEncoding:P})],z=[...f!=="tukey"?U:[],...W({partName:"box",mark:{type:"bar",...l?{size:l}:{},orient:S,invalid:c,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:M}),...I({partName:"median",mark:{type:"tick",invalid:c,...$e(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{},...l?{size:l}:{},orient:A,aria:!1},positionPrefix:"mid_box",extraEncoding:M})];if(f==="min-max")return{...a,transform:(a.transform??[]).concat(g),layer:z};const H=`datum["lower_box_${y.field}"]`,j=`datum["upper_box_${y.field}"]`,X=`(${j} - ${H})`,G=`${H} - ${u} * ${X}`,ee=`${j} + ${u} * ${X}`,ne=`datum["${y.field}"]`,de={joinaggregate:ese(y.field),groupby:b},me={transform:[{filter:`(${G} <= ${ne}) && (${ne} <= ${ee})`},{aggregate:[{op:"min",field:y.field,as:`lower_whisker_${y.field}`},{op:"max",field:y.field,as:`upper_whisker_${y.field}`},{op:"min",field:`lower_box_${y.field}`,as:`lower_box_${y.field}`},{op:"max",field:`upper_box_${y.field}`,as:`upper_box_${y.field}`},...x],groupby:b}],layer:U},{tooltip:ce,...be}=O,{scale:re,axis:_e}=y,Ae=nR(y),te=Bi(_e,["title"]),Le=Jae(s,"outliers",t.boxplot,{transform:[{filter:`(${ne} < ${G}) || (${ne} > ${ee})`}],mark:"point",encoding:{[v]:{field:y.field,type:y.type,...Ae!==void 0?{title:Ae}:{},...re!==void 0?{scale:re}:{},...zt(te)?{}:{axis:te}},...be,...E?{color:E}:{},...C?{tooltip:C}:{}}})[0];let Te;const Ue=[...d,...p,de];return Le?Te={transform:Ue,layer:[Le,me]}:(Te=me,Te.transform.unshift(...Ue)),{...a,layer:[Te,{transform:g,layer:z}]}}function ese(e){return[{op:"q1",field:e,as:`lower_box_${e}`},{op:"q3",field:e,as:`upper_box_${e}`}]}function jWe(e,t,n){const r=Kae(e,$_),{continuousAxisChannelDef:i,continuousAxis:o}=Xae(e,r,$_),a=i.field,s=Qae(t),u=[...ese(a),{op:"median",field:a,as:`mid_box_${a}`},{op:"min",field:a,as:(s==="min-max"?"lower_whisker_":"min_")+a},{op:"max",field:a,as:(s==="min-max"?"upper_whisker_":"max_")+a}],l=s==="min-max"||s==="tukey"?[]:[{calculate:`datum["upper_box_${a}"] - datum["lower_box_${a}"]`,as:`iqr_${a}`},{calculate:`min(datum["upper_box_${a}"] + datum["iqr_${a}"] * ${t}, datum["max_${a}"])`,as:`upper_whisker_${a}`},{calculate:`max(datum["lower_box_${a}"] - datum["iqr_${a}"] * ${t}, datum["min_${a}"])`,as:`lower_whisker_${a}`}],{[o]:c,...f}=e.encoding,{customTooltipWithoutAggregatedField:d,filteredEncoding:p}=zWe(f),{bins:g,timeUnits:y,aggregate:v,groupby:b,encoding:x}=Vae(p,n),_=r==="vertical"?"horizontal":"vertical",A=r,S=[...g,...y,{aggregate:[...v,...u],groupby:b},...l];return{bins:g,timeUnits:y,transform:S,groupby:b,aggregate:v,continuousAxisChannelDef:i,continuousAxis:o,encodingWithoutContinuousAxis:x,ticksOrient:_,boxOrient:A,customTooltipWithoutAggregatedField:d}}const iR="errorbar",WWe=["ticks","rule"],HWe=new J5(iR,tse);function tse(e,{config:t}){e={...e,encoding:X5(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:o,ticksOrient:a,markDef:s,outerSpec:u,tooltipEncoding:l}=nse(e,iR,t);delete o.size;const c=rR(s,i,r,o,t.errorbar),f=s.thickness,d=s.size,p={type:"tick",orient:a,aria:!1,...f!==void 0?{thickness:f}:{},...d!==void 0?{size:d}:{}},g=[...c({partName:"ticks",mark:p,positionPrefix:"lower",extraEncoding:l}),...c({partName:"ticks",mark:p,positionPrefix:"upper",extraEncoding:l}),...c({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...f!==void 0?{size:f}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l})];return{...u,transform:n,...g.length>1?{layer:g}:{...g[0]}}}function qWe(e,t){const{encoding:n}=e;if(GWe(n))return{orient:Kae(e,t),inputType:"raw"};const r=VWe(n),i=YWe(n),o=n.x,a=n.y;if(r){if(i)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);const s=n.x2,u=n.y2;if(Ye(s)&&Ye(u))throw new Error(`${t} cannot have both x2 and y2`);if(Ye(s)){if(bc(o))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}else if(Ye(u)){if(bc(a))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}else{const s=n.xError,u=n.xError2,l=n.yError,c=n.yError2;if(Ye(u)&&!Ye(s))throw new Error(`${t} cannot have xError2 without xError`);if(Ye(c)&&!Ye(l))throw new Error(`${t} cannot have yError2 without yError`);if(Ye(s)&&Ye(l))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if(Ye(s)){if(bc(o))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(Ye(l)){if(bc(a))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function GWe(e){return(Ye(e.x)||Ye(e.y))&&!Ye(e.x2)&&!Ye(e.y2)&&!Ye(e.xError)&&!Ye(e.xError2)&&!Ye(e.yError)&&!Ye(e.yError2)}function VWe(e){return Ye(e.x2)||Ye(e.y2)}function YWe(e){return Ye(e.xError)||Ye(e.xError2)||Ye(e.yError)||Ye(e.yError2)}function nse(e,t,n){const{mark:r,encoding:i,params:o,projection:a,...s}=e,u=eu(r)?r:{type:r};o&&ge(Joe(t));const{orient:l,inputType:c}=qWe(e,t),{continuousAxisChannelDef:f,continuousAxisChannelDef2:d,continuousAxisChannelDefError:p,continuousAxisChannelDefError2:g,continuousAxis:y}=Xae(e,l,t),{errorBarSpecificAggregate:v,postAggregateCalculates:b,tooltipSummary:x,tooltipTitleWithFieldName:_}=JWe(u,f,d,p,g,c,t,n),{[y]:A,[y==="x"?"x2":"y2"]:S,[y==="x"?"xError":"yError"]:C,[y==="x"?"xError2":"yError2"]:E,...k}=i,{bins:O,timeUnits:N,aggregate:F,groupby:W,encoding:I}=Vae(k,n),M=[...F,...v],D=c!=="raw"?[]:W,P=x$(x,f,I,_);return{transform:[...s.transform??[],...O,...N,...M.length===0?[]:[{aggregate:M,groupby:D}],...b],groupby:D,continuousAxisChannelDef:f,continuousAxis:y,encodingWithoutContinuousAxis:I,ticksOrient:l==="vertical"?"horizontal":"vertical",markDef:u,outerSpec:s,tooltipEncoding:P}}function JWe(e,t,n,r,i,o,a,s){let u=[],l=[];const c=t.field;let f,d=!1;if(o==="raw"){const p=e.center?e.center:e.extent?e.extent==="iqr"?"median":"mean":s.errorbar.center,g=e.extent?e.extent:p==="mean"?"stderr":"iqr";if(p==="median"!=(g==="iqr")&&ge(sje(p,g,a)),g==="stderr"||g==="stdev")u=[{op:g,field:c,as:`extent_${c}`},{op:p,field:c,as:`center_${c}`}],l=[{calculate:`datum["center_${c}"] + datum["extent_${c}"]`,as:`upper_${c}`},{calculate:`datum["center_${c}"] - datum["extent_${c}"]`,as:`lower_${c}`}],f=[{fieldPrefix:"center_",titlePrefix:ov(p)},{fieldPrefix:"upper_",titlePrefix:Ij(p,g,"+")},{fieldPrefix:"lower_",titlePrefix:Ij(p,g,"-")}],d=!0;else{let y,v,b;g==="ci"?(y="mean",v="ci0",b="ci1"):(y="median",v="q1",b="q3"),u=[{op:v,field:c,as:`lower_${c}`},{op:b,field:c,as:`upper_${c}`},{op:y,field:c,as:`center_${c}`}],f=[{fieldPrefix:"upper_",titlePrefix:up({field:c,aggregate:b,type:"quantitative"},s,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:up({field:c,aggregate:v,type:"quantitative"},s,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:up({field:c,aggregate:y,type:"quantitative"},s,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&ge(aje(e.center,e.extent)),o==="aggregated-upper-lower"?(f=[],l=[{calculate:`datum["${n.field}"]`,as:`upper_${c}`},{calculate:`datum["${c}"]`,as:`lower_${c}`}]):o==="aggregated-error"&&(f=[{fieldPrefix:"",titlePrefix:c}],l=[{calculate:`datum["${c}"] + datum["${r.field}"]`,as:`upper_${c}`}],i?l.push({calculate:`datum["${c}"] + datum["${i.field}"]`,as:`lower_${c}`}):l.push({calculate:`datum["${c}"] - datum["${r.field}"]`,as:`lower_${c}`}));for(const p of l)f.push({fieldPrefix:p.as.substring(0,6),titlePrefix:u0(u0(p.calculate,'datum["',""),'"]',"")})}return{postAggregateCalculates:l,errorBarSpecificAggregate:u,tooltipSummary:f,tooltipTitleWithFieldName:d}}function Ij(e,t,n){return`${ov(e)} ${n} ${t}`}const oR="errorband",XWe=["band","borders"],KWe=new J5(oR,rse);function rse(e,{config:t}){e={...e,encoding:X5(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:o,markDef:a,outerSpec:s,tooltipEncoding:u}=nse(e,oR,t),l=a,c=rR(l,i,r,o,t.errorband),f=e.encoding.x!==void 0&&e.encoding.y!==void 0;let d={type:f?"area":"rect"},p={type:f?"line":"rule"};const g={...l.interpolate?{interpolate:l.interpolate}:{},...l.tension&&l.interpolate?{tension:l.tension}:{}};return f?(d={...d,...g,ariaRoleDescription:"errorband"},p={...p,...g,aria:!1}):l.interpolate?ge(Tj("interpolate")):l.tension&&ge(Tj("tension")),{...s,transform:n,layer:[...c({partName:"band",mark:d,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:u}),...c({partName:"borders",mark:p,positionPrefix:"lower",extraEncoding:u}),...c({partName:"borders",mark:p,positionPrefix:"upper",extraEncoding:u})]}}const ise={};function aR(e,t,n){const r=new J5(e,t);ise[e]={normalizer:r,parts:n}}function QWe(){return he(ise)}aR($_,Zae,BWe);aR(iR,tse,WWe);aR(oR,rse,XWe);const ZWe=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],ose={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},ase={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},eHe=he(ose),tHe=he(ase),nHe={header:1,headerRow:1,headerColumn:1,headerFacet:1},sse=he(nHe),use=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],rHe={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},iHe={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},is="_vgsid_",oHe={point:{on:"click",fields:[is],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[pointerdown, window:pointerup] > window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] > window:pointermove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function sR(e){return e==="legend"||!!(e!=null&&e.legend)}function P6(e){return sR(e)&&$e(e)}function uR(e){return!!(e!=null&&e.select)}function lse(e){const t=[];for(const n of e||[]){if(uR(n))continue;const{expr:r,bind:i,...o}=n;if(i&&r){const a={...o,bind:i,init:r};t.push(a)}else{const a={...o,...r?{update:r}:{},...i?{bind:i}:{}};t.push(a)}}return t}function aHe(e){return K5(e)||cR(e)||lR(e)}function lR(e){return"concat"in e}function K5(e){return"vconcat"in e}function cR(e){return"hconcat"in e}function cse({step:e,offsetIsDiscrete:t}){return t?e.for??"offset":"position"}function nu(e){return $e(e)&&e.step!==void 0}function zj(e){return e.view||e.width||e.height}const Bj=20,sHe={align:1,bounds:1,center:1,columns:1,spacing:1},uHe=he(sHe);function lHe(e,t,n){const r=n[t],i={},{spacing:o,columns:a}=r;o!==void 0&&(i.spacing=o),a!==void 0&&(H5(e)&&!dv(e.facet)||lR(e))&&(i.columns=a),K5(e)&&(i.columns=1);for(const s of uHe)if(e[s]!==void 0)if(s==="spacing"){const u=e[s];i[s]=xt(u)?u:{row:u.row??o,column:u.column??o}}else i[s]=e[s];return i}function w$(e,t){return e[t]??e[t==="width"?"continuousWidth":"continuousHeight"]}function k_(e,t){const n=T_(e,t);return nu(n)?n.step:fse}function T_(e,t){const n=e[t]??e[t==="width"?"discreteWidth":"discreteHeight"];return En(n,{step:e.step})}const fse=20,cHe={continuousWidth:200,continuousHeight:200,step:fse},fHe={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:cHe,mark:rWe,arc:{},area:{},bar:aWe,circle:{},geoshape:{},image:{},line:{},point:{},rect:sWe,rule:{color:"black"},square:{},text:{color:"black"},tick:uWe,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:zje,projection:{},legend:rHe,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:oHe,style:{},title:{},facet:{spacing:Bj},concat:{spacing:Bj},normalizedNumberFormat:".0%"},Nu=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],Uj={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},jj={blue:Nu[0],orange:Nu[1],red:Nu[2],teal:Nu[3],green:Nu[4],yellow:Nu[5],purple:Nu[6],pink:Nu[7],brown:Nu[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function dHe(e={}){return{signals:[{name:"color",value:$e(e)?{...jj,...e}:jj}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function hHe(e){return{signals:[{name:"fontSize",value:$e(e)?{...Uj,...e}:Uj}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function pHe(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function dse(e){const t=he(e||{}),n={};for(const r of t){const i=e[r];n[r]=gv(i)?joe(i):lo(i)}return n}function gHe(e){const t=he(e),n={};for(const r of t)n[r]=dse(e[r]);return n}const mHe=[..._ae,...Hae,...sse,"background","padding","legend","lineBreak","scale","style","title","view"];function hse(e={}){const{color:t,font:n,fontSize:r,selection:i,...o}=e,a=Cg({},Ve(fHe),n?pHe(n):{},t?dHe(t):{},r?hHe(r):{},o||{});i&&$g(a,"selection",i,!0);const s=Bi(a,mHe);for(const u of["background","lineBreak","padding"])a[u]&&(s[u]=lo(a[u]));for(const u of _ae)a[u]&&(s[u]=Ti(a[u]));for(const u of Hae)a[u]&&(s[u]=dse(a[u]));for(const u of sse)a[u]&&(s[u]=Ti(a[u]));return a.legend&&(s.legend=Ti(a.legend)),a.scale&&(s.scale=Ti(a.scale)),a.style&&(s.style=gHe(a.style)),a.title&&(s.title=Ti(a.title)),a.view&&(s.view=Ti(a.view)),s}const yHe=new Set(["view",...Kje]),vHe=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],bHe={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],...nWe};function xHe(e){e=Ve(e);for(const t of vHe)delete e[t];if(e.axis)for(const t in e.axis)gv(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of ZWe)delete e.legend[t];if(e.mark){for(const t of Nj)delete e.mark[t];e.mark.tooltip&&$e(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(lse(e.params)),delete e.params);for(const t of yHe){for(const r of Nj)delete e[t][r];const n=bHe[t];if(n)for(const r of n)delete e[t][r];AHe(e,t)}for(const t of QWe())delete e[t];wHe(e);for(const t in e)$e(e[t])&&zt(e[t])&&delete e[t];return zt(e)?void 0:e}function wHe(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:r}=Uoe(e.title);zt(t)||(e.style["group-title"]={...e.style["group-title"],...t}),zt(n)||(e.style["group-subtitle"]={...e.style["group-subtitle"],...n}),zt(r)?delete e.title:e.title=r}function AHe(e,t,n,r){const i=r?e[t][r]:e[t];t==="view"&&(n="cell");const o={...i,...e.style[n??t]};zt(o)||(e.style[n??t]=o),r||delete e[t]}function Q5(e){return"layer"in e}function _He(e){return"repeat"in e}function SHe(e){return!se(e.repeat)&&e.repeat.layer}class fR{map(t,n){return H5(t)?this.mapFacet(t,n):_He(t)?this.mapRepeat(t,n):cR(t)?this.mapHConcat(t,n):K5(t)?this.mapVConcat(t,n):lR(t)?this.mapConcat(t,n):this.mapLayerOrUnit(t,n)}mapLayerOrUnit(t,n){if(Q5(t))return this.mapLayer(t,n);if(kl(t))return this.mapUnit(t,n);throw new Error($O(t))}mapLayer(t,n){return{...t,layer:t.layer.map(r=>this.mapLayerOrUnit(r,n))}}mapHConcat(t,n){return{...t,hconcat:t.hconcat.map(r=>this.map(r,n))}}mapVConcat(t,n){return{...t,vconcat:t.vconcat.map(r=>this.map(r,n))}}mapConcat(t,n){const{concat:r,...i}=t;return{...i,concat:r.map(o=>this.map(o,n))}}mapFacet(t,n){return{...t,spec:this.map(t.spec,n)}}mapRepeat(t,n){return{...t,spec:this.map(t.spec,n)}}}const EHe={zero:1,center:1,normalize:1};function CHe(e){return e in EHe}const $He=new Set([xae,B5,z5,w_,j5,WO,HO,U5,wae,jO]),kHe=new Set([B5,z5,xae]);function vh(e){return pe(e)&&Qp(e)==="quantitative"&&!e.bin}function Wj(e,t,{orient:n,type:r}){const i=t==="x"?"y":"radius",o=t==="x"&&["bar","area"].includes(r),a=e[t],s=e[i];if(pe(a)&&pe(s))if(vh(a)&&vh(s)){if(a.stack)return t;if(s.stack)return i;const u=pe(a)&&!!a.aggregate,l=pe(s)&&!!s.aggregate;if(u!==l)return u?t:i;if(o){if(n==="vertical")return i;if(n==="horizontal")return t}}else{if(vh(a))return t;if(vh(s))return i}else{if(vh(a))return o&&n==="vertical"?void 0:t;if(vh(s))return o&&n==="horizontal"?void 0:i}}function THe(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function pse(e,t){var y,v;const n=eu(e)?e:{type:e},r=n.type;if(!$He.has(r))return null;const i=Wj(t,"x",n)||Wj(t,"theta",n);if(!i)return null;const o=t[i],a=pe(o)?we(o,{}):void 0,s=THe(i),u=[],l=new Set;if(t[s]){const b=t[s],x=pe(b)?we(b,{}):void 0;x&&x!==a&&(u.push(s),l.add(x))}const c=s==="x"?"xOffset":"yOffset",f=t[c],d=pe(f)?we(f,{}):void 0;d&&d!==a&&(u.push(c),l.add(d));const p=WBe.reduce((b,x)=>{if(x!=="tooltip"&&Rd(t,x)){const _=t[x];for(const A of Se(_)){const S=tu(A);if(S.aggregate)continue;const C=we(S,{});(!C||!l.has(C))&&b.push({channel:x,fieldDef:S})}}return b},[]);let g;return o.stack!==void 0?wf(o.stack)?g=o.stack?"zero":null:g=o.stack:kHe.has(r)&&(g="zero"),!g||!CHe(g)||eR(t)&&p.length===0?null:(y=o==null?void 0:o.scale)!=null&&y.type&&((v=o==null?void 0:o.scale)==null?void 0:v.type)!==Ui.LINEAR?(o!=null&&o.stack&&ge(rje(o.scale.type)),null):Ye(t[hu(i)])?(o.stack!==void 0&&ge(nje(i)),null):(pe(o)&&o.aggregate&&!tUe.has(o.aggregate)&&ge(ije(o.aggregate)),{groupbyChannels:u,groupbyFields:l,fieldChannel:i,impute:o.impute===null?!1:Nf(r),stackBy:p,offset:g})}function gse(e,t,n){const r=Ti(e),i=Rt("orient",r,n);if(r.orient=RHe(r.type,t,i),i!==void 0&&i!==r.orient&&ge(BUe(r.orient,i)),r.type==="bar"&&r.orient){const s=Rt("cornerRadiusEnd",r,n);if(s!==void 0){const u=r.orient==="horizontal"&&t.x2||r.orient==="vertical"&&t.y2?["cornerRadius"]:oWe[r.orient];for(const l of u)r[l]=s;r.cornerRadiusEnd!==void 0&&delete r.cornerRadiusEnd}}return Rt("opacity",r,n)===void 0&&(r.opacity=NHe(r.type,t)),Rt("cursor",r,n)===void 0&&(r.cursor=MHe(r,t,n)),r}function MHe(e,t,n){return t.href||e.href||Rt("href",e,n)?"pointer":e.cursor}function NHe(e,t){if(ct([j5,jO,WO,HO],e)&&!eR(t))return .7}function OHe(e,t,{graticule:n}){if(n)return!1;const r=yl("filled",e,t),i=e.type;return En(r,i!==j5&&i!==U5&&i!==w_)}function RHe(e,t,n){switch(e){case j5:case WO:case HO:case wae:case Jje:case Yje:return}const{x:r,y:i,x2:o,y2:a}=t;switch(e){case B5:if(pe(r)&&(cr(r.bin)||pe(i)&&i.aggregate&&!r.aggregate))return"vertical";if(pe(i)&&(cr(i.bin)||pe(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(a||o){if(n)return n;if(!o)return(pe(r)&&r.type===f0&&!Yt(r.bin)||__(r))&&pe(i)&&cr(i.bin)?"horizontal":"vertical";if(!a)return(pe(i)&&i.type===f0&&!Yt(i.bin)||__(i))&&pe(r)&&cr(r.bin)?"vertical":"horizontal"}case w_:if(o&&!(pe(r)&&cr(r.bin))&&a&&!(pe(i)&&cr(i.bin)))return;case z5:if(a)return pe(i)&&cr(i.bin)?"horizontal":"vertical";if(o)return pe(r)&&cr(r.bin)?"vertical":"horizontal";if(e===w_){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case U5:case jO:{const s=Dj(r),u=Dj(i);if(n)return n;if(s&&!u)return e!=="tick"?"horizontal":"vertical";if(!s&&u)return e!=="tick"?"vertical":"horizontal";if(s&&u)return"vertical";{const l=hi(r)&&r.type===Xp,c=hi(i)&&i.type===Xp;if(l&&!c)return"vertical";if(!l&&c)return"horizontal"}return}}return"vertical"}function FHe(e){const{point:t,line:n,...r}=e;return he(r).length>1?r:r.type}function DHe(e){for(const t of["line","area","rule","trail"])e[t]&&(e={...e,[t]:Bi(e[t],["point","line"])});return e}function I6(e,t={},n){return e.point==="transparent"?{opacity:0}:e.point?$e(e.point)?e.point:{}:e.point!==void 0?null:t.point||n.shape?$e(t.point)?t.point:{}:void 0}function Hj(e,t={}){return e.line?e.line===!0?{}:e.line:e.line!==void 0?null:t.line?t.line===!0?{}:t.line:void 0}class LHe{constructor(){this.name="path-overlay"}hasMatchingType(t,n){if(kl(t)){const{mark:r,encoding:i}=t,o=eu(r)?r:{type:r};switch(o.type){case"line":case"rule":case"trail":return!!I6(o,n[o.type],i);case"area":return!!I6(o,n[o.type],i)||!!Hj(o,n[o.type])}}return!1}run(t,n,r){const{config:i}=n,{params:o,projection:a,mark:s,name:u,encoding:l,...c}=t,f=X5(l,i),d=eu(s)?s:{type:s},p=I6(d,i[d.type],f),g=d.type==="area"&&Hj(d,i[d.type]),y=[{name:u,...o?{params:o}:{},mark:FHe({...d.type==="area"&&d.opacity===void 0&&d.fillOpacity===void 0?{opacity:.7}:{},...d}),encoding:Bi(f,["shape"])}],v=pse(gse(d,f,i),f);let b=f;if(v){const{fieldChannel:x,offset:_}=v;b={...f,[x]:{...f[x],..._?{stack:_}:{}}}}return b=Bi(b,["y2","x2"]),g&&y.push({...a?{projection:a}:{},mark:{type:"line",...Gp(d,["clip","interpolate","tension","tooltip"]),...g},encoding:b}),p&&y.push({...a?{projection:a}:{},mark:{type:"point",opacity:1,filled:!0,...Gp(d,["clip","tooltip"]),...p},encoding:b}),r({...c,layer:y},{...n,config:DHe(i)})}}function PHe(e,t){return t?dv(e)?yse(e,t):mse(e,t):e}function z6(e,t){return t?yse(e,t):e}function A$(e,t,n){const r=t[e];if(bWe(r)){if(r.repeat in n)return{...t,[e]:n[r.repeat]};ge(xUe(r.repeat));return}return t}function mse(e,t){if(e=A$("field",e,t),e!==void 0){if(e===null)return null;if(XO(e)&&Gs(e.sort)){const n=A$("field",e.sort,t);e={...e,...n?{sort:n}:{}}}return e}}function qj(e,t){if(pe(e))return mse(e,t);{const n=A$("datum",e,t);return n!==e&&!n.type&&(n.type="nominal"),n}}function Gj(e,t){if(Ye(e)){const n=qj(e,t);if(n)return n;if(q5(e))return{condition:e.condition}}else{if(hv(e)){const n=qj(e.condition,t);if(n)return{...e,condition:n};{const{condition:r,...i}=e;return i}}return e}}function yse(e,t){const n={};for(const r in e)if(Be(e,r)){const i=e[r];if(se(i))n[r]=i.map(o=>Gj(o,t)).filter(o=>o);else{const o=Gj(i,t);o!==void 0&&(n[r]=o)}}return n}class IHe{constructor(){this.name="RuleForRangedLine"}hasMatchingType(t){if(kl(t)){const{encoding:n,mark:r}=t;if(r==="line"||eu(r)&&r.type==="line")for(const i of BBe){const o=O0(i),a=n[o];if(n[i]&&(pe(a)&&!cr(a.bin)||gu(a)))return!0}}return!1}run(t,n,r){const{encoding:i,mark:o}=t;return ge(zUe(!!i.x2,!!i.y2)),r({...t,mark:$e(o)?{...o,type:"rule"}:"rule"},n)}}class zHe extends fR{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[UWe,HWe,KWe,new LHe,new IHe]}map(t,n){if(kl(t)){const r=Rd(t.encoding,nl),i=Rd(t.encoding,rl),o=Rd(t.encoding,T5);if(r||i||o)return this.mapFacetedUnit(t,n)}return super.map(t,n)}mapUnit(t,n){const{parentEncoding:r,parentProjection:i}=n,o=z6(t.encoding,n.repeater),a={...t,...t.name?{name:[n.repeaterPrefix,t.name].filter(u=>u).join("_")}:{},...o?{encoding:o}:{}};if(r||i)return this.mapUnitWithParentEncodingOrProjection(a,n);const s=this.mapLayerOrUnit.bind(this);for(const u of this.nonFacetUnitNormalizers)if(u.hasMatchingType(a,n.config))return u.run(a,n,s);return a}mapRepeat(t,n){return SHe(t)?this.mapLayerRepeat(t,n):this.mapNonLayerRepeat(t,n)}mapLayerRepeat(t,n){const{repeat:r,spec:i,...o}=t,{row:a,column:s,layer:u}=r,{repeater:l={},repeaterPrefix:c=""}=n;return a||s?this.mapRepeat({...t,repeat:{...a?{row:a}:{},...s?{column:s}:{}},spec:{repeat:{layer:u},spec:i}},n):{...o,layer:u.map(f=>{const d={...l,layer:f},p=`${(i.name?`${i.name}_`:"")+c}child__layer_${an(f)}`,g=this.mapLayerOrUnit(i,{...n,repeater:d,repeaterPrefix:p});return g.name=p,g})}}mapNonLayerRepeat(t,n){const{repeat:r,spec:i,data:o,...a}=t;!se(r)&&t.columns&&(t=Bi(t,["columns"]),ge(Ej("repeat")));const s=[],{repeater:u={},repeaterPrefix:l=""}=n,c=!se(r)&&r.row||[u?u.row:null],f=!se(r)&&r.column||[u?u.column:null],d=se(r)&&r||[u?u.repeat:null];for(const g of d)for(const y of c)for(const v of f){const b={repeat:g,row:y,column:v,layer:u.layer},x=(i.name?`${i.name}_`:"")+l+"child__"+(se(r)?`${an(g)}`:(r.row?`row_${an(y)}`:"")+(r.column?`column_${an(v)}`:"")),_=this.map(i,{...n,repeater:b,repeaterPrefix:x});_.name=x,s.push(Bi(_,["data"]))}const p=se(r)?t.columns:r.column?r.column.length:1;return{data:i.data??o,align:"all",...a,columns:p,concat:s}}mapFacet(t,n){const{facet:r}=t;return dv(r)&&t.columns&&(t=Bi(t,["columns"]),ge(Ej("facet"))),super.mapFacet(t,n)}mapUnitWithParentEncodingOrProjection(t,n){const{encoding:r,projection:i}=t,{parentEncoding:o,parentProjection:a,config:s}=n,u=Yj({parentProjection:a,projection:i}),l=Vj({parentEncoding:o,encoding:z6(r,n.repeater)});return this.mapUnit({...t,...u?{projection:u}:{},...l?{encoding:l}:{}},{config:s})}mapFacetedUnit(t,n){const{row:r,column:i,facet:o,...a}=t.encoding,{mark:s,width:u,projection:l,height:c,view:f,params:d,encoding:p,...g}=t,{facetMapping:y,layout:v}=this.getFacetMappingAndLayout({row:r,column:i,facet:o},n),b=z6(a,n.repeater);return this.mapFacet({...g,...v,facet:y,spec:{...u?{width:u}:{},...c?{height:c}:{},...f?{view:f}:{},...l?{projection:l}:{},mark:s,encoding:b,...d?{params:d}:{}}},n)}getFacetMappingAndLayout(t,n){const{row:r,column:i,facet:o}=t;if(r||i){o&&ge(PUe([...r?[nl]:[],...i?[rl]:[]]));const a={},s={};for(const u of[nl,rl]){const l=t[u];if(l){const{align:c,center:f,spacing:d,columns:p,...g}=l;a[u]=g;for(const y of["align","center","spacing"])l[y]!==void 0&&(s[y]??(s[y]={}),s[y][u]=l[y])}}return{facetMapping:a,layout:s}}else{const{align:a,center:s,spacing:u,columns:l,...c}=o;return{facetMapping:PHe(c,n.repeater),layout:{...a?{align:a}:{},...s?{center:s}:{},...u?{spacing:u}:{},...l?{columns:l}:{}}}}}mapLayer(t,{parentEncoding:n,parentProjection:r,...i}){const{encoding:o,projection:a,...s}=t,u={...i,parentEncoding:Vj({parentEncoding:n,encoding:o,layer:!0}),parentProjection:Yj({parentProjection:r,projection:a})};return super.mapLayer({...s,...t.name?{name:[u.repeaterPrefix,t.name].filter(l=>l).join("_")}:{}},u)}}function Vj({parentEncoding:e,encoding:t={},layer:n}){let r={};if(e){const i=new Set([...he(e),...he(t)]);for(const o of i){const a=t[o],s=e[o];if(Ye(a)){const u={...s,...a};r[o]=u}else hv(a)?r[o]={...a,condition:{...s,...a.condition}}:a||a===null?r[o]=a:(n||rs(s)||Re(s)||Ye(s)||se(s))&&(r[o]=s)}}else r=t;return!r||zt(r)?void 0:r}function Yj(e){const{parentProjection:t,projection:n}=e;return t&&n&&ge(CUe({parentProjection:t,projection:n})),n??t}function dR(e){return"filter"in e}function BHe(e){return(e==null?void 0:e.stop)!==void 0}function vse(e){return"lookup"in e}function UHe(e){return"data"in e}function jHe(e){return"param"in e}function WHe(e){return"pivot"in e}function HHe(e){return"density"in e}function qHe(e){return"quantile"in e}function GHe(e){return"regression"in e}function VHe(e){return"loess"in e}function YHe(e){return"sample"in e}function JHe(e){return"window"in e}function XHe(e){return"joinaggregate"in e}function KHe(e){return"flatten"in e}function QHe(e){return"calculate"in e}function bse(e){return"bin"in e}function ZHe(e){return"impute"in e}function eqe(e){return"timeUnit"in e}function tqe(e){return"aggregate"in e}function nqe(e){return"stack"in e}function rqe(e){return"fold"in e}function iqe(e){return"extent"in e&&!("density"in e)}function oqe(e){return e.map(t=>dR(t)?{filter:ap(t.filter,Oje)}:t)}class aqe extends fR{map(t,n){return n.emptySelections??(n.emptySelections={}),n.selectionPredicates??(n.selectionPredicates={}),t=Jj(t,n),super.map(t,n)}mapLayerOrUnit(t,n){if(t=Jj(t,n),t.encoding){const r={};for(const[i,o]of rf(t.encoding))r[i]=xse(o,n);t={...t,encoding:r}}return super.mapLayerOrUnit(t,n)}mapUnit(t,n){const{selection:r,...i}=t;return r?{...i,params:rf(r).map(([o,a])=>{const{init:s,bind:u,empty:l,...c}=a;c.type==="single"?(c.type="point",c.toggle=!1):c.type==="multi"&&(c.type="point"),n.emptySelections[o]=l!=="none";for(const f of mr(n.selectionPredicates[o]??{}))f.empty=l!=="none";return{name:o,value:s,select:c,bind:u}})}:t}}function Jj(e,t){const{transform:n,...r}=e;if(n){const i=n.map(o=>{if(dR(o))return{filter:_$(o,t)};if(bse(o)&&R0(o.bin))return{...o,bin:wse(o.bin)};if(vse(o)){const{selection:a,...s}=o.from;return a?{...o,from:{param:a,...s}}:o}return o});return{...r,transform:i}}return e}function xse(e,t){var r,i;const n=Ve(e);if(pe(n)&&R0(n.bin)&&(n.bin=wse(n.bin)),L0(n)&&((i=(r=n.scale)==null?void 0:r.domain)!=null&&i.selection)){const{selection:o,...a}=n.scale.domain;n.scale.domain={...a,...o?{param:o}:{}}}if(q5(n))if(se(n.condition))n.condition=n.condition.map(o=>{const{selection:a,param:s,test:u,...l}=o;return s?o:{...l,test:_$(o,t)}});else{const{selection:o,param:a,test:s,...u}=xse(n.condition,t);n.condition=a?n.condition:{...u,test:_$(n.condition,t)}}return n}function wse(e){const t=e.extent;if(t!=null&&t.selection){const{selection:n,...r}=t;return{...e,extent:{...r,param:n}}}return e}function _$(e,t){const n=r=>ap(r,i=>{var o;const a=t.emptySelections[i]??!0,s={param:i,empty:a};return(o=t.selectionPredicates)[i]??(o[i]=[]),t.selectionPredicates[i].push(s),s});return e.selection?n(e.selection):ap(e.test||e.filter,r=>r.selection?n(r.selection):r)}class S$ extends fR{map(t,n){const r=n.selections??[];if(t.params&&!kl(t)){const i=[];for(const o of t.params)uR(o)?r.push(o):i.push(o);t.params=i}return n.selections=r,super.map(t,n)}mapUnit(t,n){const r=n.selections;if(!r||!r.length)return t;const i=(n.path??[]).concat(t.name),o=[];for(const a of r)if(!a.views||!a.views.length)o.push(a);else for(const s of a.views)(Ee(s)&&(s===t.name||i.includes(s))||se(s)&&s.map(u=>i.indexOf(u)).every((u,l,c)=>u!==-1&&(l===0||u>c[l-1])))&&o.push(a);return o.length&&(t.params=o),t}}for(const e of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const t=S$.prototype[e];S$.prototype[e]=function(n,r){return t.call(this,n,sqe(n,r))}}function sqe(e,t){return e.name?{...t,path:(t.path??[]).concat(e.name)}:t}function Ase(e,t){t===void 0&&(t=hse(e.config));const n=fqe(e,t),{width:r,height:i}=e,o=dqe(n,{width:r,height:i,autosize:e.autosize},t);return{...n,...o?{autosize:o}:{}}}const uqe=new zHe,lqe=new aqe,cqe=new S$;function fqe(e,t={}){const n={config:t};return cqe.map(uqe.map(lqe.map(e,n),n),n)}function Xj(e){return Ee(e)?{type:e}:e??{}}function dqe(e,t,n){let{width:r,height:i}=t;const o=kl(e)||Q5(e),a={};o?r=="container"&&i=="container"?(a.type="fit",a.contains="padding"):r=="container"?(a.type="fit-x",a.contains="padding"):i=="container"&&(a.type="fit-y",a.contains="padding"):(r=="container"&&(ge(wj("width")),r=void 0),i=="container"&&(ge(wj("height")),i=void 0));const s={type:"pad",...a,...n?Xj(n.autosize):{},...Xj(e.autosize)};if(s.type==="fit"&&!o&&(ge(cUe),s.type="pad"),r=="container"&&!(s.type=="fit"||s.type=="fit-x")&&ge(Aj("width")),i=="container"&&!(s.type=="fit"||s.type=="fit-y")&&ge(Aj("height")),!ho(s,{type:"pad"}))return s}function hqe(e){return e==="fit"||e==="fit-x"||e==="fit-y"}function pqe(e){return e?`fit-${F5(e)}`:"fit"}const gqe=["background","padding"];function Kj(e,t){const n={};for(const r of gqe)e&&e[r]!==void 0&&(n[r]=lo(e[r]));return t&&(n.params=e.params),n}class Tl{constructor(t={},n={}){this.explicit=t,this.implicit=n}clone(){return new Tl(Ve(this.explicit),Ve(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(t){return En(this.explicit[t],this.implicit[t])}getWithExplicit(t){return this.explicit[t]!==void 0?{explicit:!0,value:this.explicit[t]}:this.implicit[t]!==void 0?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}setWithExplicit(t,{value:n,explicit:r}){n!==void 0&&this.set(t,n,r)}set(t,n,r){return delete this[r?"implicit":"explicit"][t],this[r?"explicit":"implicit"][t]=n,this}copyKeyFromSplit(t,{explicit:n,implicit:r}){n[t]!==void 0?this.set(t,n[t],!0):r[t]!==void 0&&this.set(t,r[t],!1)}copyKeyFromObject(t,n){n[t]!==void 0&&this.set(t,n[t],!0)}copyAll(t){for(const n of he(t.combine())){const r=t.getWithExplicit(n);this.setWithExplicit(n,r)}}}function Ts(e){return{explicit:!0,value:e}}function io(e){return{explicit:!1,value:e}}function _se(e){return(t,n,r,i)=>{const o=e(t.value,n.value);return o>0?t:o<0?n:Z5(t,n,r,i)}}function Z5(e,t,n,r){return e.explicit&&t.explicit&&ge(JUe(n,r,e.value,t.value)),e}function sf(e,t,n,r,i=Z5){return e===void 0||e.value===void 0?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:ho(e.value,t.value)?e:i(e,t,n,r)}class mqe extends Tl{constructor(t={},n={},r=!1){super(t,n),this.explicit=t,this.implicit=n,this.parseNothing=r}clone(){const t=super.clone();return t.parseNothing=this.parseNothing,t}}function tg(e){return"url"in e}function e2(e){return"values"in e}function Sse(e){return"name"in e&&!tg(e)&&!e2(e)&&!Dc(e)}function Dc(e){return e&&(Ese(e)||Cse(e)||hR(e))}function Ese(e){return"sequence"in e}function Cse(e){return"sphere"in e}function hR(e){return"graticule"in e}var Gt;(function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup"})(Gt||(Gt={}));function $se(e){const{signals:t,hasLegend:n,index:r,...i}=e;return i.field=pa(i.field),i}function p0(e,t=!0,n=Ur){if(se(e)){const r=e.map(i=>p0(i,t,n));return t?`[${r.join(", ")}]`:r}else if(F0(e))return n(t?c0(e):xje(e));return t?n(Bt(e)):e}function yqe(e,t){for(const n of mr(e.component.selection??{})){const r=n.name;let i=`${r}${lf}, ${n.resolve==="global"?"true":`{unit: ${Fd(e)}}`}`;for(const o of rS)o.defined(n)&&(o.signals&&(t=o.signals(e,n,t)),o.modifyExpr&&(i=o.modifyExpr(e,n,i)));t.push({name:r+Jqe,on:[{events:{signal:n.name+lf},update:`modify(${xe(n.name+g0)}, ${i})`}]})}return pR(t)}function vqe(e,t){if(e.component.selection&&he(e.component.selection).length){const n=xe(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:_f("pointermove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return pR(t)}function bqe(e,t){let n=!1;for(const r of mr(e.component.selection??{})){const i=r.name,o=xe(i+g0);if(t.filter(s=>s.name===i).length===0){const s=r.resolve==="global"?"union":r.resolve,u=r.type==="point"?", true, true)":")";t.push({name:r.name,update:`${qse}(${o}, ${xe(s)}${u}`})}n=!0;for(const s of rS)s.defined(r)&&s.topLevelSignals&&(t=s.topLevelSignals(e,r,t))}return n&&t.filter(i=>i.name==="unit").length===0&&t.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]}),pR(t)}function xqe(e,t){const n=[...t],r=Fd(e,{escape:!1});for(const i of mr(e.component.selection??{})){const o={name:i.name+g0};if(i.project.hasSelectionId&&(o.transform=[{type:"collect",sort:{field:is}}]),i.init){const s=i.project.items.map($se);o.values=i.project.hasSelectionId?i.init.map(u=>({unit:r,[is]:p0(u,!1)[0]})):i.init.map(u=>({unit:r,fields:s,values:p0(u,!1)}))}n.filter(s=>s.name===i.name+g0).length||n.push(o)}return n}function kse(e,t){for(const n of mr(e.component.selection??{}))for(const r of rS)r.defined(n)&&r.marks&&(t=r.marks(e,n,t));return t}function wqe(e,t){for(const n of e.children)yn(n)&&(t=kse(n,t));return t}function Aqe(e,t,n,r){const i=Xse(e,t.param,t);return{signal:So(n.get("type"))&&se(r)&&r[0]>r[1]?`isValid(${i}) && reverse(${i})`:i}}function pR(e){return e.map(t=>(t.on&&!t.on.length&&delete t.on,t))}class Pt{constructor(t,n){this.debugName=n,this._children=[],this._parent=null,t&&(this.parent=t)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(t,n){if(this._children.includes(t)){ge(_Ue);return}n!==void 0?this._children.splice(n,0,t):this._children.push(t)}removeChild(t){const n=this._children.indexOf(t);return this._children.splice(n,1),n}remove(){let t=this._parent.removeChild(this);for(const n of this._children)n._parent=this._parent,this._parent.addChild(n,t++)}insertAsParentOf(t){const n=t.parent;n.removeChild(this),this.parent=n,t.parent=this}swapWithParent(){const t=this._parent,n=t.parent;for(const i of this._children)i.parent=t;this._children=[],t.removeChild(this);const r=t.parent.removeChild(t);this._parent=n,n.addChild(this,r),t.parent=this}}class li extends Pt{clone(){const t=new this.constructor;return t.debugName=`clone_${this.debugName}`,t._source=this._source,t._name=`clone_${this._name}`,t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t}constructor(t,n,r,i){super(t,n),this.type=r,this.refCounts=i,this._source=this._name=n,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${Soe()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(t){this._source=t}}function B6(e){return e.as!==void 0}function Qj(e){return`${e}_end`}class Vs extends Pt{clone(){return new Vs(null,Ve(this.timeUnits))}constructor(t,n){super(t),this.timeUnits=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,o,a)=>{const{field:s,timeUnit:u}=o;if(u){let l;if(D0(u)){if(yn(n)){const{mark:c,markDef:f,config:d}=n,p=af({fieldDef:o,markDef:f,config:d});(Zy(c)||p)&&(l={timeUnit:rr(u),field:s})}}else l={as:we(o,{forAs:!0}),field:s,timeUnit:u};if(yn(n)){const{mark:c,markDef:f,config:d}=n,p=af({fieldDef:o,markDef:f,config:d});Zy(c)&&Cn(a)&&p!==.5&&(l.rectBandPosition=p)}l&&(i[lt(l)]=l)}return i},{});return zt(r)?null:new Vs(t,r)}static makeFromTransform(t,n){const{timeUnit:r,...i}={...n},o=rr(r),a={...i,timeUnit:o};return new Vs(t,{[lt(a)]:a})}merge(t){this.timeUnits={...this.timeUnits};for(const n in t.timeUnits)this.timeUnits[n]||(this.timeUnits[n]=t.timeUnits[n]);for(const n of t.children)t.removeChild(n),n.parent=this;t.remove()}removeFormulas(t){const n={};for(const[r,i]of rf(this.timeUnits)){const o=B6(i)?i.as:`${i.field}_end`;t.has(o)||(n[r]=i)}this.timeUnits=n}producedFields(){return new Set(mr(this.timeUnits).map(t=>B6(t)?t.as:Qj(t.field)))}dependentFields(){return new Set(mr(this.timeUnits).map(t=>t.field))}hash(){return`TimeUnit ${lt(this.timeUnits)}`}assemble(){const t=[];for(const n of mr(this.timeUnits)){const{rectBandPosition:r}=n,i=rr(n.timeUnit);if(B6(n)){const{field:o,as:a}=n,{unit:s,utc:u,...l}=i,c=[a,`${a}_end`];t.push({field:pa(o),type:"timeunit",...s?{units:I5(s)}:{},...u?{timezone:"utc"}:{},...l,as:c}),t.push(...Zj(c,r,i))}else if(n){const{field:o}=n,a=o.replaceAll("\\.","."),s=Tse({timeUnit:i,field:a}),u=Qj(a);t.push({type:"formula",expr:s,as:u}),t.push(...Zj([a,u],r,i))}}return t}}const eS="offsetted_rect_start",tS="offsetted_rect_end";function Tse({timeUnit:e,field:t,reverse:n}){const{unit:r,utc:i}=e,o=aae(r),{part:a,step:s}=cae(o,e.step);return`${i?"utcOffset":"timeOffset"}('${a}', datum['${t}'], ${n?-s:s})`}function Zj([e,t],n,r){if(n!==void 0&&n!==.5){const i=`datum['${e}']`,o=`datum['${t}']`;return[{type:"formula",expr:eW([Tse({timeUnit:r,field:e,reverse:!0}),i],n+.5),as:`${e}_${eS}`},{type:"formula",expr:eW([i,o],n+.5),as:`${e}_${tS}`}]}return[]}function eW([e,t],n){return`${1-n} * ${e} + ${n} * ${t}`}const mv="_tuple_fields";class _qe{constructor(...t){this.items=t,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}const Sqe={defined:()=>!0,parse:(e,t,n)=>{const r=t.name,i=t.project??(t.project=new _qe),o={},a={},s=new Set,u=(g,y)=>{const v=y==="visual"?g.channel:g.field;let b=an(`${r}_${v}`);for(let x=1;s.has(b);x++)b=an(`${r}_${v}_${x}`);return s.add(b),{[y]:b}},l=t.type,c=e.config.selection[l],f=n.value!==void 0?Se(n.value):null;let{fields:d,encodings:p}=$e(n.select)?n.select:{};if(!d&&!p&&f){for(const g of f)if($e(g))for(const y of he(g))zBe(y)?(p||(p=[])).push(y):l==="interval"?(ge(bUe),p=c.encodings):(d??(d=[])).push(y)}!d&&!p&&(p=c.encodings,"fields"in c&&(d=c.fields));for(const g of p??[]){const y=e.fieldDef(g);if(y){let v=y.field;if(y.aggregate){ge(fUe(g,y.aggregate));continue}else if(!v){ge(Sj(g));continue}if(y.timeUnit&&!D0(y.timeUnit)){v=e.vgField(g);const b={timeUnit:y.timeUnit,as:v,field:y.field};a[lt(b)]=b}if(!o[v]){const b=l==="interval"&&$l(g)&&So(e.getScaleComponent(g).get("type"))?"R":y.bin?"R-RE":"E",x={field:v,channel:g,type:b,index:i.items.length};x.signals={...u(x,"data"),...u(x,"visual")},i.items.push(o[v]=x),i.hasField[v]=o[v],i.hasSelectionId=i.hasSelectionId||v===is,Moe(g)?(x.geoChannel=g,x.channel=Toe(g),i.hasChannel[x.channel]=o[v]):i.hasChannel[g]=o[v]}}else ge(Sj(g))}for(const g of d??[]){if(i.hasField[g])continue;const y={type:"E",field:g,index:i.items.length};y.signals={...u(y,"data")},i.items.push(y),i.hasField[g]=y,i.hasSelectionId=i.hasSelectionId||g===is}f&&(t.init=f.map(g=>i.items.map(y=>$e(g)?g[y.geoChannel||y.channel]!==void 0?g[y.geoChannel||y.channel]:g[y.field]:g))),zt(a)||(i.timeUnit=new Vs(null,a))},signals:(e,t,n)=>{const r=t.name+mv;return n.filter(o=>o.name===r).length>0||t.project.hasSelectionId?n:n.concat({name:r,value:t.project.items.map($se)})}},il={defined:e=>e.type==="interval"&&e.resolve==="global"&&e.bind&&e.bind==="scales",parse:(e,t)=>{const n=t.scales=[];for(const r of t.project.items){const i=r.channel;if(!$l(i))continue;const o=e.getScaleComponent(i),a=o?o.get("type"):void 0;if(!o||!So(a)){ge(pUe);continue}o.set("selectionExtent",{param:t.name,field:r.field},!0),n.push(r)}},topLevelSignals:(e,t,n)=>{const r=t.scales.filter(a=>n.filter(s=>s.name===a.signals.data).length===0);if(!e.parent||tW(e)||r.length===0)return n;const i=n.filter(a=>a.name===t.name)[0];let o=i.update;if(o.indexOf(qse)>=0)i.update=`{${r.map(a=>`${xe(pa(a.field))}: ${a.signals.data}`).join(", ")}}`;else{for(const a of r){const s=`${xe(pa(a.field))}: ${a.signals.data}`;o.includes(s)||(o=`${o.substring(0,o.length-1)}, ${s}}`)}i.update=o}return n.concat(r.map(a=>({name:a.signals.data})))},signals:(e,t,n)=>{if(e.parent&&!tW(e))for(const r of t.scales){const i=n.filter(o=>o.name===r.signals.data)[0];i.push="outer",delete i.value,delete i.update}return n}};function E$(e,t){return`domain(${xe(e.scaleName(t))})`}function tW(e){return e.parent&&Wg(e.parent)&&!e.parent.parent}const lp="_brush",Mse="_scale_trigger",j1="geo_interval_init_tick",Nse="_init",Eqe="_center",Cqe={defined:e=>e.type==="interval",parse:(e,t,n)=>{var r;if(e.hasProjection){const i={...$e(n.select)?n.select:{}};i.fields=[is],i.encodings||(i.encodings=n.value?he(n.value):[hs,ds]),n.select={type:"interval",...i}}if(t.translate&&!il.defined(t)){const i=`!event.item || event.item.mark.name !== ${xe(t.name+lp)}`;for(const o of t.events){if(!o.between){ge(`${o} is not an ordered event stream for interval selections.`);continue}const a=Se((r=o.between[0]).filter??(r.filter=[]));a.indexOf(i)<0&&a.push(i)}}},signals:(e,t,n)=>{const r=t.name,i=r+lf,o=mr(t.project.hasChannel).filter(s=>s.channel===sn||s.channel===ar),a=t.init?t.init[0]:null;if(n.push(...o.reduce((s,u)=>s.concat($qe(e,t,u,a&&a[u.index])),[])),e.hasProjection){const s=xe(e.projectionName()),u=e.projectionName()+Eqe,{x:l,y:c}=t.project.hasChannel,f=l&&l.signals.visual,d=c&&c.signals.visual,p=l?a&&a[l.index]:`${u}[0]`,g=c?a&&a[c.index]:`${u}[1]`,y=S=>e.getSizeSignalRef(S).signal,v=`[[${f?f+"[0]":"0"}, ${d?d+"[0]":"0"}],[${f?f+"[1]":y("width")}, ${d?d+"[1]":y("height")}]]`;a&&(n.unshift({name:r+Nse,init:`[scale(${s}, [${l?p[0]:p}, ${c?g[0]:g}]), scale(${s}, [${l?p[1]:p}, ${c?g[1]:g}])]`}),(!l||!c)&&(n.find(C=>C.name===u)||n.unshift({name:u,update:`invert(${s}, [${y("width")}/2, ${y("height")}/2])`})));const b=`intersect(${v}, {markname: ${xe(e.getName("marks"))}}, unit.mark)`,x=`{unit: ${Fd(e)}}`,_=`vlSelectionTuples(${b}, ${x})`,A=o.map(S=>S.signals.visual);return n.concat({name:i,on:[{events:[...A.length?[{signal:A.join(" || ")}]:[],...a?[{signal:j1}]:[]],update:_}]})}else{if(!il.defined(t)){const l=r+Mse,c=o.map(f=>{const d=f.channel,{data:p,visual:g}=f.signals,y=xe(e.scaleName(d)),v=e.getScaleComponent(d).get("type"),b=So(v)?"+":"";return`(!isArray(${p}) || (${b}invert(${y}, ${g})[0] === ${b}${p}[0] && ${b}invert(${y}, ${g})[1] === ${b}${p}[1]))`});c.length&&n.push({name:l,value:{},on:[{events:o.map(f=>({scale:e.scaleName(f.channel)})),update:c.join(" && ")+` ? ${l} : {}`}]})}const s=o.map(l=>l.signals.data),u=`unit: ${Fd(e)}, fields: ${r+mv}, values`;return n.concat({name:i,...a?{init:`{${u}: ${p0(a)}}`}:{},...s.length?{on:[{events:[{signal:s.join(" || ")}],update:`${s.join(" && ")} ? {${u}: [${s}]} : null`}]}:{}})}},topLevelSignals:(e,t,n)=>(yn(e)&&e.hasProjection&&t.init&&(n.filter(i=>i.name===j1).length||n.unshift({name:j1,value:null,on:[{events:"timer{1}",update:`${j1} === null ? {} : ${j1}`}]})),n),marks:(e,t,n)=>{const r=t.name,{x:i,y:o}=t.project.hasChannel,a=i==null?void 0:i.signals.visual,s=o==null?void 0:o.signals.visual,u=`data(${xe(t.name+g0)})`;if(il.defined(t)||!i&&!o)return n;const l={x:i!==void 0?{signal:`${a}[0]`}:{value:0},y:o!==void 0?{signal:`${s}[0]`}:{value:0},x2:i!==void 0?{signal:`${a}[1]`}:{field:{group:"width"}},y2:o!==void 0?{signal:`${s}[1]`}:{field:{group:"height"}}};if(t.resolve==="global")for(const y of he(l))l[y]=[{test:`${u}.length && ${u}[0].unit === ${Fd(e)}`,...l[y]},{value:0}];const{fill:c,fillOpacity:f,cursor:d,...p}=t.mark,g=he(p).reduce((y,v)=>(y[v]=[{test:[i!==void 0&&`${a}[0] !== ${a}[1]`,o!==void 0&&`${s}[0] !== ${s}[1]`].filter(b=>b).join(" && "),value:p[v]},{value:null}],y),{});return[{name:`${r+lp}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:c},fillOpacity:{value:f}},update:l}},...n,{name:r+lp,type:"rect",clip:!0,encode:{enter:{...d?{cursor:{value:d}}:{},fill:{value:"transparent"}},update:{...l,...g}}}]}};function $qe(e,t,n,r){const i=!e.hasProjection,o=n.channel,a=n.signals.visual,s=xe(i?e.scaleName(o):e.projectionName()),u=d=>`scale(${s}, ${d})`,l=e.getSizeSignalRef(o===sn?"width":"height").signal,c=`${o}(unit)`,f=t.events.reduce((d,p)=>[...d,{events:p.between[0],update:`[${c}, ${c}]`},{events:p,update:`[${a}[0], clamp(${c}, 0, ${l})]`}],[]);if(i){const d=n.signals.data,p=il.defined(t),g=e.getScaleComponent(o),y=g?g.get("type"):void 0,v=r?{init:p0(r,!0,u)}:{value:[]};return f.push({events:{signal:t.name+Mse},update:So(y)?`[${u(`${d}[0]`)}, ${u(`${d}[1]`)}]`:"[0, 0]"}),p?[{name:d,on:[]}]:[{name:a,...v,on:f},{name:d,...r?{init:p0(r)}:{},on:[{events:{signal:a},update:`${a}[0] === ${a}[1] ? null : invert(${s}, ${a})`}]}]}else{const d=o===sn?0:1,p=t.name+Nse,g=r?{init:`[${p}[0][${d}], ${p}[1][${d}]]`}:{value:[]};return[{name:a,...g,on:f}]}}const kqe={defined:e=>e.type==="point",signals:(e,t,n)=>{const r=t.name,i=r+mv,o=t.project,a="(item().isVoronoi ? datum.datum : datum)",s=mr(e.component.selection??{}).reduce((f,d)=>d.type==="interval"?f.concat(d.name+lp):f,[]).map(f=>`indexof(item().mark.name, '${f}') < 0`).join(" && "),u=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${s?` && ${s}`:""}`;let l=`unit: ${Fd(e)}, `;if(t.project.hasSelectionId)l+=`${is}: ${a}[${xe(is)}]`;else{const f=o.items.map(d=>{const p=e.fieldDef(d.channel);return p!=null&&p.bin?`[${a}[${xe(e.vgField(d.channel,{}))}], ${a}[${xe(e.vgField(d.channel,{binSuffix:"end"}))}]]`:`${a}[${xe(d.field)}]`}).join(", ");l+=`fields: ${i}, values: [${f}]`}const c=t.events;return n.concat([{name:r+lf,on:c?[{events:c,update:`${u} ? {${l}} : null`,force:!0}]:[]}])}};function zg(e,t,n,r){const i=q5(t)&&t.condition,o=r(t);if(i){const s=Se(i).map(u=>{const l=r(u);if(vWe(u)){const{param:c,empty:f}=u;return{test:Jse(e,{param:c,empty:f}),...l}}else return{test:O_(e,u.test),...l}});return{[n]:[...s,...o!==void 0?[o]:[]]}}else return o!==void 0?{[n]:o}:{}}function gR(e,t="text"){const n=e.encoding[t];return zg(e,n,t,r=>nS(r,e.config))}function nS(e,t,n="datum"){if(e){if(rs(e))return Qt(e.value);if(Ye(e)){const{format:r,formatType:i}=E_(e);return YO({fieldOrDatumDef:e,format:r,formatType:i,expr:n,config:t})}}}function Ose(e,t={}){const{encoding:n,markDef:r,config:i,stack:o}=e,a=n.tooltip;if(se(a))return{tooltip:nW({tooltip:a},o,i,t)};{const s=t.reactiveGeom?"datum.datum":"datum";return zg(e,a,"tooltip",u=>{const l=nS(u,i,s);if(l)return l;if(u===null)return;let c=Rt("tooltip",r,i);if(c===!0&&(c={content:"encoding"}),Ee(c))return{value:c};if($e(c))return Re(c)?c:c.content==="encoding"?nW(n,o,i,t):{signal:s}})}}function Rse(e,t,n,{reactiveGeom:r}={}){const i={...n,...n.tooltipFormat},o={},a=r?"datum.datum":"datum",s=[];function u(c,f){const d=O0(f),p=hi(c)?c:{...c,type:e[d].type},g=p.title||QO(p,i),y=Se(g).join(", ").replaceAll(/"/g,'\\"');let v;if(Cn(f)){const b=f==="x"?"x2":"y2",x=tu(e[b]);if(cr(p.bin)&&x){const _=we(p,{expr:a}),A=we(x,{expr:a}),{format:S,formatType:C}=E_(p);v=fv(_,A,S,C,i),o[b]=!0}}if((Cn(f)||f===ya||f===fs)&&t&&t.fieldChannel===f&&t.offset==="normalize"){const{format:b,formatType:x}=E_(p);v=YO({fieldOrDatumDef:p,format:b,formatType:x,expr:a,config:i,normalizeStack:!0}).signal}v??(v=nS(p,i,a).signal),s.push({channel:f,key:y,value:v})}tR(e,(c,f)=>{pe(c)?u(c,f):G5(c)&&u(c.condition,f)});const l={};for(const{channel:c,key:f,value:d}of s)!o[c]&&!l[f]&&(l[f]=d);return l}function nW(e,t,n,{reactiveGeom:r}={}){const i=Rse(e,t,n,{reactiveGeom:r}),o=rf(i).map(([a,s])=>`"${a}": ${s}`);return o.length>0?{signal:`{${o.join(", ")}}`}:void 0}function Tqe(e){const{markDef:t,config:n}=e,r=Rt("aria",t,n);return r===!1?{}:{...r?{aria:r}:{},...Mqe(e),...Nqe(e)}}function Mqe(e){const{mark:t,markDef:n,config:r}=e;if(r.aria===!1)return{};const i=Rt("ariaRoleDescription",n,r);return i!=null?{ariaRoleDescription:{value:i}}:t in sUe?{}:{ariaRoleDescription:{value:t}}}function Nqe(e){const{encoding:t,markDef:n,config:r,stack:i}=e,o=t.description;if(o)return zg(e,o,"description",u=>nS(u,e.config));const a=Rt("description",n,r);if(a!=null)return{description:Qt(a)};if(r.aria===!1)return{};const s=Rse(t,i,r);if(!zt(s))return{description:{signal:rf(s).map(([u,l],c)=>`"${c>0?"; ":""}${u}: " + (${l})`).join(" + ")}}}function Xn(e,t,n={}){const{markDef:r,encoding:i,config:o}=t,{vgChannel:a}=n;let{defaultRef:s,defaultValue:u}=n;s===void 0&&(u??(u=Rt(e,r,o,{vgChannel:a,ignoreVgConfig:!0})),u!==void 0&&(s=Qt(u)));const l=i[e];return zg(t,l,a??e,c=>VO({channel:e,channelDef:c,markDef:r,config:o,scaleName:t.scaleName(e),scale:t.getScaleComponent(e),stack:null,defaultRef:s}))}function Fse(e,t={filled:void 0}){const{markDef:n,encoding:r,config:i}=e,{type:o}=n,a=t.filled??Rt("filled",n,i),s=ct(["bar","point","circle","square","geoshape"],o)?"transparent":void 0,u=Rt(a===!0?"color":void 0,n,i,{vgChannel:"fill"})??i.mark[a===!0&&"color"]??s,l=Rt(a===!1?"color":void 0,n,i,{vgChannel:"stroke"})??i.mark[a===!1&&"color"],c=a?"fill":"stroke",f={...u?{fill:Qt(u)}:{},...l?{stroke:Qt(l)}:{}};return n.color&&(a?n.fill:n.stroke)&&ge(Koe("property",{fill:"fill"in n,stroke:"stroke"in n})),{...f,...Xn("color",e,{vgChannel:c,defaultValue:a?u:l}),...Xn("fill",e,{defaultValue:r.fill?u:void 0}),...Xn("stroke",e,{defaultValue:r.stroke?l:void 0})}}function Oqe(e){const{encoding:t,mark:n}=e,r=t.order;return!Nf(n)&&rs(r)?zg(e,r,"zindex",i=>Qt(i.value)):{}}function ng({channel:e,markDef:t,encoding:n={},model:r,bandPosition:i}){const o=`${e}Offset`,a=t[o],s=n[o];if((o==="xOffset"||o==="yOffset")&&s)return{offsetType:"encoding",offset:VO({channel:o,channelDef:s,markDef:t,config:r==null?void 0:r.config,scaleName:r.scaleName(o),scale:r.getScaleComponent(o),stack:null,defaultRef:Qt(a),bandPosition:i})};const u=t[o];return u?{offsetType:"visual",offset:u}:{}}function Fr(e,t,{defaultPos:n,vgChannel:r}){const{encoding:i,markDef:o,config:a,stack:s}=t,u=i[e],l=i[hu(e)],c=t.scaleName(e),f=t.getScaleComponent(e),{offset:d,offsetType:p}=ng({channel:e,markDef:o,encoding:i,model:t,bandPosition:.5}),g=mR({model:t,defaultPos:n,channel:e,scaleName:c,scale:f}),y=!u&&Cn(e)&&(i.latitude||i.longitude)?{field:t.getName(e)}:Rqe({channel:e,channelDef:u,channel2Def:l,markDef:o,config:a,scaleName:c,scale:f,stack:s,offset:d,defaultRef:g,bandPosition:p==="encoding"?0:void 0});return y?{[r||e]:y}:void 0}function Rqe(e){const{channel:t,channelDef:n,scaleName:r,stack:i,offset:o,markDef:a}=e;if(Ye(n)&&i&&t===i.fieldChannel){if(pe(n)){let s=n.bandPosition;if(s===void 0&&a.type==="text"&&(t==="radius"||t==="theta")&&(s=.5),s!==void 0)return A_({scaleName:r,fieldOrDatumDef:n,startSuffix:"start",bandPosition:s,offset:o})}return Od(n,r,{suffix:"end"},{offset:o})}return qO(e)}function mR({model:e,defaultPos:t,channel:n,scaleName:r,scale:i}){const{markDef:o,config:a}=e;return()=>{const s=O0(n),u=of(n),l=Rt(n,o,a,{vgChannel:u});if(l!==void 0)return Zm(n,l);switch(t){case"zeroOrMin":case"zeroOrMax":if(r){const c=i.get("type");if(!ct([Ui.LOG,Ui.TIME,Ui.UTC],c)){if(i.domainDefinitelyIncludesZero())return{scale:r,value:0}}}if(t==="zeroOrMin")return s==="y"?{field:{group:"height"}}:{value:0};switch(s){case"radius":return{signal:`min(${e.width.signal},${e.height.signal})/2`};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":return{...e[Vi(n)],mult:.5}}}}const Fqe={left:"x",center:"xc",right:"x2"},Dqe={top:"y",middle:"yc",bottom:"y2"};function Dse(e,t,n,r="middle"){if(e==="radius"||e==="theta")return of(e);const i=e==="x"?"align":"baseline",o=Rt(i,t,n);let a;return Re(o)?(ge(IUe(i)),a=void 0):a=o,e==="x"?Fqe[a||(r==="top"?"left":"center")]:Dqe[a||r]}function M_(e,t,{defaultPos:n,defaultPos2:r,range:i}){return i?Lse(e,t,{defaultPos:n,defaultPos2:r}):Fr(e,t,{defaultPos:n})}function Lse(e,t,{defaultPos:n,defaultPos2:r}){const{markDef:i,config:o}=t,a=hu(e),s=Vi(e),u=Lqe(t,r,a),l=u[s]?Dse(e,i,o):of(e);return{...Fr(e,t,{defaultPos:n,vgChannel:l}),...u}}function Lqe(e,t,n){const{encoding:r,mark:i,markDef:o,stack:a,config:s}=e,u=O0(n),l=Vi(n),c=of(n),f=r[u],d=e.scaleName(u),p=e.getScaleComponent(u),{offset:g}=n in r||n in o?ng({channel:n,markDef:o,encoding:r,model:e}):ng({channel:u,markDef:o,encoding:r,model:e});if(!f&&(n==="x2"||n==="y2")&&(r.latitude||r.longitude)){const v=Vi(n),b=e.markDef[v];return b!=null?{[v]:{value:b}}:{[c]:{field:e.getName(n)}}}const y=Pqe({channel:n,channelDef:f,channel2Def:r[n],markDef:o,config:s,scaleName:d,scale:p,stack:a,offset:g,defaultRef:void 0});return y!==void 0?{[c]:y}:bx(n,o)||bx(n,{[n]:b_(n,o,s.style),[l]:b_(l,o,s.style)})||bx(n,s[i])||bx(n,s.mark)||{[c]:mR({model:e,defaultPos:t,channel:n,scaleName:d,scale:p})()}}function Pqe({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:o,scale:a,stack:s,offset:u,defaultRef:l}){return Ye(t)&&s&&e.charAt(0)===s.fieldChannel.charAt(0)?Od(t,o,{suffix:"start"},{offset:u}):qO({channel:e,channelDef:n,scaleName:o,scale:a,stack:s,markDef:r,config:i,offset:u,defaultRef:l})}function bx(e,t){const n=Vi(e),r=of(e);if(t[r]!==void 0)return{[r]:Zm(e,t[r])};if(t[e]!==void 0)return{[r]:Zm(e,t[e])};if(t[n]){const i=t[n];if(d0(i))ge(OUe(n));else return{[n]:Zm(e,i)}}}function uf(e,t){const{config:n,encoding:r,markDef:i}=e,o=i.type,a=hu(t),s=Vi(t),u=r[t],l=r[a],c=e.getScaleComponent(t),f=c?c.get("type"):void 0,d=i.orient,p=r[s]??r.size??Rt("size",i,n,{vgChannel:s}),g=Foe(t),y=o==="bar"&&(t==="x"?d==="vertical":d==="horizontal");return pe(u)&&(Yt(u.bin)||cr(u.bin)||u.timeUnit&&!l)&&!(p&&!d0(p))&&!r[g]&&!ir(f)?Bqe({fieldDef:u,fieldDef2:l,channel:t,model:e}):(Ye(u)&&ir(f)||y)&&!l?zqe(u,t,e):Lse(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function Iqe(e,t,n,r,i,o,a){if(d0(i))if(n){const u=n.get("type");if(u==="band"){let l=`bandwidth('${t}')`;i.band!==1&&(l=`${i.band} * ${l}`);const c=yl("minBandSize",{type:a},r);return{signal:c?`max(${Wa(c)}, ${l})`:l}}else i.band!==1&&(ge(jUe(u)),i=void 0)}else return{mult:i.band,field:{group:e}};else{if(Re(i))return i;if(i)return{value:i}}if(n){const u=n.get("range");if(Mf(u)&&xt(u.step))return{value:u.step-2}}if(!o){const{bandPaddingInner:u,barBandPaddingInner:l,rectBandPaddingInner:c}=r.scale,f=En(u,a==="bar"?l:c);if(Re(f))return{signal:`(1 - (${f.signal})) * ${e}`};if(xt(f))return{signal:`${1-f} * ${e}`}}return{value:k_(r.view,e)-2}}function zqe(e,t,n){var O,N;const{markDef:r,encoding:i,config:o,stack:a}=n,s=r.orient,u=n.scaleName(t),l=n.getScaleComponent(t),c=Vi(t),f=hu(t),d=Foe(t),p=n.scaleName(d),g=n.getScaleComponent(AO(t)),y=s==="horizontal"&&t==="y"||s==="vertical"&&t==="x";let v;(i.size||r.size)&&(y?v=Xn("size",n,{vgChannel:c,defaultRef:Qt(r.size)}):ge(GUe(r.type)));const b=!!v,x=Oae({channel:t,fieldDef:e,markDef:r,config:o,scaleType:(O=l||g)==null?void 0:O.get("type"),useVlSizeChannel:y});v=v||{[c]:Iqe(c,p||u,g||l,o,x,!!e,r.type)};const _=((N=l||g)==null?void 0:N.get("type"))==="band"&&d0(x)&&!b?"top":"middle",A=Dse(t,r,o,_),S=A==="xc"||A==="yc",{offset:C,offsetType:E}=ng({channel:t,markDef:r,encoding:i,model:n,bandPosition:S?.5:0}),k=qO({channel:t,channelDef:e,markDef:r,config:o,scaleName:u,scale:l,stack:a,offset:C,defaultRef:mR({model:n,defaultPos:"mid",channel:t,scaleName:u,scale:l}),bandPosition:S?E==="encoding"?0:.5:Re(x)?{signal:`(1-${x})/2`}:d0(x)?(1-x.band)/2:0});if(c)return{[A]:k,...v};{const F=of(f),W=v[c],I=C?{...W,offset:C}:W;return{[A]:k,[F]:se(k)?[k[0],{...k[1],offset:I}]:{...k,offset:I}}}}function rW(e,t,n,r,i,o,a){if(koe(e))return 0;const s=e==="x"||e==="y2",u=s?-t/2:t/2;if(Re(n)||Re(i)||Re(r)||o){const l=Wa(n),c=Wa(i),f=Wa(r),d=Wa(o),g=o?`(${a} < ${d} ? ${s?"":"-"}0.5 * (${d} - (${a})) : ${u})`:u,y=f?`${f} + `:"",v=l?`(${l} ? -1 : 1) * `:"",b=c?`(${c} + ${g})`:g;return{signal:y+v+b}}else return i=i||0,r+(n?-i-u:+i+u)}function Bqe({fieldDef:e,fieldDef2:t,channel:n,model:r}){var N;const{config:i,markDef:o,encoding:a}=r,s=r.getScaleComponent(n),u=r.scaleName(n),l=s?s.get("type"):void 0,c=s.get("reverse"),f=Oae({channel:n,fieldDef:e,markDef:o,config:i,scaleType:l}),d=(N=r.component.axes[n])==null?void 0:N[0],p=(d==null?void 0:d.get("translate"))??.5,g=Cn(n)?Rt("binSpacing",o,i)??0:0,y=hu(n),v=of(n),b=of(y),x=yl("minBandSize",o,i),{offset:_}=ng({channel:n,markDef:o,encoding:a,model:r,bandPosition:0}),{offset:A}=ng({channel:y,markDef:o,encoding:a,model:r,bandPosition:0}),S=hWe({fieldDef:e,scaleName:u}),C=rW(n,g,c,p,_,x,S),E=rW(y,g,c,p,A??_,x,S),k=Re(f)?{signal:`(1-${f.signal})/2`}:d0(f)?(1-f.band)/2:.5,O=af({fieldDef:e,fieldDef2:t,markDef:o,config:i});if(Yt(e.bin)||e.timeUnit){const F=e.timeUnit&&O!==.5;return{[b]:iW({fieldDef:e,scaleName:u,bandPosition:k,offset:E,useRectOffsetField:F}),[v]:iW({fieldDef:e,scaleName:u,bandPosition:Re(k)?{signal:`1-${k.signal}`}:1-k,offset:C,useRectOffsetField:F})}}else if(cr(e.bin)){const F=Od(e,u,{},{offset:E});if(pe(t))return{[b]:F,[v]:Od(t,u,{},{offset:C})};if(R0(e.bin)&&e.bin.step)return{[b]:F,[v]:{signal:`scale("${u}", ${we(e,{expr:"datum"})} + ${e.bin.step})`,offset:C}}}ge(eae(y))}function iW({fieldDef:e,scaleName:t,bandPosition:n,offset:r,useRectOffsetField:i}){return A_({scaleName:t,fieldOrDatumDef:e,bandPosition:n,offset:r,...i?{startSuffix:eS,endSuffix:tS}:{}})}const Uqe=new Set(["aria","width","height"]);function va(e,t){const{fill:n=void 0,stroke:r=void 0}=t.color==="include"?Fse(e):{};return{...jqe(e.markDef,t),...oW(e,"fill",n),...oW(e,"stroke",r),...Xn("opacity",e),...Xn("fillOpacity",e),...Xn("strokeOpacity",e),...Xn("strokeWidth",e),...Xn("strokeDash",e),...Oqe(e),...Ose(e),...gR(e,"href"),...Tqe(e)}}function oW(e,t,n){const{config:r,mark:i,markDef:o}=e;if(Rt("invalid",o,r)==="hide"&&n&&!Nf(i)){const s=Wqe(e,{invalid:!0,channels:D5});if(s)return{[t]:[{test:s,value:null},...Se(n)]}}return n?{[t]:n}:{}}function jqe(e,t){return aUe.reduce((n,r)=>(!Uqe.has(r)&&e[r]!==void 0&&t[r]!=="ignore"&&(n[r]=Qt(e[r])),n),{})}function Wqe(e,{invalid:t=!1,channels:n}){const r=n.reduce((o,a)=>{const s=e.getScaleComponent(a);if(s){const u=s.get("type"),l=e.vgField(a,{expr:"datum"});l&&So(u)&&(o[l]=!0)}return o},{}),i=he(r);if(i.length>0){const o=t?"||":"&&";return i.map(a=>GO(a,t)).join(` ${o} `)}}function yR(e){const{config:t,markDef:n}=e;if(Rt("invalid",n,t)){const i=Hqe(e,{channels:pu});if(i)return{defined:{signal:i}}}return{}}function Hqe(e,{invalid:t=!1,channels:n}){const r=n.reduce((o,a)=>{var u;const s=e.getScaleComponent(a);if(s){const l=s.get("type"),c=e.vgField(a,{expr:"datum",binSuffix:(u=e.stack)!=null&&u.impute?"mid":void 0});c&&So(l)&&(o[c]=!0)}return o},{}),i=he(r);if(i.length>0){const o=t?"||":"&&";return i.map(a=>GO(a,t)).join(` ${o} `)}}function aW(e,t){if(t!==void 0)return{[e]:Qt(t)}}const U6="voronoi",Pse={defined:e=>e.type==="point"&&e.nearest,parse:(e,t)=>{if(t.events)for(const n of t.events)n.markname=e.getName(U6)},marks:(e,t,n)=>{const{x:r,y:i}=t.project.hasChannel,o=e.mark;if(Nf(o))return ge(dUe(o)),n;const a={name:e.getName(U6),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...Ose(e,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:r||!i?"datum.datum.x || 0":"0"},y:{expr:i||!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let s=0,u=!1;return n.forEach((l,c)=>{const f=l.name??"";f===e.component.mark[0].name?s=c:f.indexOf(U6)>=0&&(u=!0)}),u||n.splice(s+1,0,a),n}},Ise={defined:e=>e.type==="point"&&e.resolve==="global"&&e.bind&&e.bind!=="scales"&&!sR(e.bind),parse:(e,t,n)=>Gse(t,n),topLevelSignals:(e,t,n)=>{const r=t.name,i=t.project,o=t.bind,a=t.init&&t.init[0],s=Pse.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((u,l)=>{const c=an(`${r}_${u.field}`);n.filter(d=>d.name===c).length||n.unshift({name:c,...a?{init:p0(a[l])}:{value:null},on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${s}[${xe(u.field)}] : null`}]:[],bind:o[u.field]??o[u.channel]??o})}),n},signals:(e,t,n)=>{const r=t.name,i=t.project,o=n.filter(l=>l.name===r+lf)[0],a=r+mv,s=i.items.map(l=>an(`${r}_${l.field}`)),u=s.map(l=>`${l} !== null`).join(" && ");return s.length&&(o.update=`${u} ? {fields: ${a}, values: [${s.join(", ")}]} : null`),delete o.value,delete o.on,n}},N_="_toggle",zse={defined:e=>e.type==="point"&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+N_,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+lf,r=t.name+N_;return`${r} ? null : ${n}, `+(t.resolve==="global"?`${r} ? null : true, `:`${r} ? null : {unit: ${Fd(e)}}, `)+`${r} ? ${n} : null`}},qqe={defined:e=>e.clear!==void 0&&e.clear!==!1,parse:(e,t)=>{t.clear&&(t.clear=Ee(t.clear)?_f(t.clear,"view"):t.clear)},topLevelSignals:(e,t,n)=>{if(Ise.defined(t))for(const r of t.project.items){const i=n.findIndex(o=>o.name===an(`${t.name}_${r.field}`));i!==-1&&n[i].on.push({events:t.clear,update:"null"})}return n},signals:(e,t,n)=>{function r(i,o){i!==-1&&n[i].on&&n[i].on.push({events:t.clear,update:o})}if(t.type==="interval")for(const i of t.project.items){const o=n.findIndex(a=>a.name===i.signals.visual);if(r(o,"[0, 0]"),o===-1){const a=n.findIndex(s=>s.name===i.signals.data);r(a,"null")}}else{let i=n.findIndex(o=>o.name===t.name+lf);r(i,"null"),zse.defined(t)&&(i=n.findIndex(o=>o.name===t.name+N_),r(i,"false"))}return n}},Bse={defined:e=>{const t=e.resolve==="global"&&e.bind&&sR(e.bind),n=e.project.items.length===1&&e.project.items[0].field!==is;return t&&!n&&ge(gUe),t&&n},parse:(e,t,n)=>{const r=Ve(n);if(r.select=Ee(r.select)?{type:r.select,toggle:t.toggle}:{...r.select,toggle:t.toggle},Gse(t,r),$e(n.select)&&(n.select.on||n.select.clear)){const a='event.item && indexof(event.item.mark.role, "legend") < 0';for(const s of t.events)s.filter=Se(s.filter??[]),s.filter.includes(a)||s.filter.push(a)}const i=P6(t.bind)?t.bind.legend:"click",o=Ee(i)?_f(i,"view"):Se(i);t.bind={legend:{merge:o}}},topLevelSignals:(e,t,n)=>{const r=t.name,i=P6(t.bind)&&t.bind.legend,o=a=>s=>{const u=Ve(s);return u.markname=a,u};for(const a of t.project.items){if(!a.hasLegend)continue;const s=`${an(a.field)}_legend`,u=`${r}_${s}`;if(n.filter(c=>c.name===u).length===0){const c=i.merge.map(o(`${s}_symbols`)).concat(i.merge.map(o(`${s}_labels`))).concat(i.merge.map(o(`${s}_entries`)));n.unshift({name:u,...t.init?{}:{value:null},on:[{events:c,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:i.merge,update:`!event.item || !datum ? null : ${u}`,force:!0}]})}}return n},signals:(e,t,n)=>{const r=t.name,i=t.project,o=n.find(d=>d.name===r+lf),a=r+mv,s=i.items.filter(d=>d.hasLegend).map(d=>an(`${r}_${an(d.field)}_legend`)),l=`${s.map(d=>`${d} !== null`).join(" && ")} ? {fields: ${a}, values: [${s.join(", ")}]} : null`;t.events&&s.length>0?o.on.push({events:s.map(d=>({signal:d})),update:l}):s.length>0&&(o.update=l,delete o.value,delete o.on);const c=n.find(d=>d.name===r+N_),f=P6(t.bind)&&t.bind.legend;return c&&(t.events?c.on.push({...c.on[0],events:f}):c.on[0].events=f),n}};function Gqe(e,t,n){var i;const r=(i=e.fieldDef(t))==null?void 0:i.field;for(const o of mr(e.component.selection??{})){const a=o.project.hasField[r]??o.project.hasChannel[t];if(a&&Bse.defined(o)){const s=n.get("selections")??[];s.push(o.name),n.set("selections",s,!1),a.hasLegend=!0}}}const Use="_translate_anchor",jse="_translate_delta",Vqe={defined:e=>e.type==="interval"&&e.translate,signals:(e,t,n)=>{const r=t.name,i=il.defined(t),o=r+Use,{x:a,y:s}=t.project.hasChannel;let u=_f(t.translate,"scope");return i||(u=u.map(l=>(l.between[0].markname=r+lp,l))),n.push({name:o,value:{},on:[{events:u.map(l=>l.between[0]),update:"{x: x(unit), y: y(unit)"+(a!==void 0?`, extent_x: ${i?E$(e,sn):`slice(${a.signals.visual})`}`:"")+(s!==void 0?`, extent_y: ${i?E$(e,ar):`slice(${s.signals.visual})`}`:"")+"}"}]},{name:r+jse,value:{},on:[{events:u,update:`{x: ${o}.x - x(unit), y: ${o}.y - y(unit)}`}]}),a!==void 0&&sW(e,t,a,"width",n),s!==void 0&&sW(e,t,s,"height",n),n}};function sW(e,t,n,r,i){const o=t.name,a=o+Use,s=o+jse,u=n.channel,l=il.defined(t),c=i.filter(S=>S.name===n.signals[l?"data":"visual"])[0],f=e.getSizeSignalRef(r).signal,d=e.getScaleComponent(u),p=d&&d.get("type"),g=d&&d.get("reverse"),y=l?u===sn?g?"":"-":g?"-":"":"",v=`${a}.extent_${u}`,b=`${y}${s}.${u} / ${l?`${f}`:`span(${v})`}`,x=!l||!d?"panLinear":p==="log"?"panLog":p==="symlog"?"panSymlog":p==="pow"?"panPow":"panLinear",_=l?p==="pow"?`, ${d.get("exponent")??1}`:p==="symlog"?`, ${d.get("constant")??1}`:"":"",A=`${x}(${v}, ${b}${_})`;c.on.push({events:{signal:s},update:l?A:`clampRange(${A}, 0, ${f})`})}const Wse="_zoom_anchor",Hse="_zoom_delta",Yqe={defined:e=>e.type==="interval"&&e.zoom,signals:(e,t,n)=>{const r=t.name,i=il.defined(t),o=r+Hse,{x:a,y:s}=t.project.hasChannel,u=xe(e.scaleName(sn)),l=xe(e.scaleName(ar));let c=_f(t.zoom,"scope");return i||(c=c.map(f=>(f.markname=r+lp,f))),n.push({name:r+Wse,on:[{events:c,update:i?"{"+[u?`x: invert(${u}, x(unit))`:"",l?`y: invert(${l}, y(unit))`:""].filter(f=>f).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:o,on:[{events:c,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),a!==void 0&&uW(e,t,a,"width",n),s!==void 0&&uW(e,t,s,"height",n),n}};function uW(e,t,n,r,i){const o=t.name,a=n.channel,s=il.defined(t),u=i.filter(x=>x.name===n.signals[s?"data":"visual"])[0],l=e.getSizeSignalRef(r).signal,c=e.getScaleComponent(a),f=c&&c.get("type"),d=s?E$(e,a):u.name,p=o+Hse,g=`${o}${Wse}.${a}`,y=!s||!c?"zoomLinear":f==="log"?"zoomLog":f==="symlog"?"zoomSymlog":f==="pow"?"zoomPow":"zoomLinear",v=s?f==="pow"?`, ${c.get("exponent")??1}`:f==="symlog"?`, ${c.get("constant")??1}`:"":"",b=`${y}(${d}, ${g}, ${p}${v})`;u.on.push({events:{signal:p},update:s?b:`clampRange(${b}, 0, ${l})`})}const g0="_store",lf="_tuple",Jqe="_modify",qse="vlSelectionResolve",rS=[kqe,Cqe,Sqe,zse,Ise,il,Bse,qqe,Vqe,Yqe,Pse];function Xqe(e){let t=e.parent;for(;t&&!Qa(t);)t=t.parent;return t}function Fd(e,{escape:t}={escape:!0}){let n=t?xe(e.name):e.name;const r=Xqe(e);if(r){const{facet:i}=r;for(const o of Xo)i[o]&&(n+=` + '__facet_${o}_' + (facet[${xe(r.vgField(o))}])`)}return n}function vR(e){return mr(e.component.selection??{}).reduce((t,n)=>t||n.project.hasSelectionId,!1)}function Gse(e,t){(Ee(t.select)||!t.select.on)&&delete e.events,(Ee(t.select)||!t.select.clear)&&delete e.clear,(Ee(t.select)||!t.select.toggle)&&delete e.toggle}function C$(e){const t=[];return e.type==="Identifier"?[e.name]:e.type==="Literal"?[e.value]:(e.type==="MemberExpression"&&(t.push(...C$(e.object)),t.push(...C$(e.property))),t)}function Vse(e){return e.object.type==="MemberExpression"?Vse(e.object):e.object.name==="datum"}function Yse(e){const t=PN(e),n=new Set;return t.visit(r=>{r.type==="MemberExpression"&&Vse(r)&&n.add(C$(r).slice(1).join("."))}),n}class Bg extends Pt{clone(){return new Bg(null,this.model,Ve(this.filter))}constructor(t,n,r){super(t),this.model=n,this.filter=r,this.expr=O_(this.model,this.filter,this),this._dependentFields=Yse(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function Kqe(e,t){const n={},r=e.config.selection;if(!t||!t.length)return n;for(const i of t){const o=an(i.name),a=i.select,s=Ee(a)?a:a.type,u=$e(a)?Ve(a):{type:s},l=r[s];for(const d in l)d==="fields"||d==="encodings"||(d==="mark"&&(u[d]={...l[d],...u[d]}),(u[d]===void 0||u[d]===!0)&&(u[d]=Ve(l[d]??u[d])));const c=n[o]={...u,name:o,type:s,init:i.value,bind:i.bind,events:Ee(u.on)?_f(u.on,"scope"):Se(Ve(u.on))},f=Ve(i);for(const d of rS)d.defined(c)&&d.parse&&d.parse(e,c,f)}return n}function Jse(e,t,n,r="datum"){const i=Ee(t)?t:t.param,o=an(i),a=xe(o+g0);let s;try{s=e.getSelectionComponent(o,i)}catch{return`!!${o}`}if(s.project.timeUnit){const d=n??e.component.data.raw,p=s.project.timeUnit.clone();d.parent?p.insertAsParentOf(d):d.parent=p}const u=s.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",l=s.resolve==="global"?")":`, ${xe(s.resolve)})`,c=`${u}${a}, ${r}${l}`,f=`length(data(${a}))`;return t.empty===!1?`${f} && ${c}`:`!${f} || ${c}`}function Xse(e,t,n){const r=an(t),i=n.encoding;let o=n.field,a;try{a=e.getSelectionComponent(r,t)}catch{return r}if(!i&&!o)o=a.project.items[0].field,a.project.items.length>1&&ge(`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${xe(o)}.`);else if(i&&!o){const s=a.project.items.filter(u=>u.channel===i);!s.length||s.length>1?(o=a.project.items[0].field,ge((s.length?"Multiple ":"No ")+`matching ${xe(i)} encoding found for selection ${xe(n.param)}. Using "field": ${xe(o)}.`)):o=s[0].field}return`${a.name}[${xe(pa(o))}]`}function Qqe(e,t){for(const[n,r]of rf(e.component.selection??{})){const i=e.getName(`lookup_${n}`);e.component.data.outputNodes[i]=r.materialized=new li(new Bg(t,e,{param:n}),i,Gt.Lookup,e.component.data.outputNodeRefCounts)}}function O_(e,t,n){return Qm(t,r=>Ee(r)?r:Tje(r)?Jse(e,r,n):dae(r))}function Zqe(e,t){if(e)return se(e)&&!ic(e)?e.map(n=>QO(n,t)).join(", "):e}function j6(e,t,n,r){var i,o;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(o=e.encode[t]).update??(o.update={}),e.encode[t].update[n]=r}function Sm(e,t,n,r={header:!1}){var f,d;const{disable:i,orient:o,scale:a,labelExpr:s,title:u,zindex:l,...c}=e.combine();if(!i){for(const p in c){const g=OWe[p],y=c[p];if(g&&g!==t&&g!=="both")delete c[p];else if(gv(y)){const{condition:v,...b}=y,x=Se(v),_=Lj[p];if(_){const{vgProp:A,part:S}=_,C=[...x.map(E=>{const{test:k,...O}=E;return{test:O_(null,k),...O}}),b];j6(c,S,A,C),delete c[p]}else if(_===null){const A={signal:x.map(S=>{const{test:C,...E}=S;return`${O_(null,C)} ? ${xj(E)} : `}).join("")+xj(b)};c[p]=A}}else if(Re(y)){const v=Lj[p];if(v){const{vgProp:b,part:x}=v;j6(c,x,b,y),delete c[p]}}ct(["labelAlign","labelBaseline"],p)&&c[p]===null&&delete c[p]}if(t==="grid"){if(!c.grid)return;if(c.encode){const{grid:p}=c.encode;c.encode={...p?{grid:p}:{}},zt(c.encode)&&delete c.encode}return{scale:a,orient:o,...c,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:En(l,0)}}else{if(!r.header&&e.mainExtracted)return;if(s!==void 0){let g=s;(d=(f=c.encode)==null?void 0:f.labels)!=null&&d.update&&Re(c.encode.labels.update.text)&&(g=u0(s,"datum.label",c.encode.labels.update.text.signal)),j6(c,"labels","text",{signal:g})}if(c.labelAlign===null&&delete c.labelAlign,c.encode){for(const g of jae)e.hasAxisPart(g)||delete c.encode[g];zt(c.encode)&&delete c.encode}const p=Zqe(u,n);return{scale:a,orient:o,grid:!1,...p?{title:p}:{},...c,...n.aria===!1?{aria:!1}:{},zindex:En(l,0)}}}}function Kse(e){const{axes:t}=e.component,n=[];for(const r of pu)if(t[r]){for(const i of t[r])if(!i.get("disable")&&!i.get("gridScale")){const o=r==="x"?"height":"width",a=e.getSizeSignalRef(o).signal;o!==a&&n.push({name:o,update:a})}}return n}function eGe(e,t){const{x:n=[],y:r=[]}=e;return[...n.map(i=>Sm(i,"grid",t)),...r.map(i=>Sm(i,"grid",t)),...n.map(i=>Sm(i,"main",t)),...r.map(i=>Sm(i,"main",t))].filter(i=>i)}function lW(e,t,n,r){return Object.assign.apply(null,[{},...e.map(i=>{if(i==="axisOrient"){const o=n==="x"?"bottom":"left",a=t[n==="x"?"axisBottom":"axisLeft"]||{},s=t[n==="x"?"axisTop":"axisRight"]||{},u=new Set([...he(a),...he(s)]),l={};for(const c of u.values())l[c]={signal:`${r.signal} === "${o}" ? ${Wa(a[c])} : ${Wa(s[c])}`};return l}return t[i]})])}function tGe(e,t,n,r){const i=t==="band"?["axisDiscrete","axisBand"]:t==="point"?["axisDiscrete","axisPoint"]:mae(t)?["axisQuantitative"]:t==="time"||t==="utc"?["axisTemporal"]:[],o=e==="x"?"axisX":"axisY",a=Re(n)?"axisOrient":`axis${ov(n)}`,s=[...i,...i.map(l=>o+l.substr(4))],u=["axis",a,o];return{vlOnlyAxisConfig:lW(s,r,e,n),vgAxisConfig:lW(u,r,e,n),axisConfigStyle:nGe([...u,...s],r)}}function nGe(e,t){var r;const n=[{}];for(const i of e){let o=(r=t[i])==null?void 0:r.style;if(o){o=Se(o);for(const a of o)n.push(t.style[a])}}return Object.assign.apply(null,n)}function $$(e,t,n,r={}){var o;const i=Hoe(e,n,t);if(i!==void 0)return{configFrom:"style",configValue:i};for(const a of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(((o=r[a])==null?void 0:o[e])!==void 0)return{configFrom:a,configValue:r[a][e]};return{}}const cW={scale:({model:e,channel:t})=>e.scaleName(t),format:({format:e})=>e,formatType:({formatType:e})=>e,grid:({fieldOrDatumDef:e,axis:t,scaleType:n})=>t.grid??rGe(n,e),gridScale:({model:e,channel:t})=>iGe(e,t),labelAlign:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelAlign||Zse(t,n,r),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelBaseline||Qse(t,n,r),labelFlush:({axis:e,fieldOrDatumDef:t,channel:n})=>e.labelFlush??aGe(t.type,n),labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:n})=>e.labelOverlap??sGe(t.type,n,pe(t)&&!!t.timeUnit,pe(t)?t.sort:void 0),orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:n,fieldOrDatumDef:r,scaleType:i})=>{const o=e==="x"?"width":e==="y"?"height":void 0,a=o?t.getSizeSignalRef(o):void 0;return n.tickCount??lGe({fieldOrDatumDef:r,scaleType:i,size:a,values:n.values})},tickMinStep:cGe,title:({axis:e,model:t,channel:n})=>{if(e.title!==void 0)return e.title;const r=eue(t,n);if(r!==void 0)return r;const i=t.typedFieldDef(n),o=n==="x"?"x2":"y2",a=t.fieldDef(o);return Goe(i?[Fj(i)]:[],pe(a)?[Fj(a)]:[])},values:({axis:e,fieldOrDatumDef:t})=>fGe(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:n})=>e.zindex??dGe(n,t)};function rGe(e,t){return!ir(e)&&pe(t)&&!Yt(t==null?void 0:t.bin)&&!cr(t==null?void 0:t.bin)}function iGe(e,t){const n=t==="x"?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}function oGe(e,t,n,r,i){const o=t==null?void 0:t.labelAngle;if(o!==void 0)return Re(o)?o:Qy(o);{const{configValue:a}=$$("labelAngle",r,t==null?void 0:t.style,i);return a!==void 0?Qy(a):n===sn&&ct([UO,BO],e.type)&&!(pe(e)&&e.timeUnit)?270:void 0}}function k$(e){return`(((${e.signal} % 360) + 360) % 360)`}function Qse(e,t,n,r){if(e!==void 0)if(n==="x"){if(Re(e)){const i=k$(e),o=Re(t)?`(${t.signal} === "top")`:t==="top";return{signal:`(45 < ${i} && ${i} < 135) || (225 < ${i} && ${i} < 315) ? "middle" :(${i} <= 45 || 315 <= ${i}) === ${o} ? "bottom" : "top"`}}if(45<e&&e<135||225<e&&e<315)return"middle";if(Re(t)){const i=e<=45||315<=e?"===":"!==";return{signal:`${t.signal} ${i} "top" ? "bottom" : "top"`}}return(e<=45||315<=e)==(t==="top")?"bottom":"top"}else{if(Re(e)){const i=k$(e),o=Re(t)?`(${t.signal} === "left")`:t==="left";return{signal:`${i} <= 45 || 315 <= ${i} || (135 <= ${i} && ${i} <= 225) ? ${r?'"middle"':"null"} : (45 <= ${i} && ${i} <= 135) === ${o} ? "top" : "bottom"`}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(Re(t)){const i=45<=e&&e<=135?"===":"!==";return{signal:`${t.signal} ${i} "left" ? "top" : "bottom"`}}return(45<=e&&e<=135)==(t==="left")?"top":"bottom"}}function Zse(e,t,n){if(e===void 0)return;const r=n==="x",i=r?0:90,o=r?"bottom":"left";if(Re(e)){const a=k$(e),s=Re(t)?`(${t.signal} === "${o}")`:t===o;return{signal:`(${i?`(${a} + 90)`:a} % 180 === 0) ? ${r?null:'"center"'} :(${i} < ${a} && ${a} < ${180+i}) === ${s} ? "left" : "right"`}}if((e+i)%180===0)return r?null:"center";if(Re(t)){const a=i<e&&e<180+i?"===":"!==";return{signal:`${`${t.signal} ${a} "${o}"`} ? "left" : "right"`}}return(i<e&&e<180+i)==(t===o)?"left":"right"}function aGe(e,t){if(t==="x"&&ct(["quantitative","temporal"],e))return!0}function sGe(e,t,n,r){if(n&&!$e(r)||e!=="nominal"&&e!=="ordinal")return t==="log"||t==="symlog"?"greedy":!0}function uGe(e){return e==="x"?"bottom":"left"}function lGe({fieldOrDatumDef:e,scaleType:t,size:n,values:r}){var i;if(!r&&!ir(t)&&t!=="log"){if(pe(e)){if(Yt(e.bin))return{signal:`ceil(${n.signal}/10)`};if(e.timeUnit&&ct(["month","hours","day","quarter"],(i=rr(e.timeUnit))==null?void 0:i.unit))return}return{signal:`ceil(${n.signal}/40)`}}}function cGe({format:e,fieldOrDatumDef:t}){if(e==="d")return 1;if(pe(t)){const{timeUnit:n}=t;if(n){const r=lae(n);if(r)return{signal:r}}}}function eue(e,t){const n=t==="x"?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),o=r?r.title:void 0,a=i?i.title:void 0;if(o&&a)return Voe(o,a);if(o)return o;if(a)return a;if(o!==void 0)return o;if(a!==void 0)return a}function fGe(e,t){const n=e.values;if(se(n))return Uae(t,n);if(Re(n))return n}function dGe(e,t){return e==="rect"&&S_(t)?1:0}class rg extends Pt{clone(){return new rg(null,Ve(this.transform))}constructor(t,n){super(t),this.transform=n,this._dependentFields=Yse(this.transform.calculate)}static parseAllForSortIndex(t,n){return n.forEachFieldDef((r,i)=>{if(L0(r)&&Nae(r.sort)){const{field:o,timeUnit:a}=r,s=r.sort,u=s.map((l,c)=>`${dae({field:o,timeUnit:a,equal:l})} ? ${c} : `).join("")+s.length;t=new rg(t,{calculate:u,as:ig(r,i,{forAs:!0})})}}),t}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${lt(this.transform)}`}}function ig(e,t,n){return we(e,{prefix:t,suffix:"sort_index",...n??{}})}function iS(e,t){return ct(["top","bottom"],t)?"column":ct(["left","right"],t)||e==="row"?"row":"column"}function og(e,t,n,r){const i=r==="row"?n.headerRow:r==="column"?n.headerColumn:n.headerFacet;return En((t||{})[e],i[e],n.header[e])}function oS(e,t,n,r){const i={};for(const o of e){const a=og(o,t||{},n,r);a!==void 0&&(i[o]=a)}return i}const bR=["row","column"],xR=["header","footer"];function hGe(e,t){const n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:o,titleAngle:a,titleOrient:s}=oS(["titleAnchor","titleAngle","titleOrient"],i.header,r,t),u=iS(t,s),l=Qy(a);return{name:`${t}-title`,type:"group",role:`${u}-title`,title:{text:n,...t==="row"?{orient:"left"}:{},style:"guide-title",...nue(l,u),...tue(u,l,o),...rue(r,i,t,eHe,ose)}}}function tue(e,t,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const r=Zse(t,e==="row"?"left":"top",e==="row"?"y":"x");return r?{align:r}:{}}function nue(e,t){const n=Qse(e,t==="row"?"left":"top",t==="row"?"y":"x",!0);return n?{baseline:n}:{}}function pGe(e,t){const n=e.component.layoutHeaders[t],r=[];for(const i of xR)if(n[i])for(const o of n[i]){const a=mGe(e,t,i,n,o);a!=null&&r.push(a)}return r}function gGe(e,t){const{sort:n}=e;return Gs(n)?{field:we(n,{expr:"datum"}),order:n.order??"ascending"}:se(n)?{field:ig(e,t,{expr:"datum"}),order:"ascending"}:{field:we(e,{expr:"datum"}),order:n??"ascending"}}function T$(e,t,n){const{format:r,formatType:i,labelAngle:o,labelAnchor:a,labelOrient:s,labelExpr:u}=oS(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),l=YO({fieldOrDatumDef:e,format:r,formatType:i,expr:"parent",config:n}).signal,c=iS(t,s);return{text:{signal:u?u0(u0(u,"datum.label",l),"datum.value",we(e,{expr:"parent"})):l},...t==="row"?{orient:"left"}:{},style:"guide-label",frame:"group",...nue(o,c),...tue(c,o,a),...rue(n,e,t,tHe,ase)}}function mGe(e,t,n,r,i){if(i){let o=null;const{facetFieldDef:a}=r,s=e.config?e.config:void 0;if(a&&i.labels){const{labelOrient:f}=oS(["labelOrient"],a.header,s,t);(t==="row"&&!ct(["top","bottom"],f)||t==="column"&&!ct(["left","right"],f))&&(o=T$(a,t,s))}const u=Qa(e)&&!dv(e.facet),l=i.axes,c=(l==null?void 0:l.length)>0;if(o||c){const f=t==="row"?"height":"width";return{name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`,...r.facetFieldDef?{from:{data:e.getName(`${t}_domain`)},sort:gGe(a,t)}:{},...c&&u?{from:{data:e.getName(`facet_domain_${t}`)}}:{},...o?{title:o}:{},...i.sizeSignal?{encode:{update:{[f]:i.sizeSignal}}}:{},...c?{axes:l}:{}}}}return null}const yGe={column:{start:0,end:1},row:{start:1,end:0}};function vGe(e,t){return yGe[t][e]}function bGe(e,t){const n={};for(const r of Xo){const i=e[r];if(i!=null&&i.facetFieldDef){const{titleAnchor:o,titleOrient:a}=oS(["titleAnchor","titleOrient"],i.facetFieldDef.header,t,r),s=iS(r,a),u=vGe(o,s);u!==void 0&&(n[s]=u)}}return zt(n)?void 0:n}function rue(e,t,n,r,i){const o={};for(const a of r){if(!i[a])continue;const s=og(a,t==null?void 0:t.header,e,n);s!==void 0&&(o[i[a]]=s)}return o}function wR(e){return[...xx(e,"width"),...xx(e,"height"),...xx(e,"childWidth"),...xx(e,"childHeight")]}function xx(e,t){const n=t==="width"?"x":"y",r=e.component.layoutSize.get(t);if(!r||r==="merged")return[];const i=e.getSizeSignalRef(t).signal;if(r==="step"){const o=e.getScaleComponent(n);if(o){const a=o.get("type"),s=o.get("range");if(ir(a)&&Mf(s)){const u=e.scaleName(n);return Qa(e.parent)&&e.parent.component.resolve.scale[n]==="independent"?[fW(u,s)]:[fW(u,s),{name:i,update:iue(u,o,`domain('${u}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(r=="container"){const o=i.endsWith("width"),a=o?"containerSize()[0]":"containerSize()[1]",s=w$(e.config.view,o?"width":"height"),u=`isFinite(${a}) ? ${a} : ${s}`;return[{name:i,init:u,on:[{update:u,events:"window:resize"}]}]}else return[{name:i,value:r}]}function fW(e,t){const n=`${e}_step`;return Re(t.step)?{name:n,update:t.step.signal}:{name:n,value:t.step}}function iue(e,t,n){const r=t.get("type"),i=t.get("padding"),o=En(t.get("paddingOuter"),i);let a=t.get("paddingInner");return a=r==="band"?a!==void 0?a:i:1,`bandspace(${n}, ${Wa(a)}, ${Wa(o)}) * ${e}_step`}function oue(e){return e==="childWidth"?"width":e==="childHeight"?"height":e}function aue(e,t){return he(e).reduce((n,r)=>{const i=e[r];return{...n,...zg(t,i,r,o=>Qt(o.value))}},{})}function sue(e,t){if(Qa(t))return e==="theta"?"independent":"shared";if(Wg(t))return"shared";if(kR(t))return Cn(e)||e==="theta"||e==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function AR(e,t){const n=e.scale[t],r=Cn(t)?"axis":"legend";return n==="independent"?(e[r][t]==="shared"&&ge(KUe(t)),"independent"):e[r][t]||"shared"}const xGe={...iHe,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},uue=he(xGe);class wGe extends Tl{}const dW={symbols:AGe,gradient:_Ge,labels:SGe,entries:EGe};function AGe(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i,legendType:o}){if(o!=="symbol")return;const{markDef:a,encoding:s,config:u,mark:l}=n,c=a.filled&&l!=="trail";let f={...lUe({},n,eWe),...Fse(n,{filled:c})};const d=i.get("symbolOpacity")??u.legend.symbolOpacity,p=i.get("symbolFillColor")??u.legend.symbolFillColor,g=i.get("symbolStrokeColor")??u.legend.symbolStrokeColor,y=d===void 0?lue(s.opacity)??a.opacity:void 0;if(f.fill){if(r==="fill"||c&&r===qi)delete f.fill;else if(f.fill.field)p?delete f.fill:(f.fill=Qt(u.legend.symbolBaseFillColor??"black"),f.fillOpacity=Qt(y??1));else if(se(f.fill)){const v=M$(s.fill??s.color)??a.fill??(c&&a.color);v&&(f.fill=Qt(v))}}if(f.stroke){if(r==="stroke"||!c&&r===qi)delete f.stroke;else if(f.stroke.field||g)delete f.stroke;else if(se(f.stroke)){const v=En(M$(s.stroke||s.color),a.stroke,c?a.color:void 0);v&&(f.stroke={value:v})}}if(r!==Cl){const v=pe(t)&&fue(n,i,t);v?f.opacity=[{test:v,...Qt(y??1)},Qt(u.legend.unselectedOpacity)]:y&&(f.opacity=Qt(y))}return f={...f,...e},zt(f)?void 0:f}function _Ge(e,{model:t,legendType:n,legendCmpt:r}){if(n!=="gradient")return;const{config:i,markDef:o,encoding:a}=t;let s={};const l=(r.get("gradientOpacity")??i.legend.gradientOpacity)===void 0?lue(a.opacity)||o.opacity:void 0;return l&&(s.opacity=Qt(l)),s={...s,...e},zt(s)?void 0:s}function SGe(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i}){const o=n.legend(r)||{},a=n.config,s=pe(t)?fue(n,i,t):void 0,u=s?[{test:s,value:1},{value:a.legend.unselectedOpacity}]:void 0,{format:l,formatType:c}=o;let f;h0(c)?f=qa({fieldOrDatumDef:t,field:"datum.value",format:l,formatType:c,config:a}):l===void 0&&c===void 0&&a.customFormatTypes&&(t.type==="quantitative"&&a.numberFormatType?f=qa({fieldOrDatumDef:t,field:"datum.value",format:a.numberFormat,formatType:a.numberFormatType,config:a}):t.type==="temporal"&&a.timeFormatType&&pe(t)&&t.timeUnit===void 0&&(f=qa({fieldOrDatumDef:t,field:"datum.value",format:a.timeFormat,formatType:a.timeFormatType,config:a})));const d={...u?{opacity:u}:{},...f?{text:f}:{},...e};return zt(d)?void 0:d}function EGe(e,{legendCmpt:t}){const n=t.get("selections");return n!=null&&n.length?{...e,fill:{value:"transparent"}}:e}function lue(e){return cue(e,(t,n)=>Math.max(t,n.value))}function M$(e){return cue(e,(t,n)=>En(t,n.value))}function cue(e,t){if(xWe(e))return Se(e.condition).reduce(t,e.value);if(rs(e))return e.value}function fue(e,t,n){const r=t.get("selections");if(!(r!=null&&r.length))return;const i=xe(n.field);return r.map(o=>`(!length(data(${xe(an(o)+g0)})) || (${o}[${i}] && indexof(${o}[${i}], datum.value) >= 0))`).join(" || ")}const hW={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:n})=>{const{format:r,formatType:i}=t;return $ae(e,e.type,r,i,n,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return kae(r,t,n)},gradientLength:e=>{const{legend:t,legendConfig:n}=e;return t.gradientLength??n.gradientLength??OGe(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:n})=>e.labelOverlap??t.labelOverlap??RGe(n),symbolType:({legend:e,markDef:t,channel:n,encoding:r})=>e.symbolType??$Ge(t.type,n,r.shape,t.shape),title:({fieldOrDatumDef:e,config:t})=>up(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:n})=>{if(sp(n)&&Ha(t)){if(e==="gradient")return}else if(e==="symbol")return;return e},values:({fieldOrDatumDef:e,legend:t})=>CGe(t,e)};function CGe(e,t){const n=e.values;if(se(n))return Uae(t,n);if(Re(n))return n}function $Ge(e,t,n,r){if(t!=="shape"){const i=M$(n)??r;if(i)return i}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function kGe(e){const{legend:t}=e;return En(t.type,TGe(e))}function TGe({channel:e,timeUnit:t,scaleType:n}){if(sp(e)){if(ct(["quarter","month","day"],t))return"symbol";if(Ha(n))return"gradient"}return"symbol"}function MGe({legendConfig:e,legendType:t,orient:n,legend:r}){return r.direction??e[t?"gradientDirection":"symbolDirection"]??NGe(n,t)}function NGe(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return t==="gradient"?"horizontal":void 0}}function OGe({legendConfig:e,model:t,direction:n,orient:r,scaleType:i}){const{gradientHorizontalMaxLength:o,gradientHorizontalMinLength:a,gradientVerticalMaxLength:s,gradientVerticalMinLength:u}=e;if(Ha(i))return n==="horizontal"?r==="top"||r==="bottom"?pW(t,"width",a,o):a:pW(t,"height",u,s)}function pW(e,t,n,r){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${r})`}}function RGe(e){if(ct(["quantile","threshold","log","symlog"],e))return"greedy"}function due(e){const t=yn(e)?FGe(e):IGe(e);return e.component.legends=t,t}function FGe(e){const{encoding:t}=e,n={};for(const r of[qi,...use]){const i=zn(t[r]);!i||!e.getScaleComponent(r)||r===Gi&&pe(i)&&i.type===Ig||(n[r]=PGe(e,r))}return n}function DGe(e,t){const n=e.scaleName(t);if(e.mark==="trail"){if(t==="color")return{stroke:n};if(t==="size")return{strokeWidth:n}}return t==="color"?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}function LGe(e,t,n,r){switch(t){case"disable":return n!==void 0;case"values":return!!(n!=null&&n.values);case"title":if(t==="title"&&e===(r==null?void 0:r.title))return!0}return e===(n||{})[t]}function PGe(e,t){var A;let n=e.legend(t);const{markDef:r,encoding:i,config:o}=e,a=o.legend,s=new wGe({},DGe(e,t));Gqe(e,t,s);const u=n!==void 0?!n:a.disable;if(s.set("disable",u,n!==void 0),u)return s;n=n||{};const l=e.getScaleComponent(t).get("type"),c=zn(i[t]),f=pe(c)?(A=rr(c.timeUnit))==null?void 0:A.unit:void 0,d=n.orient||o.legend.orient||"right",p=kGe({legend:n,channel:t,timeUnit:f,scaleType:l}),g=MGe({legend:n,legendType:p,orient:d,legendConfig:a}),y={legend:n,channel:t,model:e,markDef:r,encoding:i,fieldOrDatumDef:c,legendConfig:a,config:o,scaleType:l,orient:d,legendType:p,direction:g};for(const S of uue){if(p==="gradient"&&S.startsWith("symbol")||p==="symbol"&&S.startsWith("gradient"))continue;const C=S in hW?hW[S](y):n[S];if(C!==void 0){const E=LGe(C,S,n,e.fieldDef(t));(E||o.legend[S]===void 0)&&s.set(S,C,E)}}const v=(n==null?void 0:n.encoding)??{},b=s.get("selections"),x={},_={fieldOrDatumDef:c,model:e,channel:t,legendCmpt:s,legendType:p};for(const S of["labels","legend","title","symbols","gradient","entries"]){const C=aue(v[S]??{},e),E=S in dW?dW[S](C,_):C;E!==void 0&&!zt(E)&&(x[S]={...b!=null&&b.length&&pe(c)?{name:`${an(c.field)}_legend_${S}`}:{},...b!=null&&b.length?{interactive:!!b}:{},update:E})}return zt(x)||s.set("encode",x,!!(n!=null&&n.encoding)),s}function IGe(e){const{legends:t,resolve:n}=e.component;for(const r of e.children){due(r);for(const i of he(r.component.legends))n.legend[i]=AR(e.component.resolve,i),n.legend[i]==="shared"&&(t[i]=hue(t[i],r.component.legends[i]),t[i]||(n.legend[i]="independent",delete t[i]))}for(const r of he(t))for(const i of e.children)i.component.legends[r]&&n.legend[r]==="shared"&&delete i.component.legends[r];return t}function hue(e,t){var o,a,s,u;if(!e)return t.clone();const n=e.getWithExplicit("orient"),r=t.getWithExplicit("orient");if(n.explicit&&r.explicit&&n.value!==r.value)return;let i=!1;for(const l of uue){const c=sf(e.getWithExplicit(l),t.getWithExplicit(l),l,"legend",(f,d)=>{switch(l){case"symbolType":return zGe(f,d);case"title":return Yoe(f,d);case"type":return i=!0,io("symbol")}return Z5(f,d,l,"legend")});e.setWithExplicit(l,c)}return i&&((a=(o=e.implicit)==null?void 0:o.encode)!=null&&a.gradient&&v_(e.implicit,["encode","gradient"]),(u=(s=e.explicit)==null?void 0:s.encode)!=null&&u.gradient&&v_(e.explicit,["encode","gradient"])),e}function zGe(e,t){return t.value==="circle"?t:e}function BGe(e,t,n,r){var i,o;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(o=e.encode[t]).update??(o.update={}),e.encode[t].update[n]=r}function pue(e){const t=e.component.legends,n={};for(const i of he(t)){const o=e.getScaleComponent(i),a=Bt(o.get("domains"));if(n[a])for(const s of n[a])hue(s,t[i])||n[a].push(t[i]);else n[a]=[t[i].clone()]}return mr(n).flat().map(i=>UGe(i,e.config)).filter(i=>i!==void 0)}function UGe(e,t){var a,s,u;const{disable:n,labelExpr:r,selections:i,...o}=e.combine();if(!n){if(t.aria===!1&&o.aria==null&&(o.aria=!1),(a=o.encode)!=null&&a.symbols){const l=o.encode.symbols.update;l.fill&&l.fill.value!=="transparent"&&!l.stroke&&!o.stroke&&(l.stroke={value:"transparent"});for(const c of use)o[c]&&delete l[c]}if(o.title||delete o.title,r!==void 0){let l=r;(u=(s=o.encode)==null?void 0:s.labels)!=null&&u.update&&Re(o.encode.labels.update.text)&&(l=u0(r,"datum.label",o.encode.labels.update.text.signal)),BGe(o,"labels","text",{signal:l})}return o}}function jGe(e){return Wg(e)||kR(e)?WGe(e):gue(e)}function WGe(e){return e.children.reduce((t,n)=>t.concat(n.assembleProjections()),gue(e))}function gue(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:r}=n;if(t.data){const i={signal:`[${t.size.map(a=>a.signal).join(", ")}]`},o=t.data.reduce((a,s)=>{const u=Re(s)?s.signal:`data('${e.lookupDataSource(s)}')`;return ct(a,u)||a.push(u),a},[]);if(o.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:r,size:i,fit:{signal:o.length>1?`[${o.join(", ")}]`:o[0]},...n}]}else return[{name:r,translate:{signal:"[width / 2, height / 2]"},...n}]}const HGe=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class mue extends Tl{constructor(t,n,r,i){super({...n},{name:t}),this.specifiedProjection=n,this.size=r,this.data=i,this.merged=!1}get isFit(){return!!this.data}}function yue(e){e.component.projection=yn(e)?qGe(e):YGe(e)}function qGe(e){if(e.hasProjection){const t=Ti(e.specifiedProjection),n=!(t&&(t.scale!=null||t.translate!=null)),r=n?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,i=n?GGe(e):void 0,o=new mue(e.projectionName(!0),{...Ti(e.config.projection)??{},...t??{}},r,i);return o.get("type")||o.set("type","equalEarth",!1),o}}function GGe(e){const t=[],{encoding:n}=e;for(const r of[[hs,ds],[ga,ps]])(zn(n[r[0]])||zn(n[r[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});return e.channelHasField(Gi)&&e.typedFieldDef(Gi).type===Ig&&t.push({signal:e.getName(`geojson_${t.length}`)}),t.length===0&&t.push(e.requestDataName(Gt.Main)),t}function VGe(e,t){const n=pO(HGe,i=>!!(!Be(e.explicit,i)&&!Be(t.explicit,i)||Be(e.explicit,i)&&Be(t.explicit,i)&&ho(e.get(i),t.get(i))));if(ho(e.size,t.size)){if(n)return e;if(ho(e.explicit,{}))return t;if(ho(t.explicit,{}))return e}return null}function YGe(e){if(e.children.length===0)return;let t;for(const r of e.children)yue(r);const n=pO(e.children,r=>{const i=r.component.projection;if(i)if(t){const o=VGe(t,i);return o&&(t=o),!!o}else return t=i,!0;else return!0});if(t&&n){const r=e.projectionName(!0),i=new mue(r,t.specifiedProjection,t.size,Ve(t.data));for(const o of e.children){const a=o.component.projection;a&&(a.isFit&&i.data.push(...o.component.projection.data),o.renameProjection(a.get("name"),r),a.merged=!0)}return i}}function JGe(e,t,n,r){if(pv(t,n)){const i=yn(e)?e.axis(n)??e.legend(n)??{}:{},o=we(t,{expr:"datum"}),a=we(t,{expr:"datum",binSuffix:"end"});return{formulaAs:we(t,{binSuffix:"range",forAs:!0}),formula:fv(o,a,i.format,i.formatType,r)}}return{}}function vue(e,t){return`${Boe(e)}_${t}`}function XGe(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}function _R(e,t,n){const r=V5(n,void 0)??{},i=vue(r,t);return e.getName(`${i}_bins`)}function KGe(e){return"as"in e}function gW(e,t,n){let r,i;KGe(e)?r=Ee(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:r=[we(e,{forAs:!0}),we(e,{binSuffix:"end",forAs:!0})];const o={...V5(t,void 0)},a=vue(o,e.field),{signal:s,extentSignal:u}=XGe(n,a);if(L5(o.extent)){const c=o.extent;i=Xse(n,c.param,c),delete o.extent}const l={bin:o,field:e.field,as:[r],...s?{signal:s}:{},...u?{extentSignal:u}:{},...i?{span:i}:{}};return{key:a,binComponent:l}}class Ys extends Pt{clone(){return new Ys(null,Ve(this.bins))}constructor(t,n){super(t),this.bins=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,o,a)=>{if(hi(o)&&Yt(o.bin)){const{key:s,binComponent:u}=gW(o,o.bin,n);i[s]={...u,...i[s],...JGe(n,o,a,n.config)}}return i},{});return zt(r)?null:new Ys(t,r)}static makeFromTransform(t,n,r){const{key:i,binComponent:o}=gW(n,n.bin,r);return new Ys(t,{[i]:o})}merge(t,n){for(const r of he(t.bins))r in this.bins?(n(t.bins[r].signal,this.bins[r].signal),this.bins[r].as=Ls([...this.bins[r].as,...t.bins[r].as],lt)):this.bins[r]=t.bins[r];for(const r of t.children)t.removeChild(r),r.parent=this;t.remove()}producedFields(){return new Set(mr(this.bins).map(t=>t.as).flat(2))}dependentFields(){return new Set(mr(this.bins).map(t=>t.field))}hash(){return`Bin ${lt(this.bins)}`}assemble(){return mr(this.bins).flatMap(t=>{const n=[],[r,...i]=t.as,{extent:o,...a}=t.bin,s={type:"bin",field:pa(t.field),as:r,signal:t.signal,...L5(o)?{extent:null}:{extent:o},...t.span?{span:{signal:`span(${t.span})`}}:{},...a};!o&&t.extentSignal&&(n.push({type:"extent",field:pa(t.field),signal:t.extentSignal}),s.extent={signal:t.extentSignal}),n.push(s);for(const u of i)for(let l=0;l<2;l++)n.push({type:"formula",expr:we({field:r[l]},{expr:"datum"}),as:u[l]});return t.formula&&n.push({type:"formula",expr:t.formula,as:t.formulaAs}),n})}}function QGe(e,t,n,r){var o;const i=yn(r)?r.encoding[hu(t)]:void 0;if(hi(n)&&yn(r)&&Rae(n,i,r.markDef,r.config)){e.add(we(n,{})),e.add(we(n,{suffix:"end"}));const{mark:a,markDef:s,config:u}=r,l=af({fieldDef:n,markDef:s,config:u});Zy(a)&&l!==.5&&Cn(t)&&(e.add(we(n,{suffix:eS})),e.add(we(n,{suffix:tS}))),n.bin&&pv(n,t)&&e.add(we(n,{binSuffix:"range"}))}else if(Moe(t)){const a=Toe(t);e.add(r.getName(a))}else e.add(we(n));return L0(n)&&jje((o=n.scale)==null?void 0:o.range)&&e.add(n.scale.range.field),e}function ZGe(e,t){for(const n of he(t)){const r=t[n];for(const i of he(r))n in e?e[n][i]=new Set([...e[n][i]??[],...r[i]]):e[n]={[i]:r[i]}}}class Ka extends Pt{clone(){return new Ka(null,new Set(this.dimensions),Ve(this.measures))}constructor(t,n,r){super(t),this.dimensions=n,this.measures=r}get groupBy(){return this.dimensions}static makeFromEncoding(t,n){let r=!1;n.forEachFieldDef(a=>{a.aggregate&&(r=!0)});const i={},o=new Set;return!r||(n.forEachFieldDef((a,s)=>{const{aggregate:u,field:l}=a;if(u)if(u==="count")i["*"]??(i["*"]={}),i["*"].count=new Set([we(a,{forAs:!0})]);else{if(ml(u)||Tf(u)){const c=ml(u)?"argmin":"argmax",f=u[c];i[f]??(i[f]={}),i[f][c]=new Set([we({op:c,field:f},{forAs:!0})])}else i[l]??(i[l]={}),i[l][u]=new Set([we(a,{forAs:!0})]);$l(s)&&n.scaleDomain(s)==="unaggregated"&&(i[l]??(i[l]={}),i[l].min=new Set([we({field:l,aggregate:"min"},{forAs:!0})]),i[l].max=new Set([we({field:l,aggregate:"max"},{forAs:!0})]))}else QGe(o,s,a,n)}),o.size+he(i).length===0)?null:new Ka(t,o,i)}static makeFromTransform(t,n){const r=new Set,i={};for(const o of n.aggregate){const{op:a,field:s,as:u}=o;a&&(a==="count"?(i["*"]??(i["*"]={}),i["*"].count=new Set([u||we(o,{forAs:!0})])):(i[s]??(i[s]={}),i[s][a]=new Set([u||we(o,{forAs:!0})])))}for(const o of n.groupby??[])r.add(o);return r.size+he(i).length===0?null:new Ka(t,r,i)}merge(t){return woe(this.dimensions,t.dimensions)?(ZGe(this.measures,t.measures),!0):(hje("different dimensions, cannot merge"),!1)}addDimensions(t){t.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...he(this.measures)])}producedFields(){const t=new Set;for(const n of he(this.measures))for(const r of he(this.measures[n])){const i=this.measures[n][r];i.size===0?t.add(`${r}_${n}`):i.forEach(t.add,t)}return t}hash(){return`Aggregate ${lt({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const t=[],n=[],r=[];for(const o of he(this.measures))for(const a of he(this.measures[o]))for(const s of this.measures[o][a])r.push(s),t.push(a),n.push(o==="*"?null:pa(o));return{type:"aggregate",groupby:[...this.dimensions].map(pa),ops:t,fields:n,as:r}}}class Ug extends Pt{constructor(t,n,r,i){super(t),this.model=n,this.name=r,this.data=i;for(const o of Xo){const a=n.facet[o];if(a){const{bin:s,sort:u}=a;this[o]={name:n.getName(`${o}_domain`),fields:[we(a),...Yt(s)?[we(a,{binSuffix:"end"})]:[]],...Gs(u)?{sortField:u}:se(u)?{sortIndexField:ig(a,o)}:{}}}}this.childModel=n.child}hash(){let t="Facet";for(const n of Xo)this[n]&&(t+=` ${n.charAt(0)}:${lt(this[n])}`);return t}get fields(){var n;const t=[];for(const r of Xo)(n=this[r])!=null&&n.fields&&t.push(...this[r].fields);return t}dependentFields(){const t=new Set(this.fields);for(const n of Xo)this[n]&&(this[n].sortField&&t.add(this[n].sortField.field),this[n].sortIndexField&&t.add(this[n].sortIndexField));return t}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const t={};for(const n of pu){const r=this.childModel.component.scales[n];if(r&&!r.merged){const i=r.get("type"),o=r.get("range");if(ir(i)&&Mf(o)){const a=aS(this.childModel,n),s=$R(a);s?t[n]=s:ge(kO(n))}}}return t}assembleRowColumnHeaderData(t,n,r){const i={row:"y",column:"x",facet:void 0}[t],o=[],a=[],s=[];i&&r&&r[i]&&(n?(o.push(`distinct_${r[i]}`),a.push("max")):(o.push(r[i]),a.push("distinct")),s.push(`distinct_${r[i]}`));const{sortField:u,sortIndexField:l}=this[t];if(u){const{op:c=W5,field:f}=u;o.push(f),a.push(c),s.push(we(u,{forAs:!0}))}else l&&(o.push(l),a.push("max"),s.push(l));return{name:this[t].name,source:n??this.data,transform:[{type:"aggregate",groupby:this[t].fields,...o.length?{fields:o,ops:a,as:s}:{}}]}}assembleFacetHeaderData(t){var u;const{columns:n}=this.model.layout,{layoutHeaders:r}=this.model.component,i=[],o={};for(const l of bR){for(const c of xR){const f=(r[l]&&r[l][c])??[];for(const d of f)if(((u=d.axes)==null?void 0:u.length)>0){o[l]=!0;break}}if(o[l]){const c=`length(data("${this.facet.name}"))`,f=l==="row"?n?{signal:`ceil(${c} / ${n})`}:1:n?{signal:`min(${c}, ${n})`}:{signal:c};i.push({name:`${this.facet.name}_${l}`,transform:[{type:"sequence",start:0,stop:f}]})}}const{row:a,column:s}=o;return(a||s)&&i.unshift(this.assembleRowColumnHeaderData("facet",null,t)),i}assemble(){const t=[];let n=null;const r=this.getChildIndependentFieldsWithStep(),{column:i,row:o,facet:a}=this;if(i&&o&&(r.x||r.y)){n=`cross_${this.column.name}_${this.row.name}`;const s=[].concat(r.x??[],r.y??[]),u=s.map(()=>"distinct");t.push({name:n,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:s,ops:u}]})}for(const s of[rl,nl])this[s]&&t.push(this.assembleRowColumnHeaderData(s,n,r));if(a){const s=this.assembleFacetHeaderData(r);s&&t.push(...s)}return t}}function mW(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function eVe(e,t){const n=yO(e);if(t==="number")return`toNumber(${n})`;if(t==="boolean")return`toBoolean(${n})`;if(t==="string")return`toString(${n})`;if(t==="date")return`toDate(${n})`;if(t==="flatten")return n;if(t.startsWith("date:")){const r=mW(t.slice(5,t.length));return`timeParse(${n},'${r}')`}else if(t.startsWith("utc:")){const r=mW(t.slice(4,t.length));return`utcParse(${n},'${r}')`}else return ge(AUe(t)),null}function tVe(e){const t={};return ww(e.filter,n=>{if(fae(n)){let r=null;OO(n)?r=lo(n.equal):FO(n)?r=lo(n.lte):RO(n)?r=lo(n.lt):DO(n)?r=lo(n.gt):LO(n)?r=lo(n.gte):PO(n)?r=n.range[0]:IO(n)&&(r=(n.oneOf??n.in)[0]),r&&(F0(r)?t[n.field]="date":xt(r)?t[n.field]="number":Ee(r)&&(t[n.field]="string")),n.timeUnit&&(t[n.field]="date")}}),t}function nVe(e){const t={};function n(r){eg(r)?t[r.field]="date":r.type==="quantitative"&&eUe(r.aggregate)?t[r.field]="number":Vp(r.field)>1?r.field in t||(t[r.field]="flatten"):L0(r)&&Gs(r.sort)&&Vp(r.sort.field)>1&&(r.sort.field in t||(t[r.sort.field]="flatten"))}if((yn(e)||Qa(e))&&e.forEachFieldDef((r,i)=>{if(hi(r))n(r);else{const o=O0(i),a=e.fieldDef(o);n({...r,type:a.type})}}),yn(e)){const{mark:r,markDef:i,encoding:o}=e;if(Nf(r)&&!e.encoding.order){const a=i.orient==="horizontal"?"y":"x",s=o[a];pe(s)&&s.type==="quantitative"&&!(s.field in t)&&(t[s.field]="number")}}return t}function rVe(e){const t={};if(yn(e)&&e.component.selection)for(const n of he(e.component.selection)){const r=e.component.selection[n];for(const i of r.project.items)!i.channel&&Vp(i.field)>1&&(t[i.field]="flatten")}return t}class Dr extends Pt{clone(){return new Dr(null,Ve(this._parse))}constructor(t,n){super(t),this._parse=n}hash(){return`Parse ${lt(this._parse)}`}static makeExplicit(t,n,r){var a;let i={};const o=n.data;return!Dc(o)&&((a=o==null?void 0:o.format)!=null&&a.parse)&&(i=o.format.parse),this.makeWithAncestors(t,i,{},r)}static makeWithAncestors(t,n,r,i){for(const s of he(r)){const u=i.getWithExplicit(s);u.value!==void 0&&(u.explicit||u.value===r[s]||u.value==="derived"||r[s]==="flatten"?delete r[s]:ge(Cj(s,r[s],u.value)))}for(const s of he(n)){const u=i.get(s);u!==void 0&&(u===n[s]?delete n[s]:ge(Cj(s,n[s],u)))}const o=new Tl(n,r);i.copyAll(o);const a={};for(const s of he(o.combine())){const u=o.get(s);u!==null&&(a[s]=u)}return he(a).length===0||i.parseNothing?null:new Dr(t,a)}get parse(){return this._parse}merge(t){this._parse={...this._parse,...t.parse},t.remove()}assembleFormatParse(){const t={};for(const n of he(this._parse)){const r=this._parse[n];Vp(n)===1&&(t[n]=r)}return t}producedFields(){return new Set(he(this._parse))}dependentFields(){return new Set(he(this._parse))}assembleTransforms(t=!1){return he(this._parse).filter(n=>t?Vp(n)>1:!0).map(n=>{const r=eVe(n,this._parse[n]);return r?{type:"formula",expr:r,as:vO(n)}:null}).filter(n=>n!==null)}}class cf extends Pt{clone(){return new cf(null)}constructor(t){super(t)}dependentFields(){return new Set}producedFields(){return new Set([is])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:is}}}class yv extends Pt{clone(){return new yv(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${lt(this.params)}`}assemble(){return{type:"graticule",...this.params===!0?{}:this.params}}}class vv extends Pt{clone(){return new vv(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${lt(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class m0 extends Pt{constructor(t){super(null),t??(t={name:"source"});let n;if(Dc(t)||(n=t.format?{...Bi(t.format,["parse"])}:{}),e2(t))this._data={values:t.values};else if(tg(t)){if(this._data={url:t.url},!n.type){let r=/(?:\.([^.]+))?$/.exec(t.url)[1];ct(["json","csv","tsv","dsv","topojson"],r)||(r="json"),n.type=r}}else Cse(t)?this._data={values:[{type:"Sphere"}]}:(Sse(t)||Dc(t))&&(this._data={});this._generator=Dc(t),t.name&&(this._name=t.name),n&&!zt(n)&&(this._data.format=n)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(t){this._name=t}set parent(t){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}var yW=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},iVe=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Em;function SR(e){return e instanceof m0||e instanceof yv||e instanceof vv}class ER{constructor(){Em.set(this,void 0),yW(this,Em,!1,"f")}setModified(){yW(this,Em,!0,"f")}get modifiedFlag(){return iVe(this,Em,"f")}}Em=new WeakMap;class P0 extends ER{getNodeDepths(t,n,r){r.set(t,n);for(const i of t.children)this.getNodeDepths(i,n+1,r);return r}optimize(t){const r=[...this.getNodeDepths(t,0,new Map).entries()].sort((i,o)=>o[1]-i[1]);for(const i of r)this.run(i[0]);return this.modifiedFlag}}class CR extends ER{optimize(t){this.run(t);for(const n of t.children)this.optimize(n);return this.modifiedFlag}}class oVe extends CR{mergeNodes(t,n){const r=n.shift();for(const i of n)t.removeChild(i),i.parent=r,i.remove()}run(t){const n=t.children.map(i=>i.hash()),r={};for(let i=0;i<n.length;i++)r[n[i]]===void 0?r[n[i]]=[t.children[i]]:r[n[i]].push(t.children[i]);for(const i of he(r))r[i].length>1&&(this.setModified(),this.mergeNodes(t,r[i]))}}class aVe extends CR{constructor(t){super(),this.requiresSelectionId=t&&vR(t)}run(t){t instanceof cf&&(this.requiresSelectionId&&(SR(t.parent)||t.parent instanceof Ka||t.parent instanceof Dr)||(this.setModified(),t.remove()))}}class sVe extends ER{optimize(t){return this.run(t,new Set),this.modifiedFlag}run(t,n){let r=new Set;t instanceof Vs&&(r=t.producedFields(),gO(r,n)&&(this.setModified(),t.removeFormulas(n),t.producedFields.length===0&&t.remove()));for(const i of t.children)this.run(i,new Set([...n,...r]))}}class uVe extends CR{constructor(){super()}run(t){t instanceof li&&!t.isRequired()&&(this.setModified(),t.remove())}}class lVe extends P0{run(t){if(!SR(t)&&!(t.numChildren()>1)){for(const n of t.children)if(n instanceof Dr)if(t instanceof Dr)this.setModified(),t.merge(n);else{if(mO(t.producedFields(),n.dependentFields()))continue;this.setModified(),n.swapWithParent()}}}}class cVe extends P0{run(t){const n=[...t.children],r=t.children.filter(i=>i instanceof Dr);if(t.numChildren()>1&&r.length>=1){const i={},o=new Set;for(const a of r){const s=a.parse;for(const u of he(s))u in i?i[u]!==s[u]&&o.add(u):i[u]=s[u]}for(const a of o)delete i[a];if(!zt(i)){this.setModified();const a=new Dr(t,i);for(const s of n){if(s instanceof Dr)for(const u of he(i))delete s.parse[u];t.removeChild(s),s.parent=a,s instanceof Dr&&he(s.parse).length===0&&s.remove()}}}}}class fVe extends P0{run(t){t instanceof li||t.numChildren()>0||t instanceof Ug||t instanceof m0||(this.setModified(),t.remove())}}class dVe extends P0{run(t){const n=t.children.filter(i=>i instanceof Vs),r=n.pop();for(const i of n)this.setModified(),r.merge(i)}}class hVe extends P0{run(t){const n=t.children.filter(i=>i instanceof Ka),r={};for(const i of n){const o=lt(i.groupBy);o in r||(r[o]=[]),r[o].push(i)}for(const i of he(r)){const o=r[i];if(o.length>1){const a=o.pop();for(const s of o)a.merge(s)&&(t.removeChild(s),s.parent=a,s.remove(),this.setModified())}}}}class pVe extends P0{constructor(t){super(),this.model=t}run(t){const n=!(SR(t)||t instanceof Bg||t instanceof Dr||t instanceof cf),r=[],i=[];for(const o of t.children)o instanceof Ys&&(n&&!mO(t.producedFields(),o.dependentFields())?r.push(o):i.push(o));if(r.length>0){const o=r.pop();for(const a of r)o.merge(a,this.model.renameSignal.bind(this.model));this.setModified(),t instanceof Ys?t.merge(o,this.model.renameSignal.bind(this.model)):o.swapWithParent()}if(i.length>1){const o=i.pop();for(const a of i)o.merge(a,this.model.renameSignal.bind(this.model));this.setModified()}}}class gVe extends P0{run(t){const n=[...t.children];if(!s0(n,a=>a instanceof li)||t.numChildren()<=1)return;const i=[];let o;for(const a of n)if(a instanceof li){let s=a;for(;s.numChildren()===1;){const[u]=s.children;if(u instanceof li)s=u;else break}i.push(...s.children),o?(t.removeChild(a),a.parent=o.parent,o.parent.removeChild(o),o.parent=s,this.setModified()):o=s}else i.push(a);if(i.length){this.setModified();for(const a of i)a.parent.removeChild(a),a.parent=o}}}class I0 extends Pt{clone(){return new I0(null,Ve(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Ls(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t.add,t),this.transform.joinaggregate.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(t){return t.as??we(t)}hash(){return`JoinAggregateTransform ${lt(this.transform)}`}assemble(){const t=[],n=[],r=[];for(const o of this.transform.joinaggregate)n.push(o.op),r.push(this.getDefaultName(o)),t.push(o.field===void 0?null:o.field);const i=this.transform.groupby;return{type:"joinaggregate",as:r,ops:n,fields:t,...i!==void 0?{groupby:i}:{}}}}function mVe(e){return e.stack.stackBy.reduce((t,n)=>{const r=n.fieldDef,i=we(r);return i&&t.push(i),t},[])}function yVe(e){return se(e)&&e.every(t=>Ee(t))&&e.length>1}class ol extends Pt{clone(){return new ol(null,Ve(this._stack))}constructor(t,n){super(t),this._stack=n}static makeFromTransform(t,n){const{stack:r,groupby:i,as:o,offset:a="zero"}=n,s=[],u=[];if(n.sort!==void 0)for(const f of n.sort)s.push(f.field),u.push(En(f.order,"ascending"));const l={field:s,order:u};let c;return yVe(o)?c=o:Ee(o)?c=[o,`${o}_end`]:c=[`${n.stack}_start`,`${n.stack}_end`],new ol(t,{dimensionFieldDefs:[],stackField:r,groupby:i,offset:a,sort:l,facetby:[],as:c})}static makeFromEncoding(t,n){const r=n.stack,{encoding:i}=n;if(!r)return null;const{groupbyChannels:o,fieldChannel:a,offset:s,impute:u}=r,l=o.map(p=>{const g=i[p];return tu(g)}).filter(p=>!!p),c=mVe(n),f=n.encoding.order;let d;if(se(f)||pe(f))d=qoe(f);else{const p=Fae(f)?f.sort:a==="y"?"descending":"ascending";d=c.reduce((g,y)=>(g.field.push(y),g.order.push(p),g),{field:[],order:[]})}return new ol(t,{dimensionFieldDefs:l,stackField:n.vgField(a),facetby:[],stackby:c,sort:d,offset:s,impute:u,as:[n.vgField(a,{suffix:"start",forAs:!0}),n.vgField(a,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(t){this._stack.facetby.push(...t)}dependentFields(){const t=new Set;return t.add(this._stack.stackField),this.getGroupbyFields().forEach(t.add,t),this._stack.facetby.forEach(t.add,t),this._stack.sort.field.forEach(t.add,t),t}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${lt(this._stack)}`}getGroupbyFields(){const{dimensionFieldDefs:t,impute:n,groupby:r}=this._stack;return t.length>0?t.map(i=>i.bin?n?[we(i,{binSuffix:"mid"})]:[we(i,{}),we(i,{binSuffix:"end"})]:[we(i)]).flat():r??[]}assemble(){const t=[],{facetby:n,dimensionFieldDefs:r,stackField:i,stackby:o,sort:a,offset:s,impute:u,as:l}=this._stack;if(u)for(const c of r){const{bandPosition:f=.5,bin:d}=c;if(d){const p=we(c,{expr:"datum"}),g=we(c,{expr:"datum",binSuffix:"end"});t.push({type:"formula",expr:`${f}*${p}+${1-f}*${g}`,as:we(c,{binSuffix:"mid",forAs:!0})})}t.push({type:"impute",field:i,groupby:[...o,...n],key:we(c,{binSuffix:"mid"}),method:"value",value:0})}return t.push({type:"stack",groupby:[...this.getGroupbyFields(),...n],field:i,sort:a,as:l,offset:s}),t}}class jg extends Pt{clone(){return new jg(null,Ve(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Ls(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return(this.transform.groupby??[]).forEach(t.add,t),(this.transform.sort??[]).forEach(n=>t.add(n.field)),this.transform.window.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(t){return t.as??we(t)}hash(){return`WindowTransform ${lt(this.transform)}`}assemble(){const t=[],n=[],r=[],i=[];for(const f of this.transform.window)n.push(f.op),r.push(this.getDefaultName(f)),i.push(f.param===void 0?null:f.param),t.push(f.field===void 0?null:f.field);const o=this.transform.frame,a=this.transform.groupby;if(o&&o[0]===null&&o[1]===null&&n.every(f=>CO(f)))return{type:"joinaggregate",as:r,ops:n,fields:t,...a!==void 0?{groupby:a}:{}};const s=[],u=[];if(this.transform.sort!==void 0)for(const f of this.transform.sort)s.push(f.field),u.push(f.order??"ascending");const l={field:s,order:u},c=this.transform.ignorePeers;return{type:"window",params:i,as:r,ops:n,fields:t,sort:l,...c!==void 0?{ignorePeers:c}:{},...a!==void 0?{groupby:a}:{},...o!==void 0?{frame:o}:{}}}}function vVe(e){function t(n){if(!(n instanceof Ug)){const r=n.clone();if(r instanceof li){const i=O$+r.getSource();r.setSource(i),e.model.component.data.outputNodes[i]=r}else(r instanceof Ka||r instanceof ol||r instanceof jg||r instanceof I0)&&r.addDimensions(e.fields);for(const i of n.children.flatMap(t))i.parent=r;return[r]}return n.children.flatMap(t)}return t}function N$(e){if(e instanceof Ug)if(e.numChildren()===1&&!(e.children[0]instanceof li)){const t=e.children[0];(t instanceof Ka||t instanceof ol||t instanceof jg||t instanceof I0)&&t.addDimensions(e.fields),t.swapWithParent(),N$(e)}else{const t=e.model.component.data.main;bue(t);const n=vVe(e),r=e.children.map(n).flat();for(const i of r)i.parent=t}else e.children.map(N$)}function bue(e){if(e instanceof li&&e.type===Gt.Main&&e.numChildren()===1){const t=e.children[0];t instanceof Ug||(t.swapWithParent(),bue(e))}}const O$="scale_",wx=5;function R$(e){for(const t of e){for(const n of t.children)if(n.parent!==t)return!1;if(!R$(t.children))return!1}return!0}function Ca(e,t){let n=!1;for(const r of t)n=e.optimize(r)||n;return n}function vW(e,t,n){let r=e.sources,i=!1;return i=Ca(new uVe,r)||i,i=Ca(new aVe(t),r)||i,r=r.filter(o=>o.numChildren()>0),i=Ca(new fVe,r)||i,r=r.filter(o=>o.numChildren()>0),n||(i=Ca(new lVe,r)||i,i=Ca(new pVe(t),r)||i,i=Ca(new sVe,r)||i,i=Ca(new cVe,r)||i,i=Ca(new hVe,r)||i,i=Ca(new dVe,r)||i,i=Ca(new oVe,r)||i,i=Ca(new gVe,r)||i),e.sources=r,i}function bVe(e,t){R$(e.sources);let n=0,r=0;for(let i=0;i<wx&&vW(e,t,!0);i++)n++;e.sources.map(N$);for(let i=0;i<wx&&vW(e,t,!1);i++)r++;R$(e.sources),Math.max(n,r)===wx&&ge(`Maximum optimization runs(${wx}) reached.`)}class Yn{constructor(t){Object.defineProperty(this,"signal",{enumerable:!0,get:t})}static fromName(t,n){return new Yn(()=>t(n))}}function xue(e){yn(e)?xVe(e):wVe(e)}function xVe(e){const t=e.component.scales;for(const n of he(t)){const r=_Ve(e,n);if(t[n].setWithExplicit("domains",r),EVe(e,n),e.component.data.isFaceted){let o=e;for(;!Qa(o)&&o.parent;)o=o.parent;if(o.component.resolve.scale[n]==="shared")for(const s of r.value)Zu(s)&&(s.data=O$+s.data.replace(O$,""))}}}function wVe(e){for(const n of e.children)xue(n);const t=e.component.scales;for(const n of he(t)){let r,i=null;for(const o of e.children){const a=o.component.scales[n];if(a){r===void 0?r=a.getWithExplicit("domains"):r=sf(r,a.getWithExplicit("domains"),"domains","scale",F$);const s=a.get("selectionExtent");i&&s&&i.param!==s.param&&ge(vUe),i=s}}t[n].setWithExplicit("domains",r),i&&t[n].set("selectionExtent",i,!0)}}function AVe(e,t,n,r){if(e==="unaggregated"){const{valid:i,reason:o}=bW(t,n);if(!i){ge(o);return}}else if(e===void 0&&r.useUnaggregatedDomain){const{valid:i}=bW(t,n);if(i)return"unaggregated"}return e}function _Ve(e,t){const n=e.getScaleComponent(t).get("type"),{encoding:r}=e,i=AVe(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return i!==e.scaleDomain(t)&&(e.specifiedScales[t]={...e.specifiedScales[t],domain:i}),t==="x"&&zn(r.x2)?zn(r.x)?sf(Jl(n,i,e,"x"),Jl(n,i,e,"x2"),"domain","scale",F$):Jl(n,i,e,"x2"):t==="y"&&zn(r.y2)?zn(r.y)?sf(Jl(n,i,e,"y"),Jl(n,i,e,"y2"),"domain","scale",F$):Jl(n,i,e,"y2"):Jl(n,i,e,t)}function SVe(e,t,n){return e.map(r=>({signal:`{data: ${Y5(r,{timeUnit:n,type:t})}}`}))}function W6(e,t,n){var i;const r=(i=rr(n))==null?void 0:i.unit;return t==="temporal"||r?SVe(e,t,r):[e]}function Jl(e,t,n,r){const{encoding:i,markDef:o,mark:a,config:s,stack:u}=n,l=zn(i[r]),{type:c}=l,f=l.timeUnit;if(Uje(t)){const g=Jl(e,void 0,n,r),y=W6(t.unionWith,c,f);return Ts([...y,...g.value])}else{if(Re(t))return Ts([t]);if(t&&t!=="unaggregated"&&!vae(t))return Ts(W6(t,c,f))}if(u&&r===u.fieldChannel){if(u.offset==="normalize")return io([[0,1]]);const g=n.requestDataName(Gt.Main);return io([{data:g,field:n.vgField(r,{suffix:"start"})},{data:g,field:n.vgField(r,{suffix:"end"})}])}const d=$l(r)&&pe(l)?CVe(n,r,e):void 0;if(gu(l)){const g=W6([l.datum],c,f);return io(g)}const p=l;if(t==="unaggregated"){const g=n.requestDataName(Gt.Main),{field:y}=l;return io([{data:g,field:we({field:y,aggregate:"min"})},{data:g,field:we({field:y,aggregate:"max"})}])}else if(Yt(p.bin)){if(ir(e))return io(e==="bin-ordinal"?[]:[{data:Ky(d)?n.requestDataName(Gt.Main):n.requestDataName(Gt.Raw),field:n.vgField(r,pv(p,r)?{binSuffix:"range"}:{}),sort:d===!0||!$e(d)?{field:n.vgField(r,{}),op:"min"}:d}]);{const{bin:g}=p;if(Yt(g)){const y=_R(n,p.field,g);return io([new Yn(()=>{const v=n.getSignalName(y);return`[${v}.start, ${v}.stop]`})])}else return io([{data:n.requestDataName(Gt.Main),field:n.vgField(r,{})}])}}else if(p.timeUnit&&ct(["time","utc"],e)){const g=i[hu(r)];if(Rae(p,g,o,s)){const y=n.requestDataName(Gt.Main),v=af({fieldDef:p,fieldDef2:g,markDef:o,config:s}),b=Zy(a)&&v!==.5&&Cn(r);return io([{data:y,field:n.vgField(r,b?{suffix:eS}:{})},{data:y,field:n.vgField(r,{suffix:b?tS:"end"})}])}}return io(d?[{data:Ky(d)?n.requestDataName(Gt.Main):n.requestDataName(Gt.Raw),field:n.vgField(r),sort:d}]:[{data:n.requestDataName(Gt.Main),field:n.vgField(r)}])}function H6(e,t){const{op:n,field:r,order:i}=e;return{op:n??(t?"sum":W5),...r?{field:pa(r)}:{},...i?{order:i}:{}}}function EVe(e,t){var s;const n=e.component.scales[t],r=e.specifiedScales[t].domain,i=(s=e.fieldDef(t))==null?void 0:s.bin,o=vae(r)&&r,a=R0(i)&&L5(i.extent)&&i.extent;(o||a)&&n.set("selectionExtent",o??a,!0)}function CVe(e,t,n){if(!ir(n))return;const r=e.fieldDef(t),i=r.sort;if(Nae(i))return{op:"min",field:ig(r,t),order:"ascending"};const{stack:o}=e,a=o?new Set([...o.groupbyFields,...o.stackBy.map(s=>s.fieldDef.field)]):void 0;if(Gs(i)){const s=o&&!a.has(i.field);return H6(i,s)}else if(Mae(i)){const{encoding:s,order:u}=i,l=e.fieldDef(s),{aggregate:c,field:f}=l,d=o&&!a.has(f);if(ml(c)||Tf(c))return H6({field:we(l),order:u},d);if(CO(c)||!c)return H6({op:c,field:f,order:u},d)}else{if(i==="descending")return{op:"min",field:e.vgField(t),order:"descending"};if(ct(["ascending",void 0],i))return!0}}function bW(e,t){const{aggregate:n,type:r}=e;return n?Ee(n)&&!nUe.has(n)?{valid:!1,reason:HUe(n)}:r==="quantitative"&&t==="log"?{valid:!1,reason:qUe(e)}:{valid:!0}:{valid:!1,reason:WUe(e)}}function F$(e,t,n,r){return e.explicit&&t.explicit&&ge(XUe(n,r,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function $Ve(e){const t=Ls(e.map(a=>{if(Zu(a)){const{sort:s,...u}=a;return u}return a}),lt),n=Ls(e.map(a=>{if(Zu(a)){const s=a.sort;return s!==void 0&&!Ky(s)&&("op"in s&&s.op==="count"&&delete s.field,s.order==="ascending"&&delete s.order),s}}).filter(a=>a!==void 0),lt);if(t.length===0)return;if(t.length===1){const a=e[0];if(Zu(a)&&n.length>0){let s=n[0];if(n.length>1){ge(kj);const u=n.filter(l=>$e(l)&&"op"in l&&l.op!=="min");n.every(l=>$e(l)&&"op"in l)&&u.length===1?s=u[0]:s=!0}else if($e(s)&&"field"in s){const u=s.field;a.field===u&&(s=s.order?{order:s.order}:!0)}return{...a,sort:s}}return a}const r=Ls(n.map(a=>Ky(a)||!("op"in a)||Ee(a.op)&&a.op in QBe?a:(ge(QUe(a)),!0)),lt);let i;r.length===1?i=r[0]:r.length>1&&(ge(kj),i=!0);const o=Ls(e.map(a=>Zu(a)?a.data:null),a=>a);return o.length===1&&o[0]!==null?{data:o[0],fields:t.map(s=>s.field),...i?{sort:i}:{}}:{fields:t,...i?{sort:i}:{}}}function $R(e){if(Zu(e)&&Ee(e.field))return e.field;if(rUe(e)){let t;for(const n of e.fields)if(Zu(n)&&Ee(n.field)){if(!t)t=n.field;else if(t!==n.field)return ge(ZUe),t}return ge(eje),t}else if(iUe(e)){ge(tje);const t=e.fields[0];return Ee(t)?t:void 0}}function aS(e,t){const r=e.component.scales[t].get("domains").map(i=>(Zu(i)&&(i.data=e.lookupDataSource(i.data)),i));return $Ve(r)}function wue(e){return Wg(e)||kR(e)?e.children.reduce((t,n)=>t.concat(wue(n)),xW(e)):xW(e)}function xW(e){return he(e.component.scales).reduce((t,n)=>{const r=e.component.scales[n];if(r.merged)return t;const i=r.combine(),{name:o,type:a,selectionExtent:s,domains:u,range:l,reverse:c,...f}=i,d=kVe(i.range,o,n,e),p=aS(e,n),g=s?Aqe(e,s,r,p):null;return t.push({name:o,type:a,...p?{domain:p}:{},...g?{domainRaw:g}:{},range:d,...c!==void 0?{reverse:c}:{},...f}),t},[])}function kVe(e,t,n,r){if(Cn(n)){if(Mf(e))return{step:{signal:`${t}_step`}}}else if($e(e)&&Zu(e))return{...e,data:r.lookupDataSource(e.data)};return e}class Aue extends Tl{constructor(t,n){super({},{name:t}),this.merged=!1,this.setWithExplicit("type",n)}domainDefinitelyIncludesZero(){return this.get("zero")!==!1?!0:s0(this.get("domains"),t=>se(t)&&t.length===2&&xt(t[0])&&t[0]<=0&&xt(t[1])&&t[1]>=0)}}const TVe=["range","scheme"];function MVe(e){const t=e.component.scales;for(const n of D5){const r=t[n];if(!r)continue;const i=NVe(n,e);r.setWithExplicit("range",i)}}function wW(e,t){const n=e.fieldDef(t);if(n!=null&&n.bin){const{bin:r,field:i}=n,o=Vi(t),a=e.getName(o);if($e(r)&&r.binned&&r.step!==void 0)return new Yn(()=>{const s=e.scaleName(t),u=`(domain("${s}")[1] - domain("${s}")[0]) / ${r.step}`;return`${e.getSignalName(a)} / (${u})`});if(Yt(r)){const s=_R(e,i,r);return new Yn(()=>{const u=e.getSignalName(s),l=`(${u}.stop - ${u}.start) / ${u}.step`;return`${e.getSignalName(a)} / (${l})`})}}}function NVe(e,t){const n=t.specifiedScales[e],{size:r}=t,o=t.getScaleComponent(e).get("type");for(const f of TVe)if(n[f]!==void 0){const d=v$(o,f),p=bae(e,f);if(!d)ge(Qoe(o,f,e));else if(p)ge(p);else switch(f){case"range":{const g=n.range;if(se(g)){if(Cn(e))return Ts(g.map(y=>{if(y==="width"||y==="height"){const v=t.getName(y),b=t.getSignalName.bind(t);return Yn.fromName(b,v)}return y}))}else if($e(g))return Ts({data:t.requestDataName(Gt.Main),field:g.field,sort:{op:"min",field:t.vgField(e)}});return Ts(g)}case"scheme":return Ts(OVe(n[f]))}}const a=e===sn||e==="xOffset"?"width":"height",s=r[a];if(nu(s)){if(Cn(e))if(ir(o)){const f=Sue(s,t,e);if(f)return Ts({step:f})}else ge(Zoe(a));else if(uv(e)){const f=e===Sf?"x":"y";if(t.getScaleComponent(f).get("type")==="band"){const g=Eue(s,o);if(g)return Ts(g)}}}const{rangeMin:u,rangeMax:l}=n,c=RVe(e,t);return(u!==void 0||l!==void 0)&&v$(o,"rangeMin")&&se(c)&&c.length===2?Ts([u??c[0],l??c[1]]):io(c)}function OVe(e){return Bje(e)?{scheme:e.name,...Bi(e,["name"])}:{scheme:e}}function _ue(e,t,n,{center:r}={}){const i=Vi(e),o=t.getName(i),a=t.getSignalName.bind(t);return e===ar&&So(n)?r?[Yn.fromName(s=>`${a(s)}/2`,o),Yn.fromName(s=>`-${a(s)}/2`,o)]:[Yn.fromName(a,o),0]:r?[Yn.fromName(s=>`-${a(s)}/2`,o),Yn.fromName(s=>`${a(s)}/2`,o)]:[0,Yn.fromName(a,o)]}function RVe(e,t){const{size:n,config:r,mark:i,encoding:o}=t,{type:a}=zn(o[e]),u=t.getScaleComponent(e).get("type"),{domain:l,domainMid:c}=t.specifiedScales[e];switch(e){case sn:case ar:{if(ct(["point","band"],u)){const f=Cue(e,n,r.view);if(nu(f))return{step:Sue(f,t,e)}}return _ue(e,t,u)}case Sf:case Pg:return FVe(e,t,u);case El:{const f=t.component.scales[e].get("zero"),d=$ue(i,f,r),p=PVe(i,n,t,r);return Kp(u)?LVe(d,p,DVe(u,r,l,e)):[d,p]}case ya:return[0,Math.PI*2];case N0:return[0,360];case fs:return[0,new Yn(()=>{const f=t.getSignalName("width"),d=t.getSignalName("height");return`min(${f},${d})/2`})];case $f:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case kf:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case Gi:return"symbol";case qi:case fu:case du:return u==="ordinal"?a==="nominal"?"category":"ordinal":c!==void 0?"diverging":i==="rect"||i==="geoshape"?"heatmap":"ramp";case Cl:case Ef:case Cf:return[r.scale.minOpacity,r.scale.maxOpacity]}}function Sue(e,t,n){const{encoding:r}=t,i=t.getScaleComponent(n),o=AO(n),a=r[o];if(cse({step:e,offsetIsDiscrete:Ye(a)&&hae(a.type)})==="offset"&&qae(r,o)){const u=t.getScaleComponent(o);let c=`domain('${t.scaleName(o)}').length`;if(u.get("type")==="band"){const d=u.get("paddingInner")??u.get("padding")??0,p=u.get("paddingOuter")??u.get("padding")??0;c=`bandspace(${c}, ${d}, ${p})`}const f=i.get("paddingInner")??i.get("padding");return{signal:`${e.step} * ${c} / (1-${uUe(f)})`}}else return e.step}function Eue(e,t){if(cse({step:e,offsetIsDiscrete:ir(t)})==="offset")return{step:e.step}}function FVe(e,t,n){const r=e===Sf?"x":"y",i=t.getScaleComponent(r);if(!i)return _ue(r,t,n,{center:!0});const o=i.get("type"),a=t.scaleName(r),{markDef:s,config:u}=t;if(o==="band"){const l=Cue(r,t.size,t.config.view);if(nu(l)){const c=Eue(l,n);if(c)return c}return[0,{signal:`bandwidth('${a}')`}]}else{const l=t.encoding[r];if(pe(l)&&l.timeUnit){const c=lae(l.timeUnit,g=>`scale('${a}', ${g})`),f=t.config.scale.bandWithNestedOffsetPaddingInner,d=af({fieldDef:l,markDef:s,config:u})-.5,p=d!==0?` + ${d}`:"";if(f){const g=Re(f)?`${f.signal}/2`+p:`${f/2+d}`,y=Re(f)?`(1 - ${f.signal}/2)`+p:`${1-f/2+d}`;return[{signal:`${g} * (${c})`},{signal:`${y} * (${c})`}]}return[0,{signal:c}]}return boe(`Cannot use ${e} scale if ${r} scale is not discrete.`)}}function Cue(e,t,n){const r=e===sn?"width":"height",i=t[r];return i||T_(n,r)}function DVe(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return n!==void 0&&se(n)?n.length+1:(ge(cje(r)),3)}}function LVe(e,t,n){const r=()=>{const i=Wa(t),o=Wa(e),a=`(${i} - ${o}) / (${n} - 1)`;return`sequence(${o}, ${i} + ${a}, ${a})`};return Re(t)?new Yn(r):{signal:r()}}function $ue(e,t,n){if(t)return Re(t)?{signal:`${t.signal} ? 0 : ${$ue(e,!1,n)}`}:0;switch(e){case"bar":case"tick":return n.scale.minBandSize;case"line":case"trail":case"rule":return n.scale.minStrokeWidth;case"text":return n.scale.minFontSize;case"point":case"square":case"circle":return n.scale.minSize}throw new Error(P5("size",e))}const AW=.95;function PVe(e,t,n,r){const i={x:wW(n,"x"),y:wW(n,"y")};switch(e){case"bar":case"tick":{if(r.scale.maxBandSize!==void 0)return r.scale.maxBandSize;const o=_W(t,i,r.view);return xt(o)?o-1:new Yn(()=>`${o.signal} - 1`)}case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":{if(r.scale.maxSize)return r.scale.maxSize;const o=_W(t,i,r.view);return xt(o)?Math.pow(AW*o,2):new Yn(()=>`pow(${AW} * ${o.signal}, 2)`)}}throw new Error(P5("size",e))}function _W(e,t,n){const r=nu(e.width)?e.width.step:k_(n,"width"),i=nu(e.height)?e.height.step:k_(n,"height");return t.x||t.y?new Yn(()=>`min(${[t.x?t.x.signal:r,t.y?t.y.signal:i].join(", ")})`):Math.min(r,i)}function kue(e,t){yn(e)?IVe(e,t):Mue(e,t)}function IVe(e,t){const n=e.component.scales,{config:r,encoding:i,markDef:o,specifiedScales:a}=e;for(const s of he(n)){const u=a[s],l=n[s],c=e.getScaleComponent(s),f=zn(i[s]),d=u[t],p=c.get("type"),g=c.get("padding"),y=c.get("paddingInner"),v=v$(p,t),b=bae(s,t);if(d!==void 0&&(v?b&&ge(b):ge(Qoe(p,t,s))),v&&b===void 0)if(d!==void 0){const x=f.timeUnit,_=f.type;switch(t){case"domainMax":case"domainMin":F0(u[t])||_==="temporal"||x?l.set(t,{signal:Y5(u[t],{type:_,timeUnit:x})},!0):l.set(t,u[t],!0);break;default:l.copyKeyFromObject(t,u)}}else{const x=t in SW?SW[t]({model:e,channel:s,fieldOrDatumDef:f,scaleType:p,scalePadding:g,scalePaddingInner:y,domain:u.domain,domainMin:u.domainMin,domainMax:u.domainMax,markDef:o,config:r,hasNestedOffsetScale:Gae(i,s),hasSecondaryRangeChannel:!!i[hu(s)]}):r.scale[t];x!==void 0&&l.set(t,x,!1)}}}const SW={bins:({model:e,fieldOrDatumDef:t})=>pe(t)?zVe(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>BVe(e,t.type),nice:({scaleType:e,channel:t,domain:n,domainMin:r,domainMax:i,fieldOrDatumDef:o})=>UVe(e,t,n,r,i,o),padding:({channel:e,scaleType:t,fieldOrDatumDef:n,markDef:r,config:i})=>jVe(e,t,i.scale,n,r,i.bar),paddingInner:({scalePadding:e,channel:t,markDef:n,scaleType:r,config:i,hasNestedOffsetScale:o})=>WVe(e,t,n.type,r,i.scale,o),paddingOuter:({scalePadding:e,channel:t,scaleType:n,scalePaddingInner:r,config:i,hasNestedOffsetScale:o})=>HVe(e,t,n,r,i.scale,o),reverse:({fieldOrDatumDef:e,scaleType:t,channel:n,config:r})=>{const i=pe(e)?e.sort:void 0;return qVe(t,i,n,r.scale)},zero:({channel:e,fieldOrDatumDef:t,domain:n,markDef:r,scaleType:i,config:o,hasSecondaryRangeChannel:a})=>GVe(e,t,n,r,i,o.scale,a)};function Tue(e){yn(e)?MVe(e):Mue(e,"range")}function Mue(e,t){const n=e.component.scales;for(const r of e.children)t==="range"?Tue(r):kue(r,t);for(const r of he(n)){let i;for(const o of e.children){const a=o.component.scales[r];if(a){const s=a.getWithExplicit(t);i=sf(i,s,t,"scale",_se((u,l)=>{switch(t){case"range":return u.step&&l.step?u.step-l.step:0}return 0}))}}n[r].setWithExplicit(t,i)}}function zVe(e,t){const n=t.bin;if(Yt(n)){const r=_R(e,t.field,n);return new Yn(()=>e.getSignalName(r))}else if(cr(n)&&R0(n)&&n.step!==void 0)return{step:n.step}}function BVe(e,t){if(ct([qi,fu,du],e)&&t!=="nominal")return"hcl"}function UVe(e,t,n,r,i,o){var a;if(!((a=tu(o))!=null&&a.bin||se(n)||i!=null||r!=null||ct([Ui.TIME,Ui.UTC],e)))return Cn(t)?!0:void 0}function jVe(e,t,n,r,i,o){if(Cn(e)){if(Ha(t)){if(n.continuousPadding!==void 0)return n.continuousPadding;const{type:a,orient:s}=i;if(a==="bar"&&!(pe(r)&&(r.bin||r.timeUnit))&&(s==="vertical"&&e==="x"||s==="horizontal"&&e==="y"))return o.continuousBandSize}if(t===Ui.POINT)return n.pointPadding}}function WVe(e,t,n,r,i,o=!1){if(e===void 0){if(Cn(t)){const{bandPaddingInner:a,barBandPaddingInner:s,rectBandPaddingInner:u,bandWithNestedOffsetPaddingInner:l}=i;return o?l:En(a,n==="bar"?s:u)}else if(uv(t)&&r===Ui.BAND)return i.offsetBandPaddingInner}}function HVe(e,t,n,r,i,o=!1){if(e===void 0){if(Cn(t)){const{bandPaddingOuter:a,bandWithNestedOffsetPaddingOuter:s}=i;if(o)return s;if(n===Ui.BAND)return En(a,Re(r)?{signal:`${r.signal}/2`}:r/2)}else if(uv(t)){if(n===Ui.POINT)return .5;if(n===Ui.BAND)return i.offsetBandPaddingOuter}}}function qVe(e,t,n,r){if(n==="x"&&r.xReverse!==void 0)return So(e)&&t==="descending"?Re(r.xReverse)?{signal:`!${r.xReverse.signal}`}:!r.xReverse:r.xReverse;if(So(e)&&t==="descending")return!0}function GVe(e,t,n,r,i,o,a){if(!!n&&n!=="unaggregated"&&So(i)){if(se(n)){const u=n[0],l=n[n.length-1];if(xt(u)&&u<=0&&xt(l)&&l>=0)return!0}return!1}if(e==="size"&&t.type==="quantitative"&&!Kp(i))return!0;if(!(pe(t)&&t.bin)&&ct([...pu,...HBe],e)){const{orient:u,type:l}=r;return ct(["bar","area","line","trail"],l)&&(u==="horizontal"&&e==="y"||u==="vertical"&&e==="x")?!1:ct(["bar","area"],l)&&!a?!0:o==null?void 0:o.zero}return!1}function VVe(e,t,n,r,i=!1){const o=YVe(t,n,r,i),{type:a}=e;return $l(t)?a!==void 0?Vje(t,a)?pe(n)&&!Gje(a,n.type)?(ge(YUe(a,o)),o):a:(ge(VUe(t,a,o)),o):o:null}function YVe(e,t,n,r){var i;switch(t.type){case"nominal":case"ordinal":{if(sp(e)||D6(e)==="discrete")return e==="shape"&&t.type==="ordinal"&&ge(L6(e,"ordinal")),"ordinal";if(Cn(e)||uv(e)){if(ct(["rect","bar","image","rule"],n.type)||r)return"band"}else if(n.type==="arc"&&e in EO)return"band";const o=n[Vi(e)];return d0(o)||Zp(t)&&((i=t.axis)!=null&&i.tickBand)?"band":"point"}case"temporal":return sp(e)?"time":D6(e)==="discrete"?(ge(L6(e,"temporal")),"ordinal"):pe(t)&&t.timeUnit&&rr(t.timeUnit).utc?"utc":"time";case"quantitative":return sp(e)?pe(t)&&Yt(t.bin)?"bin-ordinal":"linear":D6(e)==="discrete"?(ge(L6(e,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(Xoe(t.type))}function JVe(e,{ignoreRange:t}={}){Nue(e),xue(e);for(const n of qje)kue(e,n);t||Tue(e)}function Nue(e){yn(e)?e.component.scales=XVe(e):e.component.scales=QVe(e)}function XVe(e){const{encoding:t,mark:n,markDef:r}=e,i={};for(const o of D5){const a=zn(t[o]);if(a&&n===Aae&&o===Gi&&a.type===Ig)continue;let s=a&&a.scale;if(a&&s!==null&&s!==!1){s??(s={});const u=Gae(t,o),l=VVe(s,o,a,r,u);i[o]=new Aue(e.scaleName(`${o}`,!0),{value:l,explicit:s.type===l})}}return i}const KVe=_se((e,t)=>Mj(e)-Mj(t));function QVe(e){var t;const n=e.component.scales={},r={},i=e.component.resolve;for(const o of e.children){Nue(o);for(const a of he(o.component.scales))if((t=i.scale)[a]??(t[a]=sue(a,e)),i.scale[a]==="shared"){const s=r[a],u=o.component.scales[a].getWithExplicit("type");s?Dje(s.value,u.value)?r[a]=sf(s,u,"type","scale",KVe):(i.scale[a]="independent",delete r[a]):r[a]=u}}for(const o of he(r)){const a=e.scaleName(o,!0),s=r[o];n[o]=new Aue(a,s);for(const u of e.children){const l=u.component.scales[o];l&&(u.renameScale(l.get("name"),a),l.merged=!0)}}return n}class q6{constructor(){this.nameMap={}}rename(t,n){this.nameMap[t]=n}has(t){return this.nameMap[t]!==void 0}get(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}}function yn(e){return(e==null?void 0:e.type)==="unit"}function Qa(e){return(e==null?void 0:e.type)==="facet"}function kR(e){return(e==null?void 0:e.type)==="concat"}function Wg(e){return(e==null?void 0:e.type)==="layer"}class TR{constructor(t,n,r,i,o,a,s){this.type=n,this.parent=r,this.config=o,this.correctDataNames=u=>{var l,c,f;return(l=u.from)!=null&&l.data&&(u.from.data=this.lookupDataSource(u.from.data)),(f=(c=u.from)==null?void 0:c.facet)!=null&&f.data&&(u.from.facet.data=this.lookupDataSource(u.from.facet.data)),u},this.parent=r,this.config=o,this.view=Ti(s),this.name=t.name??i,this.title=ic(t.title)?{text:t.title}:t.title?Ti(t.title):void 0,this.scaleNameMap=r?r.scaleNameMap:new q6,this.projectionNameMap=r?r.projectionNameMap:new q6,this.signalNameMap=r?r.signalNameMap:new q6,this.data=t.data,this.description=t.description,this.transforms=oqe(t.transform??[]),this.layout=n==="layer"||n==="unit"?{}:lHe(t,n,o),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:H5(t)||(r==null?void 0:r.component.data.isFaceted)&&t.data===void 0},layoutSize:new Tl,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...a?Ve(a):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){JVe(this)}parseProjection(){yue(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){due(this)}assembleEncodeFromView(t){const{style:n,...r}=t,i={};for(const o of he(r)){const a=r[o];a!==void 0&&(i[o]=Qt(a))}return i}assembleGroupEncodeEntry(t){let n={};return this.view&&(n=this.assembleEncodeFromView(this.view)),!t&&(this.description&&(n.description=Qt(this.description)),this.type==="unit"||this.type==="layer")?{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...n??{}}:zt(n)?void 0:n}assembleLayout(){if(!this.layout)return;const{spacing:t,...n}=this.layout,{component:r,config:i}=this,o=bGe(r.layoutHeaders,i);return{padding:t,...this.assembleDefaultLayout(),...n,...o?{titleBand:o}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:t}=this.component;let n=[];for(const r of Xo)t[r].title&&n.push(hGe(this,r));for(const r of bR)n=n.concat(pGe(this,r));return n}assembleAxes(){return eGe(this.component.axes,this.config)}assembleLegends(){return pue(this)}assembleProjections(){return jGe(this)}assembleTitle(){const{encoding:t,...n}=this.title??{},r={...Uoe(this.config.title).nonMarkTitleProperties,...n,...t?{encode:{update:t}}:{}};if(r.text)return ct(["unit","layer"],this.type)?ct(["middle",void 0],r.anchor)&&(r.frame??(r.frame="group")):r.anchor??(r.anchor="start"),zt(r)?void 0:r}assembleGroup(t=[]){const n={};t=t.concat(this.assembleSignals()),t.length>0&&(n.signals=t);const r=this.assembleLayout();r&&(n.layout=r),n.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const i=!this.parent||Qa(this.parent)?wue(this):[];i.length>0&&(n.scales=i);const o=this.assembleAxes();o.length>0&&(n.axes=o);const a=this.assembleLegends();return a.length>0&&(n.legends=a),n}getName(t){return an((this.name?`${this.name}_`:"")+t)}getDataName(t){return this.getName(Gt[t].toLowerCase())}requestDataName(t){const n=this.getDataName(t),r=this.component.data.outputNodeRefCounts;return r[n]=(r[n]||0)+1,n}getSizeSignalRef(t){if(Qa(this.parent)){const n=oue(t),r=F5(n),i=this.component.scales[r];if(i&&!i.merged){const o=i.get("type"),a=i.get("range");if(ir(o)&&Mf(a)){const s=i.get("name"),u=aS(this,r),l=$R(u);if(l){const c=we({aggregate:"distinct",field:l},{expr:"datum"});return{signal:iue(s,i,c)}}else return ge(kO(r)),null}}}return{signal:this.signalNameMap.get(this.getName(t))}}lookupDataSource(t){const n=this.component.data.outputNodes[t];return n?n.getSource():t}getSignalName(t){return this.signalNameMap.get(t)}renameSignal(t,n){this.signalNameMap.rename(t,n)}renameScale(t,n){this.scaleNameMap.rename(t,n)}renameProjection(t,n){this.projectionNameMap.rename(t,n)}scaleName(t,n){if(n)return this.getName(t);if(Ooe(t)&&$l(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t)))return this.scaleNameMap.get(this.getName(t))}projectionName(t){if(t)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const n=this.component.scales[t];return n&&!n.merged?n:this.parent?this.parent.getScaleComponent(t):void 0}getSelectionComponent(t,n){let r=this.component.selection[t];if(!r&&this.parent&&(r=this.parent.getSelectionComponent(t,n)),!r)throw new Error(hUe(n));return r}hasAxisOrientSignalRef(){var t,n;return((t=this.component.axes.x)==null?void 0:t.some(r=>r.hasOrientSignalRef()))||((n=this.component.axes.y)==null?void 0:n.some(r=>r.hasOrientSignalRef()))}}class Oue extends TR{vgField(t,n={}){const r=this.fieldDef(t);if(r)return we(r,n)}reduceFieldDef(t,n){return IWe(this.getMapping(),(r,i,o)=>{const a=tu(i);return a?t(r,a,o):r},n)}forEachFieldDef(t,n){tR(this.getMapping(),(r,i)=>{const o=tu(r);o&&t(o,i)},n)}}class sS extends Pt{clone(){return new sS(null,Ve(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Ve(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"value",r[1]??"density"]}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${lt(this.transform)}`}assemble(){const{density:t,...n}=this.transform,r={type:"kde",field:t,...n};return this.transform.groupby&&(r.resolve="shared"),r}}class uS extends Pt{clone(){return new uS(null,Ve(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Ve(n)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${lt(this.transform)}`}assemble(){const{extent:t,param:n}=this.transform;return{type:"extent",field:t,signal:n}}}class t2 extends Pt{clone(){return new t2(null,{...this.filter})}constructor(t,n){super(t),this.filter=n}static make(t,n){const{config:r,mark:i,markDef:o}=n;if(Rt("invalid",o,r)!=="filter")return null;const s=n.reduceFieldDef((u,l,c)=>{const f=$l(c)&&n.getScaleComponent(c);if(f){const d=f.get("type");So(d)&&l.aggregate!=="count"&&!Nf(i)&&(u[l.field]=l)}return u},{});return he(s).length?new t2(t,s):null}dependentFields(){return new Set(he(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${lt(this.filter)}`}assemble(){const t=he(this.filter).reduce((n,r)=>{const i=this.filter[r],o=we(i,{expr:"datum"});return i!==null&&(i.type==="temporal"?n.push(`(isDate(${o}) || (isValid(${o}) && isFinite(+${o})))`):i.type==="quantitative"&&(n.push(`isValid(${o})`),n.push(`isFinite(+${o})`))),n},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}class lS extends Pt{clone(){return new lS(this.parent,Ve(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Ve(n);const{flatten:r,as:i=[]}=this.transform;this.transform.as=r.map((o,a)=>i[a]??o)}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${lt(this.transform)}`}assemble(){const{flatten:t,as:n}=this.transform;return{type:"flatten",fields:t,as:n}}}class cS extends Pt{clone(){return new cS(null,Ve(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Ve(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"key",r[1]??"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${lt(this.transform)}`}assemble(){const{fold:t,as:n}=this.transform;return{type:"fold",fields:t,as:n}}}class cp extends Pt{clone(){return new cp(null,Ve(this.fields),this.geojson,this.signal)}static parseAll(t,n){if(n.component.projection&&!n.component.projection.isFit)return t;let r=0;for(const i of[[hs,ds],[ga,ps]]){const o=i.map(a=>{const s=zn(n.encoding[a]);return pe(s)?s.field:gu(s)?{expr:`${s.datum}`}:rs(s)?{expr:`${s.value}`}:void 0});(o[0]||o[1])&&(t=new cp(t,o,null,n.getName(`geojson_${r++}`)))}if(n.channelHasField(Gi)){const i=n.typedFieldDef(Gi);i.type===Ig&&(t=new cp(t,null,i.field,n.getName(`geojson_${r++}`)))}return t}constructor(t,n,r,i){super(t),this.fields=n,this.geojson=r,this.signal=i}dependentFields(){const t=(this.fields??[]).filter(Ee);return new Set([...this.geojson?[this.geojson]:[],...t])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${lt(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class n2 extends Pt{clone(){return new n2(null,this.projection,Ve(this.fields),Ve(this.as))}constructor(t,n,r,i){super(t),this.projection=n,this.fields=r,this.as=i}static parseAll(t,n){if(!n.projectionName())return t;for(const r of[[hs,ds],[ga,ps]]){const i=r.map(a=>{const s=zn(n.encoding[a]);return pe(s)?s.field:gu(s)?{expr:`${s.datum}`}:rs(s)?{expr:`${s.value}`}:void 0}),o=r[0]===ga?"2":"";(i[0]||i[1])&&(t=new n2(t,n.projectionName(),i,[n.getName(`x${o}`),n.getName(`y${o}`)]))}return t}dependentFields(){return new Set(this.fields.filter(Ee))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${lt(this.fields)} ${lt(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class Dd extends Pt{clone(){return new Dd(null,Ve(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(t){const{start:n=0,stop:r,step:i}=t;return{signal:`sequence(${[n,r,...i?[i]:[]].join(",")})`}}static makeFromTransform(t,n){return new Dd(t,n)}static makeFromEncoding(t,n){const r=n.encoding,i=r.x,o=r.y;if(pe(i)&&pe(o)){const a=i.impute?i:o.impute?o:void 0;if(a===void 0)return;const s=i.impute?o:o.impute?i:void 0,{method:u,value:l,frame:c,keyvals:f}=a.impute,d=Yae(n.mark,r);return new Dd(t,{impute:a.field,key:s.field,...u?{method:u}:{},...l!==void 0?{value:l}:{},...c?{frame:c}:{},...f!==void 0?{keyvals:f}:{},...d.length?{groupby:d}:{}})}return null}hash(){return`Impute ${lt(this.transform)}`}assemble(){const{impute:t,key:n,keyvals:r,method:i,groupby:o,value:a,frame:s=[null,null]}=this.transform,u={type:"impute",field:t,key:n,...r?{keyvals:BHe(r)?this.processSequence(r):r}:{},method:"value",...o?{groupby:o}:{},value:!i||i==="value"?a:null};if(i&&i!=="value"){const l={type:"window",as:[`imputed_${t}_value`],ops:[i],fields:[t],frame:s,ignorePeers:!1,...o?{groupby:o}:{}},c={type:"formula",expr:`datum.${t} === null ? datum.imputed_${t}_value : datum.${t}`,as:t};return[u,l,c]}else return[u]}}class fS extends Pt{clone(){return new fS(null,Ve(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Ve(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.loess]}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${lt(this.transform)}`}assemble(){const{loess:t,on:n,...r}=this.transform;return{type:"loess",x:n,y:t,...r}}}class r2 extends Pt{clone(){return new r2(null,Ve(this.transform),this.secondary)}constructor(t,n,r){super(t),this.transform=n,this.secondary=r}static make(t,n,r,i){const o=n.component.data.sources,{from:a}=r;let s=null;if(UHe(a)){let u=Due(a.data,o);u||(u=new m0(a.data),o.push(u));const l=n.getName(`lookup_${i}`);s=new li(u,l,Gt.Lookup,n.component.data.outputNodeRefCounts),n.component.data.outputNodes[l]=s}else if(jHe(a)){const u=a.param;r={as:u,...r};let l;try{l=n.getSelectionComponent(an(u),u)}catch{throw new Error(mUe(u))}if(s=l.materialized,!s)throw new Error(yUe(u))}return new r2(t,r,s.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?Se(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${lt({transform:this.transform,secondary:this.secondary})}`}assemble(){let t;if(this.transform.from.fields)t={values:this.transform.from.fields,...this.transform.as?{as:Se(this.transform.as)}:{}};else{let n=this.transform.as;Ee(n)||(ge(EUe),n="_lookup"),t={as:[n]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...t,...this.transform.default?{default:this.transform.default}:{}}}}class dS extends Pt{clone(){return new dS(null,Ve(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Ve(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"prob",r[1]??"value"]}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${lt(this.transform)}`}assemble(){const{quantile:t,...n}=this.transform;return{type:"quantile",field:t,...n}}}class hS extends Pt{clone(){return new hS(null,Ve(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Ve(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.regression]}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${lt(this.transform)}`}assemble(){const{regression:t,on:n,...r}=this.transform;return{type:"regression",x:n,y:t,...r}}}class pS extends Pt{clone(){return new pS(null,Ve(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Ls((this.transform.groupby??[]).concat(t),n=>n)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${lt(this.transform)}`}assemble(){const{pivot:t,value:n,groupby:r,limit:i,op:o}=this.transform;return{type:"pivot",field:t,value:n,...i!==void 0?{limit:i}:{},...o!==void 0?{op:o}:{},...r!==void 0?{groupby:r}:{}}}}class gS extends Pt{clone(){return new gS(null,Ve(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${lt(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function Rue(e){let t=0;function n(r,i){if(r instanceof m0&&!r.isGenerator&&!tg(r.data)&&(e.push(i),i={name:null,source:i.name,transform:[]}),r instanceof Dr&&(r.parent instanceof m0&&!i.source?(i.format={...i.format??{},parse:r.assembleFormatParse()},i.transform.push(...r.assembleTransforms(!0))):i.transform.push(...r.assembleTransforms())),r instanceof Ug){i.name||(i.name=`data_${t++}`),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,e.push(...r.assemble());return}switch((r instanceof yv||r instanceof vv||r instanceof t2||r instanceof Bg||r instanceof rg||r instanceof n2||r instanceof Ka||r instanceof r2||r instanceof jg||r instanceof I0||r instanceof cS||r instanceof lS||r instanceof sS||r instanceof fS||r instanceof dS||r instanceof hS||r instanceof cf||r instanceof gS||r instanceof pS||r instanceof uS)&&i.transform.push(r.assemble()),(r instanceof Ys||r instanceof Vs||r instanceof Dd||r instanceof ol||r instanceof cp)&&i.transform.push(...r.assemble()),r instanceof li&&(i.source&&i.transform.length===0?r.setSource(i.source):r.parent instanceof li?r.setSource(i.name):(i.name||(i.name=`data_${t++}`),r.setSource(i.name),r.numChildren()===1&&(e.push(i),i={name:null,source:i.name,transform:[]}))),r.numChildren()){case 0:r instanceof li&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:{i.name||(i.name=`data_${t++}`);let o=i.name;!i.source||i.transform.length>0?e.push(i):o=i.source;for(const a of r.children)n(a,{name:null,source:o,transform:[]});break}}}return n}function ZVe(e){const t=[],n=Rue(t);for(const r of e.children)n(r,{source:e.name,name:null,transform:[]});return t}function eYe(e,t){const n=[],r=Rue(n);let i=0;for(const a of e.sources){a.hasName()||(a.dataName=`source_${i++}`);const s=a.assemble();r(a,s)}for(const a of n)a.transform.length===0&&delete a.transform;let o=0;for(const[a,s]of n.entries())(s.transform??[]).length===0&&!s.source&&n.splice(o++,0,n.splice(a,1)[0]);for(const a of n)for(const s of a.transform??[])s.type==="lookup"&&(s.from=e.outputNodes[s.from].getSource());for(const a of n)a.name in t&&(a.values=t[a.name]);return n}function tYe(e){return e==="top"||e==="left"||Re(e)?"header":"footer"}function nYe(e){for(const t of Xo)rYe(e,t);EW(e,"x"),EW(e,"y")}function rYe(e,t){var a;const{facet:n,config:r,child:i,component:o}=e;if(e.channelHasField(t)){const s=n[t],u=og("title",null,r,t);let l=up(s,r,{allowDisabling:!0,includeDefault:u===void 0||!!u});i.component.layoutHeaders[t].title&&(l=se(l)?l.join(", "):l,l+=` / ${i.component.layoutHeaders[t].title}`,i.component.layoutHeaders[t].title=null);const c=og("labelOrient",s.header,r,t),f=s.header!==null?En((a=s.header)==null?void 0:a.labels,r.header.labels,!0):!1,d=ct(["bottom","right"],c)?"footer":"header";o.layoutHeaders[t]={title:s.header!==null?l:null,facetFieldDef:s,[d]:t==="facet"?[]:[Fue(e,t,f)]}}}function Fue(e,t,n){const r=t==="row"?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function EW(e,t){const{child:n}=e;if(n.component.axes[t]){const{layoutHeaders:r,resolve:i}=e.component;if(i.axis[t]=AR(i,t),i.axis[t]==="shared"){const o=t==="x"?"column":"row",a=r[o];for(const s of n.component.axes[t]){const u=tYe(s.get("orient"));a[u]??(a[u]=[Fue(e,o,!1)]);const l=Sm(s,"main",e.config,{header:!0});l&&a[u][0].axes.push(l),s.mainExtracted=!0}}}}function iYe(e){MR(e),R_(e,"width"),R_(e,"height")}function oYe(e){MR(e);const t=e.layout.columns===1?"width":"childWidth",n=e.layout.columns===void 0?"height":"childHeight";R_(e,t),R_(e,n)}function MR(e){for(const t of e.children)t.parseLayoutSize()}function R_(e,t){const n=oue(t),r=F5(n),i=e.component.resolve,o=e.component.layoutSize;let a;for(const s of e.children){const u=s.component.layoutSize.getWithExplicit(n),l=i.scale[r]??sue(r,e);if(l==="independent"&&u.value==="step"){a=void 0;break}if(a){if(l==="independent"&&a.value!==u.value){a=void 0;break}a=sf(a,u,n,"")}else a=u}if(a){for(const s of e.children)e.renameSignal(s.getName(n),e.getName(t)),s.component.layoutSize.set(n,"merged",!1);o.setWithExplicit(t,a)}else o.setWithExplicit(t,{explicit:!1,value:void 0})}function aYe(e){const{size:t,component:n}=e;for(const r of pu){const i=Vi(r);if(t[i]){const o=t[i];n.layoutSize.set(i,nu(o)?"step":o,!0)}else{const o=sYe(e,i);n.layoutSize.set(i,o,!1)}}}function sYe(e,t){const n=t==="width"?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){const o=i.get("type"),a=i.get("range");if(ir(o)){const s=T_(r.view,t);return Mf(a)||nu(s)?"step":s}else return w$(r.view,t)}else{if(e.hasProjection||e.mark==="arc")return w$(r.view,t);{const o=T_(r.view,t);return nu(o)?o.step:o}}}function D$(e,t,n){return we(t,{suffix:`by_${we(e)}`,...n??{}})}class ey extends Oue{constructor(t,n,r,i){super(t,"facet",n,r,i,t.resolve),this.child=DR(t.spec,this,this.getName("child"),void 0,i),this.children=[this.child],this.facet=this.initFacet(t.facet)}initFacet(t){if(!dv(t))return{facet:this.initFacetFieldDef(t,"facet")};const n=he(t),r={};for(const i of n){if(![nl,rl].includes(i)){ge(P5(i,"facet"));break}const o=t[i];if(o.field===void 0){ge(m$(o,i));break}r[i]=this.initFacetFieldDef(o,i)}return r}initFacetFieldDef(t,n){const r=ZO(t,n);return r.header?r.header=Ti(r.header):r.header===null&&(r.header=null),r}channelHasField(t){return!!this.facet[t]}fieldDef(t){return this.facet[t]}parseData(){this.component.data=mS(this),this.child.parseData()}parseLayoutSize(){MR(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),nYe(this)}assembleSelectionTopLevelSignals(t){return this.child.assembleSelectionTopLevelSignals(t)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(t){return this.child.assembleSelectionData(t)}getHeaderLayoutMixins(){const t={};for(const n of Xo)for(const r of xR){const i=this.component.layoutHeaders[n],o=i[r],{facetFieldDef:a}=i;if(a){const s=og("titleOrient",a.header,this.config,n);if(["right","bottom"].includes(s)){const u=iS(n,s);t.titleAnchor??(t.titleAnchor={}),t.titleAnchor[u]="end"}}if(o!=null&&o[0]){const s=n==="row"?"height":"width",u=r==="header"?"headerBand":"footerBand";n!=="facet"&&!this.child.component.layoutSize.get(s)&&(t[u]??(t[u]={}),t[u][n]=.5),i.title&&(t.offset??(t.offset={}),t.offset[n==="row"?"rowTitle":"columnTitle"]=10)}}return t}assembleDefaultLayout(){const{column:t,row:n}=this.facet,r=t?this.columnDistinctSignal():n?1:void 0;let i="all";return(!n&&this.component.resolve.scale.x==="independent"||!t&&this.component.resolve.scale.y==="independent")&&(i="none"),{...this.getHeaderLayoutMixins(),...r?{columns:r}:{},bounds:"full",align:i}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof ey))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(t){return this.parent&&this.parent instanceof ey?{...this.channelHasField("column")?{encode:{update:{columns:{field:we(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(t)}:super.assembleGroup(t)}getCardinalityAggregateForChild(){const t=[],n=[],r=[];if(this.child instanceof ey){if(this.child.channelHasField("column")){const i=we(this.child.facet.column);t.push(i),n.push("distinct"),r.push(`distinct_${i}`)}}else for(const i of pu){const o=this.child.component.scales[i];if(o&&!o.merged){const a=o.get("type"),s=o.get("range");if(ir(a)&&Mf(s)){const u=aS(this.child,i),l=$R(u);l?(t.push(l),n.push("distinct"),r.push(`distinct_${l}`)):ge(kO(i))}}}return{fields:t,ops:n,as:r}}assembleFacet(){const{name:t,data:n}=this.component.data.facetRoot,{row:r,column:i}=this.facet,{fields:o,ops:a,as:s}=this.getCardinalityAggregateForChild(),u=[];for(const c of Xo){const f=this.facet[c];if(f){u.push(we(f));const{bin:d,sort:p}=f;if(Yt(d)&&u.push(we(f,{binSuffix:"end"})),Gs(p)){const{field:g,op:y=W5}=p,v=D$(f,p);r&&i?(o.push(v),a.push("max"),s.push(v)):(o.push(g),a.push(y),s.push(v))}else if(se(p)){const g=ig(f,c);o.push(g),a.push("max"),s.push(g)}}}const l=!!r&&!!i;return{name:t,data:n,groupby:u,...l||o.length>0?{aggregate:{...l?{cross:l}:{},...o.length?{fields:o,ops:a,as:s}:{}}}:{}}}facetSortFields(t){const{facet:n}=this,r=n[t];return r?Gs(r.sort)?[D$(r,r.sort,{expr:"datum"})]:se(r.sort)?[ig(r,t,{expr:"datum"})]:[we(r,{expr:"datum"})]:[]}facetSortOrder(t){const{facet:n}=this,r=n[t];if(r){const{sort:i}=r;return[(Gs(i)?i.order:!se(i)&&i)||"ascending"]}return[]}assembleLabelTitle(){var i;const{facet:t,config:n}=this;if(t.facet)return T$(t.facet,"facet",n);const r={row:["top","bottom"],column:["left","right"]};for(const o of bR)if(t[o]){const a=og("labelOrient",(i=t[o])==null?void 0:i.header,n,o);if(r[o].includes(a))return T$(t[o],o,n)}}assembleMarks(){const{child:t}=this,n=this.component.data.facetRoot,r=ZVe(n),i=t.assembleGroupEncodeEntry(!1),o=this.assembleLabelTitle()||t.assembleTitle(),a=t.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...o?{title:o}:{},...a?{style:a}:{},from:{facet:this.assembleFacet()},sort:{field:Xo.map(u=>this.facetSortFields(u)).flat(),order:Xo.map(u=>this.facetSortOrder(u)).flat()},...r.length>0?{data:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup(vqe(this,[]))}]}getMapping(){return this.facet}}function uYe(e,t){const{row:n,column:r}=t;if(n&&r){let i=null;for(const o of[n,r])if(Gs(o.sort)){const{field:a,op:s=W5}=o.sort;e=i=new I0(e,{joinaggregate:[{op:s,field:a,as:D$(o,o.sort,{forAs:!0})}],groupby:[we(o)]})}return i}return null}function Due(e,t){var n,r,i,o;for(const a of t){const s=a.data;if(e.name&&a.hasName()&&e.name!==a.dataName)continue;const u=(n=e.format)==null?void 0:n.mesh,l=(r=s.format)==null?void 0:r.feature;if(u&&l)continue;const c=(i=e.format)==null?void 0:i.feature;if((c||l)&&c!==l)continue;const f=(o=s.format)==null?void 0:o.mesh;if(!((u||f)&&u!==f)){if(e2(e)&&e2(s)){if(ho(e.values,s.values))return a}else if(tg(e)&&tg(s)){if(e.url===s.url)return a}else if(Sse(e)&&e.name===a.dataName)return a}}return null}function lYe(e,t){if(e.data||!e.parent){if(e.data===null){const r=new m0({values:[]});return t.push(r),r}const n=Due(e.data,t);if(n)return Dc(e.data)||(n.data.format=xoe({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const r=new m0(e.data);return t.push(r),r}}else return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function cYe(e,t,n){let r=0;for(const i of t.transforms){let o,a;if(QHe(i))a=e=new rg(e,i),o="derived";else if(dR(i)){const s=tVe(i);a=e=Dr.makeWithAncestors(e,{},s,n)??e,e=new Bg(e,t,i.filter)}else if(bse(i))a=e=Ys.makeFromTransform(e,i,t),o="number";else if(eqe(i))o="date",n.getWithExplicit(i.field).value===void 0&&(e=new Dr(e,{[i.field]:o}),n.set(i.field,o,!1)),a=e=Vs.makeFromTransform(e,i);else if(tqe(i))a=e=Ka.makeFromTransform(e,i),o="number",vR(t)&&(e=new cf(e));else if(vse(i))a=e=r2.make(e,t,i,r++),o="derived";else if(JHe(i))a=e=new jg(e,i),o="number";else if(XHe(i))a=e=new I0(e,i),o="number";else if(nqe(i))a=e=ol.makeFromTransform(e,i),o="derived";else if(rqe(i))a=e=new cS(e,i),o="derived";else if(iqe(i))a=e=new uS(e,i),o="derived";else if(KHe(i))a=e=new lS(e,i),o="derived";else if(WHe(i))a=e=new pS(e,i),o="derived";else if(YHe(i))e=new gS(e,i);else if(ZHe(i))a=e=Dd.makeFromTransform(e,i),o="derived";else if(HHe(i))a=e=new sS(e,i),o="derived";else if(qHe(i))a=e=new dS(e,i),o="derived";else if(GHe(i))a=e=new hS(e,i),o="derived";else if(VHe(i))a=e=new fS(e,i),o="derived";else{ge(SUe(i));continue}if(a&&o!==void 0)for(const s of a.producedFields()??[])n.set(s,o,!1)}return e}function mS(e){var y;let t=lYe(e,e.component.data.sources);const{outputNodes:n,outputNodeRefCounts:r}=e.component.data,i=e.data,a=!(i&&(Dc(i)||tg(i)||e2(i)))&&e.parent?e.parent.component.data.ancestorParse.clone():new mqe;Dc(i)?(Ese(i)?t=new vv(t,i.sequence):hR(i)&&(t=new yv(t,i.graticule)),a.parseNothing=!0):((y=i==null?void 0:i.format)==null?void 0:y.parse)===null&&(a.parseNothing=!0),t=Dr.makeExplicit(t,e,a)??t,t=new cf(t);const s=e.parent&&Wg(e.parent);(yn(e)||Qa(e))&&s&&(t=Ys.makeFromEncoding(t,e)??t),e.transforms.length>0&&(t=cYe(t,e,a));const u=rVe(e),l=nVe(e);t=Dr.makeWithAncestors(t,{},{...u,...l},a)??t,yn(e)&&(t=cp.parseAll(t,e),t=n2.parseAll(t,e)),(yn(e)||Qa(e))&&(s||(t=Ys.makeFromEncoding(t,e)??t),t=Vs.makeFromEncoding(t,e)??t,t=rg.parseAllForSortIndex(t,e));const c=e.getDataName(Gt.Raw),f=new li(t,c,Gt.Raw,r);if(n[c]=f,t=f,yn(e)){const v=Ka.makeFromEncoding(t,e);v&&(t=v,vR(e)&&(t=new cf(t))),t=Dd.makeFromEncoding(t,e)??t,t=ol.makeFromEncoding(t,e)??t}yn(e)&&(t=t2.make(t,e)??t);const d=e.getDataName(Gt.Main),p=new li(t,d,Gt.Main,r);n[d]=p,t=p,yn(e)&&Qqe(e,p);let g=null;if(Qa(e)){const v=e.getName("facet");t=uYe(t,e.facet)??t,g=new Ug(t,e,v,p.getSource()),n[v]=g}return{...e.component.data,outputNodes:n,outputNodeRefCounts:r,raw:f,main:p,facetRoot:g,ancestorParse:a}}class fYe extends TR{constructor(t,n,r,i){var o,a,s,u;super(t,"concat",n,r,i,t.resolve),(((a=(o=t.resolve)==null?void 0:o.axis)==null?void 0:a.x)==="shared"||((u=(s=t.resolve)==null?void 0:s.axis)==null?void 0:u.y)==="shared")&&ge(wUe),this.children=this.getChildren(t).map((l,c)=>DR(l,this,this.getName(`concat_${c}`),void 0,i))}parseData(){this.component.data=mS(this);for(const t of this.children)t.parseData()}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of he(t.component.selection))this.component.selection[n]=t.component.selection[n]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){for(const t of this.children)t.parseAxesAndHeaders()}getChildren(t){return K5(t)?t.vconcat:cR(t)?t.hconcat:t.concat}parseLayoutSize(){oYe(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.forEach(t=>t.assembleSignals()),[]}assembleLayoutSignals(){const t=wR(this);for(const n of this.children)t.push(...n.assembleLayoutSignals());return t}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleMarks(){return this.children.map(t=>{const n=t.assembleTitle(),r=t.assembleGroupStyle(),i=t.assembleGroupEncodeEntry(!1);return{type:"group",name:t.getName("group"),...n?{title:n}:{},...r?{style:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){const t=this.layout.columns;return{...t!=null?{columns:t}:{},bounds:"full",align:"each"}}}function dYe(e){return e===!1||e===null}const hYe={disable:1,gridScale:1,scale:1,...Wae,labelExpr:1,encode:1},Lue=he(hYe);class NR extends Tl{constructor(t={},n={},r=!1){super(),this.explicit=t,this.implicit=n,this.mainExtracted=r}clone(){return new NR(Ve(this.explicit),Ve(this.implicit),this.mainExtracted)}hasAxisPart(t){return t==="axis"?!0:t==="grid"||t==="title"?!!this.get(t):!dYe(this.get(t))}hasOrientSignalRef(){return Re(this.explicit.orient)}}function pYe(e,t,n){const{encoding:r,config:i}=e,o=zn(r[t])??zn(r[hu(t)]),a=e.axis(t)||{},{format:s,formatType:u}=a;if(h0(u))return{text:qa({fieldOrDatumDef:o,field:"datum.value",format:s,formatType:u,config:i}),...n};if(s===void 0&&u===void 0&&i.customFormatTypes){if(Qp(o)==="quantitative"){if(Zp(o)&&o.stack==="normalize"&&i.normalizedNumberFormatType)return{text:qa({fieldOrDatumDef:o,field:"datum.value",format:i.normalizedNumberFormat,formatType:i.normalizedNumberFormatType,config:i}),...n};if(i.numberFormatType)return{text:qa({fieldOrDatumDef:o,field:"datum.value",format:i.numberFormat,formatType:i.numberFormatType,config:i}),...n}}if(Qp(o)==="temporal"&&i.timeFormatType&&pe(o)&&!o.timeUnit)return{text:qa({fieldOrDatumDef:o,field:"datum.value",format:i.timeFormat,formatType:i.timeFormatType,config:i}),...n}}return n}function gYe(e){return pu.reduce((t,n)=>(e.component.scales[n]&&(t[n]=[AYe(n,e)]),t),{})}const mYe={bottom:"top",top:"bottom",left:"right",right:"left"};function yYe(e){const{axes:t,resolve:n}=e.component,r={top:0,bottom:0,right:0,left:0};for(const i of e.children){i.parseAxesAndHeaders();for(const o of he(i.component.axes))n.axis[o]=AR(e.component.resolve,o),n.axis[o]==="shared"&&(t[o]=vYe(t[o],i.component.axes[o]),t[o]||(n.axis[o]="independent",delete t[o]))}for(const i of pu){for(const o of e.children)if(o.component.axes[i]){if(n.axis[i]==="independent"){t[i]=(t[i]??[]).concat(o.component.axes[i]);for(const a of o.component.axes[i]){const{value:s,explicit:u}=a.getWithExplicit("orient");if(!Re(s)){if(r[s]>0&&!u){const l=mYe[s];r[s]>r[l]&&a.set("orient",l,!1)}r[s]++}}}delete o.component.axes[i]}if(n.axis[i]==="independent"&&t[i]&&t[i].length>1)for(const[o,a]of(t[i]||[]).entries())o>0&&a.get("grid")&&!a.explicit.grid&&(a.implicit.grid=!1)}}function vYe(e,t){if(e){if(e.length!==t.length)return;const n=e.length;for(let r=0;r<n;r++){const i=e[r],o=t[r];if(!!i!=!!o)return;if(i&&o){const a=i.getWithExplicit("orient"),s=o.getWithExplicit("orient");if(a.explicit&&s.explicit&&a.value!==s.value)return;e[r]=bYe(i,o)}}}else return t.map(n=>n.clone());return e}function bYe(e,t){for(const n of Lue){const r=sf(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(i,o)=>{switch(n){case"title":return Yoe(i,o);case"gridScale":return{explicit:i.explicit,value:En(i.value,o.value)}}return Z5(i,o,n,"axis")});e.setWithExplicit(n,r)}return e}function xYe(e,t,n,r,i){if(t==="disable")return n!==void 0;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(Re(n.labelAngle)?n.labelAngle:Qy(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===eue(r,i))return!0}return e===n[t]}const wYe=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function AYe(e,t){var b,x;let n=t.axis(e);const r=new NR,i=zn(t.encoding[e]),{mark:o,config:a}=t,s=(n==null?void 0:n.orient)||((b=a[e==="x"?"axisX":"axisY"])==null?void 0:b.orient)||((x=a.axis)==null?void 0:x.orient)||uGe(e),u=t.getScaleComponent(e).get("type"),l=tGe(e,u,s,t.config),c=n!==void 0?!n:$$("disable",a.style,n==null?void 0:n.style,l).configValue;if(r.set("disable",c,n!==void 0),c)return r;n=n||{};const f=oGe(i,n,e,a.style,l),d=kae(n.formatType,i,u),p=$ae(i,i.type,n.format,n.formatType,a,!0),g={fieldOrDatumDef:i,axis:n,channel:e,model:t,scaleType:u,orient:s,labelAngle:f,format:p,formatType:d,mark:o,config:a};for(const _ of Lue){const A=_ in cW?cW[_](g):Pj(_)?n[_]:void 0,S=A!==void 0,C=xYe(A,_,n,t,e);if(S&&C)r.set(_,A,C);else{const{configValue:E=void 0,configFrom:k=void 0}=Pj(_)&&_!=="values"?$$(_,a.style,n.style,l):{},O=E!==void 0;S&&!O?r.set(_,A,C):(k!=="vgAxisConfig"||wYe.has(_)&&O||gv(E)||Re(E))&&r.set(_,E,!1)}}const y=n.encoding??{},v=jae.reduce((_,A)=>{if(!r.hasAxisPart(A))return _;const S=aue(y[A]??{},t),C=A==="labels"?pYe(t,e,S):S;return C!==void 0&&!zt(C)&&(_[A]={update:C}),_},{});return zt(v)||r.set("encode",v,!!n.encoding||n.labelAngle!==void 0),r}function _Ye({encoding:e,size:t}){for(const n of pu){const r=Vi(n);nu(t[r])&&bc(e[n])&&(delete t[r],ge(Zoe(r)))}return t}const SYe={vgMark:"arc",encodeEntry:e=>({...va(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...Fr("x",e,{defaultPos:"mid"}),...Fr("y",e,{defaultPos:"mid"}),...uf(e,"radius"),...uf(e,"theta")})},EYe={vgMark:"area",encodeEntry:e=>({...va(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...M_("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="horizontal"}),...M_("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="vertical"}),...yR(e)})},CYe={vgMark:"rect",encodeEntry:e=>({...va(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...uf(e,"x"),...uf(e,"y")})},$Ye={vgMark:"shape",encodeEntry:e=>({...va(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[{type:"geoshape",projection:e.projectionName(),...n&&pe(n)&&n.type===Ig?{field:we(n,{expr:"datum"})}:{}}]}},kYe={vgMark:"image",encodeEntry:e=>({...va(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...uf(e,"x"),...uf(e,"y"),...gR(e,"url")})},TYe={vgMark:"line",encodeEntry:e=>({...va(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...Fr("x",e,{defaultPos:"mid"}),...Fr("y",e,{defaultPos:"mid"}),...Xn("size",e,{vgChannel:"strokeWidth"}),...yR(e)})},MYe={vgMark:"trail",encodeEntry:e=>({...va(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...Fr("x",e,{defaultPos:"mid"}),...Fr("y",e,{defaultPos:"mid"}),...Xn("size",e),...yR(e)})};function OR(e,t){const{config:n}=e;return{...va(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...Fr("x",e,{defaultPos:"mid"}),...Fr("y",e,{defaultPos:"mid"}),...Xn("size",e),...Xn("angle",e),...NYe(e,n,t)}}function NYe(e,t,n){return n?{shape:{value:n}}:Xn("shape",e)}const OYe={vgMark:"symbol",encodeEntry:e=>OR(e)},RYe={vgMark:"symbol",encodeEntry:e=>OR(e,"circle")},FYe={vgMark:"symbol",encodeEntry:e=>OR(e,"square")},DYe={vgMark:"rect",encodeEntry:e=>({...va(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...uf(e,"x"),...uf(e,"y")})},LYe={vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return!e.encoding.x&&!e.encoding.y&&!e.encoding.latitude&&!e.encoding.longitude?{}:{...va(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...M_("x",e,{defaultPos:n==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="vertical"}),...M_("y",e,{defaultPos:n==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="horizontal"}),...Xn("size",e,{vgChannel:"strokeWidth"})}}},PYe={vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n}=e;return{...va(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...Fr("x",e,{defaultPos:"mid"}),...Fr("y",e,{defaultPos:"mid"}),...gR(e),...Xn("size",e,{vgChannel:"fontSize"}),...Xn("angle",e),...aW("align",IYe(e.markDef,n,t)),...aW("baseline",zYe(e.markDef,n,t)),...Fr("radius",e,{defaultPos:null}),...Fr("theta",e,{defaultPos:null})}}};function IYe(e,t,n){if(Rt("align",e,n)===void 0)return"center"}function zYe(e,t,n){if(Rt("baseline",e,n)===void 0)return"middle"}const BYe={vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n}=e,r=n.orient,i=r==="horizontal"?"width":"height",o=r==="horizontal"?"height":"width";return{...va(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Fr("x",e,{defaultPos:"mid",vgChannel:"xc"}),...Fr("y",e,{defaultPos:"mid",vgChannel:"yc"}),...Xn("size",e,{defaultValue:UYe(e),vgChannel:i}),[o]:Qt(Rt("thickness",n,t))}}};function UYe(e){const{config:t,markDef:n}=e,{orient:r}=n,i=r==="horizontal"?"width":"height",o=e.getScaleComponent(r==="horizontal"?"x":"y"),a=Rt("size",n,t,{vgChannel:i})??t.tick.bandSize;if(a!==void 0)return a;{const s=o?o.get("range"):void 0;return s&&Mf(s)&&xt(s.step)?s.step*3/4:k_(t.view,i)*3/4}}const Ax={arc:SYe,area:EYe,bar:CYe,circle:RYe,geoshape:$Ye,image:kYe,line:TYe,point:OYe,rect:DYe,rule:LYe,square:FYe,text:PYe,tick:BYe,trail:MYe};function jYe(e){if(ct([U5,z5,Xje],e.mark)){const t=Yae(e.mark,e.encoding);if(t.length>0)return WYe(e,t)}else if(e.mark===B5){const t=g$.some(n=>Rt(n,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t)return HYe(e)}return RR(e)}const CW="faceted_path_";function WYe(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:CW+e.requestDataName(Gt.Main),data:e.requestDataName(Gt.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:RR(e,{fromPrefix:CW})}]}const $W="stack_group_";function HYe(e){var l;const[t]=RR(e,{fromPrefix:$W}),n=e.scaleName(e.stack.fieldChannel),r=(c={})=>e.vgField(e.stack.fieldChannel,c),i=(c,f)=>{const d=[r({prefix:"min",suffix:"start",expr:f}),r({prefix:"max",suffix:"start",expr:f}),r({prefix:"min",suffix:"end",expr:f}),r({prefix:"max",suffix:"end",expr:f})];return`${c}(${d.map(p=>`scale('${n}',${p})`).join(",")})`};let o,a;e.stack.fieldChannel==="x"?(o={...Gp(t.encode.update,["y","yc","y2","height",...g$]),x:{signal:i("min","datum")},x2:{signal:i("max","datum")},clip:{value:!0}},a={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},t.encode.update={...Bi(t.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(o={...Gp(t.encode.update,["x","xc","x2","width"]),y:{signal:i("min","datum")},y2:{signal:i("max","datum")},clip:{value:!0}},a={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},t.encode.update={...Bi(t.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(const c of g$){const f=yl(c,e.markDef,e.config);t.encode.update[c]?(o[c]=t.encode.update[c],delete t.encode.update[c]):f&&(o[c]=Qt(f)),f&&(t.encode.update[c]={value:0})}const s=[];if(((l=e.stack.groupbyChannels)==null?void 0:l.length)>0)for(const c of e.stack.groupbyChannels){const f=e.fieldDef(c),d=we(f);d&&s.push(d),(f!=null&&f.bin||f!=null&&f.timeUnit)&&s.push(we(f,{binSuffix:"end"}))}return o=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((c,f)=>{if(t.encode.update[f])return{...c,[f]:t.encode.update[f]};{const d=yl(f,e.markDef,e.config);return d!==void 0?{...c,[f]:Qt(d)}:c}},o),o.stroke&&(o.strokeForeground={value:!0},o.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(Gt.Main),name:$W+e.requestDataName(Gt.Main),groupby:s,aggregate:{fields:[r({suffix:"start"}),r({suffix:"start"}),r({suffix:"end"}),r({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:o},marks:[{type:"group",encode:{update:a},marks:[t]}]}]}function qYe(e){var s;const{encoding:t,stack:n,mark:r,markDef:i,config:o}=e,a=t.order;if(!(!se(a)&&rs(a)&&h$(a.value)||!a&&h$(Rt("order",i,o)))){if((se(a)||pe(a))&&!n)return qoe(a,{expr:"datum"});if(Nf(r)){const u=i.orient==="horizontal"?"y":"x",l=t[u];if(pe(l)){const c=l.sort;if(se(c))return{field:we(l,{prefix:u,suffix:"sort_index",expr:"datum"})};if(Gs(c))return{field:we({aggregate:eR(e.encoding)?c.op:void 0,field:c.field},{expr:"datum"})};if(Mae(c)){const f=e.fieldDef(c.encoding);return{field:we(f,{expr:"datum"}),order:c.order}}else return c===null?void 0:{field:we(l,{binSuffix:(s=e.stack)!=null&&s.impute?"mid":void 0,expr:"datum"})}}return}}}function RR(e,t={fromPrefix:""}){const{mark:n,markDef:r,encoding:i,config:o}=e,a=En(r.clip,GYe(e),VYe(e)),s=Woe(r),u=i.key,l=qYe(e),c=YYe(e),f=Rt("aria",r,o),d=Ax[n].postEncodingTransform?Ax[n].postEncodingTransform(e):null;return[{name:e.getName("marks"),type:Ax[n].vgMark,...a?{clip:!0}:{},...s?{style:s}:{},...u?{key:u.field}:{},...l?{sort:l}:{},...c||{},...f===!1?{aria:f}:{},from:{data:t.fromPrefix+e.requestDataName(Gt.Main)},encode:{update:Ax[n].encodeEntry(e)},...d?{transform:d}:{}}]}function GYe(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return t!=null&&t.get("selectionExtent")||n!=null&&n.get("selectionExtent")?!0:void 0}function VYe(e){const t=e.component.projection;return t&&!t.isFit?!0:void 0}function YYe(e){if(!e.component.selection)return null;const t=he(e.component.selection).length;let n=t,r=e.parent;for(;r&&n===0;)n=he(r.component.selection).length,r=r.parent;return n?{interactive:t>0||e.mark==="geoshape"||!!e.encoding.tooltip}:null}class Pue extends Oue{constructor(t,n,r,i={},o){super(t,"unit",n,r,o,void 0,zj(t)?t.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection=[],this.children=[];const a=eu(t.mark)?{...t.mark}:{type:t.mark},s=a.type;a.filled===void 0&&(a.filled=OHe(a,o,{graticule:t.data&&hR(t.data)}));const u=this.encoding=LWe(t.encoding||{},s,a.filled,o);this.markDef=gse(a,u,o),this.size=_Ye({encoding:u,size:zj(t)?{...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}}:i}),this.stack=pse(this.markDef,u),this.specifiedScales=this.initScales(s,u),this.specifiedAxes=this.initAxes(u),this.specifiedLegends=this.initLegends(u),this.specifiedProjection=t.projection,this.selection=(t.params??[]).filter(l=>uR(l))}get hasProjection(){const{encoding:t}=this,n=this.mark===Aae,r=t&&DBe.some(i=>Ye(t[i]));return n||r}scaleDomain(t){const n=this.specifiedScales[t];return n?n.domain:void 0}axis(t){return this.specifiedAxes[t]}legend(t){return this.specifiedLegends[t]}initScales(t,n){return D5.reduce((r,i)=>{const o=zn(n[i]);return o&&(r[i]=this.initScale(o.scale??{})),r},{})}initScale(t){const{domain:n,range:r}=t,i=Ti(t);return se(n)&&(i.domain=n.map(lo)),se(r)&&(i.range=r.map(lo)),i}initAxes(t){return pu.reduce((n,r)=>{const i=t[r];if(Ye(i)||r===sn&&Ye(t.x2)||r===ar&&Ye(t.y2)){const o=Ye(i)?i.axis:void 0;n[r]=o&&this.initAxis({...o})}return n},{})}initAxis(t){const n=he(t),r={};for(const i of n){const o=t[i];r[i]=gv(o)?joe(o):lo(o)}return r}initLegends(t){return qBe.reduce((n,r)=>{const i=zn(t[r]);if(i&&VBe(r)){const o=i.legend;n[r]=o&&Ti(o)}return n},{})}parseData(){this.component.data=mS(this)}parseLayoutSize(){aYe(this)}parseSelections(){this.component.selection=Kqe(this,this.selection)}parseMarkGroup(){this.component.mark=jYe(this)}parseAxesAndHeaders(){this.component.axes=gYe(this)}assembleSelectionTopLevelSignals(t){return bqe(this,t)}assembleSignals(){return[...Kse(this),...yqe(this,[])]}assembleSelectionData(t){return xqe(this,t)}assembleLayout(){return null}assembleLayoutSignals(){return wR(this)}assembleMarks(){let t=this.component.mark??[];return(!this.parent||!Wg(this.parent))&&(t=kse(this,t)),t.map(this.correctDataNames)}assembleGroupStyle(){const{style:t}=this.view||{};return t!==void 0?t:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(t){return Rd(this.encoding,t)}fieldDef(t){const n=this.encoding[t];return tu(n)}typedFieldDef(t){const n=this.fieldDef(t);return hi(n)?n:null}}class FR extends TR{constructor(t,n,r,i,o){super(t,"layer",n,r,o,t.resolve,t.view);const a={...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}};this.children=t.layer.map((s,u)=>{if(Q5(s))return new FR(s,this,this.getName(`layer_${u}`),a,o);if(kl(s))return new Pue(s,this,this.getName(`layer_${u}`),a,o);throw new Error($O(s))})}parseData(){this.component.data=mS(this);for(const t of this.children)t.parseData()}parseLayoutSize(){iYe(this)}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of he(t.component.selection))this.component.selection[n]=t.component.selection[n]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){yYe(this)}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleSignals()),Kse(this))}assembleLayoutSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleLayoutSignals()),wR(this))}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleGroupStyle(){const t=new Set;for(const r of this.children)for(const i of Se(r.assembleGroupStyle()))t.add(i);const n=Array.from(t);return n.length>1?n:n.length===1?n[0]:void 0}assembleTitle(){let t=super.assembleTitle();if(t)return t;for(const n of this.children)if(t=n.assembleTitle(),t)return t}assembleLayout(){return null}assembleMarks(){return wqe(this,this.children.flatMap(t=>t.assembleMarks()))}assembleLegends(){return this.children.reduce((t,n)=>t.concat(n.assembleLegends()),pue(this))}}function DR(e,t,n,r,i){if(H5(e))return new ey(e,t,n,i);if(Q5(e))return new FR(e,t,n,r,i);if(kl(e))return new Pue(e,t,n,r,i);if(aHe(e))return new fYe(e,t,n,i);throw new Error($O(e))}function JYe(e,t={}){t.logger&&fje(t.logger),t.fieldTitle&&zae(t.fieldTitle);try{const n=hse(Cg(t.config,e.config)),r=Ase(e,n),i=DR(r,null,"",void 0,n);return i.parse(),bVe(i.component.data,i),{spec:KYe(i,XYe(e,r.autosize,n,i),e.datasets,e.usermeta),normalized:r}}finally{t.logger&&dje(),t.fieldTitle&&$We()}}function XYe(e,t,n,r){const i=r.component.layoutSize.get("width"),o=r.component.layoutSize.get("height");if(t===void 0?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):Ee(t)&&(t={type:t}),i&&o&&hqe(t.type)){if(i==="step"&&o==="step")ge(_j()),t.type="pad";else if(i==="step"||o==="step"){const a=i==="step"?"width":"height";ge(_j(F5(a)));const s=a==="width"?"height":"width";t.type=pqe(s)}}return{...he(t).length===1&&t.type?t.type==="pad"?{}:{autosize:t.type}:{autosize:t},...Kj(n,!1),...Kj(e,!0)}}function KYe(e,t,n={},r){const i=e.config?xHe(e.config):void 0,o=[].concat(e.assembleSelectionData([]),eYe(e.component.data,n)),a=e.assembleProjections(),s=e.assembleTitle(),u=e.assembleGroupStyle(),l=e.assembleGroupEncodeEntry(!0);let c=e.assembleLayoutSignals();c=c.filter(p=>(p.name==="width"||p.name==="height")&&p.value!==void 0?(t[p.name]=+p.value,!1):!0);const{params:f,...d}=t;return{$schema:"https://vega.github.io/schema/vega/v5.json",...e.description?{description:e.description}:{},...d,...s?{title:s}:{},...u?{style:u}:{},...l?{encode:{update:l}}:{},data:o,...a.length>0?{projections:a}:{},...e.assembleGroup([...c,...e.assembleSelectionTopLevelSignals([]),...lse(f)]),...i?{config:i}:{},...r?{usermeta:r}:{}}}const QYe=TBe.version,ZYe=Object.freeze(Object.defineProperty({__proto__:null,accessPathDepth:Vp,accessPathWithDatum:yO,compile:JYe,contains:ct,deepEqual:ho,deleteNestedProperty:v_,duplicate:Ve,entries:rf,every:pO,fieldIntersection:mO,flatAccessWithDatum:Aoe,getFirstDefined:En,hasIntersection:gO,hash:lt,internalField:Eoe,isBoolean:Ky,isEmpty:zt,isEqual:NBe,isInternalField:Coe,isNullOrFalse:h$,isNumeric:k5,keys:he,logicalExpr:Qm,mergeDeep:xoe,never:boe,normalize:Ase,normalizeAngle:Qy,omit:Bi,pick:Gp,prefixGenerator:p$,removePathFromField:vO,replaceAll:u0,replacePathInField:pa,resetIdCounter:RBe,setEqual:woe,some:s0,stringify:Bt,titleCase:ov,unique:Ls,uniqueId:Soe,vals:mr,varName:an,version:QYe},Symbol.toStringTag,{value:"Module"}));function Iue(e){const[t,n]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t,version:n}}var eJe="vega-themes",tJe="2.14.0",nJe="Themes for stylized Vega and Vega-Lite visualizations.",rJe=["vega","vega-lite","themes","style"],iJe="BSD-3-Clause",oJe={name:"UW Interactive Data Lab",url:"https://idl.cs.washington.edu"},aJe=[{name:"Emily Gu",url:"https://github.com/emilygu"},{name:"Arvind Satyanarayan",url:"http://arvindsatya.com"},{name:"Jeffrey Heer",url:"https://idl.cs.washington.edu"},{name:"Dominik Moritz",url:"https://www.domoritz.de"}],sJe="build/vega-themes.js",LR="build/vega-themes.module.js",uJe="build/vega-themes.min.js",lJe="build/vega-themes.min.js",cJe="build/vega-themes.module.d.ts",fJe={type:"git",url:"https://github.com/vega/vega-themes.git"},dJe=["src","build"],hJe={prebuild:"yarn clean",build:"rollup -c",clean:"rimraf build && rimraf examples/build","copy:data":"rsync -r node_modules/vega-datasets/data/* examples/data","copy:build":"rsync -r build/* examples/build","deploy:gh":"yarn build && mkdir -p examples/build && rsync -r build/* examples/build && gh-pages -d examples",preversion:"yarn lint",serve:"browser-sync start -s -f build examples --serveStatic examples",start:"yarn build && concurrently --kill-others -n Server,Rollup 'yarn serve' 'rollup -c -w'",format:"eslint . --fix",lint:"eslint .",release:"release-it"},pJe={"@babel/core":"^7.22.9","@babel/plugin-proposal-async-generator-functions":"^7.20.7","@babel/plugin-proposal-json-strings":"^7.18.6","@babel/plugin-proposal-object-rest-spread":"^7.20.7","@babel/plugin-proposal-optional-catch-binding":"^7.18.6","@babel/plugin-transform-runtime":"^7.22.9","@babel/preset-env":"^7.22.9","@babel/preset-typescript":"^7.22.5","@release-it/conventional-changelog":"^7.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.1.0","@rollup/plugin-terser":"^0.4.3","@typescript-eslint/eslint-plugin":"^6.0.0","@typescript-eslint/parser":"^6.0.0","browser-sync":"^2.29.3",concurrently:"^8.2.0",eslint:"^8.45.0","eslint-config-prettier":"^8.8.0","eslint-plugin-prettier":"^5.0.0","gh-pages":"^5.0.0",prettier:"^3.0.0","release-it":"^16.1.0",rollup:"^3.26.2","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-ts":"^3.2.0",typescript:"^5.1.6",vega:"^5.25.0","vega-lite":"^5.9.3"},gJe={vega:"*","vega-lite":"*"},mJe={},yJe={name:eJe,version:tJe,description:nJe,keywords:rJe,license:iJe,author:oJe,contributors:aJe,main:sJe,module:LR,unpkg:uJe,jsdelivr:lJe,types:cJe,repository:fJe,files:dJe,scripts:hJe,devDependencies:pJe,peerDependencies:gJe,dependencies:mJe};const bh="#fff",kW="#888",vJe={background:"#333",view:{stroke:kW},title:{color:bh,subtitleColor:bh},style:{"guide-label":{fill:bh},"guide-title":{fill:bh}},axis:{domainColor:bh,gridColor:kW,tickColor:bh}},Vf="#4572a7",bJe={background:"#fff",arc:{fill:Vf},area:{fill:Vf},line:{stroke:Vf,strokeWidth:2},path:{stroke:Vf},rect:{fill:Vf},shape:{stroke:Vf},symbol:{fill:Vf,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},Yf="#30a2da",G6="#cbcbcb",xJe="#999",wJe="#333",TW="#f0f0f0",MW="#333",AJe={arc:{fill:Yf},area:{fill:Yf},axis:{domainColor:G6,grid:!0,gridColor:G6,gridWidth:1,labelColor:xJe,labelFontSize:10,titleColor:wJe,tickColor:G6,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:TW,group:{fill:TW},legend:{labelColor:MW,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:MW,titleFontSize:14,titlePadding:10},line:{stroke:Yf,strokeWidth:2},path:{stroke:Yf,strokeWidth:.5},rect:{fill:Yf},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:Yf},bar:{binSpacing:2,fill:Yf,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},Jf="#000",_Je={group:{fill:"#e5e5e5"},arc:{fill:Jf},area:{fill:Jf},line:{stroke:Jf},path:{stroke:Jf},rect:{fill:Jf},shape:{stroke:Jf},symbol:{fill:Jf,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},SJe=22,EJe="normal",NW="Benton Gothic, sans-serif",OW=11.5,CJe="normal",Xf="#82c6df",V6="Benton Gothic Bold, sans-serif",RW="normal",FW=13,W1={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},$Je={background:"#ffffff",title:{anchor:"start",color:"#000000",font:V6,fontSize:SJe,fontWeight:EJe},arc:{fill:Xf},area:{fill:Xf},line:{stroke:Xf,strokeWidth:2},path:{stroke:Xf},rect:{fill:Xf},shape:{stroke:Xf},symbol:{fill:Xf,size:30},axis:{labelFont:NW,labelFontSize:OW,labelFontWeight:CJe,titleFont:V6,titleFontSize:FW,titleFontWeight:RW},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:NW,labelFontSize:OW,symbolType:"square",titleFont:V6,titleFontSize:FW,titleFontWeight:RW},range:{category:W1["category-6"],diverging:W1["fireandice-6"],heatmap:W1["fire-7"],ordinal:W1["fire-7"],ramp:W1["fire-7"]}},Kf="#ab5787",_x="#979797",kJe={background:"#f9f9f9",arc:{fill:Kf},area:{fill:Kf},line:{stroke:Kf},path:{stroke:Kf},rect:{fill:Kf},shape:{stroke:Kf},symbol:{fill:Kf,size:30},axis:{domainColor:_x,domainWidth:.5,gridWidth:.2,labelColor:_x,tickColor:_x,tickWidth:.2,titleColor:_x},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},Qf="#3e5c69",TJe={background:"#fff",arc:{fill:Qf},area:{fill:Qf},line:{stroke:Qf},path:{stroke:Qf},rect:{fill:Qf},shape:{stroke:Qf},symbol:{fill:Qf},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},Bo="#1696d2",DW="#000000",MJe="#FFFFFF",Sx="Lato",Y6="Lato",NJe="Lato",OJe="#DEDDDD",RJe=18,H1={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},FJe={background:MJe,title:{anchor:"start",fontSize:RJe,font:Sx},axisX:{domain:!0,domainColor:DW,domainWidth:1,grid:!1,labelFontSize:12,labelFont:Y6,labelAngle:0,tickColor:DW,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:Sx},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:OJe,gridWidth:1,labelFontSize:12,labelFont:Y6,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:Sx,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:Y6,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:Sx,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:H1["six-groups-cat-1"],diverging:H1["diverging-colors"],heatmap:H1["diverging-colors"],ordinal:H1["six-groups-seq"],ramp:H1["shades-blue"]},area:{fill:Bo},rect:{fill:Bo},line:{color:Bo,stroke:Bo,strokeWidth:5},trail:{color:Bo,stroke:Bo,strokeWidth:0,size:1},path:{stroke:Bo,strokeWidth:.5},point:{filled:!0},text:{font:NJe,color:Bo,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:Bo,stroke:null}},arc:{fill:Bo},shape:{stroke:Bo},symbol:{fill:Bo,size:30}},Zf="#3366CC",LW="#ccc",Ex="Arial, sans-serif",DJe={arc:{fill:Zf},area:{fill:Zf},path:{stroke:Zf},rect:{fill:Zf},shape:{stroke:Zf},symbol:{stroke:Zf},circle:{fill:Zf},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:Ex,fontSize:12},"guide-title":{font:Ex,fontSize:12},"group-title":{font:Ex,fontSize:12}},title:{font:Ex,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:LW,tickColor:LW,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},PR=e=>e*(1/3+1),PW=PR(9),IW=PR(10),zW=PR(12),q1="Segoe UI",BW="wf_standard-font, helvetica, arial, sans-serif",UW="#252423",G1="#605E5C",jW="transparent",LJe="#C8C6C4",ka="#118DFF",PJe="#12239E",IJe="#E66C37",zJe="#6B007B",BJe="#E044A7",UJe="#744EC2",jJe="#D9B300",WJe="#D64550",zue=ka,Bue="#DEEFFF",WW=[Bue,zue],HJe=[Bue,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",zue],qJe={view:{stroke:jW},background:jW,font:q1,header:{titleFont:BW,titleFontSize:zW,titleColor:UW,labelFont:q1,labelFontSize:IW,labelColor:G1},axis:{ticks:!1,grid:!1,domain:!1,labelColor:G1,labelFontSize:PW,titleFont:BW,titleColor:UW,titleFontSize:zW,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:LJe,gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:ka},line:{stroke:ka,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:q1,fontSize:PW,fill:G1},arc:{fill:ka},area:{fill:ka,line:!0,opacity:.6},path:{stroke:ka},rect:{fill:ka},point:{fill:ka,filled:!0,size:75},shape:{stroke:ka},symbol:{fill:ka,strokeWidth:1.5,size:50},legend:{titleFont:q1,titleFontWeight:"bold",titleColor:G1,labelFont:q1,labelFontSize:IW,labelColor:G1,symbolType:"circle",symbolSize:75},range:{category:[ka,PJe,IJe,zJe,BJe,UJe,jJe,WJe],diverging:WW,heatmap:WW,ordinal:HJe}},J6='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',HW=400,GJe=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],VJe=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function yS({type:e,background:t}){const n=e==="dark"?"#161616":"#ffffff",r=e==="dark"?"#f4f4f4":"#161616",i=e==="dark"?GJe:VJe,o=e==="dark"?"#d4bbff":"#6929c4";return{background:t,arc:{fill:o},area:{fill:o},path:{stroke:o},rect:{fill:o},shape:{stroke:o},symbol:{stroke:o},circle:{fill:o},view:{fill:n,stroke:n},group:{fill:n},title:{color:r,anchor:"start",dy:-15,fontSize:16,font:J6,fontWeight:600},axis:{labelColor:r,labelFontSize:12,grid:!0,gridColor:"#525252",titleColor:r,labelAngle:0},style:{"guide-label":{font:J6,fill:r,fontWeight:HW},"guide-title":{font:J6,fill:r,fontWeight:HW}},range:{category:i,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}const YJe=yS({type:"light",background:"#ffffff"}),JJe=yS({type:"light",background:"#f4f4f4"}),XJe=yS({type:"dark",background:"#262626"}),KJe=yS({type:"dark",background:"#161616"}),QJe=yJe.version,ZJe=Object.freeze(Object.defineProperty({__proto__:null,carbong10:JJe,carbong100:KJe,carbong90:XJe,carbonwhite:YJe,dark:vJe,excel:bJe,fivethirtyeight:AJe,ggplot2:_Je,googlecharts:DJe,latimes:$Je,powerbi:qJe,quartz:kJe,urbaninstitute:FJe,version:QJe,vox:TJe},Symbol.toStringTag,{value:"Module"}));function eXe(e,t,n){if(se(e))return`[${e.map(r=>t(Ee(r)?r:qW(r,n))).join(", ")}]`;if($e(e)){let r="";const{title:i,image:o,...a}=e;i&&(r+=`<h2>${t(i)}</h2>`),o&&(r+=`<img src="${t(o)}">`);const s=Object.keys(a);if(s.length>0){r+="<table>";for(const u of s){let l=a[u];l!==void 0&&($e(l)&&(l=qW(l,n)),r+=`<tr><td class="key">${t(u)}</td><td class="value">${t(l)}</td></tr>`)}r+="</table>"}return r||"{}"}return t(e)}function tXe(e){const t=[];return function(n,r){if(typeof r!="object"||r===null)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}function qW(e,t){return JSON.stringify(e,tXe(t))}var nXe=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black;
}
#vg-tooltip-element.visible {
  visibility: visible;
}
#vg-tooltip-element h2 {
  margin-top: 0;
  margin-bottom: 10px;
  font-size: 13px;
}
#vg-tooltip-element table {
  border-spacing: 0;
}
#vg-tooltip-element table tr {
  border: none;
}
#vg-tooltip-element table tr td {
  overflow: hidden;
  text-overflow: ellipsis;
  padding-top: 2px;
  padding-bottom: 2px;
}
#vg-tooltip-element table tr td.key {
  color: #808080;
  max-width: 150px;
  text-align: right;
  padding-right: 4px;
}
#vg-tooltip-element table tr td.value {
  display: block;
  max-width: 300px;
  max-height: 7em;
  text-align: left;
}
#vg-tooltip-element.dark-theme {
  background-color: rgba(32, 32, 32, 0.9);
  border: 1px solid #f5f5f5;
  color: white;
}
#vg-tooltip-element.dark-theme td.key {
  color: #bfbfbf;
}
`;const Uue="vg-tooltip-element",rXe={offsetX:10,offsetY:10,id:Uue,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:iXe,maxDepth:2,formatTooltip:eXe};function iXe(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function oXe(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return nXe.toString().replace(Uue,e)}function aXe(e,t,n,r){let i=e.clientX+n;i+t.width>window.innerWidth&&(i=+e.clientX-n-t.width);let o=e.clientY+r;return o+t.height>window.innerHeight&&(o=+e.clientY-r-t.height),{x:i,y:o}}class sXe{constructor(t){this.options={...rXe,...t};const n=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=oXe(n);const i=document.head;i.childNodes.length>0?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}}tooltipHandler(t,n,r,i){if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(document.fullscreenElement??document.body).appendChild(this.el)),i==null||i===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=this.options.formatTooltip(i,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:o,y:a}=aXe(n,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.style.top=`${a}px`,this.el.style.left=`${o}px`}}var X6={};function i2(e){"@babel/helpers - typeof";return i2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i2(e)}function uXe(e,t){if(i2(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(i2(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lXe(e){var t=uXe(e,"string");return i2(t)==="symbol"?t:String(t)}function cXe(e,t,n){return t=lXe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fXe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var K6,GW;function dXe(){return GW||(GW=1,K6=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),K6}var hXe=Et;Et.Node=y0;Et.create=Et;function Et(e){var t=this;if(t instanceof Et||(t=new Et),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);return t}Et.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t};Et.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};Et.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};Et.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)gXe(this,arguments[e]);return this.length};Et.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)mXe(this,arguments[e]);return this.length};Et.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};Et.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};Et.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;n!==null;r++)e.call(t,n.value,r,this),n=n.next};Et.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;n!==null;r--)e.call(t,n.value,r,this),n=n.prev};Et.prototype.get=function(e){for(var t=0,n=this.head;n!==null&&t<e;t++)n=n.next;if(t===e&&n!==null)return n.value};Et.prototype.getReverse=function(e){for(var t=0,n=this.tail;n!==null&&t<e;t++)n=n.prev;if(t===e&&n!==null)return n.value};Et.prototype.map=function(e,t){t=t||this;for(var n=new Et,r=this.head;r!==null;)n.push(e.call(t,r.value,this)),r=r.next;return n};Et.prototype.mapReverse=function(e,t){t=t||this;for(var n=new Et,r=this.tail;r!==null;)n.push(e.call(t,r.value,this)),r=r.prev;return n};Et.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else if(this.head)r=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;r!==null;i++)n=e(n,r.value,i),r=r.next;return n};Et.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;r!==null;i--)n=e(n,r.value,i),r=r.prev;return n};Et.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;n!==null;t++)e[t]=n.value,n=n.next;return e};Et.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;n!==null;t++)e[t]=n.value,n=n.prev;return e};Et.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new Et;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,i=this.head;i!==null&&r<e;r++)i=i.next;for(;i!==null&&r<t;r++,i=i.next)n.push(i.value);return n};Et.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new Et;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,i=this.tail;i!==null&&r>t;r--)i=i.prev;for(;i!==null&&r>e;r--,i=i.prev)n.push(i.value);return n};Et.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,i=this.head;i!==null&&r<e;r++)i=i.next;for(var o=[],r=0;i&&r<t;r++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var r=0;r<n.length;r++)i=pXe(this,i,n[r]);return o};Et.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;n!==null;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};function pXe(e,t,n){var r=t===e.head?new y0(n,null,t,e):new y0(n,t,t.next,e);return r.next===null&&(e.tail=r),r.prev===null&&(e.head=r),e.length++,r}function gXe(e,t){e.tail=new y0(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function mXe(e,t){e.head=new y0(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function y0(e,t,n,r){if(!(this instanceof y0))return new y0(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{dXe()(Et)}catch{}const yXe=hXe,dd=Symbol("max"),Hu=Symbol("length"),xh=Symbol("lengthCalculator"),ty=Symbol("allowStale"),xd=Symbol("maxAge"),Bu=Symbol("dispose"),VW=Symbol("noDisposeOnSet"),Gn=Symbol("lruList"),Na=Symbol("cache"),jue=Symbol("updateAgeOnGet"),Q6=()=>1;class vXe{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[dd]=t.max||1/0;const n=t.length||Q6;if(this[xh]=typeof n!="function"?Q6:n,this[ty]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[xd]=t.maxAge||0,this[Bu]=t.dispose,this[VW]=t.noDisposeOnSet||!1,this[jue]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[dd]=t||1/0,V1(this)}get max(){return this[dd]}set allowStale(t){this[ty]=!!t}get allowStale(){return this[ty]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[xd]=t,V1(this)}get maxAge(){return this[xd]}set lengthCalculator(t){typeof t!="function"&&(t=Q6),t!==this[xh]&&(this[xh]=t,this[Hu]=0,this[Gn].forEach(n=>{n.length=this[xh](n.value,n.key),this[Hu]+=n.length})),V1(this)}get lengthCalculator(){return this[xh]}get length(){return this[Hu]}get itemCount(){return this[Gn].length}rforEach(t,n){n=n||this;for(let r=this[Gn].tail;r!==null;){const i=r.prev;YW(this,t,r,n),r=i}}forEach(t,n){n=n||this;for(let r=this[Gn].head;r!==null;){const i=r.next;YW(this,t,r,n),r=i}}keys(){return this[Gn].toArray().map(t=>t.key)}values(){return this[Gn].toArray().map(t=>t.value)}reset(){this[Bu]&&this[Gn]&&this[Gn].length&&this[Gn].forEach(t=>this[Bu](t.key,t.value)),this[Na]=new Map,this[Gn]=new yXe,this[Hu]=0}dump(){return this[Gn].map(t=>F_(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[Gn]}set(t,n,r){if(r=r||this[xd],r&&typeof r!="number")throw new TypeError("maxAge must be a number");const i=r?Date.now():0,o=this[xh](n,t);if(this[Na].has(t)){if(o>this[dd])return fp(this,this[Na].get(t)),!1;const u=this[Na].get(t).value;return this[Bu]&&(this[VW]||this[Bu](t,u.value)),u.now=i,u.maxAge=r,u.value=n,this[Hu]+=o-u.length,u.length=o,this.get(t),V1(this),!0}const a=new bXe(t,n,o,i,r);return a.length>this[dd]?(this[Bu]&&this[Bu](t,n),!1):(this[Hu]+=a.length,this[Gn].unshift(a),this[Na].set(t,this[Gn].head),V1(this),!0)}has(t){if(!this[Na].has(t))return!1;const n=this[Na].get(t).value;return!F_(this,n)}get(t){return Z6(this,t,!0)}peek(t){return Z6(this,t,!1)}pop(){const t=this[Gn].tail;return t?(fp(this,t),t.value):null}del(t){fp(this,this[Na].get(t))}load(t){this.reset();const n=Date.now();for(let r=t.length-1;r>=0;r--){const i=t[r],o=i.e||0;if(o===0)this.set(i.k,i.v);else{const a=o-n;a>0&&this.set(i.k,i.v,a)}}}prune(){this[Na].forEach((t,n)=>Z6(this,n,!1))}}const Z6=(e,t,n)=>{const r=e[Na].get(t);if(r){const i=r.value;if(F_(e,i)){if(fp(e,r),!e[ty])return}else n&&(e[jue]&&(r.value.now=Date.now()),e[Gn].unshiftNode(r));return i.value}},F_=(e,t)=>{if(!t||!t.maxAge&&!e[xd])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[xd]&&n>e[xd]},V1=e=>{if(e[Hu]>e[dd])for(let t=e[Gn].tail;e[Hu]>e[dd]&&t!==null;){const n=t.prev;fp(e,t),t=n}},fp=(e,t)=>{if(t){const n=t.value;e[Bu]&&e[Bu](n.key,n.value),e[Hu]-=n.length,e[Na].delete(n.key),e[Gn].removeNode(t)}};class bXe{constructor(t,n,r,i,o){this.key=t,this.value=n,this.length=r,this.now=i,this.maxAge=o||0}}const YW=(e,t,n,r)=>{let i=n.value;F_(e,i)&&(fp(e,n),e[ty]||(i=void 0)),i&&t.call(r,i.value,i.key,e)};var xXe=vXe;const wXe=Object.freeze({loose:!0}),AXe=Object.freeze({}),_Xe=e=>e?typeof e!="object"?wXe:e:AXe;var IR=_Xe,L$={exports:{}};const SXe="2.0.0",Wue=256,EXe=Number.MAX_SAFE_INTEGER||9007199254740991,CXe=16,$Xe=Wue-6,kXe=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var zR={MAX_LENGTH:Wue,MAX_SAFE_COMPONENT_LENGTH:CXe,MAX_SAFE_BUILD_LENGTH:$Xe,MAX_SAFE_INTEGER:EXe,RELEASE_TYPES:kXe,SEMVER_SPEC_VERSION:SXe,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const TXe=typeof process=="object"&&X6&&X6.NODE_DEBUG&&/\bsemver\b/i.test(X6.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var vS=TXe;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=zR,o=vS;t=e.exports={};const a=t.re=[],s=t.safeRe=[],u=t.src=[],l=t.t={};let c=0;const f="[a-zA-Z0-9-]",d=[["\\s",1],["\\d",i],[f,r]],p=y=>{for(const[v,b]of d)y=y.split(`${v}*`).join(`${v}{0,${b}}`).split(`${v}+`).join(`${v}{1,${b}}`);return y},g=(y,v,b)=>{const x=p(v),_=c++;o(y,_,v),l[y]=_,u[_]=v,a[_]=new RegExp(v,b?"g":void 0),s[_]=new RegExp(x,b?"g":void 0)};g("NUMERICIDENTIFIER","0|[1-9]\\d*"),g("NUMERICIDENTIFIERLOOSE","\\d+"),g("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),g("MAINVERSION",`(${u[l.NUMERICIDENTIFIER]})\\.(${u[l.NUMERICIDENTIFIER]})\\.(${u[l.NUMERICIDENTIFIER]})`),g("MAINVERSIONLOOSE",`(${u[l.NUMERICIDENTIFIERLOOSE]})\\.(${u[l.NUMERICIDENTIFIERLOOSE]})\\.(${u[l.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASEIDENTIFIER",`(?:${u[l.NUMERICIDENTIFIER]}|${u[l.NONNUMERICIDENTIFIER]})`),g("PRERELEASEIDENTIFIERLOOSE",`(?:${u[l.NUMERICIDENTIFIERLOOSE]}|${u[l.NONNUMERICIDENTIFIER]})`),g("PRERELEASE",`(?:-(${u[l.PRERELEASEIDENTIFIER]}(?:\\.${u[l.PRERELEASEIDENTIFIER]})*))`),g("PRERELEASELOOSE",`(?:-?(${u[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[l.PRERELEASEIDENTIFIERLOOSE]})*))`),g("BUILDIDENTIFIER",`${f}+`),g("BUILD",`(?:\\+(${u[l.BUILDIDENTIFIER]}(?:\\.${u[l.BUILDIDENTIFIER]})*))`),g("FULLPLAIN",`v?${u[l.MAINVERSION]}${u[l.PRERELEASE]}?${u[l.BUILD]}?`),g("FULL",`^${u[l.FULLPLAIN]}$`),g("LOOSEPLAIN",`[v=\\s]*${u[l.MAINVERSIONLOOSE]}${u[l.PRERELEASELOOSE]}?${u[l.BUILD]}?`),g("LOOSE",`^${u[l.LOOSEPLAIN]}$`),g("GTLT","((?:<|>)?=?)"),g("XRANGEIDENTIFIERLOOSE",`${u[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),g("XRANGEIDENTIFIER",`${u[l.NUMERICIDENTIFIER]}|x|X|\\*`),g("XRANGEPLAIN",`[v=\\s]*(${u[l.XRANGEIDENTIFIER]})(?:\\.(${u[l.XRANGEIDENTIFIER]})(?:\\.(${u[l.XRANGEIDENTIFIER]})(?:${u[l.PRERELEASE]})?${u[l.BUILD]}?)?)?`),g("XRANGEPLAINLOOSE",`[v=\\s]*(${u[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[l.XRANGEIDENTIFIERLOOSE]})(?:${u[l.PRERELEASELOOSE]})?${u[l.BUILD]}?)?)?`),g("XRANGE",`^${u[l.GTLT]}\\s*${u[l.XRANGEPLAIN]}$`),g("XRANGELOOSE",`^${u[l.GTLT]}\\s*${u[l.XRANGEPLAINLOOSE]}$`),g("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),g("COERCERTL",u[l.COERCE],!0),g("LONETILDE","(?:~>?)"),g("TILDETRIM",`(\\s*)${u[l.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",g("TILDE",`^${u[l.LONETILDE]}${u[l.XRANGEPLAIN]}$`),g("TILDELOOSE",`^${u[l.LONETILDE]}${u[l.XRANGEPLAINLOOSE]}$`),g("LONECARET","(?:\\^)"),g("CARETTRIM",`(\\s*)${u[l.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",g("CARET",`^${u[l.LONECARET]}${u[l.XRANGEPLAIN]}$`),g("CARETLOOSE",`^${u[l.LONECARET]}${u[l.XRANGEPLAINLOOSE]}$`),g("COMPARATORLOOSE",`^${u[l.GTLT]}\\s*(${u[l.LOOSEPLAIN]})$|^$`),g("COMPARATOR",`^${u[l.GTLT]}\\s*(${u[l.FULLPLAIN]})$|^$`),g("COMPARATORTRIM",`(\\s*)${u[l.GTLT]}\\s*(${u[l.LOOSEPLAIN]}|${u[l.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",g("HYPHENRANGE",`^\\s*(${u[l.XRANGEPLAIN]})\\s+-\\s+(${u[l.XRANGEPLAIN]})\\s*$`),g("HYPHENRANGELOOSE",`^\\s*(${u[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[l.XRANGEPLAINLOOSE]})\\s*$`),g("STAR","(<|>)?=?\\s*\\*"),g("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),g("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(L$,L$.exports);var BR=L$.exports;const JW=/^[0-9]+$/,Hue=(e,t)=>{const n=JW.test(e),r=JW.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1},MXe=(e,t)=>Hue(t,e);var NXe={compareIdentifiers:Hue,rcompareIdentifiers:MXe};const Cx=vS,{MAX_LENGTH:XW,MAX_SAFE_INTEGER:$x}=zR,{safeRe:KW,t:QW}=BR,OXe=IR,{compareIdentifiers:wh}=NXe;let RXe=class _s{constructor(t,n){if(n=OXe(n),t instanceof _s){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>XW)throw new TypeError(`version is longer than ${XW} characters`);Cx("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=t.trim().match(n.loose?KW[QW.LOOSE]:KW[QW.FULL]);if(!r)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>$x||this.major<0)throw new TypeError("Invalid major version");if(this.minor>$x||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>$x||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const o=+i;if(o>=0&&o<$x)return o}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Cx("SemVer.compare",this.version,this.options,t),!(t instanceof _s)){if(typeof t=="string"&&t===this.version)return 0;t=new _s(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof _s||(t=new _s(t,this.options)),wh(this.major,t.major)||wh(this.minor,t.minor)||wh(this.patch,t.patch)}comparePre(t){if(t instanceof _s||(t=new _s(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],i=t.prerelease[n];if(Cx("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return wh(r,i)}while(++n)}compareBuild(t){t instanceof _s||(t=new _s(t,this.options));let n=0;do{const r=this.build[n],i=t.build[n];if(Cx("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return wh(r,i)}while(++n)}inc(t,n,r){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(r)?1:0;if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let o=[n,i];r===!1&&(o=[n]),wh(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var UR=RXe;const ZW=UR,FXe=(e,t,n)=>new ZW(e,n).compare(new ZW(t,n));var Hg=FXe;const DXe=Hg,LXe=(e,t,n)=>DXe(e,t,n)===0;var PXe=LXe;const IXe=Hg,zXe=(e,t,n)=>IXe(e,t,n)!==0;var BXe=zXe;const UXe=Hg,jXe=(e,t,n)=>UXe(e,t,n)>0;var WXe=jXe;const HXe=Hg,qXe=(e,t,n)=>HXe(e,t,n)>=0;var GXe=qXe;const VXe=Hg,YXe=(e,t,n)=>VXe(e,t,n)<0;var JXe=YXe;const XXe=Hg,KXe=(e,t,n)=>XXe(e,t,n)<=0;var QXe=KXe;const ZXe=PXe,eKe=BXe,tKe=WXe,nKe=GXe,rKe=JXe,iKe=QXe,oKe=(e,t,n,r)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return ZXe(e,n,r);case"!=":return eKe(e,n,r);case">":return tKe(e,n,r);case">=":return nKe(e,n,r);case"<":return rKe(e,n,r);case"<=":return iKe(e,n,r);default:throw new TypeError(`Invalid operator: ${t}`)}};var aKe=oKe,e8,eH;function sKe(){if(eH)return e8;eH=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(c,f){if(f=n(f),c instanceof t){if(c.loose===!!f.loose)return c;c=c.value}c=c.trim().split(/\s+/).join(" "),a("comparator",c,f),this.options=f,this.loose=!!f.loose,this.parse(c),this.semver===e?this.value="":this.value=this.operator+this.semver.version,a("comp",this)}parse(c){const f=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],d=c.match(f);if(!d)throw new TypeError(`Invalid comparator: ${c}`);this.operator=d[1]!==void 0?d[1]:"",this.operator==="="&&(this.operator=""),d[2]?this.semver=new s(d[2],this.options.loose):this.semver=e}toString(){return this.value}test(c){if(a("Comparator.test",c,this.options.loose),this.semver===e||c===e)return!0;if(typeof c=="string")try{c=new s(c,this.options)}catch{return!1}return o(c,this.operator,this.semver,this.options)}intersects(c,f){if(!(c instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new u(c.value,f).test(this.value):c.operator===""?c.value===""?!0:new u(this.value,f).test(c.semver):(f=n(f),f.includePrerelease&&(this.value==="<0.0.0-0"||c.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||c.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&c.operator.startsWith(">")||this.operator.startsWith("<")&&c.operator.startsWith("<")||this.semver.version===c.semver.version&&this.operator.includes("=")&&c.operator.includes("=")||o(this.semver,"<",c.semver,f)&&this.operator.startsWith(">")&&c.operator.startsWith("<")||o(this.semver,">",c.semver,f)&&this.operator.startsWith("<")&&c.operator.startsWith(">")))}}e8=t;const n=IR,{safeRe:r,t:i}=BR,o=aKe,a=vS,s=UR,u=que();return e8}var t8,tH;function que(){if(tH)return t8;tH=1;class e{constructor(M,D){if(D=r(D),M instanceof e)return M.loose===!!D.loose&&M.includePrerelease===!!D.includePrerelease?M:new e(M.raw,D);if(M instanceof i)return this.raw=M.value,this.set=[[M]],this.format(),this;if(this.options=D,this.loose=!!D.loose,this.includePrerelease=!!D.includePrerelease,this.raw=M.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(P=>this.parseRange(P.trim())).filter(P=>P.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const P=this.set[0];if(this.set=this.set.filter(U=>!g(U[0])),this.set.length===0)this.set=[P];else if(this.set.length>1){for(const U of this.set)if(U.length===1&&y(U[0])){this.set=[U];break}}}this.format()}format(){return this.range=this.set.map(M=>M.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(M){const P=((this.options.includePrerelease&&d)|(this.options.loose&&p))+":"+M,U=n.get(P);if(U)return U;const z=this.options.loose,H=z?s[u.HYPHENRANGELOOSE]:s[u.HYPHENRANGE];M=M.replace(H,F(this.options.includePrerelease)),o("hyphen replace",M),M=M.replace(s[u.COMPARATORTRIM],l),o("comparator trim",M),M=M.replace(s[u.TILDETRIM],c),o("tilde trim",M),M=M.replace(s[u.CARETTRIM],f),o("caret trim",M);let j=M.split(" ").map(ne=>b(ne,this.options)).join(" ").split(/\s+/).map(ne=>N(ne,this.options));z&&(j=j.filter(ne=>(o("loose invalid filter",ne,this.options),!!ne.match(s[u.COMPARATORLOOSE])))),o("range list",j);const X=new Map,G=j.map(ne=>new i(ne,this.options));for(const ne of G){if(g(ne))return[ne];X.set(ne.value,ne)}X.size>1&&X.has("")&&X.delete("");const ee=[...X.values()];return n.set(P,ee),ee}intersects(M,D){if(!(M instanceof e))throw new TypeError("a Range is required");return this.set.some(P=>v(P,D)&&M.set.some(U=>v(U,D)&&P.every(z=>U.every(H=>z.intersects(H,D)))))}test(M){if(!M)return!1;if(typeof M=="string")try{M=new a(M,this.options)}catch{return!1}for(let D=0;D<this.set.length;D++)if(W(this.set[D],M,this.options))return!0;return!1}}t8=e;const t=xXe,n=new t({max:1e3}),r=IR,i=sKe(),o=vS,a=UR,{safeRe:s,t:u,comparatorTrimReplace:l,tildeTrimReplace:c,caretTrimReplace:f}=BR,{FLAG_INCLUDE_PRERELEASE:d,FLAG_LOOSE:p}=zR,g=I=>I.value==="<0.0.0-0",y=I=>I.value==="",v=(I,M)=>{let D=!0;const P=I.slice();let U=P.pop();for(;D&&P.length;)D=P.every(z=>U.intersects(z,M)),U=P.pop();return D},b=(I,M)=>(o("comp",I,M),I=S(I,M),o("caret",I),I=_(I,M),o("tildes",I),I=E(I,M),o("xrange",I),I=O(I,M),o("stars",I),I),x=I=>!I||I.toLowerCase()==="x"||I==="*",_=(I,M)=>I.trim().split(/\s+/).map(D=>A(D,M)).join(" "),A=(I,M)=>{const D=M.loose?s[u.TILDELOOSE]:s[u.TILDE];return I.replace(D,(P,U,z,H,j)=>{o("tilde",I,P,U,z,H,j);let X;return x(U)?X="":x(z)?X=`>=${U}.0.0 <${+U+1}.0.0-0`:x(H)?X=`>=${U}.${z}.0 <${U}.${+z+1}.0-0`:j?(o("replaceTilde pr",j),X=`>=${U}.${z}.${H}-${j} <${U}.${+z+1}.0-0`):X=`>=${U}.${z}.${H} <${U}.${+z+1}.0-0`,o("tilde return",X),X})},S=(I,M)=>I.trim().split(/\s+/).map(D=>C(D,M)).join(" "),C=(I,M)=>{o("caret",I,M);const D=M.loose?s[u.CARETLOOSE]:s[u.CARET],P=M.includePrerelease?"-0":"";return I.replace(D,(U,z,H,j,X)=>{o("caret",I,U,z,H,j,X);let G;return x(z)?G="":x(H)?G=`>=${z}.0.0${P} <${+z+1}.0.0-0`:x(j)?z==="0"?G=`>=${z}.${H}.0${P} <${z}.${+H+1}.0-0`:G=`>=${z}.${H}.0${P} <${+z+1}.0.0-0`:X?(o("replaceCaret pr",X),z==="0"?H==="0"?G=`>=${z}.${H}.${j}-${X} <${z}.${H}.${+j+1}-0`:G=`>=${z}.${H}.${j}-${X} <${z}.${+H+1}.0-0`:G=`>=${z}.${H}.${j}-${X} <${+z+1}.0.0-0`):(o("no pr"),z==="0"?H==="0"?G=`>=${z}.${H}.${j}${P} <${z}.${H}.${+j+1}-0`:G=`>=${z}.${H}.${j}${P} <${z}.${+H+1}.0-0`:G=`>=${z}.${H}.${j} <${+z+1}.0.0-0`),o("caret return",G),G})},E=(I,M)=>(o("replaceXRanges",I,M),I.split(/\s+/).map(D=>k(D,M)).join(" ")),k=(I,M)=>{I=I.trim();const D=M.loose?s[u.XRANGELOOSE]:s[u.XRANGE];return I.replace(D,(P,U,z,H,j,X)=>{o("xRange",I,P,U,z,H,j,X);const G=x(z),ee=G||x(H),ne=ee||x(j),de=ne;return U==="="&&de&&(U=""),X=M.includePrerelease?"-0":"",G?U===">"||U==="<"?P="<0.0.0-0":P="*":U&&de?(ee&&(H=0),j=0,U===">"?(U=">=",ee?(z=+z+1,H=0,j=0):(H=+H+1,j=0)):U==="<="&&(U="<",ee?z=+z+1:H=+H+1),U==="<"&&(X="-0"),P=`${U+z}.${H}.${j}${X}`):ee?P=`>=${z}.0.0${X} <${+z+1}.0.0-0`:ne&&(P=`>=${z}.${H}.0${X} <${z}.${+H+1}.0-0`),o("xRange return",P),P})},O=(I,M)=>(o("replaceStars",I,M),I.trim().replace(s[u.STAR],"")),N=(I,M)=>(o("replaceGTE0",I,M),I.trim().replace(s[M.includePrerelease?u.GTE0PRE:u.GTE0],"")),F=I=>(M,D,P,U,z,H,j,X,G,ee,ne,de,me)=>(x(P)?D="":x(U)?D=`>=${P}.0.0${I?"-0":""}`:x(z)?D=`>=${P}.${U}.0${I?"-0":""}`:H?D=`>=${D}`:D=`>=${D}${I?"-0":""}`,x(G)?X="":x(ee)?X=`<${+G+1}.0.0-0`:x(ne)?X=`<${G}.${+ee+1}.0-0`:de?X=`<=${G}.${ee}.${ne}-${de}`:I?X=`<${G}.${ee}.${+ne+1}-0`:X=`<=${X}`,`${D} ${X}`.trim()),W=(I,M,D)=>{for(let P=0;P<I.length;P++)if(!I[P].test(M))return!1;if(M.prerelease.length&&!D.includePrerelease){for(let P=0;P<I.length;P++)if(o(I[P].semver),I[P].semver!==i.ANY&&I[P].semver.prerelease.length>0){const U=I[P].semver;if(U.major===M.major&&U.minor===M.minor&&U.patch===M.patch)return!0}return!1}return!0};return t8}const uKe=que(),lKe=(e,t,n)=>{try{t=new uKe(t,n)}catch{return!1}return t.test(e)};var cKe=lKe,Gue=fXe(cKe);function fKe(e,t,n){const r=e.open(t),i=1e4,o=250,{origin:a}=new URL(t);let s=~~(i/o);function u(c){c.source===r&&(s=0,e.removeEventListener("message",u,!1))}e.addEventListener("message",u,!1);function l(){s<=0||(r.postMessage(n,a),setTimeout(l,o),s-=1)}setTimeout(l,o)}var dKe=`.vega-embed {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
}
.vega-embed.has-actions {
  padding-right: 38px;
}
.vega-embed details:not([open]) > :not(summary) {
  display: none !important;
}
.vega-embed summary {
  list-style: none;
  position: absolute;
  top: 0;
  right: 0;
  padding: 6px;
  z-index: 1000;
  background: white;
  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
  color: #1b1e23;
  border: 1px solid #aaa;
  border-radius: 999px;
  opacity: 0.2;
  transition: opacity 0.4s ease-in;
  cursor: pointer;
  line-height: 0px;
}
.vega-embed summary::-webkit-details-marker {
  display: none;
}
.vega-embed summary:active {
  box-shadow: #aaa 0px 0px 0px 1px inset;
}
.vega-embed summary svg {
  width: 14px;
  height: 14px;
}
.vega-embed details[open] summary {
  opacity: 0.7;
}
.vega-embed:hover summary, .vega-embed:focus-within summary {
  opacity: 1 !important;
  transition: opacity 0.2s ease;
}
.vega-embed .vega-actions {
  position: absolute;
  z-index: 1001;
  top: 35px;
  right: -9px;
  display: flex;
  flex-direction: column;
  padding-bottom: 8px;
  padding-top: 8px;
  border-radius: 4px;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
  border: 1px solid #d9d9d9;
  background: white;
  animation-duration: 0.15s;
  animation-name: scale-in;
  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
  text-align: left;
}
.vega-embed .vega-actions a {
  padding: 8px 16px;
  font-family: sans-serif;
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
  color: #434a56;
  text-decoration: none;
}
.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {
  background-color: #f7f7f9;
  color: black;
}
.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
  content: "";
  display: inline-block;
  position: absolute;
}
.vega-embed .vega-actions::before {
  left: auto;
  right: 14px;
  top: -16px;
  border: 8px solid rgba(0, 0, 0, 0);
  border-bottom-color: #d9d9d9;
}
.vega-embed .vega-actions::after {
  left: auto;
  right: 15px;
  top: -14px;
  border: 7px solid rgba(0, 0, 0, 0);
  border-bottom-color: #fff;
}
.vega-embed .chart-wrapper.fit-x {
  width: 100%;
}
.vega-embed .chart-wrapper.fit-y {
  height: 100%;
}

.vega-embed-wrapper {
  max-width: 100%;
  overflow: auto;
  padding-right: 14px;
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
`;function Vue(e,...t){for(const n of t)hKe(e,n);return e}function hKe(e,t){for(const n of Object.keys(t))$g(e,n,t[n],!0)}function nH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nH(Object(n),!0).forEach(function(r){cXe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const Es=Xze;let o2=ZYe;const kx=typeof window<"u"?window:void 0;var oq;o2===void 0&&((oq=kx==null?void 0:kx.vl)!=null&&oq.compile)&&(o2=kx.vl);const pKe={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},gKe={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},Cm={vega:"Vega","vega-lite":"Vega-Lite"},D_={vega:Es.version,"vega-lite":o2?o2.version:"not available"},mKe={vega:e=>e,"vega-lite":(e,t)=>o2.compile(e,{config:t}).spec},yKe=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`,vKe="chart-wrapper";function bKe(e){return typeof e=="function"}function rH(e,t,n,r){const i=`<html><head>${t}</head><body><pre><code class="json">`,o=`</code></pre>${n}</body></html>`,a=window.open("");a.document.write(i+e+o),a.document.title=`${Cm[r]} JSON Source`}function xKe(e,t){if(e.$schema){const n=Iue(e.$schema);t&&t!==n.library&&console.warn(`The given visualization spec is written in ${Cm[n.library]}, but mode argument sets ${Cm[t]??t}.`);const r=n.library;return Gue(D_[r],`^${n.version.slice(1)}`)||console.warn(`The input spec uses ${Cm[r]} ${n.version}, but the current version of ${Cm[r]} is v${D_[r]}.`),r}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":t??"vega"}function wKe(e){return!!(e&&"load"in e)}function iH(e){return wKe(e)?e:Es.loader(e)}function AKe(e){var n;const t=((n=e.usermeta)==null?void 0:n.embedOptions)??{};return Ee(t.defaultStyle)&&(t.defaultStyle=!1),t}async function Yue(e,t,n={}){let r,i;Ee(t)?(i=iH(n.loader),r=JSON.parse(await i.load(t))):r=t;const o=AKe(r),a=o.loader;(!i||a)&&(i=iH(n.loader??a));const s=await oH(o,i),u=await oH(n,i),l=Lc(Lc({},Vue(u,s)),{},{config:Cg(u.config??{},s.config??{})});return await SKe(e,r,l,i)}async function oH(e,t){const n=Ee(e.config)?JSON.parse(await t.load(e.config)):e.config??{},r=Ee(e.patch)?JSON.parse(await t.load(e.patch)):e.patch;return Lc(Lc(Lc({},e),r?{patch:r}:{}),n?{config:n}:{})}function _Ke(e){const t=e.getRootNode?e.getRootNode():document;return t instanceof ShadowRoot?{root:t,rootContainer:t}:{root:document,rootContainer:document.head??document.body}}async function SKe(e,t,n={},r){const i=n.theme?Cg(ZJe[n.theme],n.config??{}):n.config,o=wf(n.actions)?n.actions:Vue({},pKe,n.actions??{}),a=Lc(Lc({},gKe),n.i18n),s=n.renderer??"canvas",u=n.logLevel??Es.Warn,l=n.downloadFileName??"visualization",c=typeof e=="string"?document.querySelector(e):e;if(!c)throw new Error(`${e} does not exist`);if(n.defaultStyle!==!1){const S="vega-embed-style",{root:C,rootContainer:E}=_Ke(c);if(!C.getElementById(S)){const k=document.createElement("style");k.id=S,k.innerHTML=n.defaultStyle===void 0||n.defaultStyle===!0?dKe.toString():n.defaultStyle,E.appendChild(k)}}const f=xKe(t,n.mode);let d=mKe[f](t,i);if(f==="vega-lite"&&d.$schema){const S=Iue(d.$schema);Gue(D_.vega,`^${S.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${S.version}, but current version is v${D_.vega}.`)}c.classList.add("vega-embed"),o&&c.classList.add("has-actions"),c.innerHTML="";let p=c;if(o){const S=document.createElement("div");S.classList.add(vKe),c.appendChild(S),p=S}const g=n.patch;if(g&&(d=g instanceof Function?g(d):O3(d,g,!0,!1).newDocument),n.formatLocale&&Es.formatLocale(n.formatLocale),n.timeFormatLocale&&Es.timeFormatLocale(n.timeFormatLocale),n.expressionFunctions)for(const S in n.expressionFunctions){const C=n.expressionFunctions[S];"fn"in C?Es.expressionFunction(S,C.fn,C.visitor):C instanceof Function&&Es.expressionFunction(S,C)}const{ast:y}=n,v=Es.parse(d,f==="vega-lite"?{}:i,{ast:y}),b=new(n.viewClass||Es.View)(v,Lc({loader:r,logLevel:u,renderer:s},y?{expr:Es.expressionInterpreter??n.expr??aBe}:{}));if(b.addSignalListener("autosize",(S,C)=>{const{type:E}=C;E=="fit-x"?(p.classList.add("fit-x"),p.classList.remove("fit-y")):E=="fit-y"?(p.classList.remove("fit-x"),p.classList.add("fit-y")):E=="fit"?p.classList.add("fit-x","fit-y"):p.classList.remove("fit-x","fit-y")}),n.tooltip!==!1){const S=bKe(n.tooltip)?n.tooltip:new sXe(n.tooltip===!0?{}:n.tooltip).call;b.tooltip(S)}let{hover:x}=n;if(x===void 0&&(x=f==="vega"),x){const{hoverSet:S,updateSet:C}=typeof x=="boolean"?{}:x;b.hover(S,C)}n&&(n.width!=null&&b.width(n.width),n.height!=null&&b.height(n.height),n.padding!=null&&b.padding(n.padding)),await b.initialize(p,n.bind).runAsync();let _;if(o!==!1){let S=c;if(n.defaultStyle!==!1||n.forceActionsMenu){const E=document.createElement("details");E.title=a.CLICK_TO_VIEW_ACTIONS,c.append(E),S=E;const k=document.createElement("summary");k.innerHTML=yKe,E.append(k),_=O=>{E.contains(O.target)||E.removeAttribute("open")},document.addEventListener("click",_)}const C=document.createElement("div");if(S.append(C),C.classList.add("vega-actions"),o===!0||o.export!==!1){for(const E of["svg","png"])if(o===!0||o.export===!0||o.export[E]){const k=a[`${E.toUpperCase()}_ACTION`],O=document.createElement("a"),N=$e(n.scaleFactor)?n.scaleFactor[E]:n.scaleFactor;O.text=k,O.href="#",O.target="_blank",O.download=`${l}.${E}`,O.addEventListener("mousedown",async function(F){F.preventDefault();const W=await b.toImageURL(E,N);this.href=W}),C.append(O)}}if(o===!0||o.source!==!1){const E=document.createElement("a");E.text=a.SOURCE_ACTION,E.href="#",E.addEventListener("click",function(k){rH(r6(t),n.sourceHeader??"",n.sourceFooter??"",f),k.preventDefault()}),C.append(E)}if(f==="vega-lite"&&(o===!0||o.compiled!==!1)){const E=document.createElement("a");E.text=a.COMPILED_ACTION,E.href="#",E.addEventListener("click",function(k){rH(r6(d),n.sourceHeader??"",n.sourceFooter??"","vega"),k.preventDefault()}),C.append(E)}if(o===!0||o.editor!==!1){const E=n.editorUrl??"https://vega.github.io/editor/",k=document.createElement("a");k.text=a.EDITOR_ACTION,k.href="#",k.addEventListener("click",function(O){fKe(window,E,{config:i,mode:f,renderer:s,spec:r6(t)}),O.preventDefault()}),C.append(k)}}function A(){_&&document.removeEventListener("click",_),b.finalize()}return{view:b,spec:t,vgSpec:d,finalize:A,embedOptions:n}}function EKe({profData:e}){const t=J.useRef(),n=J.useMemo(()=>{const r=wy.map(i=>Object.entries(i.cites_per_year).map(([o,a])=>({year:parseInt(o),cites:a}))).flat().reduce((i,o)=>{const{year:a,cites:s}=o;return i[a]?i[a]+=s:i[a]=s,i},{});return Object.entries(r).map(([i,o])=>({year:parseInt(i),cites:o}))},[]);return J.useEffect(()=>{var r;e?r=Object.entries(e.cites_per_year).map(([s,u])=>({year:parseInt(s),cites:u})):r=n;const i=Math.max(...r.map(s=>s.cites)),o=i+100-i%100,a={$schema:"https://vega.github.io/schema/vega-lite/v5.json",title:`${e?e.name+"'s":"Total"} Paper Citations from 1950 to 2023`,width:500,height:160,mark:"line",data:{values:r},layer:[{mark:"line",encoding:{x:{field:"year",type:"quantitative",scale:{domain:[1950,2023]}},y:{field:"cites",type:"quantitative",scale:{domain:[0,o]}}}},{mark:{type:"point",filled:!0,size:50},encoding:{x:{field:"year",type:"quantitative",scale:{domain:[1950,2023]}},y:{field:"cites",type:"quantitative",scale:{domain:[0,o]}},tooltip:[{field:"year"},{field:"cites"}]}}],config:{axis:{grid:!1}},view:{stroke:null}};Yue(t.current,a,{mode:"vega-lite",actions:!1,data:{values:r}}).catch(console.error)}),V.jsx("div",{ref:t})}function CKe({profData:e}){const t=J.useRef(),n=J.useMemo(()=>{const r=wy.map(i=>Object.entries(i.pub_per_year[0]).map(([o,a])=>({year:parseInt(o),publications:a}))).flat().reduce((i,o)=>{const{year:a,publications:s}=o;return i[a]?i[a]+=s:i[a]=s,i},{});return Object.entries(r).map(([i,o])=>({year:parseInt(i),publications:o})).filter(i=>i.year>=1950&&i.year<=2023)},[]);return J.useEffect(()=>{var r;e?r=Object.entries(e.pub_per_year[0]).map(([s,u])=>({year:parseInt(s),publications:u})).filter(s=>s.year>=1950&&s.year<=2023):r=n;const i=Math.max(...r.map(s=>s.publications)),o=i+10-i%10,a={$schema:"https://vega.github.io/schema/vega-lite/v5.json",title:`${e?e.name+"'s":"Total"} Paper Publications from 1950 to 2023`,width:500,height:160,mark:"line",data:{values:r},layer:[{mark:"line",encoding:{x:{field:"year",type:"quantitative",scale:{domain:[1950,2023]}},y:{field:"publications",type:"quantitative",scale:{domain:[0,o]}}}},{mark:{type:"point",filled:!0,size:50},encoding:{x:{field:"year",type:"quantitative",scale:{domain:[1950,2023]}},y:{field:"publications",type:"quantitative",scale:{domain:[0,o]}},tooltip:[{field:"year"},{field:"publications"}]}}],config:{axis:{grid:!1}},view:{stroke:null}};Yue(t.current,a,{mode:"vega-lite",actions:!1,data:{values:r}}).catch(console.error)}),V.jsx("div",{ref:t})}const $Ke="data:image/png;base64,UklGRhoOAABXRUJQVlA4IA4OAACQhACdASpYAlgCPikUiUMhoSERKtQEGAKEtLdz0r/szjuYW9uaYBEj0SaXnSW+mf0H/IdmX+F5bKSA7GYHvsr+y/unot3t8AL8b/lP+x/L7gQQAfV7z45nfgD2AP1a4ougH+dfP9/8/8/6APo/9mvgP/nH9y9Lf2HfuT7Nv7jA2nl4vTO8VmXi9M7xWZeL0zvFZl4vTO8VmXi9M7xWZeL0zvFZl4vTO8VmXi9M7xWZeL0zvFZl4vTO8VmXi9M7xWZeL0zvFZl4vTO8VmXi9M7xWZeL0zvFZl4vTO8VmXi9M7xWZeL0zvFZl4vTO8VmXi9M7xWZeL0zvFZl4vTO8VmXi9M7xWZeL0zvFZl4eTdc91xxQ4vb4O5Tn/tXVlSrisAZo8vF6Z3isy8XpneKy9wftRz+Onz6POKWBv6ddWWlnckXgFGM7xWZeL0zvFZe4w+ONWuWe07wow1eWHUl1R/y54ClGM7xWZeL0nmRJYICw8y8XpOZmwGhsAnmXi9M7xWZeLyiTop/p6PTO8VhTnWIK3F2rxWZeL0zvFZl1oWmckOAuneKzLw5/apCBAUoxneKzLxemVlt5kE8y8XpPYySoXpneKzLxemd4pcLTqd4rMur0Swt5O8VmXi9M7xWZUcMg6fjmD4rMvF5Uv2VJUxneKzLxemd4rDRWiOIUBmApRjO8KxS81lGzLxemd4rMvF6ZUQ08LP7oMZ3S33Ge/GDwZOXtO8VmXi9M6U8kFHlyidZYMnLyFIZ1kZ9sAhSjGd4rMvF6Z3jHLYSUAj+iNCt4WrxWGpJL2uTZ3jy8XpneKzLxemd4pWWIIVYxYyRBOzT2blSPxEeo3LyLYIwUoxneKzLxemd4rMqmNVRMyHS/aXYQgC3F3+YoVHdbF/6JG4T6Ngzm/FZl4vTO8VmXi9Mq2UhC+nmuJv4Qbqy97D1wsDTebjRMmdM7xWZeL0zvFZl1RqbGxcS2EJsjwFH/Ka6thnH3Jfq8VmXi9M7xWZeHQR9eIkKSXPAUoxOXPnvWxK1aBpIAycvad4rMvF5T0HeDBr1zIqd4rMvFtIGV0SQmSF5eL0zvFZl4c7VaKd2X2L0zvFZl5vH31mVnDE5vxWZeL0zukix2AoGM7xWZeL0nm9wN449duwCjGd4rMur2WvEJMGTl7TvFZl1S+iUgQ7l4vTO8VmVLHWnIBerMvF6Z3isypR8DYkb7YTzLxemd0tyimqrqNcvad4rMvF6T7CVg4PLxemd4pYmLahfisy8XpneKzKlUGpyHAaApRjO8UrkK3a79p3isy8XpneKXkJFvrWpBPMvF6ZWmaQ+w7QBRjO8VmXi9M6XsVp0GXp5l4vTOlhmod01cvad4rMvF6Z0uFKsWL0zvFZfNOTvFZl4vTO8Vl7z9f9p3isy8O7R08y8XpneKzLw7tHTzKgAAP7+n6i5FAAAAAAAAAAAAAAABdjVdtzllqjl+qUTO5vPrh4/o+bndWJ3B5Ioo+TQUeMy697iVYZU4AzMD4kC/uHGZv/ADv4X70UPySv404KIraLQjnb0dcAcInpKdGMgkEs4regxPao2N4RtkY2gtwtJPuLRaPogRVVWUfGDxx4IQkEkwkff4im/8kDqpTkfJORtuaK4XMUmvwz90mof5MemArRTzDRYACB7UtAEzGdEu79yg+BV275QJjmeBO4nl2bhPxv75ca+edN4kEjOZ1nBAz7dJXXo3Bt2Hb8FrnvEOjURzu0Jkfb8Ze7HIf+/twn5EPegCROfWGgodDpcwKHorp8pUHqenw6UOhGMEXyw/8Sgh1MDLEmF6s7cwuKl10YJmPZ70daOQUvEvD9sZ6PFvmAl3jZUHN2plKhz4zZhh9EPQUR8X9KRHpVeVnRtgabXIgxChx0wIVlJ//MrRGEqlOvW4qf+0S0YFY4mM3KFxeestxIi6G1TnaDpXZN8wsZ4CLoRI5Shx9NH+DeDL9qsiObRC7jqPm5xHORmxBqDQWaaHtODaigK6ks/1w1BzXevzK06uXo1otOJ/1Oh6F84vXMxEj2Rm4/LetzM1ViNyUW3tZwv83DR6zXdh5hJalR7RCtOxSw2uHNhKFbemdh5FqcDdhE2y3Qt5YdfcZnS/GFpujs5Xth4tMrB+ofIj1P7R3RYKMAgeeuSHMACqyiJPrB3XMydTdzcnvkTurH2j1PkN+wJFwI8HUpq+jlyi+BJjQp6n7WDItjQDPlAYCLH9MQlxPKrojFNQgcDGEoXoTD/yjLeAhtbn4Rbnb8J+dox1r6bRF+xhhdkT8ePJdEDmH6h96IBx/dNMmBhi7ugrnzmB8U+PXiImgL/NWcvRawOul2XXiOMmpNQxqL0BiDQgjGlCGP/wBo2khadWVfIYj5jlqqHlh1pgi5mT2ZSRjItLhtNN8KaPvCBzYWb787T3c26Wc5+8MwAVmJLHOTbC9jTzySKcfqjo4zEb37m6M0QGGxgboMwMgvojnt3gYLFhC/SQH/sfwwvbd9vwTXTCix+qZSQxqDCkJwo2r6DBnG/1qmvCvFUhURzMq0wEyAP8UqAWh3orsEY+k4JSQT8WIkatnkAERdK99+FwSUST4k06uRi5QwA6DEZHQACSETJVvsUgVK3xCzdty/HFpX8owyRAySbmMPn7vtsYuQ9N81pQGIyYkLiuYMBGpc+irKvLKI3kWwUNexDawyBQgDKeqRIuAmouV4ihDxctknS0Sk99h5wQjLxSldZPkHID8PADvHGDQegYxkYYeizBhUGl+Q/eZMUOjn85nj+NK8IEOip8RbcG6fFhLBhpqeOU0J3QVc57JUc+gOscTu+dK5iW9dGqhF3FCdok5cuvrPVrszG4OwtHhN6XRlU1cFGKpsKBdAujGW7AK94OxdfAuZw3M6CrdFeCgpPkGtLhoxlXmdj0KNA+eUKwnTd/PTIMV/7fPpS0/jbmMEd05P6GOGyj24lw9822WRlwgubQnLB4EUdEqEO02iliFdcZ813W1ubgZghwKNVOQ5wV0vVMaiv3dvxS5xklnCZrIWStrzhco3dIG4uBo5YvC1PEC6ZBn3AnnvR7apvCHGdWCrzCyyYh+lmD9dyqCoFa+LuEx8UJ76v3svLs43GIQ0/HvTwqJ5oe36OfKPwYFfbee4oyxbbMmpBiAusQx5fziFwo4hBQ9KZIpCOOKZfvz/Sg3G6WhxeMKGFXrsZOPttMIeC6F7iuc8kqZK/Hziaz7Akm8DbdxqTW8cxXLdFSWRmjTSTAnFMoitFTpZjPvUpPQxpn/2dIwWO+56KUr0D6qsbPFBUF1nnkin293j4cDul6Nfsq2QkRVEByaVv+HAhqDwV/wFIQiOvPqKkaBUgAHTI4WLCD2mGx4T20xf2/5/rINXW5gnxp1XDka/0QYaiuHKIyOiYn+JmofCoCYlBBY0BfTzTiYohBsMNfBDMIjTFWx0GZuYRq5xXDbrVK2VTi8VVt+juun5yZ2bjLwiHE45utiE3VvV0+/LY2QS4LLDjH9nMD2sAWydLwjEQbgrPQhXCZT1c+g1LrCkE5gtI/rhdlVa0+sAo59uExJloRg7JNbVi3w6XoZ3UEMSEHAZkDXkcx02nl6R6QsJ6TlKhmzl+A46Z76797mwBkQFdhM//hf+N+J32ZCv2x+Cf48aTXI8zCWkvvVQj3LH+h69gwlFQNyJ6gsezVutcXeEaX4Zrgfc4BKboVpRdteSyoVwVM90bswsyfFvxBCcALbsZeAF4upaqE7v20sWwnveoqecgFWMlEU2+8TZZTr2KvyrKeHlhFbdpB/TDOALE+8ktAlGhuDxmsieLwmI/hVWBAQMdMqjSH7J+RJsSfCntZw4HjxdE65yzorAGNttj6XhO5rZfAPGiiUrSLIYA1YwB6ofpz3gyiLi2qIeGpR/IBuyHYH1rslyUAC+KtvigVrT3H4GWG1jjUy79Ttijs+dwiGuviZQKXfGRlgKwPp98qsBIq86jr4MMpx7PUEZ2T9wPpRP/Ab0ySqX5PaCh9NOZZSRnRhclsX2iN3OOxp53/JZyvpEF7Wcge5l7B+s/zX3IZWSbDz6F3PASgq5TfuE+FO4YUWZ75yc3cQJrzrcgCBSuVx8r4lUGg1uKpQt43i1pUVlFzc1SIvBnC6lV9QYn5K876SBc5vrzEiNeD/FWH2/59139Sv8dZd7RfnCwulyIMdxR0iQZ9jdPd5D7LTnquR2Ti7Z/8TgV7cuLessoxpLDLu7AFlIK+Q52598DyR3YpXG+eYEwcJH1k4ZucWLR+K5G/hg7B3KER2C2ybm7xGiDOVj/mjatGAU+pLFAtwdbMMeQB4Aq17bDtrJ0B6fT9OC/3UG1lRJ1w5MgLZtnPaJ+97uPs5Ofqwl4JNqpDb4MhUP+7Ic7h+qCCTj1yjsP8VOP3hsFh+2aE87wnCN5LADUeiMgeFW+zey0obCgmojsrYKed6zw/z3muualv1uGags7+p9+z3AAkKOa3R4FlYplOxCZ+BZVc8EHDIZR7qSGwAWvTaPRnevcSQcd+yDSN4odzc7KB/TC/srZNEM+IHKZejfBH8yVO/eG4QBZ+zQftHWgaeKT82m4nKNpOxAYkzv9mbutsG2XwELCqOP/pccXrnosD93UVls4wRjp34n9LRNTsB8XdJa7sDTSn6h7sQochLuULQScFantP58Pu4uyCM9Oins0MkVfD7F2hkWg8hLws4NLMr0dwE5QO8rKUVtOCXsN9k1xcDzjrYjtiRAbF6UhRvfU2WmMlh+zHjEWu9hInW2NB0MA1oQc8TEAvFxVStJ8qstPUjdhA5FBhxbpNUYAAAAA";function v0(e){return e!=null&&!Number.isNaN(e)}function ag(e,t){return+v0(t)-+v0(e)||js(e,t)}function P$(e,t){return+v0(t)-+v0(e)||yg(e,t)}function Jue(e){return e!=null&&`${e}`!=""}function Xue(e){return isFinite(e)?e:NaN}function bS(e){return e>0&&isFinite(e)?e:NaN}function jR(e){return e<0&&isFinite(e)?e:NaN}function kKe(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof t=="function"?t(e):t;const n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),o=e.getUTCMilliseconds();return`${TKe(e.getUTCFullYear())}-${qu(e.getUTCMonth()+1,2)}-${qu(e.getUTCDate(),2)}${n||r||i||o?`T${qu(n,2)}:${qu(r,2)}${i||o?`:${qu(i,2)}${o?`.${qu(o,3)}`:""}`:""}Z`:""}`}function TKe(e){return e<0?`-${qu(-e,6)}`:e>9999?`+${qu(e,6)}`:qu(e,4)}function qu(e,t){return`${e}`.padStart(t,"0")}const MKe=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function Kue(e,t){return MKe.test(e+="")?new Date(e):typeof t=="function"?t(e):t}const Gh=1e3,wd=Gh*60,Ad=wd*60,vl=Ad*24,Cs=vl*7,Ld=vl*30,Xl=vl*365,n8=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",Gh],["5 seconds",5*Gh],["15 seconds",15*Gh],["30 seconds",30*Gh],["minute",wd],["5 minutes",5*wd],["15 minutes",15*wd],["30 minutes",30*wd],["hour",Ad],["3 hours",3*Ad],["6 hours",6*Ad],["12 hours",12*Ad],["day",vl],["2 days",2*vl],["week",Cs],["2 weeks",2*Cs],["month",Ld],["3 months",3*Ld],["6 months",6*Ld],["year",Xl],["2 years",2*Xl],["5 years",5*Xl],["10 years",10*Xl],["20 years",20*Xl],["50 years",50*Xl],["100 years",100*Xl]],WR=new Map([["second",Gh],["minute",wd],["hour",Ad],["day",vl],["monday",Cs],["tuesday",Cs],["wednesday",Cs],["thursday",Cs],["friday",Cs],["saturday",Cs],["sunday",Cs],["week",Cs],["month",Ld],["year",Xl]]),Que=new Map([["second",Yo],["minute",F2],["hour",D2],["day",Ja],["monday",Oy],["tuesday",LK],["wednesday",PK],["thursday",Xd],["friday",IK],["saturday",zK],["sunday",qc],["week",qc],["month",Qd],["year",ua]]),Zue=new Map([["second",Yo],["minute",Ag],["hour",_g],["day",_3],["monday",Ry],["tuesday",BK],["wednesday",UK],["thursday",Kd],["friday",jK],["saturday",WK],["sunday",Gc],["week",Gc],["month",Zd],["year",la]]),bv=Symbol("intervalDuration"),xS=Symbol("intervalType");for(const[e,t]of Que)t[bv]=WR.get(e),t[xS]="time";for(const[e,t]of Zue)t[bv]=WR.get(e),t[xS]="utc";const NKe=[["year",la,"utc"],["year",ua,"time"],["month",Zd,"utc"],["month",Qd,"time"],["day",_3,"utc",6*Ld],["day",Ja,"time",6*Ld],["hour",_g,"utc",3*vl],["minute",Ag,"utc",6*Ad],["second",Yo,"utc",30*wd]];function ele(e,t,n){let r=`${e}`.toLowerCase();r.endsWith("s")&&(r=r.slice(0,-1));let i=1;const o=/^(?:(\d+)\s+)/.exec(r);switch(o&&(r=r.slice(o[0].length),i=+o[1]),r){case"quarter":r="month",i*=3;break;case"half":r="month",i*=6;break}let a=t.get(r);if(!a)throw new Error(`unknown interval: ${e}`);if(i>1){if(!a.every)throw new Error(`non-periodic interval: ${r}`);a=a.every(i),a[bv]=WR.get(r)*i,a[xS]=n}return a}function tle(e){return ele(e,Que,"time")}function nle(e){return ele(e,Zue,"utc")}function aH(e,t){if(!(t>1))return;const n=e[bv];if(!n8.some(([,i])=>i===n)||n%vl===0&&vl<n&&n<Ld)return;const[r]=n8[w0(([,i])=>Math.log(i)).center(n8,Math.log(n*t))];return(e[xS]==="time"?tle:nle)(r)}function sH(e,t,n){const r=t==="time"?S3:Sg;if(n==null)return r(e==="year"?"%Y":e==="month"?"%Y-%m":e==="day"?"%Y-%m-%d":e==="hour"||e==="minute"?"%Y-%m-%dT%H:%M":e==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=OKe(n);switch(e){case"millisecond":return Ah(r(".%L"),r(":%M:%S"),i);case"second":return Ah(r(":%S"),r("%-I:%M"),i);case"minute":return Ah(r("%-I:%M"),r("%p"),i);case"hour":return Ah(r("%-I %p"),r("%b %-d"),i);case"day":return Ah(r("%-d"),r("%b"),i);case"month":return Ah(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function OKe(e){return e==="left"||e==="right"?(t,n)=>`
${t}
${n}`:e==="top"?(t,n)=>`${n}
${t}`:(t,n)=>`${t}
${n}`}function RKe(e,t){const n=si(Nwe(e,(r,i)=>Math.abs(i-r)));if(n<1e3)return sH("millisecond","utc",t);for(const[r,i,o,a]of NKe){if(n>a||r==="hour"&&!n)break;if(e.every(s=>i.floor(s)>=s))return sH(r,o,t)}}function Ah(e,t,n){return(r,i,o)=>{const a=e(r,i),s=t(r,i),u=i-ug(o);return i!==u&&o[u]!==void 0&&s===t(o[u],u)?a:n(a,s)}}const a2=Object.getPrototypeOf(Uint8Array),FKe=Object.prototype.toString,DKe=Symbol("reindex");function ff(e,t,n){const r=typeof t;return r==="string"?uH(e,IKe(t),n):r==="function"?uH(e,t,n):r==="number"||t instanceof Date||r==="boolean"?vi(e,xv(t),n):typeof(t==null?void 0:t.transform)=="function"?lH(t.transform(e),n):LKe(lH(t,n),e==null?void 0:e[DKe])}function LKe(e,t){return t?GR(e,t):e}function uH(e,t,n){return vi(e,(n==null?void 0:n.prototype)instanceof a2?PKe(t):t,n)}function lH(e,t){return t===void 0?Eo(e):e instanceof t?e:t.prototype instanceof a2&&!(e instanceof a2)?t.from(e,HR):t.from(e)}function PKe(e){return(t,n)=>HR(e(t,n))}const Aw=[null],IKe=e=>t=>t[e],zKe={transform:wv},Ml={transform:e=>e},BKe=()=>!0,ni=e=>e==null?e:`${e}`,Jn=e=>e==null?e:+e,rle=e=>e?e[0]:void 0,UKe=e=>e?e[1]:void 0,xv=e=>()=>e;function jKe(e){const t=+`${e}`.slice(1)/100;return(n,r)=>Ep(n,t,r)}function cH(e){return e instanceof a2?e:vi(e,HR,Float64Array)}function HR(e){return e==null?NaN:Number(e)}function WKe(e){return vi(e,HKe)}function HKe(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?Kue(e):e==null||isNaN(e=+e)?void 0:new Date(e)}function s2(e,t){return e===void 0&&(e=t),e===null?[void 0,"none"]:SS(e)?[void 0,e]:[e,void 0]}function ii(e,t){return e===void 0&&(e=t),e===null||typeof e=="number"?[void 0,e]:[e,void 0]}function ile(e,t,n){if(e!=null)return gs(e,t,n)}function gs(e,t,n){const r=`${e}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${t}: ${e}`);return r}function Eo(e){return e==null||e instanceof Array||e instanceof a2?e:Array.from(e)}function vi(e,t,n=Array){return e==null?e:e instanceof n?e.map(t):n.from(e,t)}function I$(e,t=Array){return e instanceof t?e.slice():t.from(e)}function z0(e){return(e==null?void 0:e.toString)===FKe}function z$(e){return z0(e)&&(e.type!==void 0||e.domain!==void 0)}function wS(e){return z0(e)&&typeof e.transform!="function"}function sg(e){return wS(e)&&e.value===void 0&&e.channel===void 0}function qR(e,t){return e===void 0&&t===void 0?[rle,UKe]:[e,t]}function wv(e){const t=e.length,n=new Uint32Array(t);for(let r=0;r<t;++r)n[r]=r;return n}function GR(e,t){return vi(t,n=>e[n],e.constructor)}function qKe(e,t,n){return e.subarray?e.subarray(t,n):e.slice(t,n)}function Tx(e){return e!==null&&typeof e=="object"?e.valueOf():e}function AS(e,t){return typeof e=="string"?e:e&&e.label!==void 0?e.label:t}function GKe(e,t){const n=VR(e,t);return n&&(r=>v0(r)?n.floor(r):r)}function VR(e,t){if(e!=null){if(typeof e=="number"){0<e&&e<1&&Number.isInteger(1/e)&&(e=-1/e);const n=Math.abs(e);return e<0?{floor:r=>Math.floor(r*n)/n,offset:r=>(r*n+1)/n,range:(r,i)=>Pn(Math.ceil(r*n),i*n).map(o=>o/n)}:{floor:r=>Math.floor(r/n)*n,offset:r=>r+n,range:(r,i)=>Pn(Math.ceil(r/n),i/n).map(o=>o*n)}}if(typeof e=="string")return(t==="time"?tle:nle)(e);if(typeof e.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof e.offset!="function")throw new Error("invalid interval; missing offset method");return e}}function Av(e,t){if(e=VR(e,t),e&&typeof e.range!="function")throw new Error("invalid interval: missing range method");return e}function VKe(e,t){if(e=Av(e,t),e&&typeof e.ceil!="function")throw new Error("invalid interval: missing ceil method");return e}function YKe(e){return typeof(e==null?void 0:e.range)=="function"}function _S(e){return e===void 0||wS(e)?e:{value:e}}function JKe(e){return e==null?null:{transform:t=>ff(t,e,Float64Array),label:AS(e)}}function B0(e){return e&&typeof e[Symbol.iterator]=="function"}function ole(e){for(const t of e)if(t!=null)return typeof t!="object"||t instanceof Date}function fH(e){for(const t of e){if(t==null)continue;const n=typeof t;return n==="string"||n==="boolean"}}function ru(e){for(const t of e)if(t!=null)return t instanceof Date}function XKe(e){for(const t of e)if(t!=null)return typeof t=="string"&&isNaN(t)&&Kue(t)}function KKe(e){for(const t of e)if(t!=null){if(typeof t!="string")return!1;if(t.trim())return!isNaN(t)}}function QKe(e){for(const t of e)if(t!=null)return typeof t=="number"}function r8(e,t){let n;for(const r of e)if(r!=null){if(!t(r))return!1;n=!0}return n}const ZKe=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function SS(e){return typeof e!="string"?!1:(e=e.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(e)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(e)||ZKe.has(e))}function eQe(e){return typeof e=="number"&&(0<=e&&e<=1||isNaN(e))}function Ni(e){return e==null||u2(e)}function u2(e){return/^\s*none\s*$/i.test(e)}function tQe(e){return/^\s*round\s*$/i.test(e)}function ale(e,t){return ile(e,t,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function ES(e="middle"){return ale(e,"frameAnchor")}function ug(e){if(e==null)return;const t=e[0],n=e[e.length-1];return yg(t,n)}function nQe(e={},...t){let n=e;for(const r of t)for(const i in r)if(n[i]===void 0){const o=r[i];n===e?n={...n,[i]:o}:n[i]=o}return n}function rQe(e){console.warn("named iterables are deprecated; please use an object instead");const t=new Set;return Object.fromEntries(Array.from(e,n=>{const{name:r}=n;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(t.has(i))throw new Error(`duplicate name: ${i}`);return t.add(i),[r,n]}))}function sle(e){return B0(e)?rQe(e):e}const Ps=Symbol("position"),Nl=Symbol("color"),_v=Symbol("radius"),Sv=Symbol("length"),Ev=Symbol("opacity"),CS=Symbol("symbol"),ule=Symbol("projection"),bn=new Map([["x",Ps],["y",Ps],["fx",Ps],["fy",Ps],["r",_v],["color",Nl],["opacity",Ev],["symbol",CS],["length",Sv],["projection",ule]]);function iQe(e){return e===Ps||e===ule}function oQe(e){return e===Ps||e===_v||e===Sv||e===Ev}const aQe=Math.sqrt(3),sQe=2/aQe,uQe={draw(e,t){const n=Math.sqrt(t/Math.PI),r=n*sQe,i=r/2;e.moveTo(0,r),e.lineTo(n,i),e.lineTo(n,-i),e.lineTo(0,-r),e.lineTo(-n,-i),e.lineTo(-n,i),e.closePath()}},YR=new Map([["asterisk",mZ],["circle",Dp],["cross",yZ],["diamond",bZ],["diamond2",xZ],["hexagon",uQe],["plus",wZ],["square",AZ],["square2",_Z],["star",EZ],["times",TZ],["triangle",CZ],["triangle2",$Z],["wye",kZ]]);function JR(e){return e&&typeof e.draw=="function"}function lQe(e){return JR(e)?!0:typeof e!="string"?!1:YR.has(e.toLowerCase())}function XR(e){if(e==null||JR(e))return e;const t=YR.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid symbol: ${e}`)}function cQe(e){if(e==null||JR(e))return[void 0,e];if(typeof e=="string"){const t=YR.get(`${e}`.toLowerCase());if(t)return[void 0,t]}return[e,void 0]}function lle({filter:e,sort:t,reverse:n,transform:r,initializer:i,...o}={},a){if(r===void 0&&(e!=null&&(r=cle(e)),t!=null&&!sg(t)&&(r=i8(r,KR(t))),n&&(r=i8(r,fle))),a!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...o,...(t===null||sg(t))&&{sort:t},transform:i8(r,a)}}function lg({filter:e,sort:t,reverse:n,initializer:r,...i}={},o){return r===void 0&&(e!=null&&(r=cle(e)),t!=null&&!sg(t)&&(r=o8(r,KR(t))),n&&(r=o8(r,fle))),{...i,...(t===null||sg(t))&&{sort:t},initializer:o8(r,o)}}function i8(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i){return{data:n,facets:r}=e.call(this,n,r,i),t.call(this,Eo(n),r,i)}}function o8(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i,...o){let a,s,u,l,c,f;return{data:s=n,facets:u=r,channels:a}=e.call(this,n,r,i,...o),{data:c=s,facets:f=u,channels:l}=t.call(this,s,u,{...i,...a},...o),{data:c,facets:f,channels:{...a,...l}}}}function fQe(e,t){return(e.initializer!=null?lg:lle)(e,t)}function cle(e){return(t,n)=>{const r=ff(t,e);return{data:t,facets:n.map(i=>i.filter(o=>r[o]))}}}function fle(e,t){return{data:e,facets:t.map(n=>n.slice().reverse())}}function dQe(e,{sort:t,...n}={}){return{...(wS(e)&&e.channel!==void 0?lg:fQe)(n,KR(e)),sort:sg(t)?t:null}}function KR(e){return(typeof e=="function"&&e.length!==1?hQe:pQe)(e)}function hQe(e){return(t,n)=>{const r=(i,o)=>e(t[i],t[o]);return{data:t,facets:n.map(i=>i.slice().sort(r))}}}function pQe(e){let t,n;({channel:t,value:e,order:n}={..._S(e)});const r=t==null?void 0:t.startsWith("-");if(r&&(t=t.slice(1)),n===void 0&&(n=r?P$:ag),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=ag;break;case"descending":n=P$;break;default:throw new Error(`invalid order: ${n}`)}return(i,o,a)=>{let s;if(t===void 0)s=ff(i,e);else{if(a===void 0)throw new Error("channel sort requires an initializer");if(s=a[t],!s)return{};s=s.value}const u=(l,c)=>n(s[l],s[c]);return{data:i,facets:o.map(l=>l.slice().sort(u))}}}function gQe(e,t,n=mQe){if(e==null)return n(e);if(typeof e.reduceIndex=="function")return e;if(typeof e.reduce=="function"&&z0(e))return yQe(e);if(typeof e=="function")return vQe(e);if(/^p\d{2}$/i.test(e))return Lu(jKe(e));switch(`${e}`.toLowerCase()){case"first":return xQe;case"last":return wQe;case"identity":return bQe;case"count":return hH;case"distinct":return AQe;case"sum":return t==null?hH:_Qe;case"proportion":return pH(t,"data");case"proportion-facet":return pH(t,"facet");case"deviation":return Lu(sJ);case"min":return Lu(Sp);case"min-index":return Lu(kwe);case"max":return Lu(si);case"max-index":return Lu($we);case"mean":return dH(mJ);case"median":return dH(_y);case"variance":return Lu(aJ);case"mode":return Lu(Mwe)}return n(e)}function mQe(e){throw new Error(`invalid reduce: ${e}`)}function yQe(e){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...e,reduceIndex:e.reduce.bind(e)}}function vQe(e){return{reduceIndex(t,n,r){return e(GR(n,t),r)}}}function Lu(e){return{reduceIndex(t,n){return e(t,r=>n[r])}}}function dH(e){return{reduceIndex(t,n){const r=e(t,i=>n[i]);return ru(n)?new Date(r):r}}}const bQe={reduceIndex(e,t){return GR(t,e)}},xQe={reduceIndex(e,t){return t[e[0]]}},wQe={reduceIndex(e,t){return t[e[e.length-1]]}},hH={label:"Frequency",reduceIndex(e){return e.length}},AQe={label:"Distinct",reduceIndex(e,t){const n=new Uc;for(const r of e)n.add(t[r]);return n.size}},_Qe=Lu(A2);function pH(e,t){return e==null?{scope:t,label:"Frequency",reduceIndex:(n,r,i=1)=>n.length/i}:{scope:t,reduceIndex:(n,r,i=1)=>A2(n,o=>r[o])/i}}function l2(e,{scale:t,type:n,value:r,filter:i,hint:o,label:a=AS(r)},s){return o===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(o=r.hint),dle(s,{scale:t,type:n,value:ff(e,r),label:a,filter:i,hint:o})}function SQe(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[n,l2(t,r,n)]))}function EQe(e,t){const n=Object.fromEntries(Object.entries(e).map(([r,{scale:i,value:o}])=>{const a=i==null?null:t[i];return[r,a==null?o:vi(o,a)]}));return n.channels=e,n}function dle(e,t){const{scale:n,value:r}=t;if(n===!0||n==="auto")switch(e){case"fill":case"stroke":case"color":t.scale=n!==!0&&r8(r,SS)?null:"color";break;case"fillOpacity":case"strokeOpacity":case"opacity":t.scale=n!==!0&&r8(r,eQe)?null:"opacity";break;case"symbol":n!==!0&&r8(r,lQe)?(t.scale=null,t.value=vi(r,XR)):t.scale="symbol";break;default:t.scale=bn.has(e)?e:null;break}else if(n===!1)t.scale=null;else if(n!=null&&!bn.has(n))throw new Error(`unknown scale: ${n}`);return t}function CQe(e,t,n,r,i){const{order:o,reverse:a,reduce:s=!0,limit:u}=i;for(const l in i){if(!bn.has(l))continue;let{value:c,order:f=o,reverse:d=a,reduce:p=s,limit:g=u}=_S(i[l]);const y=c==null?void 0:c.startsWith("-");if(y&&(c=c.slice(1)),f=f===void 0?y!==(c==="width"||c==="height")?ple:hle:TQe(f),p==null||p===!1)continue;const v=l==="fx"||l==="fy"?kQe(t,r[l]):$Qe(n,l);if(!v)throw new Error(`missing channel for scale: ${l}`);const b=v.value,[x=0,_=1/0]=B0(g)?g:g<0?[g]:[0,g];if(c==null)v.domain=()=>{let A=Array.from(new Uc(b));return d&&(A=A.reverse()),(x!==0||_!==1/0)&&(A=A.slice(x,_)),A};else{const A=c==="data"?e:c==="height"?gH(n,"y1","y2"):c==="width"?gH(n,"x1","x2"):B$(n,c,c==="y"?"y2":c==="x"?"x2":void 0),S=gQe(p===!0?"max":p,A);v.domain=()=>{let C=Awe(wv(b),E=>S.reduceIndex(E,A),E=>b[E]);return f&&C.sort(f),d&&C.reverse(),(x!==0||_!==1/0)&&(C=C.slice(x,_)),C.map(rle)}}}}function $Qe(e,t){for(const n in e){const r=e[n];if(r.scale===t)return r}}function kQe(e,t){const n=e.original;if(n===e)return t;const r=t.value,i=t.value=[];for(let o=0;o<n.length;++o){const a=r[n[o][0]];for(const s of e[o])i[s]=a}return t}function gH(e,t,n){const r=B$(e,t),i=B$(e,n);return vi(i,(o,a)=>Math.abs(o-r[a]),Float64Array)}function B$(e,t,n){let r=e[t];if(!r&&n!==void 0&&(r=e[n]),r)return r.value;throw new Error(`missing channel: ${t}`)}function TQe(e){if(e==null||typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"ascending":return hle;case"descending":return ple}throw new Error(`invalid order: ${e}`)}function hle([e,t],[n,r]){return ag(t,r)||ag(e,n)}function ple([e,t],[n,r]){return P$(t,r)||ag(e,n)}function mH(e,t){let n=e[t];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}function MQe(e){let t,n;return(...r)=>(((n==null?void 0:n.length)!==r.length||n.some((i,o)=>i!==r[o]))&&(n=r,t=e(...r)),t)}const NQe=MQe(e=>new Intl.NumberFormat(e));function OQe(e="en-US"){const t=NQe(e);return n=>n!=null&&!isNaN(n)?t.format(n):void 0}function RQe(e){return kKe(e,"Invalid Date")}function FQe(e="en-US"){const t=OQe(e);return n=>(n instanceof Date?RQe:typeof n=="number"?t:ni)(n)}const cg=FQe();let U$=0,j$;function DQe(){const e=U$;return U$=0,j$=void 0,e}function Pd(e){e!==j$&&(j$=e,console.warn(e),++U$)}const po=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let LQe=0;function yH(){return`plot-clip-${++LQe}`}function PQe(e,{title:t,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:o,target:a,fill:s,fillOpacity:u,stroke:l,strokeWidth:c,strokeOpacity:f,strokeLinejoin:d,strokeLinecap:p,strokeMiterlimit:g,strokeDasharray:y,strokeDashoffset:v,opacity:b,mixBlendMode:x,imageFilter:_,paintOrder:A,pointerEvents:S,shapeRendering:C,channels:E},{ariaLabel:k,fill:O="currentColor",fillOpacity:N,stroke:F="none",strokeOpacity:W,strokeWidth:I,strokeLinecap:M,strokeLinejoin:D,strokeMiterlimit:P,paintOrder:U}){O===null&&(s=null,u=null),F===null&&(l=null,f=null),Ni(O)?!Ni(F)&&(!Ni(s)||E!=null&&E.fill)&&(F="none"):Ni(F)&&(!Ni(l)||E!=null&&E.stroke)&&(O="none");const[z,H]=s2(s,O),[j,X]=ii(u,N),[G,ee]=s2(l,F),[ne,de]=ii(f,W),[me,ce]=ii(b);u2(ee)||(c===void 0&&(c=I),p===void 0&&(p=M),d===void 0&&(d=D),g===void 0&&!tQe(d)&&(g=P),!u2(H)&&A===void 0&&(A=U));const[be,re]=ii(c);return O!==null&&(e.fill=Yr(H,"currentColor"),e.fillOpacity=Y1(X,1)),F!==null&&(e.stroke=Yr(ee,"none"),e.strokeWidth=Y1(re,1),e.strokeOpacity=Y1(de,1),e.strokeLinejoin=Yr(d,"miter"),e.strokeLinecap=Yr(p,"butt"),e.strokeMiterlimit=Y1(g,4),e.strokeDasharray=Yr(y,"none"),e.strokeDashoffset=Yr(v,"0")),e.target=ni(a),e.ariaLabel=ni(k),e.ariaDescription=ni(i),e.ariaHidden=ni(o),e.opacity=Y1(ce,1),e.mixBlendMode=Yr(x,"normal"),e.imageFilter=Yr(_,"none"),e.paintOrder=Yr(A,"normal"),e.pointerEvents=Yr(S,"auto"),e.shapeRendering=Yr(C,"auto"),{title:{value:t,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:z,scale:"auto",optional:!0},fillOpacity:{value:j,scale:"auto",optional:!0},stroke:{value:G,scale:"auto",optional:!0},strokeOpacity:{value:ne,scale:"auto",optional:!0},strokeWidth:{value:be,optional:!0},opacity:{value:me,scale:"auto",optional:!0}}}function IQe(e,t){t&&e.filter(n=>Jue(t[n])).append("title").call(zQe,t)}function zQe(e,t){t&&e.text(n=>cg(t[n]))}function qg(e,{target:t,tip:n},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:s,strokeOpacity:u,strokeWidth:l,opacity:c,href:f}){r&&vt(e,"aria-label",d=>r[d]),o&&vt(e,"fill",d=>o[d]),a&&vt(e,"fill-opacity",d=>a[d]),s&&vt(e,"stroke",d=>s[d]),u&&vt(e,"stroke-opacity",d=>u[d]),l&&vt(e,"stroke-width",d=>l[d]),c&&vt(e,"opacity",d=>c[d]),f&&UQe(e,d=>f[d],t),n||IQe(e,i)}function gle(e){return e===!0?e="frame":e===!1?e=null:e!=null&&(e=gs(e,"clip",["frame","sphere"])),e}function BQe(e,t,n,r){let i;const{clip:o=r.clip}=t;switch(o){case"frame":{const{width:a,height:s,marginLeft:u,marginRight:l,marginTop:c,marginBottom:f}=n,d=yH();i=`url(#${d})`,e=Xi("svg:g",r).call(p=>p.append("svg:clipPath").attr("id",d).append("rect").attr("x",u).attr("y",c).attr("width",a-l-u).attr("height",s-c-f)).each(function(){this.appendChild(e.node()),e.node=()=>this});break}case"sphere":{const{projection:a}=r;if(!a)throw new Error('the "sphere" clip option requires a projection');const s=yH();i=`url(#${s})`,e.append("clipPath").attr("id",s).append("path").attr("d",k2(a)({type:"Sphere"}));break}}vt(e,"aria-label",t.ariaLabel),vt(e,"aria-description",t.ariaDescription),vt(e,"aria-hidden",t.ariaHidden),vt(e,"clip-path",i)}function U0(e,t,n,r){BQe(e,t,n,r),vt(e,"fill",t.fill),vt(e,"fill-opacity",t.fillOpacity),vt(e,"stroke",t.stroke),vt(e,"stroke-width",t.strokeWidth),vt(e,"stroke-opacity",t.strokeOpacity),vt(e,"stroke-linejoin",t.strokeLinejoin),vt(e,"stroke-linecap",t.strokeLinecap),vt(e,"stroke-miterlimit",t.strokeMiterlimit),vt(e,"stroke-dasharray",t.strokeDasharray),vt(e,"stroke-dashoffset",t.strokeDashoffset),vt(e,"shape-rendering",t.shapeRendering),vt(e,"filter",t.imageFilter),vt(e,"paint-order",t.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=t;vt(e,"pointer-events",i)}function j0(e,t){jQe(e,"mix-blend-mode",t.mixBlendMode),vt(e,"opacity",t.opacity)}function UQe(e,t,n){e.each(function(r){const i=t(r);if(i!=null){const o=this.ownerDocument.createElementNS(Cp.svg,"a");o.setAttribute("fill","inherit"),o.setAttributeNS(Cp.xlink,"href",i),n!=null&&o.setAttribute("target",n),this.parentNode.insertBefore(o,this).appendChild(this)}})}function vt(e,t,n){n!=null&&e.attr(t,n)}function jQe(e,t,n){n!=null&&e.style(t,n)}function W0(e,t,{x:n,y:r},i=po,o=po){i+=t.dx,o+=t.dy,n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),r!=null&&r.bandwidth&&(o+=r.bandwidth()/2),(i||o)&&e.attr("transform",`translate(${i},${o})`)}function Yr(e,t){if((e=ni(e))!==t)return e}function Y1(e,t){if((e=Jn(e))!==t)return e}const WQe=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function QR(e){if(e===void 0)return"plot-d6a7b5";if(e=`${e}`,!WQe.test(e))throw new Error(`invalid class name: ${e}`);return e}function ZR(e,t){if(typeof t=="string")e.property("style",t);else if(t!=null)for(const n of e)Object.assign(n.style,t)}function Cv({frameAnchor:e},{width:t,height:n,marginTop:r,marginRight:i,marginBottom:o,marginLeft:a}){return[/left$/.test(e)?a:/right$/.test(e)?t-i:(a+t-i)/2,/^top/.test(e)?r:/^bottom/.test(e)?n-o:(r+n-o)/2]}function eF(e={}){const{document:t=typeof window<"u"?window.document:void 0,clip:n}=e;return{document:t,clip:gle(n)}}function Xi(e,{document:t}){return It(a3(e).call(t.documentElement))}const mle=Math.PI,Ou=2*mle,vH=.618;function HQe({projection:e,inset:t=0,insetTop:n=t,insetRight:r=t,insetBottom:i=t,insetLeft:o=t}={},a){if(e==null)return;if(typeof e.stream=="function")return e;let s,u,l="frame";if(z0(e)){let S;if({type:e,domain:u,inset:S,insetTop:n=S!==void 0?S:n,insetRight:r=S!==void 0?S:r,insetBottom:i=S!==void 0?S:i,insetLeft:o=S!==void 0?S:o,clip:l=l,...s}=e,e==null)return}typeof e!="function"&&({type:e}=yle(e));const{width:c,height:f,marginLeft:d,marginRight:p,marginTop:g,marginBottom:y}=a,v=c-d-p-o-r,b=f-g-y-n-i;if(e=e==null?void 0:e({width:v,height:b,clip:l,...s}),e==null)return;l=qQe(l,d,g,c-p,f-y);let x=d+o,_=g+n,A;if(u!=null){const[[S,C],[E,k]]=k2(e).bounds(u),O=Math.min(v/(E-S),b/(k-C));O>0?(x-=(O*(S+E)-v)/2,_-=(O*(C+k)-b)/2,A=Z4({point(N,F){this.stream.point(N*O+x,F*O+_)}})):Pd("Warning: the projection could not be fit to the specified domain; using the default scale.")}return A??(A=x===0&&_===0?vle():Z4({point(S,C){this.stream.point(S+x,C+_)}})),{stream:S=>e.stream(A.stream(l(S)))}}function yle(e){switch(`${e}`.toLowerCase()){case"albers-usa":return Ta(nK,.7463,.4673);case"albers":return Mx(N7,.7463,.4673);case"azimuthal-equal-area":return Ta(oK,4,4);case"azimuthal-equidistant":return Ta(sK,Ou,Ou);case"conic-conformal":return Mx(lK,Ou,Ou);case"conic-equal-area":return Mx(Ny,6.1702,2.9781);case"conic-equidistant":return Mx(fK,7.312,3.6282);case"equal-earth":return Ta(hK,5.4133,2.6347);case"equirectangular":return Ta(cK,Ou,mle);case"gnomonic":return Ta(gK,3.4641,3.4641);case"identity":return{type:vle};case"reflect-y":return{type:GQe};case"mercator":return Ta(O7,Ou,Ou);case"orthographic":return Ta(vK,2,2);case"stereographic":return Ta(xK,2,2);case"transverse-mercator":return Ta(AK,Ou,Ou);default:throw new Error(`unknown projection type: ${e}`)}}function qQe(e,t,n,r,i){if(e===!1||e==null||typeof e=="number")return o=>o;switch(e===!0&&(e="frame"),`${e}`.toLowerCase()){case"frame":return E7(t,n,r,i);default:throw new Error(`unknown projection clip type: ${e}`)}}function Ta(e,t,n){return{type:({width:r,height:i,rotate:o,precision:a=.15,clip:s})=>{var l,c,f;const u=e();return a!=null&&((l=u.precision)==null||l.call(u,a)),o!=null&&((c=u.rotate)==null||c.call(u,o)),typeof s=="number"&&((f=u.clipAngle)==null||f.call(u,s)),u.scale(Math.min(r/t,i/n)),u.translate([r/2,i/2]),u},aspectRatio:n/t}}function Mx(e,t,n){const{type:r,aspectRatio:i}=Ta(e,t,n);return{type:o=>{const{parallels:a,domain:s,width:u,height:l}=o,c=r(o);return a!=null&&(c.parallels(a),s===void 0&&c.fitSize([u,l],{type:"Sphere"})),c},aspectRatio:i}}const vle=xv({stream:e=>e}),GQe=xv(Z4({point(e,t){this.stream.point(e,-t)}}));function VQe(e,t,n,r){const i=n[e],o=n[t],a=i.length,s=n[e]=new Float64Array(a).fill(NaN),u=n[t]=new Float64Array(a).fill(NaN);let l;const c=r.stream({point(f,d){s[l]=f,u[l]=d}});for(l=0;l<a;++l)c.point(i[l],o[l])}function YQe({projection:e}={}){return e==null?!1:typeof e.stream=="function"?!0:(z0(e)&&(e=e.type),e!=null)}function JQe(e){if(typeof(e==null?void 0:e.stream)=="function")return vH;if(z0(e)&&(e=e.type),e!=null){if(typeof e!="function"){const{aspectRatio:t}=yle(e);if(t)return t}return vH}}function XQe(e){const t=[],n=[],r={scale:"x",value:t},i={scale:"y",value:n},o={point(a,s){t.push(a),n.push(s)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const a of e.value)Os(a,o);return[r,i]}const ble=new Map([["accent",Q6e],["category10",K6e],["dark2",Z6e],["paired",e8e],["pastel1",t8e],["pastel2",n8e],["set1",r8e],["set2",i8e],["set3",o8e],["tableau10",a8e]]);function KQe(e){return e!=null&&ble.has(`${e}`.toLowerCase())}const bH=new Map([...ble,["brbg",Ru(nQ,rQ)],["prgn",Ru(iQ,oQ)],["piyg",Ru(aQ,sQ)],["puor",Ru(uQ,lQ)],["rdbu",Ru(iC,PA)],["rdgy",Ru(cQ,fQ)],["rdylbu",Ru(oC,IA)],["rdylgn",Ru(dQ,hQ)],["spectral",Ru(pQ,gQ)],["burd",xH(iC,PA)],["buylrd",xH(oC,IA)],["blues",qn(BQ,UQ)],["greens",qn(jQ,WQ)],["greys",qn(HQ,qQ)],["oranges",qn(XQ,KQ)],["purples",qn(GQ,VQ)],["reds",qn(YQ,JQ)],["turbo",Fu(iZ)],["viridis",Fu(oZ)],["magma",Fu(aZ)],["inferno",Fu(sZ)],["plasma",Fu(uZ)],["cividis",Fu(QQ)],["cubehelix",Fu(ZQ)],["warm",Fu(eZ)],["cool",Fu(tZ)],["bugn",qn(mQ,yQ)],["bupu",qn(vQ,bQ)],["gnbu",qn(xQ,wQ)],["orrd",qn(AQ,_Q)],["pubu",qn(CQ,$Q)],["pubugn",qn(SQ,EQ)],["purd",qn(kQ,TQ)],["rdpu",qn(MQ,NQ)],["ylgn",qn(FQ,DQ)],["ylgnbu",qn(OQ,RQ)],["ylorbr",qn(LQ,PQ)],["ylorrd",qn(IQ,zQ)],["rainbow",wH(nZ)],["sinebow",wH(rZ)]]);function qn(e,t){return({length:n})=>n===1?[e[3][1]]:n===2?[e[3][1],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?aa(t,n):e[n])}function Ru(e,t){return({length:n})=>n===2?[e[3][0],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?aa(t,n):e[n])}function xH(e,t){return({length:n})=>n===2?[e[3][2],e[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?aa(r=>t(1-r),n):e[n].slice().reverse())}function Fu(e){return({length:t})=>aa(e,Math.max(2,Math.floor(t)))}function wH(e){return({length:t})=>aa(e,Math.floor(t)+1).slice(0,-1)}function xle(e){const t=`${e}`.toLowerCase();if(!bH.has(t))throw new Error(`unknown ordinal scheme: ${t}`);return bH.get(t)}function $S(e,t){const n=xle(e),r=typeof n=="function"?n({length:t}):n;return r.length!==t?r.slice(0,t):r}function QQe(e,t="greys"){const n=new Set,[r,i]=$S(t,2);for(const o of e)if(o!=null)if(o===!0)n.add(i);else if(o===!1)n.add(r);else return;return[...n]}const AH=new Map([["brbg",rQ],["prgn",oQ],["piyg",sQ],["puor",lQ],["rdbu",PA],["rdgy",fQ],["rdylbu",IA],["rdylgn",hQ],["spectral",gQ],["burd",e=>PA(1-e)],["buylrd",e=>IA(1-e)],["blues",UQ],["greens",WQ],["greys",qQ],["purples",VQ],["reds",JQ],["oranges",KQ],["turbo",iZ],["viridis",oZ],["magma",aZ],["inferno",sZ],["plasma",uZ],["cividis",QQ],["cubehelix",ZQ],["warm",eZ],["cool",tZ],["bugn",yQ],["bupu",bQ],["gnbu",wQ],["orrd",_Q],["pubugn",EQ],["pubu",$Q],["purd",TQ],["rdpu",NQ],["ylgnbu",RQ],["ylgn",DQ],["ylorbr",PQ],["ylorrd",zQ],["rainbow",nZ],["sinebow",rZ]]);function tF(e){const t=`${e}`.toLowerCase();if(!AH.has(t))throw new Error(`unknown quantitative scheme: ${t}`);return AH.get(t)}const ZQe=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function eZe(e){return e!=null&&ZQe.has(`${e}`.toLowerCase())}const wle=e=>t=>e(1-t),a8=[0,1],_H=new Map([["number",fr],["rgb",Wc],["hsl",iX],["hcl",sX],["lab",oX]]);function Ale(e){const t=`${e}`.toLowerCase();if(!_H.has(t))throw new Error(`unknown interpolator: ${t}`);return _H.get(t)}function $v(e,t,n,{type:r,nice:i,clamp:o,zero:a,domain:s=Sle(e,n),unknown:u,round:l,scheme:c,interval:f,range:d=bn.get(e)===_v?fZe(n,s):bn.get(e)===Sv?dZe(n,s):bn.get(e)===Ev?a8:void 0,interpolate:p=bn.get(e)===Nl?c==null&&d!==void 0?Wc:tF(c!==void 0?c:r==="cyclical"?"rainbow":"turbo"):l?bg:fr,reverse:g}){if(f=Av(f,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof p!="function"&&(p=Ale(p)),g=!!g,d!==void 0){const y=(s=Eo(s)).length,v=(d=Eo(d)).length;if(y!==v){if(p.length===1)throw new Error("invalid piecewise interpolator");p=xg(p,d),d=void 0}}if(p.length===1?(g&&(p=wle(p),g=!1),d===void 0&&(d=Float64Array.from(s,(y,v)=>v/(s.length-1)),d.length===2&&(d=a8)),t.interpolate((d===a8?xv:rF)(p))):t.interpolate(p),a){const[y,v]=Tc(s);(y>0||v<0)&&(s=I$(s),ug(s)!==Math.sign(y)?s[s.length-1]=0:s[0]=0)}return g&&(s=tA(s)),t.domain(s).unknown(u),i&&(t.nice(tZe(i,r)),s=t.domain()),d!==void 0&&t.range(d),o&&t.clamp(o),{type:r,domain:s,range:d,scale:t,interpolate:p,interval:f}}function tZe(e,t){return e===!0?void 0:typeof e=="number"?e:VKe(e,t)}function nZe(e,t,n){return $v(e,Hc(),t,n)}function rZe(e,t,n){return _le(e,t,{...n,exponent:.5})}function _le(e,t,{exponent:n=1,...r}){return $v(e,w3().exponent(n),t,{...r,type:"pow"})}function iZe(e,t,{base:n=10,domain:r=hZe(t),...i}){return $v(e,L7().base(n),t,{...i,domain:r})}function oZe(e,t,{constant:n=1,...r}){return $v(e,I7().constant(n),t,r)}function aZe(e,t,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:o="rdylbu",domain:a=pZe(t),unknown:s,interpolate:u,reverse:l}){return n===void 0&&(n=u!==void 0?aa(u,i):bn.get(e)===Nl?$S(o,i):void 0),a.length>0&&(a=B7(a,n===void 0?{length:i}:n).quantiles()),nF(e,t,{domain:a,range:n,reverse:l,unknown:s})}function sZe(e,t,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:o=Sle(e,t),unknown:a,interpolate:s,reverse:u}){const[l,c]=Tc(o);let f;return n===void 0?(f=eA(l,c,r),f[0]<=l&&f.splice(0,1),f[f.length-1]>=c&&f.pop(),r=f.length+1,n=s!==void 0?aa(s,r):bn.get(e)===Nl?$S(i,r):void 0):(f=aa(fr(l,c),r+1).slice(1,-1),l instanceof Date&&(f=f.map(d=>new Date(d)))),ug(Eo(o))<0&&f.reverse(),nF(e,t,{domain:f,range:n,reverse:u,unknown:a})}function nF(e,t,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:o,range:a=o!==void 0?aa(o,n.length+1):bn.get(e)===Nl?$S(i,n.length+1):void 0,reverse:s}){n=Eo(n);const u=ug(n);if(!isNaN(u)&&!uZe(n,u))throw new Error(`the ${e} scale has a non-monotonic domain`);return s&&(a=tA(a)),{type:"threshold",scale:A3(u<0?tA(n):n,a===void 0?[]:a).unknown(r),domain:n,range:a}}function uZe(e,t){for(let n=1,r=e.length,i=e[0];n<r;++n){const o=yg(i,i=e[n]);if(o!==0&&o!==t)return!1}return!0}function lZe(e){return{type:"identity",scale:oQe(bn.get(e))?F7():t=>t}}function c2(e,t=Xue){return e.length?[Sp(e,({value:n})=>n===void 0?n:Sp(n,t)),si(e,({value:n})=>n===void 0?n:si(n,t))]:[0,1]}function Sle(e,t){const n=bn.get(e);return(n===_v||n===Ev||n===Sv?cZe:c2)(t)}function cZe(e){return[0,e.length?si(e,({value:t})=>t===void 0?t:si(t,Xue)):1]}function fZe(e,t){const n=e.find(({radius:a})=>a!==void 0);if(n!==void 0)return[0,n.radius];const r=Ep(e,.5,({value:a})=>a===void 0?NaN:Ep(a,.25,bS)),i=t.map(a=>3*Math.sqrt(a/r)),o=30/si(i);return o<1?i.map(a=>a*o):i}function dZe(e,t){const n=_y(e,({value:o})=>o===void 0?NaN:_y(o,Math.abs)),r=t.map(o=>12*o/n),i=60/si(r);return i<1?r.map(o=>o*i):r}function hZe(e){for(const{value:t}of e)if(t!==void 0)for(let n of t){if(n>0)return c2(e,bS);if(n<0)return c2(e,jR)}return[1,10]}function pZe(e){const t=[];for(const{value:n}of e)if(n!==void 0)for(const r of n)t.push(r);return t}function rF(e){return(t,n)=>r=>e(t+r*(n-t))}function kS(e,t,n,r,{type:i,nice:o,clamp:a,domain:s=c2(r),unknown:u,pivot:l=0,scheme:c,range:f,symmetric:d=!0,interpolate:p=bn.get(e)===Nl?c==null&&f!==void 0?Wc:tF(c!==void 0?c:"rdbu"):fr,reverse:g}){l=+l,s=Eo(s);let[y,v]=s;if(s.length>2&&Pd(`Warning: the diverging ${e} scale domain contains extra elements.`),yg(y,v)<0&&([y,v]=[v,y],g=!g),y=Math.min(y,l),v=Math.max(v,l),typeof p!="function"&&(p=Ale(p)),f!==void 0&&(p=p.length===1?rF(p)(...f):xg(p,f)),g&&(p=wle(p)),d){const b=n.apply(l),x=b-n.apply(y),_=n.apply(v)-b;x<_?y=n.invert(b-_):x>_&&(v=n.invert(b+x))}return t.domain([y,l,v]).unknown(u).interpolator(p),a&&t.clamp(a),o&&t.nice(o),{type:i,domain:[y,v],pivot:l,interpolate:p,scale:t}}function gZe(e,t,n){return kS(e,q7(),bZe,t,n)}function mZe(e,t,n){return Ele(e,t,{...n,exponent:.5})}function Ele(e,t,{exponent:n=1,...r}){return kS(e,$3().exponent(n=+n),AZe(n),t,{...r,type:"diverging-pow"})}function yZe(e,t,{base:n=10,pivot:r=1,domain:i=c2(t,r<0?jR:bS),...o}){return kS(e,G7().base(n=+n),xZe,t,{domain:i,pivot:r,...o})}function vZe(e,t,{constant:n=1,...r}){return kS(e,V7().constant(n=+n),_Ze(n),t,r)}const bZe={apply(e){return e},invert(e){return e}},xZe={apply:Math.log,invert:Math.exp},wZe={apply(e){return Math.sign(e)*Math.sqrt(Math.abs(e))},invert(e){return Math.sign(e)*(e*e)}};function AZe(e){return e===.5?wZe:{apply(t){return Math.sign(t)*Math.pow(Math.abs(t),e)},invert(t){return Math.sign(t)*Math.pow(Math.abs(t),1/e)}}}function _Ze(e){return{apply(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))},invert(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}}function Cle(e,t,n,r){return $v(e,t,n,r)}function SZe(e,t,n){return Cle(e,QK(),t,n)}function EZe(e,t,n){return Cle(e,ZK(),t,n)}const kv=Symbol("ordinal");function $le(e,t,n,{type:r,interval:i,domain:o,range:a,reverse:s,hint:u}){return i=Av(i,r),o===void 0&&(o=Tle(n,i,e)),(r==="categorical"||r===kv)&&(r="ordinal"),s&&(o=tA(o)),o=t.domain(o).domain(),a!==void 0&&(typeof a=="function"&&(a=a(o)),t.range(a)),{type:r,domain:o,range:a,scale:t,hint:u,interval:i}}function CZe(e,t,{type:n,interval:r,domain:i,range:o,scheme:a,unknown:s,...u}){r=Av(r,n),i===void 0&&(i=Tle(t,r,e));let l;if(bn.get(e)===CS)l=TZe(t),o=o===void 0?MZe(l):vi(o,XR);else if(bn.get(e)===Nl&&(o===void 0&&(n==="ordinal"||n===kv)&&(o=QQe(i,a),o!==void 0&&(a=void 0)),a===void 0&&o===void 0&&(a=n==="ordinal"?"turbo":"tableau10"),a!==void 0))if(o!==void 0){const c=tF(a),f=o[0],d=o[1]-o[0];o=({length:p})=>aa(g=>c(f+d*g),p)}else o=xle(a);if(s===LA)throw new Error(`implicit unknown on ${e} scale is not supported`);return $le(e,O2().unknown(s),t,{...u,type:n,domain:i,range:o,hint:l})}function $Ze(e,t,{align:n=.5,padding:r=.5,...i}){return kle(M9e().align(n).padding(r),t,i,e)}function kZe(e,t,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:o=e==="fx"||e==="fy"?0:r,...a}){return kle(b3().align(n).paddingInner(i).paddingOuter(o),t,a,e)}function kle(e,t,n,r){let{round:i}=n;return i!==void 0&&e.round(i=!!i),e=$le(r,e,t,n),e.round=i,e}function Tle(e,t,n){const r=new Uc;for(const{value:i,domain:o}of e){if(o!==void 0)return o();if(i!==void 0)for(const a of i)r.add(a)}if(t!==void 0){const[i,o]=Tc(r).map(t.floor,t);return t.range(i,t.offset(o))}if(r.size>1e4&&bn.get(n)===Ps)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return _we(r,ag)}function SH(e,t){let n;for(const{hint:r}of e){const i=r==null?void 0:r[t];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function TZe(e){return{fill:SH(e,"fill"),stroke:SH(e,"stroke")}}function MZe(e){return Ni(e.fill)?E8e:S8e}function W$(e,{label:t,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:o=n,insetLeft:a=n,round:s,nice:u,clamp:l,zero:c,align:f,padding:d,projection:p,facet:{label:g=t}={},...y}={}){const v={};for(const[b,x]of e){const _=y[b],A=FZe(b,x,{round:bn.get(b)===Ps?s:void 0,nice:u,clamp:l,zero:c,align:f,padding:d,projection:p,..._});if(A){let{label:S=b==="fx"||b==="fy"?g:t,percent:C,transform:E,inset:k,insetTop:O=k!==void 0?k:b==="y"?r:0,insetRight:N=k!==void 0?k:b==="x"?i:0,insetBottom:F=k!==void 0?k:b==="y"?o:0,insetLeft:W=k!==void 0?k:b==="x"?a:0}=_||{};if(E==null)E=void 0;else if(typeof E!="function")throw new Error("invalid scale transform; not a function");A.percent=!!C,A.label=S===void 0?OZe(x,A):S,A.transform=E,b==="x"||b==="fx"?(A.insetLeft=+W,A.insetRight=+N):(b==="y"||b==="fy")&&(A.insetTop=+O,A.insetBottom=+F),v[b]=A}}return v}function EH(e){const t={},n={scales:t};for(const[r,i]of Object.entries(e)){const{scale:o,type:a,interval:s,label:u}=i;t[r]=zZe(i),n[r]=o,o.type=a,s!=null&&(o.interval=s),u!=null&&(o.label=u)}return n}function NZe(e,t){const{x:n,y:r,fx:i,fy:o}=e,a=i||o?iF(t):t;i&&CH(i,a),o&&$H(o,a);const s=i||o?Mle(e,t):t;n&&CH(n,s),r&&$H(r,s)}function OZe(e=[],t){let n;for(const{label:r}of e)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0)return!H0(t)&&t.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function iF(e){const{marginTop:t,marginRight:n,marginBottom:r,marginLeft:i,width:o,height:a,facet:{marginTop:s,marginRight:u,marginBottom:l,marginLeft:c}}=e;return{marginTop:Math.max(t,s),marginRight:Math.max(n,u),marginBottom:Math.max(r,l),marginLeft:Math.max(i,c),width:o,height:a}}function Mle({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:s,height:u}=iF(n);return{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:e?e.scale.bandwidth()+a+i:s,height:t?t.scale.bandwidth()+r+o:u,facet:{width:s,height:u}}}function CH(e,t){if(e.range===void 0){const{insetLeft:n,insetRight:r}=e,{width:i,marginLeft:o=0,marginRight:a=0}=t,s=o+n,u=i-a-r;e.range=[s,Math.max(s,u)],H0(e)||(e.range=Ole(e)),e.scale.range(e.range)}Nle(e)}function $H(e,t){if(e.range===void 0){const{insetTop:n,insetBottom:r}=e,{height:i,marginTop:o=0,marginBottom:a=0}=t,s=o+n,u=i-a-r;e.range=[Math.max(s,u),s],H0(e)?e.range.reverse():e.range=Ole(e),e.scale.range(e.range)}Nle(e)}function Nle(e){e.round===void 0&&LZe(e)&&RZe(e)<=30&&e.scale.round(!0)}function RZe({scale:e}){const t=e.domain().length,[n,r]=e.range(),i=e.paddingInner?e.paddingInner():1,o=e.paddingOuter?e.paddingOuter():e.padding(),a=t-i,s=Math.abs(r-n)/Math.max(1,a+o*2);return(s-Math.floor(s))*a}function Ole(e){const t=e.scale.domain().length+Rle(e);if(!(t>2))return e.range;const[n,r]=e.range;return Array.from({length:t},(i,o)=>n+o/(t-1)*(r-n))}function FZe(e,t=[],n={}){const r=DZe(e,t,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&e!=="fx"&&e!=="fy"&&H0({type:r})){const i=t.map(({value:o})=>o).filter(o=>o!==void 0);i.some(ru)?Pd(`Warning: some data associated with the ${e} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${_h(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${e} scale to "${_h(r)}".`):i.some(XKe)?Pd(`Warning: some data associated with the ${e} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${_h(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${e} scale to "${_h(r)}".`):i.some(KKe)&&Pd(`Warning: some data associated with the ${e} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${_h(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${e} scale to "${_h(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=Nx(t,n,cH);break;case"identity":switch(bn.get(e)){case Ps:n=Nx(t,n,cH);break;case CS:n=Nx(t,n,PZe);break}break;case"utc":case"time":n=Nx(t,n,WKe);break}switch(r){case"diverging":return gZe(e,t,n);case"diverging-sqrt":return mZe(e,t,n);case"diverging-pow":return Ele(e,t,n);case"diverging-log":return yZe(e,t,n);case"diverging-symlog":return vZe(e,t,n);case"categorical":case"ordinal":case kv:return CZe(e,t,n);case"cyclical":case"sequential":case"linear":return nZe(e,t,n);case"sqrt":return rZe(e,t,n);case"threshold":return nF(e,t,n);case"quantile":return aZe(e,t,n);case"quantize":return sZe(e,t,n);case"pow":return _le(e,t,n);case"log":return iZe(e,t,n);case"symlog":return oZe(e,t,n);case"utc":return EZe(e,t,n);case"time":return SZe(e,t,n);case"point":return $Ze(e,t,n);case"band":return kZe(e,t,n);case"identity":return lZe(e);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function _h(e){return typeof e=="symbol"?e.description:e}const kH={toString:()=>"projection"};function DZe(e,t,{type:n,domain:r,range:i,scheme:o,pivot:a,projection:s}){if(e==="fx"||e==="fy")return"band";(e==="x"||e==="y")&&s!=null&&(n=kH);for(const{type:l}of t)if(l!==void 0){if(n===void 0)n=l;else if(n!==l)throw new Error(`scale incompatible with channel: ${n} !== ${l}`)}if(n===kH)return;if(n!==void 0)return n;if(r===void 0&&!t.some(({value:l})=>l!==void 0))return;const u=bn.get(e);if(u===_v)return"sqrt";if(u===Ev||u===Sv)return"linear";if(u===CS)return"ordinal";if((r||i||[]).length>2)return s8(u);if(r!==void 0){if(fH(r))return s8(u);if(ru(r))return"utc"}else{const l=t.map(({value:c})=>c).filter(c=>c!==void 0);if(l.some(fH))return s8(u);if(l.some(ru))return"utc"}if(u===Nl){if(a!=null||eZe(o))return"diverging";if(KQe(o))return"categorical"}return"linear"}function s8(e){switch(e){case Ps:return"point";case Nl:return kv;default:return"ordinal"}}function H0({type:e}){return e==="ordinal"||e==="point"||e==="band"||e===kv}function Rle({type:e}){return e==="threshold"}function LZe({type:e}){return e==="point"||e==="band"}function L_(e){if(e===void 0)return!0;const t=e.domain(),n=e(t[0]);for(let r=1,i=t.length;r<i;++r)if(e(t[r])-n)return!1;return!0}function Nx(e,{domain:t,...n},r){for(const i of e)i.value!==void 0&&(i.value=r(i.value));return{domain:t===void 0?t:r(t),...n}}function PZe(e){return vi(e,XR)}function IZe(e){return t=>{if(!bn.has(t=`${t}`))throw new Error(`unknown scale: ${t}`);return e[t]}}function zZe({scale:e,type:t,domain:n,range:r,interpolate:i,interval:o,transform:a,percent:s,pivot:u}){if(t==="identity")return{type:"identity",apply:c=>c,invert:c=>c};const l=e.unknown?e.unknown():void 0;return{type:t,domain:I$(n),...r!==void 0&&{range:I$(r)},...a!==void 0&&{transform:a},...s&&{percent:s},...l!==void 0&&{unknown:l},...o!==void 0&&{interval:o},...i!==void 0&&{interpolate:i},...e.clamp&&{clamp:e.clamp()},...u!==void 0&&{pivot:u,symmetric:!1},...e.base&&{base:e.base()},...e.exponent&&{exponent:e.exponent()},...e.constant&&{constant:e.constant()},...e.align&&{align:e.align(),round:e.round()},...e.padding&&(e.paddingInner?{paddingInner:e.paddingInner(),paddingOuter:e.paddingOuter()}:{padding:e.padding()}),...e.bandwidth&&{bandwidth:e.bandwidth(),step:e.step()},apply:c=>e(c),...e.invert&&{invert:c=>e.invert(c)}}}function BZe(e,t,n={}){let r=.5-po,i=.5+po,o=.5+po,a=.5-po;for(const{marginTop:y,marginRight:v,marginBottom:b,marginLeft:x}of t)y>r&&(r=y),v>i&&(i=v),b>o&&(o=b),x>a&&(a=x);let{margin:s,marginTop:u=s!==void 0?s:r,marginRight:l=s!==void 0?s:i,marginBottom:c=s!==void 0?s:o,marginLeft:f=s!==void 0?s:a}=n;u=+u,l=+l,c=+c,f=+f;let{width:d=640,height:p=UZe(e,n,{width:d,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:o,marginLeftDefault:a})+Math.max(0,u-r+c-o)}=n;d=+d,p=+p;const g={width:d,height:p,marginTop:u,marginRight:l,marginBottom:c,marginLeft:f};if(e.fx||e.fy){let{margin:y,marginTop:v=y!==void 0?y:u,marginRight:b=y!==void 0?y:l,marginBottom:x=y!==void 0?y:c,marginLeft:_=y!==void 0?y:f}=n.facet??{};v=+v,b=+b,x=+x,_=+_,g.facet={marginTop:v,marginRight:b,marginBottom:x,marginLeft:_}}return g}function UZe({x:e,y:t,fy:n,fx:r},{projection:i,aspectRatio:o},{width:a,marginTopDefault:s,marginRightDefault:u,marginBottomDefault:l,marginLeftDefault:c}){const f=n?n.scale.domain().length:1,d=JQe(i);if(d){const g=r?r.scale.domain().length:1,y=(1.1*f-.1)/(1.1*g-.1)*d,v=Math.max(.1,Math.min(10,y));return Math.round((a-c-u)*v+s+l)}const p=t?H0(t)?t.scale.domain().length:Math.max(7,17/f):1;if(o!=null){if(o=+o,!(isFinite(o)&&o>0))throw new Error(`invalid aspectRatio: ${o}`);const g=TH("y",t)/(TH("x",e)*o),y=r?r.scale.bandwidth():1,v=n?n.scale.bandwidth():1,b=y*(a-c-u)-e.insetLeft-e.insetRight;return(g*b+t.insetTop+t.insetBottom)/v+s+l}return!!(t||n)*Math.max(1,Math.min(60,p*f))*20+!!r*30+60}function TH(e,t){if(!t)throw new Error(`aspectRatio requires ${e} scale`);const{type:n,domain:r}=t;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const s=t.scale.exponent();i=u=>Math.pow(u,s);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${e} scale for aspectRatio: ${n}`)}const[o,a]=Tc(r);return Math.abs(i(a)-i(o))}function jZe(e,t){const{fx:n,fy:r}=W$(e,t),i=n==null?void 0:n.scale.domain(),o=r==null?void 0:r.scale.domain();return i&&o?xwe(i,o).map(([a,s],u)=>({x:a,y:s,i:u})):i?i.map((a,s)=>({x:a,i:s})):o?o.map((a,s)=>({y:a,i:s})):void 0}function WZe(e,{x:t,y:n}){return t&&(t=H$(t)),n&&(n=H$(n)),e.filter(t&&n?r=>t.has(r.x)&&n.has(r.y):t?r=>t.has(r.x):r=>n.has(r.y)).sort(t&&n?(r,i)=>t.get(r.x)-t.get(i.x)||n.get(r.y)-n.get(i.y):t?(r,i)=>t.get(r.x)-t.get(i.x):(r,i)=>n.get(r.y)-n.get(i.y))}function oF(e,{fx:t,fy:n}){const r=wv(e),i=t==null?void 0:t.value,o=n==null?void 0:n.value;return t&&n?_9(r,a=>(a.fx=i[a[0]],a.fy=o[a[0]],a),a=>i[a],a=>o[a]):t?_9(r,a=>(a.fx=i[a[0]],a),a=>i[a]):_9(r,a=>(a.fy=o[a[0]],a),a=>o[a])}function HZe(e,t,{marginTop:n,marginLeft:r}){return e&&t?({x:i,y:o})=>`translate(${e(i)-r},${t(o)-n})`:e?({x:i})=>`translate(${e(i)-r},0)`:({y:i})=>`translate(0,${t(i)-n})`}function qZe(e){const t=[],n=new Uint32Array(A2(e,r=>r.length));for(const r of e){let i=0;for(const o of e)r!==o&&(n.set(o,i),i+=o.length);t.push(n.slice(0,i))}return t}const GZe=new Map([["top",u8],["right",f8],["bottom",l8],["left",c8],["top-left",Ox(u8,c8)],["top-right",Ox(u8,f8)],["bottom-left",Ox(l8,c8)],["bottom-right",Ox(l8,f8)],["top-empty",JZe],["right-empty",QZe],["bottom-empty",XZe],["left-empty",KZe],["empty",ZZe]]);function VZe(e){if(e==null)return null;const t=GZe.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid facet anchor: ${e}`)}const MH=new WeakMap;function H$(e){let t=MH.get(e);return t||MH.set(e,t=new Ay(vi(e,(n,r)=>[n,r]))),t}function Of(e,t){return H$(e).get(t)}function YZe(e,t,n){return t=Tx(t),n=Tx(n),e.find(r=>Object.is(Tx(r.x),t)&&Object.is(Tx(r.y),n))}function TS(e,t,n){var r;return(r=YZe(e,t,n))==null?void 0:r.empty}function u8(e,{y:t},{y:n}){return t?Of(t,n)===0:!0}function l8(e,{y:t},{y:n}){return t?Of(t,n)===t.length-1:!0}function c8(e,{x:t},{x:n}){return t?Of(t,n)===0:!0}function f8(e,{x:t},{x:n}){return t?Of(t,n)===t.length-1:!0}function JZe(e,{y:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const o=Of(t,r);if(o>0)return TS(e,n,t[o-1])}function XZe(e,{y:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const o=Of(t,r);if(o<t.length-1)return TS(e,n,t[o+1])}function KZe(e,{x:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const o=Of(t,n);if(o>0)return TS(e,t[o-1],r)}function QZe(e,{x:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const o=Of(t,n);if(o<t.length-1)return TS(e,t[o+1],r)}function ZZe(e,t,{empty:n}){return n}function Ox(e,t){return function(){return e.apply(null,arguments)&&t.apply(null,arguments)}}function d8(e,{channels:{fx:t,fy:n},groups:r}){return t&&n?e.map(({x:i,y:o})=>{var a;return((a=r.get(i))==null?void 0:a.get(o))??[]}):t?e.map(({x:i})=>r.get(i)??[]):e.map(({y:i})=>r.get(i)??[])}class mu{constructor(t,n={},r={},i){const{facet:o="auto",facetAnchor:a,fx:s,fy:u,sort:l,dx:c=0,dy:f=0,margin:d=0,marginTop:p=d,marginRight:g=d,marginBottom:y=d,marginLeft:v=d,clip:b=i==null?void 0:i.clip,channels:x,tip:_,render:A}=r;if(this.data=t,this.sort=sg(l)?l:null,this.initializer=lg(r).initializer,this.transform=this.initializer?r.transform:lle(r).transform,o===null||o===!1?this.facet=null:(this.facet=gs(o===!0?"include":o,"facet",["auto","include","exclude","super"]),this.fx=t===Aw&&typeof s=="string"?[s]:s,this.fy=t===Aw&&typeof u=="string"?[u]:u),this.facetAnchor=VZe(a),n=sle(n),x!==void 0&&(n={...eet(x),...n}),i!==void 0&&(n={...PQe(this,r,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([S,C])=>{if(wS(C.value)){const{value:E,label:k=C.label,scale:O=C.scale}=C.value;C={...C,label:k,scale:O,value:E}}if(t===Aw&&typeof C.value=="string"){const{value:E}=C;C={...C,value:[E]}}return[S,C]}).filter(([S,{value:C,optional:E}])=>{if(C!=null)return!0;if(E)return!1;throw new Error(`missing channel value: ${S}`)})),this.dx=+c,this.dy=+f,this.marginTop=+p,this.marginRight=+g,this.marginBottom=+y,this.marginLeft=+v,this.clip=gle(b),this.tip=tet(_),this.facet==="super"){if(s||u)throw new Error("super-faceting cannot use fx or fy");for(const S in this.channels){const{scale:C}=n[S];if(!(C!=="x"&&C!=="y"))throw new Error("super-faceting cannot use x or y")}}A!=null&&(this.render=Dle(A,this.render))}initialize(t,n,r){let i=Eo(this.data);t===void 0&&i!=null&&(t=[wv(i)]);const o=t;this.transform!=null&&({facets:t,data:i}=this.transform(i,t,r),i=Eo(i)),t!==void 0&&(t.original=o);const a=SQe(this.channels,i);return this.sort!=null&&CQe(i,t,a,n,this.sort),{data:i,facets:t,channels:a}}filter(t,n,r){for(const i in n){const{filter:o=v0}=n[i];if(o!==null){const a=r[i];t=t.filter(s=>o(a[s]))}}return t}project(t,n,r){for(const i in t)if(t[i].scale==="x"&&/^x|x$/.test(i)){const o=i.replace(/^x|x$/,"y");o in t&&t[o].scale==="y"&&VQe(i,o,n,r.projection)}}scale(t,n,r){const i=EQe(t,n);return r.projection&&this.project(t,i,r),i}}function Fle(...e){return e.plot=mu.prototype.plot,e}function Dle(e,t){if(e==null)return t===null?void 0:t;if(t==null)return e===null?void 0:e;if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);return function(n,r,i,o,a,s){return e.call(this,n,r,i,o,a,(u,l,c,f,d)=>t.call(this,u,l,c,f,d,s))}}function eet(e){return Object.fromEntries(Object.entries(sle(e)).map(([t,n])=>(n=typeof n=="string"?{value:n,label:t}:_S(n),n.filter===void 0&&n.scale==null&&(n={...n,filter:null}),[t,n])))}function tet(e){return e===!0?"xy":e===!1||e==null?null:typeof e=="string"?gs(e,"tip",["x","y","xy"]):e}function Lle(e,t){return(e==null?void 0:e.tip)===!0?{...e,tip:t}:z0(e==null?void 0:e.tip)&&e.tip.pointer===void 0?{...e,tip:{...e.tip,pointer:t}}:e}const NH=new WeakMap;function aF(e,t,{x:n,y:r,px:i,py:o,maxRadius:a=40,channels:s,render:u,...l}={}){return a=+a,i!=null&&(n??(n=null),s={...s,px:{value:i,scale:"x"}}),o!=null&&(r??(r=null),s={...s,py:{value:o,scale:"y"}}),{x:n,y:r,channels:s,...l,render:Dle(function(c,f,d,p,g,y){g={...g,pointerSticky:!1};const v=g.ownerSVGElement,{data:b}=g.getMarkState(this);let x=NH.get(v);x||NH.set(v,x={sticky:!1,roots:[],renders:[]});let _=x.renders.push(ee)-1;const{x:A,y:S,fx:C,fy:E}=f;let k=C?C(c.fx)-p.marginLeft:0,O=E?E(c.fy)-p.marginTop:0;A!=null&&A.bandwidth&&(k+=A.bandwidth()/2),S!=null&&S.bandwidth&&(O+=S.bandwidth()/2);const N=c.fi!=null;let F;if(N){let ce=x.facetStates;ce||(x.facetStates=ce=new Map),F=ce.get(this),F||ce.set(this,F=new Map)}const[W,I]=Cv(this,p),{px:M,py:D}=d,P=M?ce=>M[ce]:Ile(d,W),U=D?ce=>D[ce]:zle(d,I);let z,H,j,X;function G(ce,be){if(N)if(X&&(X=cancelAnimationFrame(X)),ce==null)F.delete(c.fi);else{F.set(c.fi,be),X=requestAnimationFrame(()=>{X=null;for(const[re,_e]of F)if(_e<be||_e===be&&re<c.fi){ce=null;break}ee(ce)});return}ee(ce)}function ee(ce){if(z===ce&&j===x.sticky)return;z=ce,j=g.pointerSticky=x.sticky;const be=z==null?[]:[z];N&&(be.fx=c.fx,be.fy=c.fy,be.fi=c.fi);const re=y(be,f,d,p,g);if(H){if(N){const _e=H.parentNode,Ae=H.getAttribute("transform"),te=re.getAttribute("transform");Ae?re.setAttribute("transform",Ae):re.removeAttribute("transform"),te?_e.setAttribute("transform",te):_e.removeAttribute("transform"),re.removeAttribute("aria-label"),re.removeAttribute("aria-description"),re.removeAttribute("aria-hidden")}H.replaceWith(re)}return x.roots[_]=H=re,z==null&&(F==null?void 0:F.size)>1||g.dispatchValue(z==null?null:b[z]),re}function ne(ce){if(x.sticky||ce.pointerType==="mouse"&&ce.buttons===1)return;let[be,re]=$s(ce);be-=k,re-=O;const _e=be<p.marginLeft||be>p.width-p.marginRight?1:e,Ae=re<p.marginTop||re>p.height-p.marginBottom?1:t;let te=null,Le=a*a;for(const Te of c){const Ue=_e*(P(Te)-be),dt=Ae*(U(Te)-re),$t=Ue*Ue+dt*dt;$t<=Le&&(te=Te,Le=$t)}if(te!=null&&(e!==1||t!==1)){const Te=P(te)-be,Ue=U(te)-re;Le=Te*Te+Ue*Ue}G(te,Le)}function de(ce){ce.pointerType==="mouse"&&z!=null&&(x.sticky&&x.roots.some(be=>be==null?void 0:be.contains(ce.target))||(x.sticky?(x.sticky=!1,x.renders.forEach(be=>be(null))):(x.sticky=!0,ee(z)),ce.stopImmediatePropagation()))}function me(ce){ce.pointerType==="mouse"&&(x.sticky||G(null))}return v.addEventListener("pointerenter",ne),v.addEventListener("pointermove",ne),v.addEventListener("pointerdown",de),v.addEventListener("pointerleave",me),ee(null)},u)}}function Ple(e){return aF(1,1,e)}function net(e){return aF(1,.01,e)}function ret(e){return aF(.01,1,e)}function Ile({x1:e,x2:t,x:n=e},r){return e&&t?i=>(e[i]+t[i])/2:n?i=>n[i]:()=>r}function zle({y1:e,y2:t,y:n=e},r){return e&&t?i=>(e[i]+t[i])/2:n?i=>n[i]:()=>r}function Ble(e){return H0(e)&&e.interval===void 0?void 0:"tabular-nums"}function iet(e,t){let{label:n=e.label,tickSize:r=6,width:i=240,height:o=44+r,marginTop:a=18,marginRight:s=0,marginBottom:u=16+r,marginLeft:l=0,style:c,ticks:f=(i-l-s)/64,tickFormat:d,fontVariant:p=Ble(e),round:g=!0,opacity:y,className:v}=t;const b=eF(t);v=QR(v),y=ii(y)[1],d===null&&(d=()=>null);const x=Xi("svg",b).attr("class",`${v}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",o).attr("viewBox",`0 0 ${i} ${o}`).call(W=>W.append("style").text(`.${v}-ramp {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
.${v}-ramp text {
  white-space: pre;
}`)).call(ZR,c);let _=W=>W.selectAll(".tick line").attr("y1",a+u-o),A;const S=g?(W,I)=>W.rangeRound(I):(W,I)=>W.range(I),{type:C,domain:E,range:k,interpolate:O,scale:N,pivot:F}=e;if(O){const W=k===void 0?O:xg(O.length===1?rF(O):O,k);A=S(N.copy(),aa(fr(l,i-s),Math.min(E.length+(F!==void 0),k===void 0?1/0:k.length)));const I=256,M=b.document.createElement("canvas");M.width=I,M.height=1;const D=M.getContext("2d");for(let P=0,U=I-1;P<I;++P)D.fillStyle=W(P/U),D.fillRect(P,0,1,1);x.append("image").attr("opacity",y).attr("x",l).attr("y",a).attr("width",i-l-s).attr("height",o-a-u).attr("preserveAspectRatio","none").attr("xlink:href",M.toDataURL())}else if(C==="threshold"){const W=E,I=d===void 0?M=>M:typeof d=="string"?vf(d):d;A=S(Hc().domain([-1,k.length-1]),[l,i-s]),x.append("g").attr("fill-opacity",y).selectAll().data(k).enter().append("rect").attr("x",(M,D)=>A(D-1)).attr("y",a).attr("width",(M,D)=>A(D)-A(D-1)).attr("height",o-a-u).attr("fill",M=>M),f=vi(W,(M,D)=>D),d=M=>I(W[M],M)}else A=S(b3().domain(E),[l,i-s]),x.append("g").attr("fill-opacity",y).selectAll().data(E).enter().append("rect").attr("x",A).attr("y",a).attr("width",Math.max(0,A.bandwidth()-1)).attr("height",o-a-u).attr("fill",N),_=()=>{};return x.append("g").attr("transform",`translate(0,${o-u})`).call(Wwe(A).ticks(Array.isArray(f)?null:f,typeof d=="string"?d:void 0).tickFormat(typeof d=="function"?d:void 0).tickSize(r).tickValues(Array.isArray(f)?f:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",Yr(p,"normal")).call(_).call(W=>W.select(".domain").remove()),n!==void 0&&x.append("text").attr("x",l).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(n),x.node()}const Ule=Math.PI/180;function jle(e,{marker:t,markerStart:n=t,markerMid:r=t,markerEnd:i=t}={}){e.markerStart=h8(n),e.markerMid=h8(r),e.markerEnd=h8(i)}function h8(e){if(e==null||e===!1)return null;if(e===!0)return RH;if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"none":return null;case"arrow":return OH("auto");case"arrow-reverse":return OH("auto-start-reverse");case"dot":return oet;case"circle":case"circle-fill":return RH;case"circle-stroke":return aet}throw new Error(`invalid marker: ${e}`)}function OH(e){return(t,n)=>Xi("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",e).attr("fill","none").attr("stroke",t).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function oet(e,t){return Xi("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function RH(e,t){return Xi("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","white").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function aet(e,t){return Xi("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","white").attr("stroke",e).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}let set=0;function Wle(e,t,{stroke:n},r){return uet(e,t,n&&(i=>n[i]),r)}function uet(e,{markerStart:t,markerMid:n,markerEnd:r,stroke:i},o=()=>i,a){const s=new Map;function u(l){return function(c){const f=o(c);let d=s.get(l);d||s.set(l,d=new Map);let p=d.get(f);if(!p){const g=this.parentNode.insertBefore(l(f,a),this),y=`plot-marker-${++set}`;g.setAttribute("id",y),d.set(f,p=`url(#${y})`)}return p}}t&&e.attr("marker-start",u(t)),n&&e.attr("marker-mid",u(n)),r&&e.attr("marker-end",u(r))}function Hle({inset:e,insetLeft:t,insetRight:n,...r}={}){return[t,n]=Gle(e,t,n),{inset:e,insetLeft:t,insetRight:n,...r}}function qle({inset:e,insetTop:t,insetBottom:n,...r}={}){return[t,n]=Gle(e,t,n),{inset:e,insetTop:t,insetBottom:n,...r}}function Gle(e,t,n){return e===void 0&&t===void 0&&n===void 0?po?[1,0]:[.5,.5]:[t,n]}function Vle(e,{interval:t}){return e={..._S(e)},e.interval=VR(e.interval===void 0?t:e.interval),e}function Yle(e,t,n,r){const{[e]:i,[`${e}1`]:o,[`${e}2`]:a}=n,{value:s,interval:u}=Vle(i,n);if(s==null||u==null&&!r)return n;const l=AS(i);if(u==null){let p;const g={transform:y=>p||(p=ff(y,s)),label:l};return{...n,[e]:void 0,[`${e}1`]:o===void 0?g:o,[`${e}2`]:a===void 0?g:a}}let c,f;function d(p){return f!==void 0&&p===c?f:f=vi(ff(c=p,s),g=>u.floor(g))}return t({...n,[e]:void 0,[`${e}1`]:o===void 0?{transform:d,label:l}:o,[`${e}2`]:a===void 0?{transform:p=>d(p).map(g=>u.offset(g)),label:l}:a})}function Jle(e,t,n){const{[e]:r}=n,{value:i,interval:o}=Vle(r,n);return i==null||o==null?n:t({...n,[e]:{label:AS(r),transform:a=>{const s=vi(ff(a,i),l=>o.floor(l)),u=s.map(l=>o.offset(l));return s.map(ru(s)?(l,c)=>l==null||isNaN(l=+l)||(c=u[c],c==null)||isNaN(c=+c)?void 0:new Date((l+c)/2):(l,c)=>l==null||(c=u[c],c==null)?NaN:(+l+ +c)/2)}}})}function cet(e={}){return Yle("x",Hle,e)}function fet(e={}){return Yle("y",qle,e)}function det(e={}){return Jle("x",Hle,e)}function het(e={}){return Jle("y",qle,e)}const Xle={ariaLabel:"rule",fill:null,stroke:"currentColor"};class pet extends mu{constructor(t,n={}){const{x:r,y1:i,y2:o,inset:a=0,insetTop:s=a,insetBottom:u=a}=n;super(t,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:o,scale:"y",optional:!0}},Lle(n,"x"),Xle),this.insetTop=Jn(s),this.insetBottom=Jn(u),jle(this,n)}render(t,n,r,i,o){const{x:a,y:s}=n,{x:u,y1:l,y2:c}=r,{width:f,height:d,marginTop:p,marginRight:g,marginLeft:y,marginBottom:v}=i,{insetTop:b,insetBottom:x}=this;return Xi("svg:g",o).call(U0,this,i,o).call(W0,this,{x:u&&a},po,0).call(_=>_.selectAll().data(t).enter().append("line").call(j0,this).attr("x1",u?A=>u[A]:(y+f-g)/2).attr("x2",u?A=>u[A]:(y+f-g)/2).attr("y1",l&&!L_(s)?A=>l[A]+b:p+b).attr("y2",c&&!L_(s)?s.bandwidth?A=>c[A]+s.bandwidth()-x:A=>c[A]-x:d-v-x).call(qg,this,r).call(Wle,this,r,o)).node()}}class get extends mu{constructor(t,n={}){const{x1:r,x2:i,y:o,inset:a=0,insetRight:s=a,insetLeft:u=a}=n;super(t,{y:{value:o,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},Lle(n,"y"),Xle),this.insetRight=Jn(s),this.insetLeft=Jn(u),jle(this,n)}render(t,n,r,i,o){const{x:a,y:s}=n,{y:u,x1:l,x2:c}=r,{width:f,height:d,marginTop:p,marginRight:g,marginLeft:y,marginBottom:v}=i,{insetLeft:b,insetRight:x}=this;return Xi("svg:g",o).call(U0,this,i,o).call(W0,this,{y:u&&s},0,po).call(_=>_.selectAll().data(t).enter().append("line").call(j0,this).attr("x1",l&&!L_(a)?A=>l[A]+b:y+b).attr("x2",c&&!L_(a)?a.bandwidth?A=>c[A]+a.bandwidth()-x:A=>c[A]-x:f-g-x).attr("y1",u?A=>u[A]:(p+d-v)/2).attr("y2",u?A=>u[A]:(p+d-v)/2).call(qg,this,r).call(Wle,this,r,o)).node()}}function met(e,t){let{x:n=Ml,y:r,y1:i,y2:o,...a}=fet(t);return[i,o]=Kle(r,i,o),new pet(e,{...a,x:n,y1:i,y2:o})}function yet(e,t){let{y:n=Ml,x:r,x1:i,x2:o,...a}=cet(t);return[i,o]=Kle(r,i,o),new get(e,{...a,y:n,x1:i,x2:o})}function Kle(e,t,n){if(e==null){if(t===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,t]}else{if(t===void 0)return n===void 0?[0,e]:[e,n];if(n===void 0)return[e,t]}return[t,n]}function sF(e,...t){let n=t.length;for(let r=0,i=!0;r<n;++r)typeof t[r]!="function"&&(i&&(e=e.slice(),i=!1),e.splice(r,2,e[r]+t[r]+e[r+1]),t.splice(r,1),--r,--n);return r=>{let i=e[0];for(let o=0;o<n;++o)i+=t[o](r)+e[o+1];return i}}const vet={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},Qle="­";class uF extends mu{constructor(t,n={}){const{x:r,y:i,text:o=B0(t)&&ole(t)?Ml:zKe,frameAnchor:a,textAnchor:s=/right$/i.test(a)?"end":/left$/i.test(a)?"start":"middle",lineAnchor:u=/^top/i.test(a)?"top":/^bottom/i.test(a)?"bottom":"middle",lineHeight:l=1,lineWidth:c=1/0,textOverflow:f,monospace:d,fontFamily:p=d?"ui-monospace, monospace":void 0,fontSize:g,fontStyle:y,fontVariant:v,fontWeight:b,rotate:x}=n,[_,A]=ii(x,0),[S,C]=Eet(g);if(super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:S,optional:!0},rotate:{value:JKe(_),optional:!0},text:{value:o,filter:Jue,optional:!0}},n,vet),this.rotate=A,this.textAnchor=Yr(s,"middle"),this.lineAnchor=gs(u,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+l,this.lineWidth=+c,this.textOverflow=Zle(f),this.monospace=!!d,this.fontFamily=ni(p),this.fontSize=C,this.fontStyle=ni(y),this.fontVariant=ni(v),this.fontWeight=ni(b),this.frameAnchor=ES(a),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${c}`);this.splitLines=nce(this),this.clipLine=rce(this)}render(t,n,r,i,o){const{x:a,y:s}=n,{x:u,y:l,rotate:c,text:f,title:d,fontSize:p}=r,{rotate:g}=this,[y,v]=Cv(this,i);return Xi("svg:g",o).call(U0,this,i,o).call(tce,this,f,i).call(W0,this,{x:u&&a,y:l&&s}).call(b=>b.selectAll().data(t).enter().append("text").call(j0,this).call(bet,this,f,d).attr("transform",sF`translate(${u?x=>u[x]:y},${l?x=>l[x]:v})${c?x=>` rotate(${c[x]})`:g?` rotate(${g})`:""}`).call(vt,"font-size",p&&(x=>p[x])).call(qg,this,r)).node()}}function Zle(e){return e==null?null:gs(e,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function bet(e,t,n,r){if(!n)return;const{lineAnchor:i,lineHeight:o,textOverflow:a,splitLines:s,clipLine:u}=t;e.each(function(l){const c=s(cg(n[l])??"").map(u),f=c.length,d=i==="top"?.71:i==="bottom"?1-f:(164-f*100)/200;if(f>1){let p=0;for(let g=0;g<f;++g){if(++p,!c[g])continue;const y=this.ownerDocument.createElementNS(Cp.svg,"tspan");y.setAttribute("x",0),g===p-1?y.setAttribute("y",`${(d+g)*o}em`):y.setAttribute("dy",`${p*o}em`),y.textContent=c[g],this.appendChild(y),p=0}}else d&&this.setAttribute("y",`${d*o}em`),this.textContent=c[0];if(a&&!r&&c[0]!==n[l]){const p=this.ownerDocument.createElementNS(Cp.svg,"title");p.textContent=n[l],this.appendChild(p)}})}function ece(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=qR(t,n)),new uF(e,{...r,x:t,y:n})}function xet(e,{x:t=Ml,...n}={}){return new uF(e,het({...n,x:t}))}function wet(e,{y:t=Ml,...n}={}){return new uF(e,det({...n,y:t}))}function tce(e,t,n){vt(e,"text-anchor",t.textAnchor),vt(e,"font-family",t.fontFamily),vt(e,"font-size",t.fontSize),vt(e,"font-style",t.fontStyle),vt(e,"font-variant",t.fontVariant===void 0?Aet(n):t.fontVariant),vt(e,"font-weight",t.fontWeight)}function Aet(e){return e&&(QKe(e)||ru(e))?"tabular-nums":void 0}const _et=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function Eet(e){return e==null||typeof e=="number"?[void 0,e]:typeof e!="string"?[e,void 0]:(e=e.trim().toLowerCase(),_et.has(e)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(e)?[void 0,e]:[e,void 0])}function Cet(e,t,n){const r=[];let i,o=0;for(const[a,s,u]of $et(e)){if(i===void 0&&(i=a),o>i&&n(e,i,s)>t&&(r.push(e.slice(i,o)+(e[o-1]===Qle?"-":"")),i=a),u){r.push(e.slice(i,s)),i=void 0;continue}o=s}return r}function*$et(e){let t=0,n=0;const r=e.length;for(;n<r;){let i=1;switch(e[n]){case Qle:case"-":++n,yield[t,n,!1],t=n;break;case" ":for(yield[t,n,!1];e[++n]===" ";);t=n;break;case"\r":e[n+1]===`
`&&++i;case`
`:yield[t,n,!0],n+=i,t=n;break;default:++n;break}}yield[t,n,!0]}const FH={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function lF(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=Gg(e,i))r+=FH[e[i]]??(oce(e,i)?120:FH.e);return r}function cF(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=Gg(e,i))r+=oce(e,i)?200:100;return r}function nce({monospace:e,lineWidth:t,textOverflow:n}){if(n!=null||t==1/0)return o=>o.split(/\r\n?|\n/g);const r=e?cF:lF,i=t*100;return o=>Cet(o,i,r)}function rce({monospace:e,lineWidth:t,textOverflow:n}){if(n==null||t==1/0)return o=>o;const r=e?cF:lF,i=t*100;switch(n){case"clip-start":return o=>LH(o,i,r,"");case"clip-end":return o=>DH(o,i,r,"");case"ellipsis-start":return o=>LH(o,i,r,dp);case"ellipsis-middle":return o=>ket(o,i,r,dp);case"ellipsis-end":return o=>DH(o,i,r,dp)}}const dp="…";function fg(e,t,n,r){const i=[];let o=0;for(let a=0,s=0,u=e.length;a<u;a=s){s=Gg(e,a);const l=n(e,a,s);if(o+l>t){for(o+=r;o>t&&a>0;)s=a,a=i.pop(),o-=n(e,a,s);return[a,t-o]}o+=l,i.push(a)}return[-1,0]}function DH(e,t,n,r){e=e.trim();const i=n(r),[o]=fg(e,t,n,i);return o<0?e:e.slice(0,o).trimEnd()+r}function ket(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const o=n(r)/2,[a,s]=fg(e,t/2,n,o),[u]=fg(e,i-t/2-s+o,n,-o);return u<0?r:e.slice(0,a).trimEnd()+r+e.slice(Gg(e,u)).trimStart()}function LH(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const o=n(r),[a]=fg(e,i-t+o,n,-o);return a<0?r:r+e.slice(Gg(e,a)).trimStart()}const q$=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,PH=new RegExp("\\p{Extended_Pictographic}","uy");function Gg(e,t){return t+=Tet(e,t)?2:1,Net(e,t)&&(t=q$.lastIndex),Met(e,t)?Gg(e,t+1):t}function ice(e,t){return e.charCodeAt(t)<128}function Tet(e,t){const n=e.charCodeAt(t);if(n>=55296&&n<56320){const r=e.charCodeAt(t+1);return r>=56320&&r<57344}return!1}function Met(e,t){return e.charCodeAt(t)===8205}function Net(e,t){return ice(e,t)?!1:(q$.lastIndex=t,q$.test(e))}function oce(e,t){return ice(e,t)?!1:(PH.lastIndex=t,PH.test(e))}const Oet={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},ace=3.5,Ret=ace*5,sce={draw(e,t,n){const r=t*n/Ret;e.moveTo(0,0),e.lineTo(0,-t),e.moveTo(-r,r-t),e.lineTo(0,-t),e.lineTo(r,r-t)}},Fet={draw(e,t,n){e.moveTo(-n,0),e.lineTo(0,-t),e.lineTo(n,0)}},Det=new Map([["arrow",sce],["spike",Fet]]);function Let(e){return e&&typeof e.draw=="function"}function Pet(e){if(Let(e))return e;const t=Det.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid shape: ${e}`)}class uce extends mu{constructor(t,n={}){const{x:r,y:i,r:o=ace,length:a,rotate:s,shape:u=sce,anchor:l="middle",frameAnchor:c}=n,[f,d]=ii(a,12),[p,g]=ii(s,0);super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:f,scale:"length",optional:!0},rotate:{value:p,optional:!0}},n,Oet),this.r=+o,this.length=d,this.rotate=g,this.shape=Pet(u),this.anchor=gs(l,"anchor",["start","middle","end"]),this.frameAnchor=ES(c)}render(t,n,r,i,o){const{x:a,y:s}=n,{x:u,y:l,length:c,rotate:f}=r,{length:d,rotate:p,anchor:g,shape:y,r:v}=this,[b,x]=Cv(this,i);return Xi("svg:g",o).call(U0,this,i,o).call(W0,this,{x:u&&a,y:l&&s}).call(_=>_.selectAll().data(t).enter().append("path").call(j0,this).attr("transform",sF`translate(${u?A=>u[A]:b},${l?A=>l[A]:x})${f?A=>` rotate(${f[A]})`:p?` rotate(${p})`:""}${g==="start"?"":g==="end"?c?A=>` translate(0,${c[A]})`:` translate(0,${d})`:c?A=>` translate(0,${c[A]/2})`:` translate(0,${d/2})`}`).attr("d",c?A=>{const S=yd();return y.draw(S,c[A],v),S}:(()=>{const A=yd();return y.draw(A,d,v),A})()).call(qg,this,r)).node()}}function Iet(e,t={}){const{x:n=Ml,...r}=t;return new uce(e,{...r,x:n})}function zet(e,t={}){const{y:n=Ml,...r}=t;return new uce(e,{...r,y:n})}function Rf(e,t){return arguments.length<2&&!B0(e)&&(t=e,e=null),t===void 0&&(t={}),[e,t]}function MS({anchor:e}={},t){return e===void 0?t[0]:gs(e,"anchor",t)}function lce(e){return MS(e,["left","right"])}function cce(e){return MS(e,["right","left"])}function fce(e){return MS(e,["bottom","top"])}function dce(e){return MS(e,["top","bottom"])}function hce(){const[e,t]=Rf(...arguments);return gce("y",lce(t),e,t)}function Bet(){const[e,t]=Rf(...arguments);return gce("fy",cce(t),e,t)}function pce(){const[e,t]=Rf(...arguments);return mce("x",fce(t),e,t)}function Uet(){const[e,t]=Rf(...arguments);return mce("fx",dce(t),e,t)}function gce(e,t,n,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:s=1,fill:u=r,fillOpacity:l=i,textAnchor:c,textStroke:f,textStrokeOpacity:d,textStrokeWidth:p,tickSize:g=e==="y"?6:0,tickPadding:y,tickRotate:v,x:b,margin:x,marginTop:_=x===void 0?20:x,marginRight:A=x===void 0?t==="right"?40:0:x,marginBottom:S=x===void 0?20:x,marginLeft:C=x===void 0?t==="left"?40:0:x,label:E,labelAnchor:k,labelArrow:O,labelOffset:N,...F}){return g=Jn(g),y=Jn(y),v=Jn(v),k!==void 0&&(k=gs(k,"labelAnchor",["center","top","bottom"])),O=Sce(O),Fle(g&&!Ni(o)?jet(e,t,n,{stroke:o,strokeOpacity:a,strokeWidth:s,tickSize:g,tickPadding:y,tickRotate:v,x:b,...F}):null,Ni(u)?null:Het(e,t,n,{fill:u,fillOpacity:l,stroke:f,strokeOpacity:d,strokeWidth:p,textAnchor:c,tickSize:g,tickPadding:y,tickRotate:v,x:b,marginTop:_,marginRight:A,marginBottom:S,marginLeft:C,...F}),!Ni(u)&&E!==null?ece([],xce({fill:u,fillOpacity:l,...F},function(W,I,M,D,P){const U=D[e],{marginTop:z,marginRight:H,marginBottom:j,marginLeft:X}=e==="y"&&P.inset||P,G=k??(U.bandwidth?"center":"top"),ee=N??(t==="right"?H:X)-3;return G==="center"?(this.textAnchor=void 0,this.lineAnchor=t==="right"?"bottom":"top",this.frameAnchor=t,this.rotate=-90):(this.textAnchor=t==="right"?"end":"start",this.lineAnchor=G,this.frameAnchor=`${G}-${t}`,this.rotate=0),this.dy=G==="top"?3-z:G==="bottom"?j-3:0,this.dx=t==="right"?ee:-ee,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[_ce(e,U,{anchor:t,label:E,labelAnchor:G,labelArrow:O})]}}}})):null)}function mce(e,t,n,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:s=1,fill:u=r,fillOpacity:l=i,textAnchor:c,textStroke:f,textStrokeOpacity:d,textStrokeWidth:p,tickSize:g=e==="x"?6:0,tickPadding:y,tickRotate:v,y:b,margin:x,marginTop:_=x===void 0?t==="top"?30:0:x,marginRight:A=x===void 0?20:x,marginBottom:S=x===void 0?t==="bottom"?30:0:x,marginLeft:C=x===void 0?20:x,label:E,labelAnchor:k,labelArrow:O,labelOffset:N,...F}){return g=Jn(g),y=Jn(y),v=Jn(v),k!==void 0&&(k=gs(k,"labelAnchor",["center","left","right"])),O=Sce(O),Fle(g&&!Ni(o)?Wet(e,t,n,{stroke:o,strokeOpacity:a,strokeWidth:s,tickSize:g,tickPadding:y,tickRotate:v,y:b,...F}):null,Ni(u)?null:qet(e,t,n,{fill:u,fillOpacity:l,stroke:f,strokeOpacity:d,strokeWidth:p,textAnchor:c,tickSize:g,tickPadding:y,tickRotate:v,y:b,marginTop:_,marginRight:A,marginBottom:S,marginLeft:C,...F}),!Ni(u)&&E!==null?ece([],xce({fill:u,fillOpacity:l,...F},function(W,I,M,D,P){const U=D[e],{marginTop:z,marginRight:H,marginBottom:j,marginLeft:X}=e==="x"&&P.inset||P,G=k??(U.bandwidth?"center":"right"),ee=N??(t==="top"?z:j)-3;return G==="center"?(this.frameAnchor=t,this.textAnchor=void 0):(this.frameAnchor=`${t}-${G}`,this.textAnchor=G==="right"?"end":"start"),this.lineAnchor=t,this.dy=t==="top"?-ee:ee,this.dx=G==="right"?H-3:G==="left"?3-X:0,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[_ce(e,U,{anchor:t,label:E,labelAnchor:G,labelArrow:O})]}}}})):null)}function jet(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=t+(e==="y"?"-empty":""),frameAnchor:s=t,tickSize:u,inset:l=0,insetLeft:c=l,insetRight:f=l,dx:d=0,y:p=e==="y"?void 0:null,...g}){return Vg(zet,e,t,`${e}-axis tick`,n,{strokeWidth:r,strokeLinecap:i,strokeLinejoin:o,facetAnchor:a,frameAnchor:s,y:p,...g,dx:t==="left"?+d-po+ +c:+d+po-f,anchor:"start",length:u,shape:t==="left"?Zet:ett})}function Wet(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=t+(e==="x"?"-empty":""),frameAnchor:s=t,tickSize:u,inset:l=0,insetTop:c=l,insetBottom:f=l,dy:d=0,x:p=e==="x"?void 0:null,...g}){return Vg(Iet,e,t,`${e}-axis tick`,n,{strokeWidth:r,strokeLinejoin:o,strokeLinecap:i,facetAnchor:a,frameAnchor:s,x:p,...g,dy:t==="bottom"?+d-po-f:+d+po+ +c,anchor:"start",length:u,shape:t==="bottom"?Ket:Qet})}function Het(e,t,n,{facetAnchor:r=t+(e==="y"?"-empty":""),frameAnchor:i=t,tickSize:o,tickRotate:a=0,tickPadding:s=Math.max(3,9-o)+(Math.abs(a)>60?4*Math.cos(a*Ule):0),text:u,textAnchor:l=Math.abs(a)>60?"middle":t==="left"?"end":"start",lineAnchor:c=a>60?"top":a<-60?"bottom":"middle",fontVariant:f,inset:d=0,insetLeft:p=d,insetRight:g=d,dx:y=0,y:v=e==="y"?void 0:null,...b}){return Vg(wet,e,t,`${e}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:u,textAnchor:l,lineAnchor:c,fontVariant:f,rotate:a,y:v,...b,dx:t==="left"?+y-o-s+ +p:+y+ +o+ +s-g},function(x,_,A,S,C){f===void 0&&(this.fontVariant=Ace(x)),u===void 0&&(C.text=wce(x,_,A,S,t))})}function qet(e,t,n,{facetAnchor:r=t+(e==="x"?"-empty":""),frameAnchor:i=t,tickSize:o,tickRotate:a=0,tickPadding:s=Math.max(3,9-o)+(Math.abs(a)>=10?4*Math.cos(a*Ule):0),text:u,textAnchor:l=Math.abs(a)>=10?a<0^t==="bottom"?"start":"end":"middle",lineAnchor:c=Math.abs(a)>=10?"middle":t==="bottom"?"top":"bottom",fontVariant:f,inset:d=0,insetTop:p=d,insetBottom:g=d,dy:y=0,x:v=e==="x"?void 0:null,...b}){return Vg(xet,e,t,`${e}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:u===void 0?null:u,textAnchor:l,lineAnchor:c,fontVariant:f,rotate:a,x:v,...b,dy:t==="bottom"?+y+ +o+ +s-g:+y-o-s+ +p},function(x,_,A,S,C){f===void 0&&(this.fontVariant=Ace(x)),u===void 0&&(C.text=wce(x,_,A,S,t))})}function Get(){const[e,t]=Rf(...arguments);return yce("y",lce(t),e,t)}function Vet(){const[e,t]=Rf(...arguments);return yce("fy",cce(t),e,t)}function Yet(){const[e,t]=Rf(...arguments);return vce("x",fce(t),e,t)}function Jet(){const[e,t]=Rf(...arguments);return vce("fx",dce(t),e,t)}function yce(e,t,n,{y:r=e==="y"?void 0:null,x:i=null,x1:o=t==="left"?i:null,x2:a=t==="right"?i:null,...s}){return Vg(yet,e,t,`${e}-grid`,n,{y:r,x1:o,x2:a,...bce(s)})}function vce(e,t,n,{x:r=e==="x"?void 0:null,y:i=null,y1:o=t==="top"?i:null,y2:a=t==="bottom"?i:null,...s}){return Vg(met,e,t,`${e}-grid`,n,{x:r,y1:o,y2:a,...bce(s)})}function bce({color:e="currentColor",opacity:t=.1,stroke:n=e,strokeOpacity:r=t,strokeWidth:i=1,...o}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...o}}function xce({fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:s,pointerEvents:u,shapeRendering:l,clip:c=!1},f){return[,e]=s2(e),[,t]=ii(t),{facet:"super",x:null,y:null,fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:s,pointerEvents:u,shapeRendering:l,clip:c,initializer:f}}function Vg(e,t,n,r,i,o,a){let s;function u(f,d,p,g,y,v){const b=f==null&&(t==="fx"||t==="fy"),{[t]:x}=g;if(!x)throw new Error(`missing scale: ${t}`);const _=x.domain();let{interval:A,ticks:S,tickFormat:C,tickSpacing:E=t==="x"?80:35}=o;if(typeof S=="string"&&Ece(x)&&(A=S,S=void 0),S===void 0&&(S=Av(A,x.type)??Xet(x,E)),f==null){if(B0(S))f=Eo(S);else if(YKe(S))f=p8(S,...Tc(_));else if(x.interval){let O=x.interval;if(x.ticks){const[N,F]=Tc(_),W=(F-N)/O[bv];O=aH(O,W/S)??O,f=p8(O,N,F)}else{f=_;const N=f.length;O=aH(O,N/S)??O,O!==x.interval&&(f=p8(O,...Tc(f)))}if(O===x.interval){const N=Math.round(f.length/S);N>1&&(f=f.filter((F,W)=>W%N===0))}}else x.ticks?f=x.ticks(S):f=_;if(!x.ticks&&f.length&&f!==_){const O=new Uc(_);f=f.filter(N=>O.has(N)),f.length||Pd(`Warning: the ${t}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}t==="y"||t==="x"?d=[wv(f)]:s[t]={scale:t,value:Ml}}a==null||a.call(this,x,f,S,C,s);const k=Object.fromEntries(Object.entries(s).map(([O,N])=>[O,{...N,value:ff(f,N.value)}]));return b&&(d=v.filterFacets(f,k)),{data:f,facets:d,channels:k}}const l=lg(o).initializer,c=e(i,lg({...o,initializer:u},l));return i==null?(s=c.channels,c.channels={}):s={},c.ariaLabel=r,c.clip===void 0&&(c.clip=!1),c}function Xet(e,t){const[n,r]=Tc(e.range());return(r-n)/t}function wce(e,t,n,r,i){return{value:fF(e,t,n,r,i)}}function fF(e,t,n,r,i){return typeof r=="function"?r:r===void 0&&t&&ru(t)?RKe(t,i)??cg:e.tickFormat?e.tickFormat(typeof n=="number"?n:null,r):r===void 0?cg:typeof r=="string"?(ru(e.domain())?Sg:vf)(r):xv(r)}function p8(e,t,n){return e.range(t,e.offset(e.floor(n)))}const Ket={draw(e,t){e.moveTo(0,0),e.lineTo(0,t)}},Qet={draw(e,t){e.moveTo(0,0),e.lineTo(0,-t)}},Zet={draw(e,t){e.moveTo(0,0),e.lineTo(-t,0)}},ett={draw(e,t){e.moveTo(0,0),e.lineTo(t,0)}};function Ace(e){return e.bandwidth&&!e.interval?void 0:"tabular-nums"}function ttt(e){return Math.sign(ug(e.domain()))*Math.sign(ug(e.range()))}function _ce(e,t,{anchor:n,label:r=t.label,labelAnchor:i,labelArrow:o}={}){if(!(r==null||r.inferred&&Ece(t)&&/^(date|time|year)$/i.test(r))){if(r=String(r),o==="auto"&&(o=(!t.bandwidth||t.interval)&&!/[↑↓→←]/.test(r)),!o)return r;if(o===!0){const a=ttt(t);a&&(o=/x$/.test(e)||i==="center"?/x$/.test(e)===a<0?"left":"right":a<0?"up":"down")}switch(o){case"left":return`← ${r}`;case"right":return`${r} →`;case"up":return n==="right"?`${r} ↑`:`↑ ${r}`;case"down":return n==="right"?`${r} ↓`:`↓ ${r}`}return r}}function Sce(e="auto"){return Ni(e)?!1:typeof e=="boolean"?e:gs(e,"labelArrow",["auto","up","right","down","left"])}function Ece(e){return ru(e.domain())}function IH(e,t){if(t==null)return t;const n=e(t);if(!n)throw new Error(`scale not found: ${t}`);return n}function ntt(e,{opacity:t,...n}={}){if(!H0(e)&&!Rle(e))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${e.type})`);return Cce(e,n,(r,i,o,a)=>r.append("svg").attr("width",o).attr("height",a).attr("fill",i.scale).attr("fill-opacity",ii(t)[1]).append("rect").attr("width","100%").attr("height","100%"))}function rtt(e,{fill:t=(l=>(l=e.hint)==null?void 0:l.fill)()!==void 0?e.hint.fill:"none",fillOpacity:n=1,stroke:r=(c=>(c=e.hint)==null?void 0:c.stroke)()!==void 0?e.hint.stroke:Ni(t)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:o=1.5,r:a=4.5,...s}={},u){const[f,d]=s2(t),[p,g]=s2(r),y=IH(u,f),v=IH(u,p),b=a*a*Math.PI;return n=ii(n)[1],i=ii(i)[1],o=ii(o)[1],Cce(e,s,(x,_,A,S)=>x.append("svg").attr("viewBox","-8 -8 16 16").attr("width",A).attr("height",S).attr("fill",f==="color"?C=>y.scale(C):d).attr("fill-opacity",n).attr("stroke",p==="color"?C=>v.scale(C):g).attr("stroke-opacity",i).attr("stroke-width",o).append("path").attr("d",C=>{const E=yd();return e.scale(C).draw(E,b),E}))}function Cce(e,t={},n){let{columns:r,tickFormat:i,fontVariant:o=Ble(e),swatchSize:a=15,swatchWidth:s=a,swatchHeight:u=a,marginLeft:l=0,className:c,style:f,width:d}=t;const p=eF(t);c=QR(c),i=fF(e.scale,e.domain,void 0,i);const g=Xi("div",p).attr("class",`${c}-swatches ${c}-swatches-${r!=null?"columns":"wrap"}`);let y;return r!=null?(y=`.${c}-swatches-columns .${c}-swatch {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
.${c}-swatches-columns .${c}-swatch::before {
  flex-shrink: 0;
}
.${c}-swatches-columns .${c}-swatch-label {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,g.style("columns",r).selectAll().data(e.domain).enter().append("div").attr("class",`${c}-swatch`).call(n,e,s,u).call(v=>v.append("div").attr("class",`${c}-swatch-label`).attr("title",i).text(i))):(y=`.${c}-swatches-wrap {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
.${c}-swatches-wrap .${c}-swatch {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,g.selectAll().data(e.domain).enter().append("span").attr("class",`${c}-swatch`).call(n,e,s,u).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),g.call(v=>v.insert("style","*").text(`.${c}-swatches {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
.${c}-swatch > svg {
  margin-right: 0.5em;
  overflow: visible;
}
${y}`)).style("margin-left",l?`${+l}px`:null).style("width",d===void 0?null:`${+d}px`).style("font-variant",Yr(o,"normal")).call(ZR,f).node()}const G$=new Map([["symbol",rtt],["color",kce],["opacity",ott]]);function itt(e,t,n={}){return(r,i)=>{if(!G$.has(r))throw new Error(`unknown legend type: ${r}`);if(r in e)return G$.get(r)(e[r],$ce(t,n[r],i),o=>e[o])}}function $ce({className:e,...t},{label:n,ticks:r,tickFormat:i}={},o){return nQe(o,{className:e,...t},{label:n,ticks:r,tickFormat:i})}function kce(e,{legend:t=!0,...n}){if(t===!0&&(t=e.type==="ordinal"?"swatches":"ramp"),e.domain!==void 0)switch(`${t}`.toLowerCase()){case"swatches":return ntt(e,n);case"ramp":return iet(e,n);default:throw new Error(`unknown legend type: ${t}`)}}function ott({type:e,interpolate:t,...n},{legend:r=!0,color:i=oa(0,0,0),...o}){if(!t)throw new Error(`${e} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return kce({type:e,...n,interpolate:att(i)},{legend:r,...o})}function att(e){const{r:t,g:n,b:r}=oa(e)||oa(0,0,0);return i=>`rgba(${t},${n},${r},${i})`}function stt(e,t,n){const r=[];for(const[i,o]of G$){const a=n[i];if(a!=null&&a.legend&&i in e){const s=o(e[i],$ce(t,e[i],a),u=>e[u]);s!=null&&r.push(s)}}return r}const utt={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},ltt={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class ctt extends mu{constructor(t={}){const{anchor:n=null,inset:r=0,insetTop:i=r,insetRight:o=r,insetBottom:a=r,insetLeft:s=r,rx:u,ry:l}=t;super(Aw,void 0,t,n==null?utt:ltt),this.anchor=ile(n,"anchor",["top","right","bottom","left"]),this.insetTop=Jn(i),this.insetRight=Jn(o),this.insetBottom=Jn(a),this.insetLeft=Jn(s),this.rx=Jn(u),this.ry=Jn(l)}render(t,n,r,i,o){const{marginTop:a,marginRight:s,marginBottom:u,marginLeft:l,width:c,height:f}=i,{anchor:d,insetTop:p,insetRight:g,insetBottom:y,insetLeft:v,rx:b,ry:x}=this,_=l+v,A=c-s-g,S=a+p,C=f-u-y;return Xi(d?"svg:line":"svg:rect",o).datum(0).call(U0,this,i,o).call(j0,this).call(qg,this,r).call(W0,this,{}).call(d==="left"?E=>E.attr("x1",_).attr("x2",_).attr("y1",S).attr("y2",C):d==="right"?E=>E.attr("x1",A).attr("x2",A).attr("y1",S).attr("y2",C):d==="top"?E=>E.attr("x1",_).attr("x2",A).attr("y1",S).attr("y2",S):d==="bottom"?E=>E.attr("x1",_).attr("x2",A).attr("y1",C).attr("y2",C):E=>E.attr("x",_).attr("y",S).attr("width",A-_).attr("height",C-S).attr("rx",b).attr("ry",x)).node()}}function ftt(e){return new ctt(e)}const g8={ariaLabel:"tip",fill:"white",stroke:"currentColor"},dtt=new Set(["geometry","href","src","ariaLabel","scales"]);class htt extends mu{constructor(t,n={}){n.tip&&(n={...n,tip:!1}),n.title===void 0&&B0(t)&&ole(t)&&(n={...n,title:Ml});const{x:r,y:i,x1:o,x2:a,y1:s,y2:u,anchor:l,monospace:c,fontFamily:f=c?"ui-monospace, monospace":void 0,fontSize:d,fontStyle:p,fontVariant:g,fontWeight:y,lineHeight:v=1,lineWidth:b=20,frameAnchor:x,format:_,textAnchor:A="start",textOverflow:S,textPadding:C=8,title:E,pointerSize:k=12,pathFilter:O="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(t,{x:{value:o!=null&&a!=null?null:r,scale:"x",optional:!0},y:{value:s!=null&&u!=null?null:i,scale:"y",optional:!0},x1:{value:o,scale:"x",optional:a==null},y1:{value:s,scale:"y",optional:u==null},x2:{value:a,scale:"x",optional:o==null},y2:{value:u,scale:"y",optional:s==null},title:{value:E,optional:!0}},n,g8),this.anchor=ale(l,"anchor"),this.previousAnchor=this.anchor??"top-left",this.frameAnchor=ES(x),this.textAnchor=Yr(A,"middle"),this.textPadding=+C,this.pointerSize=+k,this.pathFilter=ni(O),this.lineHeight=+v,this.lineWidth=+b,this.textOverflow=Zle(S),this.monospace=!!c,this.fontFamily=ni(f),this.fontSize=Jn(d),this.fontStyle=ni(p),this.fontVariant=ni(g),this.fontWeight=ni(y);for(const N in g8)N in this.channels&&(this[N]=g8[N]);this.splitLines=nce(this),this.clipLine=rce(this),this.format={..._}}render(t,n,r,i,o){const a=this,{x:s,y:u,fx:l,fy:c}=n,{ownerSVGElement:f,document:d}=o,{anchor:p,monospace:g,lineHeight:y,lineWidth:v}=this,{textPadding:b,pointerSize:x,pathFilter:_}=this,{marginTop:A,marginLeft:S}=i,{x1:C,y1:E,x2:k,y2:O,x:N=C??k,y:F=E??O}=r,W=l?l(t.fx)-S:0,I=c?c(t.fy)-A:0,[M,D]=Cv(this,i),P=Ile(r,M),U=zle(r,D),z=g?cF:lF,H=z(dp);let j,X;"title"in r?(j=r.channels,X=vtt):(j=ytt.call(this,r,n),X=btt);const G=Xi("svg:g",o).call(U0,this,i,o).call(tce,this).call(W0,this,{x:N&&s,y:F&&u}).call(de=>de.selectAll().data(t).enter().append("g").attr("transform",me=>`translate(${Math.round(P(me))},${Math.round(U(me))})`).call(j0,this).call(me=>me.append("path").attr("filter",_)).call(me=>me.append("text").each(function(ce){const be=It(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const re=X.call(a,ce,t,j,n,r);if(typeof re=="string")for(const _e of a.splitLines(re))ee(be,{value:a.clipLine(_e)});else{const _e=new Set;for(const Ae of re){const{label:te=""}=Ae;te&&_e.has(te)||(_e.add(te),ee(be,Ae))}}})));function ee(de,{label:me,value:ce,color:be,opacity:re}){me??(me=""),ce??(ce="");const _e=be!=null||re!=null;let Ae,te=v*100;const[Le]=fg(me,te,z,H);if(Le>=0)me=me.slice(0,Le).trimEnd()+dp,Ae=ce.trim(),ce="";else{(me||!ce&&!_e)&&(ce=" "+ce);const[Ue]=fg(ce,te-z(me),z,H);Ue>=0&&(ce=ce.slice(0,Ue).trimEnd()+dp,Ae=ce.trim())}const Te=de.append("tspan").attr("x",0).attr("dy",`${y}em`).text("​");me&&Te.append("tspan").attr("font-weight","bold").text(me),ce&&Te.append(()=>d.createTextNode(ce)),_e&&Te.append("tspan").text(" ■").attr("fill",be).attr("fill-opacity",re).style("user-select","none"),Ae&&Te.append("title").text(Ae)}function ne(){const{width:de,height:me}=i.facet??i;G.selectChildren().each(function(ce){let{x:be,width:re,height:_e}=this.getBBox();re=Math.round(re),_e=Math.round(_e);let Ae=p;if(Ae===void 0){Ae=a.previousAnchor;const Te=P(ce)+W,Ue=U(ce)+I,dt=Te+re+b*2<de,$t=Te-re-b*2>0,xr=Ue+_e+x+b*2+7<me,Mn=Ue-_e-x-b*2>0,ke=(/-left$/.test(Ae)?dt||!$t:dt&&!$t)?"left":"right",yt=(/^top-/.test(Ae)?xr||!Mn:xr&&!Mn)?"top":"bottom";Ae=a.previousAnchor=`${yt}-${ke}`}const te=this.firstChild,Le=this.lastChild;if(te.setAttribute("d",mtt(Ae,x,b,re,_e)),be)for(const Te of Le.childNodes)Te.setAttribute("x",-be);Le.setAttribute("y",`${+ptt(Ae,Le.childNodes.length,y).toFixed(6)}em`),Le.setAttribute("transform",`translate(${gtt(Ae,x,b,re,_e)})`)}),G.attr("visibility",null)}return t.length&&(G.attr("visibility","hidden"),f.isConnected?Promise.resolve().then(ne):typeof requestAnimationFrame<"u"&&requestAnimationFrame(ne)),G.node()}}function V$(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=qR(t,n)),new htt(e,{...r,x:t,y:n})}function ptt(e,t,n){return/^top(?:-|$)/.test(e)?.94-n:-.29-t*n}function gtt(e,t,n,r,i){switch(e){case"middle":return[-r/2,i/2];case"top-left":return[n,t+n];case"top":return[-r/2,t/2+n];case"top-right":return[-r-n,t+n];case"right":return[-t/2-r-n,i/2];case"bottom-left":return[n,-t-n];case"bottom":return[-r/2,-t/2-n];case"bottom-right":return[-r-n,-t-n];case"left":return[n+t/2,i/2]}}function mtt(e,t,n,r,i){const o=r+n*2,a=i+n*2;switch(e){case"middle":return`M${-o/2},${-a/2}h${o}v${a}h${-o}z`;case"top-left":return`M0,0l${t},${t}h${o-t}v${a}h${-o}z`;case"top":return`M0,0l${t/2},${t/2}h${(o-t)/2}v${a}h${-o}v${-a}h${(o-t)/2}z`;case"top-right":return`M0,0l${-t},${t}h${t-o}v${a}h${o}z`;case"right":return`M0,0l${-t/2},${-t/2}v${t/2-a/2}h${-o}v${a}h${o}v${t/2-a/2}z`;case"bottom-left":return`M0,0l${t},${-t}h${o-t}v${-a}h${-o}z`;case"bottom":return`M0,0l${t/2},${-t/2}h${(o-t)/2}v${-a}h${-o}v${a}h${(o-t)/2}z`;case"bottom-right":return`M0,0l${-t},${-t}h${t-o}v${-a}h${o}z`;case"left":return`M0,0l${t/2},${-t/2}v${t/2-a/2}h${o}v${a}h${-o}v${t/2-a/2}z`}}function ytt({channels:e},t){var i,o;const n={};let r=this.format;r=zH(r,e,"x"),r=zH(r,e,"y"),this.format=r;for(const a in r){const s=r[a];if(!(s===null||s===!1))if(a==="fx"||a==="fy")n[a]=!0;else{const u=mH(e,a);u&&(n[a]=u)}}for(const a in e){if(a in n||a in r||dtt.has(a))continue;const s=mH(e,a);s&&(n[a]=s)}this.facet&&(t.fx&&!("fx"in r)&&(n.fx=!0),t.fy&&!("fy"in r)&&(n.fy=!0));for(const a in n){const s=this.format[a];if(typeof s=="string"){const u=((i=n[a])==null?void 0:i.value)??((o=t[a])==null?void 0:o.domain())??[];this.format[a]=(ru(u)?Sg:vf)(s)}else if(s===void 0||s===!0){const u=t[a];this.format[a]=u!=null&&u.bandwidth?fF(u,u.domain()):cg}}return n}function zH(e,t,n){if(!(n in e))return e;const r=`${n}1`,i=`${n}2`;if((r in e||!(r in t))&&(i in e||!(i in t)))return e;const o=Object.entries(e),a=e[n];return o.splice(o.findIndex(([s])=>s===n)+1,0,[r,a],[i,a]),Object.fromEntries(o)}function vtt(e,t,{title:n}){return cg(n.value[e],e)}function*btt(e,t,n,r,i){for(const o in n){if(o==="fx"||o==="fy"){yield{label:P_(r,n,o),value:this.format[o](t[o],e)};continue}if(o==="x1"&&"x2"in n||o==="y1"&&"y2"in n)continue;const a=n[o];if(o==="x2"&&"x1"in n)yield{label:UH(r,n,"x"),value:BH(this.format.x2,n.x1,a,e)};else if(o==="y2"&&"y1"in n)yield{label:UH(r,n,"y"),value:BH(this.format.y2,n.y1,a,e)};else{const s=a.value[e],u=a.scale;if(!v0(s)&&u==null)continue;yield{label:P_(r,n,o),value:this.format[o](s,e),color:u==="color"?i[o][e]:null,opacity:u==="opacity"?i[o][e]:null}}}}function BH(e,t,n,r){var i;return(i=n.hint)!=null&&i.length?`${e(n.value[r]-t.value[r],r)}`:`${e(t.value[r],r)}–${e(n.value[r],r)}`}function UH(e,t,n){const r=P_(e,t,`${n}1`,n),i=P_(e,t,`${n}2`,n);return r===i?r:`${r}–${i}`}function P_(e,t,n,r=n){const i=t[n],o=e[(i==null?void 0:i.scale)??n];return String((o==null?void 0:o.label)??(i==null?void 0:i.label)??r)}function Tce(e={}){var H;const{facet:t,style:n,title:r,subtitle:i,caption:o,ariaLabel:a,ariaDescription:s}=e,u=QR(e.className),l=e.marks===void 0?[]:WH(e.marks);l.push(...$tt(l));const c=Ett(t,e),f=new Map;for(const j of l){const X=HH(j,c,e);X&&f.set(j,X)}const d=new Map;c&&J1(d,[c],e),J1(d,f,e);const p=WH(ktt(l,d,e));for(const j of p){const X=HH(j,c,e);X&&f.set(j,X)}l.unshift(...p);let g=jZe(d,e);if(g!==void 0){const j=c?d8(g,c):void 0;for(const G of l){if(G.facet===null||G.facet==="super")continue;const ee=f.get(G);ee!==void 0&&(ee.facetsIndex=G.fx!=null||G.fy!=null?d8(g,ee):j)}const X=new Set;for(const{facetsIndex:G}of f.values())G==null||G.forEach((ee,ne)=>{(ee==null?void 0:ee.length)>0&&X.add(ne)});g.forEach(0<X.size&&X.size<g.length?(G,ee)=>G.empty=!X.has(ee):G=>G.empty=!1);for(const G of l)if(G.facet==="exclude"){const ee=f.get(G);ee!==void 0&&(ee.facetsIndex=qZe(ee.facetsIndex))}}for(const j of bn.keys())z$(e[j])&&j!=="fx"&&j!=="fy"&&d.set(j,[]);const y=new Map;for(const j of l){if(y.has(j))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:X,channels:G}=f.get(j)??{},{data:ee,facets:ne,channels:de}=j.initialize(X,G,e);dF(de,e),y.set(j,{data:ee,facets:ne,channels:de})}const v=W$(J1(d,y,e),e),b=BZe(v,l,e);NZe(v,b);const x=EH(v),{fx:_,fy:A}=x,S=_||A?Mle(v,b):b,C=_||A?Dtt(x,b):b,E=eF(e),k=E.document,O=a3("svg").call(k.documentElement);let N=O;E.ownerSVGElement=O,E.className=u,E.projection=HQe(e,S),E.filterFacets=(j,X)=>d8(g,{channels:X,groups:oF(j,X)}),E.getMarkState=j=>{const X=y.get(j),G=f.get(j);return{...X,channels:{...X.channels,...G==null?void 0:G.channels}}},E.dispatchValue=j=>{N.value!==j&&(N.value=j,N.dispatchEvent(new Event("input",{bubbles:!0})))};const F=new Set;for(const[j,X]of y)if(j.initializer!=null){const G=j.facet==="super"?C:S,ee=j.initializer(X.data,X.facets,X.channels,x,G,E);if(ee.data!==void 0&&(X.data=ee.data),ee.facets!==void 0&&(X.facets=ee.facets),ee.channels!==void 0){const{fx:ne,fy:de,...me}=ee.channels;Stt(me),Object.assign(X.channels,me);for(const ce of Object.values(me)){const{scale:be}=ce;be!=null&&!iQe(bn.get(be))&&(Mce(ce,e),F.add(be))}(ne!=null||de!=null)&&f.set(j,!0)}}if(F.size){const j=new Map;J1(j,y,e,ne=>F.has(ne)),J1(d,y,e,ne=>F.has(ne));const X=Ftt(W$(j,e),v),{scales:G,...ee}=EH(X);Object.assign(v,X),Object.assign(x,ee),Object.assign(x.scales,G)}let W,I;g!==void 0&&(W={x:_==null?void 0:_.domain(),y:A==null?void 0:A.domain()},g=WZe(g,W),I=HZe(_,A,b));for(const[j,X]of y)X.values=j.scale(X.channels,x,E);const{width:M,height:D}=b;It(O).attr("class",u).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",M).attr("height",D).attr("viewBox",`0 0 ${M} ${D}`).attr("aria-label",a).attr("aria-description",s).call(j=>j.append("style").text(`.${u} {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
.${u} text,
.${u} tspan {
  white-space: pre;
}`)).call(ZR,n);for(const j of l){const{channels:X,values:G,facets:ee}=y.get(j);if(g===void 0||j.facet==="super"){let ne=null;if(ee&&(ne=ee[0],ne=j.filter(ne,X,G),ne.length===0))continue;const de=j.render(ne,x,G,C,E);if(de==null)continue;O.appendChild(de)}else{let ne;for(const de of g){if(!(((H=j.facetAnchor)==null?void 0:H.call(j,g,W,de))??!de.empty))continue;let me=null;if(ee){const be=f.has(j);if(me=ee[be?de.i:0],me=j.filter(me,X,G),me.length===0)continue;!be&&me===ee[0]&&(me=qKe(me)),me.fx=de.x,me.fy=de.y,me.fi=de.i}const ce=j.render(me,x,G,S,E);if(ce!=null){(ne??(ne=It(O).append("g"))).append(()=>ce).datum(de);for(const be of["aria-label","aria-description","aria-hidden","transform"])ce.hasAttribute(be)&&(ne.attr(be,ce.getAttribute(be)),ce.removeAttribute(be))}}ne==null||ne.selectChildren().attr("transform",I)}}const P=stt(v,E,e),{figure:U=r!=null||i!=null||o!=null||P.length>0}=e;U&&(N=k.createElement("figure"),N.className=`${u}-figure`,N.style.maxWidth="initial",r!=null&&N.append(jH(k,r,"h2")),i!=null&&N.append(jH(k,i,"h3")),N.append(...P,O),o!=null&&N.append(xtt(k,o))),N.scale=IZe(x.scales),N.legend=itt(v,E,e);const z=DQe();return z>0&&It(O).append("text").attr("x",M).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${z.toLocaleString("en-US")} warning${z===1?"":"s"}. Please check the console.`),N}function jH(e,t,n){if(t.ownerDocument)return t;const r=e.createElement(n);return r.append(t),r}function xtt(e,t){const n=e.createElement("figcaption");return n.append(t),n}function wtt({marks:e=[],...t}={}){return Tce({...t,marks:[...e,this]})}mu.prototype.plot=wtt;function WH(e){return e.flat(1/0).filter(t=>t!=null).map(Att)}function Att(e){return typeof e.render=="function"?e:new _tt(e)}class _tt extends mu{constructor(t){if(typeof t!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function dF(e,t){for(const n in e)Mce(e[n],t);return e}function Mce(e,t){const{scale:n,transform:r=!0}=e;if(n==null||!r)return;const{type:i,percent:o,interval:a,transform:s=o?u=>u*100:GKe(a,i)}=t[n]??{};s!=null&&(e.value=vi(e.value,s),e.transform=!1)}function Stt(e){for(const t in e)dle(t,e[t])}function J1(e,t,n,r=BKe){var i,o;for(const{channels:a}of t.values())for(const s in a){const u=a[s],{scale:l}=u;if(l!=null&&r(l))if(l==="projection"){if(!YQe(n)){const c=((i=n.x)==null?void 0:i.domain)===void 0,f=((o=n.y)==null?void 0:o.domain)===void 0;if(c||f){const[d,p]=XQe(u);c&&m8(e,"x",d),f&&m8(e,"y",p)}}}else m8(e,l,u)}return e}function m8(e,t,n){const r=e.get(t);r!==void 0?r.push(n):e.set(t,[n])}function Ett(e,t){if(e==null)return;const{x:n,y:r}=e;if(n==null&&r==null)return;const i=Eo(e.data);if(i==null)throw new Error("missing facet data");const o={};n!=null&&(o.fx=l2(i,{value:n,scale:"fx"})),r!=null&&(o.fy=l2(i,{value:r,scale:"fy"})),dF(o,t);const a=oF(i,o);return{channels:o,groups:a,data:e.data}}function HH(e,t,n){var u;if(e.facet===null||e.facet==="super")return;const{fx:r,fy:i}=e;if(r!=null||i!=null){const l=Eo(e.data??r??i);if(l===void 0)throw new Error(`missing facet data in ${e.ariaLabel}`);if(l===null)return;const c={};return r!=null&&(c.fx=l2(l,{value:r,scale:"fx"})),i!=null&&(c.fy=l2(l,{value:i,scale:"fy"})),dF(c,n),{channels:c,groups:oF(l,c)}}if(t===void 0)return;const{channels:o,groups:a,data:s}=t;if(e.facet!=="auto"||e.data===s)return{channels:o,groups:a};s.length>0&&(a.size>1||a.size===1&&o.fx&&o.fy&&[...a][0][1].size>1)&&((u=Eo(e.data))==null?void 0:u.length)===s.length&&Pd(`Warning: the ${e.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function Ctt(e,t={}){return lg({...t,x:null,y:null},(n,r,i,o,a,s)=>s.getMarkState(e))}function $tt(e){const t=[];for(const n of e){let r=n.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i}=r;i=/^x$/i.test(i)?net:/^y$/i.test(i)?ret:Ple,r=i(Ctt(n,r)),r.title=null;const o=V$(n.data,r);o.facet=n.facet,o.facetAnchor=n.facetAnchor,t.push(o)}}return t}function ktt(e,t,n){let{projection:r,x:i={},y:o={},fx:a={},fy:s={},axis:u,grid:l,facet:c={},facet:{axis:f=u,grid:d}=c,x:{axis:p=u,grid:g=p===null?null:l}=i,y:{axis:y=u,grid:v=y===null?null:l}=o,fx:{axis:b=f,grid:x=b===null?null:d}=a,fy:{axis:_=f,grid:A=_===null?null:d}=s}=n;(r||!z$(i)&&!qH("x",e))&&(p=g=null),(r||!z$(o)&&!qH("y",e))&&(y=v=null),t.has("fx")||(b=x=null),t.has("fy")||(_=A=null),p===void 0&&(p=!Dx(e,"x")),y===void 0&&(y=!Dx(e,"y")),b===void 0&&(b=!Dx(e,"fx")),_===void 0&&(_=!Dx(e,"fy")),p===!0&&(p="bottom"),y===!0&&(y="left"),b===!0&&(b=p==="top"||p===null?"bottom":"top"),_===!0&&(_=y==="right"||y===null?"left":"right");const S=[];return Fx(S,A,Vet,s),Rx(S,_,Bet,"right","left",c,s),Fx(S,x,Jet,a),Rx(S,b,Uet,"top","bottom",c,a),Fx(S,v,Get,o),Rx(S,y,hce,"left","right",n,o),Fx(S,g,Yet,i),Rx(S,p,pce,"bottom","top",n,i),S}function Rx(e,t,n,r,i,o,a){if(!t)return;const s=Ttt(t);a=Mtt(s?r:t,o,a);const{line:u}=a;(n===hce||n===pce)&&u&&!u2(u)&&e.push(ftt(Ntt(a))),e.push(n(a)),s&&e.push(n({...a,anchor:i,label:null}))}function Fx(e,t,n,r){!t||u2(t)||e.push(n(Ott(t,r)))}function Ttt(e){return/^\s*both\s*$/i.test(e)}function Mtt(e,t,{line:n=t.line,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:s,tickRotate:u,fontVariant:l,ariaLabel:c,ariaDescription:f,label:d=t.label,labelAnchor:p,labelArrow:g=t.labelArrow,labelOffset:y}){return{anchor:e,line:n,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:s,tickRotate:u,fontVariant:l,ariaLabel:c,ariaDescription:f,label:d,labelAnchor:p,labelArrow:g,labelOffset:y}}function Ntt(e){const{anchor:t,line:n}=e;return{anchor:t,facetAnchor:t+"-empty",stroke:n===!0?void 0:n}}function Ott(e,{stroke:t=SS(e)?e:void 0,ticks:n=Rtt(e)?e:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:o}){return{stroke:t,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:o}}function Rtt(e){switch(typeof e){case"number":return!0;case"string":return!SS(e)}return B0(e)||typeof(e==null?void 0:e.range)=="function"}function Dx(e,t){const n=`${t}-axis `;return e.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(n)})}function qH(e,t){for(const n of t)for(const r in n.channels){const{scale:i}=n.channels[r];if(i===e||i==="projection")return!0}return!1}function Ftt(e,t){for(const n in e){const r=e[n],i=t[n];r.label===void 0&&i&&(r.label=i.label)}return e}function Dtt({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:s,height:u}=iF(n),l=e&&GH(e),c=t&&GH(t);return{marginTop:t?c[0]:r,marginRight:e?s-l[1]:i,marginBottom:t?u-c[1]:o,marginLeft:e?l[0]:a,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:s,height:u}}function GH(e){const t=e.domain();let n=e(t[0]),r=e(t[t.length-1]);return r<n&&([n,r]=[r,n]),[n,r+e.bandwidth()]}const Ltt={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function Ptt(e){return e.sort===void 0&&e.reverse===void 0?dQe({channel:"-r"},e):e}class Itt extends mu{constructor(t,n={}){const{x:r,y:i,r:o,rotate:a,symbol:s=Dp,frameAnchor:u}=n,[l,c]=ii(a,0),[f,d]=cQe(s),[p,g]=ii(o,f==null?3:4.5);super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},r:{value:p,scale:"r",filter:bS,optional:!0},rotate:{value:l,optional:!0},symbol:{value:f,scale:"auto",optional:!0}},Ptt(n),Ltt),this.r=g,this.rotate=c,this.symbol=d,this.frameAnchor=ES(u);const{channels:y}=this,{symbol:v}=y;if(v){const{fill:b,stroke:x}=y;v.hint={fill:b?b.value===v.value?"color":"currentColor":this.fill??"currentColor",stroke:x?x.value===v.value?"color":"currentColor":this.stroke??"none"}}}render(t,n,r,i,o){const{x:a,y:s}=n,{x:u,y:l,r:c,rotate:f,symbol:d}=r,{r:p,rotate:g,symbol:y}=this,[v,b]=Cv(this,i),x=y===Dp,_=c?void 0:p*p*Math.PI;return jR(p)&&(t=[]),Xi("svg:g",o).call(U0,this,i,o).call(W0,this,{x:u&&a,y:l&&s}).call(A=>A.selectAll().data(t).enter().append(x?"circle":"path").call(j0,this).call(x?S=>{S.attr("cx",u?C=>u[C]:v).attr("cy",l?C=>l[C]:b).attr("r",c?C=>c[C]:p)}:S=>{S.attr("transform",sF`translate(${u?C=>u[C]:v},${l?C=>l[C]:b})${f?C=>` rotate(${f[C]})`:g?` rotate(${g})`:""}`).attr("d",c&&d?C=>{const E=yd();return d[C].draw(E,c[C]*c[C]*Math.PI),E}:c?C=>{const E=yd();return y.draw(E,c[C]*c[C]*Math.PI),E}:d?C=>{const E=yd();return d[C].draw(E,_),E}:(()=>{const C=yd();return y.draw(C,_),C})())}).call(qg,this,r)).node()}}function ztt(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=qR(t,n)),new Itt(e,{...r,x:t,y:n})}function Btt({selectedProfId:e,setSelectedProfId:t}){const n=J.useRef(),[r,i]=J.useState("1"),o=[{name:"All years",value:"1"},{name:"5 years",value:"2"}],a=J.useMemo(()=>wy.map(u=>{const{finalRank:l,head:c}=dwe(u.rank);return{name:u.name,gs_id:u.gs_id,hindex:r=="1"?u.hindex:u.hindex5y,i10index:r=="1"?u.i10index:u.i10index5y,rank:l,head:c}}),[r]),s=J.useMemo(()=>a.filter(u=>u.gs_id==e),[e,a]);return J.useEffect(()=>{const u=Tce({color:{type:"categorical",domain:["Chair Professor","Professor","Associate Professor","Assistant Professor"],range:["#0057e7","#d62d20","#ffa700","#008744"],legend:!0},symbol:{type:"categorical",domain:["Head","Associate Head","Non-head"],range:["triangle2","times","circle"],legend:!0},x:{domain:[0,90]},y:{domain:[0,740],grid:!0},marks:[ztt(a,{x:"hindex",y:"i10index",stroke:"rank",symbol:"head"}),V$(a,Ple({x:"hindex",y:"i10index",title:l=>`${l.name} 

 i-index: ${l.i10index} 
 h-index: ${l.hindex}`,fontSize:14,filter:l=>l.gs_id!=e})),V$(s,{x:"hindex",y:"i10index",title:l=>`${l.name} 

 i-index: ${l.i10index} 
 h-index: ${l.hindex}`,fontSize:14,fontWeight:"bold",stroke:"blue",strokeWidth:2})]});return u.addEventListener("click",l=>{u.value&&t(u.value.gs_id)}),n.current.append(u),()=>u.remove()},[a,s]),V.jsxs("div",{children:[V.jsxs("div",{className:"d-flex flex-row justify-content-between",children:[V.jsx("h3",{children:"i10-index vs h-index in "}),V.jsx(Lve,{children:o.map((u,l)=>V.jsx(cwe,{id:`radio-${l}`,type:"radio",variant:"outline-primary",name:"radio",value:u.value,checked:r===u.value,onChange:c=>i(c.currentTarget.value),children:u.name},l))})]}),V.jsx("div",{ref:n})]})}const _d=[{scholar_id:"Azu2w_MAAAAJ",name:"Sunil Arya"},{scholar_id:"aQblKVwAAAAJ",name:"Brahim Bensaou"},{scholar_id:"uiCSOycAAAAJ",name:"S.-H. Gary Chan"},{scholar_id:"Z_t5DjwAAAAJ",name:"Hao Chen"},{scholar_id:"tnRV5QYAAAAJ",name:"Kai Chen"},{scholar_id:"gtglwgYAAAAJ",name:"Lei Chen"},{scholar_id:"-gtmMpIAAAAJ",name:"Long Chen"},{scholar_id:"lLMX9hcAAAAJ",name:"Qifeng Chen"},{scholar_id:"_LkC1yoAAAAJ",name:"Minhao Cheng"},{scholar_id:"0nquEkQAAAAJ",name:"Siu-Wing Cheng"},{scholar_id:"5RIgb3wAAAAJ",name:"Shing-Chi Cheung"},{scholar_id:"MVf7Lq0AAAAJ",name:"Albert C. S. Chung"},{scholar_id:"H9zO5eYAAAAJ",name:"Cunsheng Ding"},{scholar_id:"4o8gvAYAAAAJ",name:"Amir Goharshady"},{scholar_id:"YooPxQwAAAAJ",name:"Mordecai Golin"},{scholar_id:"Ib-sizwAAAAJ",name:"Song Guo"},{scholar_id:"-0q6cIYAAAAJ",name:"Yike  Guo"},{scholar_id:"BIFGeoUAAAAJ",name:"Junxian He"},{scholar_id:"irCp0RIAAAAJ",name:"Andrew Horner"},{scholar_id:"JE_m2UgAAAAJ",name:"Sunghun Kim"},{scholar_id:"-oTraZ4AAAAJ",name:"James T. Kwok"},{scholar_id:"SLgWQLEAAAAJ",name:"Bo Li"},{scholar_id:"kjiwE6IAAAAJ",name:"Mo Li"},{scholar_id:"klFoxpYAAAAJ",name:"Fangzhen Lin"},{scholar_id:"SqAsppUAAAAJ",name:"Qiong Luo"},{scholar_id:"TN0zm80AAAAJ",name:"Xiaojuan Ma"},{scholar_id:"Zx8p8RsAAAAJ",name:"Brian Kan-wing Mak"},{scholar_id:"NJ6YPT4AAAAJ",name:"Wilfred Ng"},{scholar_id:"7BPMWSkAAAAJ",name:"Dimitris Papadias"},{scholar_id:"9Q8DH5sAAAAJ",name:"Dimitrios Papadopoulos"},{scholar_id:"jQqTdHwAAAAJ",name:"Lionel Parreaux"},{scholar_id:"J7a5zGEAAAAJ",name:"Huamin Qu"},{scholar_id:"ZMLhZJ8AAAAJ",name:"Long QUAN"},{scholar_id:"GIToYFwAAAAJ",name:"Pedro Sander"},{scholar_id:"CAd3jhcAAAAJ",name:"Dongdong She"},{scholar_id:"pyLCHy0AAAAJ",name:"Jiasi Shen"},{scholar_id:"MdQZ-q8AAAAJ",name:"Yangqiu Song"},{scholar_id:"DORzgBQAAAAJ",name:"Chiew-Lan Tai"},{scholar_id:"EWfpM74AAAAJ",name:"Chi Keung Tang"},{scholar_id:"POlWWAsAAAAJ",name:"Shuai Wang"},{scholar_id:"FeJrzPMAAAAJ",name:"Wei Wang"},{scholar_id:"IKgiD0AAAAAJ",name:"Raymond Chi-Wing Wong"},{scholar_id:"NMkg-64AAAAJ",name:"Dekai Wu"},{scholar_id:"OuSPv-AAAAAJ",name:"Dan Xu"},{scholar_id:"nEsOOx8AAAAJ",name:"Dit-Yan Yeung"},{scholar_id:"dWcZPFEAAAAJ",name:"Ke Yi"},{scholar_id:"TflKxcIAAAAJ",name:"Binhang Yuan"},{scholar_id:"Zmppp9kAAAAJ",name:"Charles Zhang"},{scholar_id:"18_xlPUAAAAJ",name:"Nevin L. Zhang"},{scholar_id:"XTlaQMkAAAAJ",name:"Qian Zhang"},{scholar_id:"y6m820wAAAAJ",name:"Xiaofang Zhou"}],Utt=[{id:"Azu2w_MAAAAJ",coauthor:{},coauthorLong:{}},{id:"aQblKVwAAAAJ",coauthor:{GBR:1,SGP:1,CHN:4,USA:1,FRA:1},coauthorLong:{UK:1,Singapore:1,China:4,USA:1,France:1}},{id:"uiCSOycAAAAJ",coauthor:{USA:19,CHN:32,CAN:2,DEU:1,TUR:1,SGP:2,CHE:2},coauthorLong:{USA:19,China:32,Canada:2,Germany:1,Turkey:1,Singapore:2,Switzerland:2}},{id:"Z_t5DjwAAAAJ",coauthor:{GBR:1,CHN:4},coauthorLong:{UK:1,China:4}},{id:"tnRV5QYAAAAJ",coauthor:{USA:11,KOR:1,CHN:8,CAN:1,AUS:1},coauthorLong:{USA:11,"South Korea":1,China:8,Canada:1,Australia:1}},{id:"gtglwgYAAAAJ",coauthor:{USA:9,CHN:24,CAN:2,AUS:4,JPN:1,FIN:1,TUR:1},coauthorLong:{USA:9,China:24,Canada:2,Australia:4,Japan:1,Finland:1,Turkey:1}},{id:"-gtmMpIAAAAJ",coauthor:{CHN:29,SGP:5,USA:15},coauthorLong:{China:29,Singapore:5,USA:15}},{id:"lLMX9hcAAAAJ",coauthor:{USA:9,AUS:1,CAN:1,CHN:29,KOR:1,FRA:2,GBR:1},coauthorLong:{USA:9,Australia:1,Canada:1,China:29,"South Korea":1,France:2,UK:1}},{id:"_LkC1yoAAAAJ",coauthor:{USA:4},coauthorLong:{USA:4}},{id:"0nquEkQAAAAJ",coauthor:{USA:7,KOR:3,CHN:2,CAN:1,NLD:1,DEU:1,BEL:1,ISR:1,SGP:1},coauthorLong:{USA:7,"South Korea":3,China:2,Canada:1,Netherlands:1,Germany:1,Belgium:1,Israel:1,Singapore:1}},{id:"5RIgb3wAAAAJ",coauthor:{CHN:27,GBR:5,ARE:1,CAN:1,DEU:1,AUS:1,NZL:1,USA:2,KOR:1},coauthorLong:{China:27,UK:5,"United Arab Emirates":1,Canada:1,Germany:1,Australia:1,"New Zealand":1,USA:2,"South Korea":1}},{id:"MVf7Lq0AAAAJ",coauthor:{CHN:2},coauthorLong:{China:2}},{id:"H9zO5eYAAAAJ",coauthor:{NOR:3,CHN:5,FRA:1,USA:6,SGP:2,JPN:1,GBR:1,CAN:1,DEU:1,FIN:2},coauthorLong:{Norway:3,China:5,France:1,USA:6,Singapore:2,Japan:1,UK:1,Canada:1,Germany:1,Finland:2}},{id:"4o8gvAYAAAAJ",coauthor:{AUT:4,CHN:9,DNK:1,GBR:1,IRN:3,AUS:1,DEU:2,USA:3},coauthorLong:{Austria:4,China:9,Denmark:1,UK:1,Iran:3,Australia:1,Germany:2,USA:3}},{id:"YooPxQwAAAAJ",coauthor:{JPN:2,ITA:1,USA:14,DEU:2,CAN:2,GBR:1,POL:1,BEL:2,ISR:3,CHN:5,KOR:2,AUS:1,CHE:1},coauthorLong:{Japan:2,Italy:1,USA:14,Germany:2,Canada:2,UK:1,Poland:1,Belgium:2,Israel:3,China:5,"South Korea":2,Australia:1,Switzerland:1}},{id:"Ib-sizwAAAAJ",coauthor:{CHN:5,JPN:1,AUS:3,CAN:1},coauthorLong:{China:5,Japan:1,Australia:3,Canada:1}},{id:"-0q6cIYAAAAJ",coauthor:{CHN:2,GBR:2},coauthorLong:{China:2,UK:2}},{id:"BIFGeoUAAAAJ",coauthor:{USA:7},coauthorLong:{USA:7}},{id:"irCp0RIAAAAJ",coauthor:{},coauthorLong:{}},{id:"JE_m2UgAAAAJ",coauthor:{USA:14,CHN:8,KOR:6,CAN:2,GBR:1,SGP:1,AUT:1,CHE:1},coauthorLong:{USA:14,China:8,"South Korea":6,Canada:2,UK:1,Singapore:1,Austria:1,Switzerland:1}},{id:"-oTraZ4AAAAJ",coauthor:{},coauthorLong:{}},{id:"SLgWQLEAAAAJ",coauthor:{CAN:3,CHN:19,USA:6,ITA:1},coauthorLong:{Canada:3,China:19,USA:6,Italy:1}},{id:"kjiwE6IAAAAJ",coauthor:{CHN:8,USA:7,SGP:1},coauthorLong:{China:8,USA:7,Singapore:1}},{id:"klFoxpYAAAAJ",coauthor:{},coauthorLong:{}},{id:"SqAsppUAAAAJ",coauthor:{SGP:1,CHN:18,USA:18,KOR:1,CYP:1,NLD:1},coauthorLong:{Singapore:1,China:18,USA:18,"South Korea":1,Cyprus:1,Netherlands:1}},{id:"TN0zm80AAAAJ",coauthor:{},coauthorLong:{}},{id:"Zx8p8RsAAAAJ",coauthor:{},coauthorLong:{}},{id:"NJ6YPT4AAAAJ",coauthor:{},coauthorLong:{}},{id:"7BPMWSkAAAAJ",coauthor:{GRC:4,SGP:5,DEU:2,USA:13,CAN:2,ITA:1,CHN:6,GBR:1,DNK:1,AUT:1},coauthorLong:{Greece:4,Singapore:5,Germany:2,USA:13,Canada:2,Italy:1,China:6,UK:1,Denmark:1,Austria:1}},{id:"9Q8DH5sAAAAJ",coauthor:{USA:23,GRC:5,IRN:1,CHN:10,EGY:1,IRL:1,GBR:1,FIN:1,DEU:2,CHE:1,DNK:1,IND:2},coauthorLong:{USA:23,Greece:5,Iran:1,China:10,Egypt:1,Ireland:1,UK:1,Finland:1,Germany:2,Switzerland:1,Denmark:1,India:2}},{id:"jQqTdHwAAAAJ",coauthor:{},coauthorLong:{}},{id:"J7a5zGEAAAAJ",coauthor:{CHN:10,SGP:1,USA:5},coauthorLong:{China:10,Singapore:1,USA:5}},{id:"ZMLhZJ8AAAAJ",coauthor:{},coauthorLong:{}},{id:"GIToYFwAAAAJ",coauthor:{BRA:1,USA:1},coauthorLong:{Brazil:1,USA:1}},{id:"CAd3jhcAAAAJ",coauthor:{USA:8,NLD:1},coauthorLong:{USA:8,Netherlands:1}},{id:"pyLCHy0AAAAJ",coauthor:{},coauthorLong:{}},{id:"MdQZ-q8AAAAJ",coauthor:{CHN:67,USA:49,GBR:1,SGP:4,CHE:1,AUS:2,KOR:1,CAN:1},coauthorLong:{China:67,USA:49,UK:1,Singapore:4,Switzerland:1,Australia:2,"South Korea":1,Canada:1}},{id:"DORzgBQAAAAJ",coauthor:{ISR:1,CHN:9,CHE:1,USA:1},coauthorLong:{Israel:1,China:9,Switzerland:1,USA:1}},{id:"EWfpM74AAAAJ",coauthor:{},coauthorLong:{}},{id:"POlWWAsAAAAJ",coauthor:{USA:10,CHN:2},coauthorLong:{USA:10,China:2}},{id:"FeJrzPMAAAAJ",coauthor:{CAN:4,USA:1,CHN:7},coauthorLong:{Canada:4,USA:1,China:7}},{id:"IKgiD0AAAAAJ",coauthor:{},coauthorLong:{}},{id:"NMkg-64AAAAJ",coauthor:{},coauthorLong:{}},{id:"OuSPv-AAAAAJ",coauthor:{ITA:2,FRA:1,GBR:4,USA:1,CHE:1,CHN:1},coauthorLong:{Italy:2,France:1,UK:4,USA:1,Switzerland:1,China:1}},{id:"nEsOOx8AAAAJ",coauthor:{CHN:11,USA:5},coauthorLong:{China:11,USA:5}},{id:"dWcZPFEAAAAJ",coauthor:{GBR:2,USA:28,DNK:2,CHN:13,CAN:1,SGP:2,NLD:1,GRC:2,IND:1},coauthorLong:{UK:2,USA:28,Denmark:2,China:13,Canada:1,Singapore:2,Netherlands:1,Greece:2,India:1}},{id:"TflKxcIAAAAJ",coauthor:{USA:4},coauthorLong:{USA:4}},{id:"Zmppp9kAAAAJ",coauthor:{},coauthorLong:{}},{id:"18_xlPUAAAAJ",coauthor:{},coauthorLong:{}},{id:"XTlaQMkAAAAJ",coauthor:{CHN:79,USA:31,CAN:7,NOR:1,SGP:1,AUS:2,GBR:2,NLD:1,GRC:1,ITA:3,BRA:1},coauthorLong:{China:79,USA:31,Canada:7,Norway:1,Singapore:1,Australia:2,UK:2,Netherlands:1,Greece:1,Italy:3,Brazil:1}},{id:"y6m820wAAAAJ",coauthor:{CHN:13,AUS:13,DNK:1,POL:1,NZL:1,USA:2,GBR:1,IRN:1,SGP:2},coauthorLong:{China:13,Australia:13,Denmark:1,Poland:1,"New Zealand":1,USA:2,UK:1,Iran:1,Singapore:2}}],Gl={data:Utt};function Y$(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var jtt=typeof global=="object"&&global&&global.Object===Object&&global;const Wtt=jtt;var Htt=typeof self=="object"&&self&&self.Object===Object&&self,qtt=Wtt||Htt||Function("return this")();const Nce=qtt;var Gtt=function(){return Nce.Date.now()};const y8=Gtt;var Vtt=/\s/;function Ytt(e){for(var t=e.length;t--&&Vtt.test(e.charAt(t)););return t}var Jtt=/^\s+/;function Xtt(e){return e&&e.slice(0,Ytt(e)+1).replace(Jtt,"")}var Ktt=Nce.Symbol;const I_=Ktt;var Oce=Object.prototype,Qtt=Oce.hasOwnProperty,Ztt=Oce.toString,X1=I_?I_.toStringTag:void 0;function ent(e){var t=Qtt.call(e,X1),n=e[X1];try{e[X1]=void 0;var r=!0}catch{}var i=Ztt.call(e);return r&&(t?e[X1]=n:delete e[X1]),i}var tnt=Object.prototype,nnt=tnt.toString;function rnt(e){return nnt.call(e)}var int="[object Null]",ont="[object Undefined]",VH=I_?I_.toStringTag:void 0;function ant(e){return e==null?e===void 0?ont:int:VH&&VH in Object(e)?ent(e):rnt(e)}function snt(e){return e!=null&&typeof e=="object"}var unt="[object Symbol]";function lnt(e){return typeof e=="symbol"||snt(e)&&ant(e)==unt}var YH=0/0,cnt=/^[-+]0x[0-9a-f]+$/i,fnt=/^0b[01]+$/i,dnt=/^0o[0-7]+$/i,hnt=parseInt;function JH(e){if(typeof e=="number")return e;if(lnt(e))return YH;if(Y$(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Y$(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Xtt(e);var n=fnt.test(e);return n||dnt.test(e)?hnt(e.slice(2),n?2:8):cnt.test(e)?YH:+e}var pnt="Expected a function",gnt=Math.max,mnt=Math.min;function ynt(e,t,n){var r,i,o,a,s,u,l=0,c=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(pnt);t=JH(t)||0,Y$(n)&&(c=!!n.leading,f="maxWait"in n,o=f?gnt(JH(n.maxWait)||0,t):o,d="trailing"in n?!!n.trailing:d);function p(C){var E=r,k=i;return r=i=void 0,l=C,a=e.apply(k,E),a}function g(C){return l=C,s=setTimeout(b,t),c?p(C):a}function y(C){var E=C-u,k=C-l,O=t-E;return f?mnt(O,o-k):O}function v(C){var E=C-u,k=C-l;return u===void 0||E>=t||E<0||f&&k>=o}function b(){var C=y8();if(v(C))return x(C);s=setTimeout(b,y(C))}function x(C){return s=void 0,d&&r?p(C):(r=i=void 0,a)}function _(){s!==void 0&&clearTimeout(s),l=0,r=u=i=s=void 0}function A(){return s===void 0?a:x(y8())}function S(){var C=y8(),E=v(C);if(r=arguments,i=this,u=C,E){if(s===void 0)return g(u);if(f)return clearTimeout(s),s=setTimeout(b,t),p(u)}return s===void 0&&(s=setTimeout(b,t)),a}return S.cancel=_,S.flush=A,S}function vnt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function bnt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Cnt(r.key),r)}}function xnt(e,t,n){return t&&XH(e.prototype,t),n&&XH(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wnt(e,t){return Ant(e)||vnt(e,t)||_nt(e,t)||Snt()}function Ant(e){if(Array.isArray(e))return e}function _nt(e,t){if(e){if(typeof e=="string")return KH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KH(e,t)}}function KH(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Snt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ent(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cnt(e){var t=Ent(e,"string");return typeof t=="symbol"?t:String(t)}var $nt=xnt(function e(t,n){var r=n.default,i=r===void 0?null:r,o=n.triggerUpdate,a=o===void 0?!0:o,s=n.onChange,u=s===void 0?function(l,c){}:s;bnt(this,e),this.name=t,this.defaultVal=i,this.triggerUpdate=a,this.onChange=u});function ms(e){var t=e.stateInit,n=t===void 0?function(){return{}}:t,r=e.props,i=r===void 0?{}:r,o=e.methods,a=o===void 0?{}:o,s=e.aliases,u=s===void 0?{}:s,l=e.init,c=l===void 0?function(){}:l,f=e.update,d=f===void 0?function(){}:f,p=Object.keys(i).map(function(g){return new $nt(g,i[g])});return function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=Object.assign({},n instanceof Function?n(g):n,{initialised:!1}),v={};function b(A){return x(A,g),_(),b}var x=function(S,C){c.call(b,S,y,C),y.initialised=!0},_=ynt(function(){y.initialised&&(d.call(b,y,v),v={})},1);return p.forEach(function(A){b[A.name]=S(A);function S(C){var E=C.name,k=C.triggerUpdate,O=k===void 0?!1:k,N=C.onChange,F=N===void 0?function(M,D){}:N,W=C.defaultVal,I=W===void 0?null:W;return function(M){var D=y[E];if(!arguments.length)return D;var P=M===void 0?I:M;return y[E]=P,F.call(b,P,y,D),!v.hasOwnProperty(E)&&(v[E]=D),O&&_(),b}}}),Object.keys(a).forEach(function(A){b[A]=function(){for(var S,C=arguments.length,E=new Array(C),k=0;k<C;k++)E[k]=arguments[k];return(S=a[A]).call.apply(S,[b,y].concat(E))}}),Object.entries(u).forEach(function(A){var S=wnt(A,2),C=S[0],E=S[1];return b[C]=b[E]}),b.resetProps=function(){return p.forEach(function(A){b[A.name](A.defaultVal)}),b},b.resetProps(),y._rerender=_,b}}function z_(e){"@babel/helpers - typeof";return z_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z_(e)}var knt=/^\s+/,Tnt=/\s+$/;function De(e,t){if(e=e||"",t=t||{},e instanceof De)return e;if(!(this instanceof De))return new De(e,t);var n=Mnt(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}De.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),n,r,i,o,a,s;return n=t.r/255,r=t.g/255,i=t.b/255,n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),r<=.03928?a=r/12.92:a=Math.pow((r+.055)/1.055,2.4),i<=.03928?s=i/12.92:s=Math.pow((i+.055)/1.055,2.4),.2126*o+.7152*a+.0722*s},setAlpha:function(t){return this._a=Rce(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=ZH(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=ZH(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=QH(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=QH(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return eq(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return Fnt(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(rn(this._r,255)*100)+"%",g:Math.round(rn(this._g,255)*100)+"%",b:Math.round(rn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(rn(this._r,255)*100)+"%, "+Math.round(rn(this._g,255)*100)+"%, "+Math.round(rn(this._b,255)*100)+"%)":"rgba("+Math.round(rn(this._r,255)*100)+"%, "+Math.round(rn(this._g,255)*100)+"%, "+Math.round(rn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Gnt[eq(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var n="#"+tq(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(t){var o=De(t);r="#"+tq(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(t){var n=!!t;t=t||this._format;var r=!1,i=this._a<1&&this._a>=0,o=!n&&i&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return o?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return De(this.toString())},_applyModification:function(t,n){var r=t.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(Int,arguments)},brighten:function(){return this._applyModification(znt,arguments)},darken:function(){return this._applyModification(Bnt,arguments)},desaturate:function(){return this._applyModification(Dnt,arguments)},saturate:function(){return this._applyModification(Lnt,arguments)},greyscale:function(){return this._applyModification(Pnt,arguments)},spin:function(){return this._applyModification(Unt,arguments)},_applyCombination:function(t,n){return t.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(Hnt,arguments)},complement:function(){return this._applyCombination(jnt,arguments)},monochromatic:function(){return this._applyCombination(qnt,arguments)},splitcomplement:function(){return this._applyCombination(Wnt,arguments)},triad:function(){return this._applyCombination(nq,[3])},tetrad:function(){return this._applyCombination(nq,[4])}};De.fromRatio=function(e,t){if(z_(e)=="object"){var n={};for(var r in e)e.hasOwnProperty(r)&&(r==="a"?n[r]=e[r]:n[r]=$m(e[r]));e=n}return De(e,t)};function Mnt(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,s=!1;return typeof e=="string"&&(e=Xnt(e)),z_(e)=="object"&&(Du(e.r)&&Du(e.g)&&Du(e.b)?(t=Nnt(e.r,e.g,e.b),a=!0,s=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Du(e.h)&&Du(e.s)&&Du(e.v)?(r=$m(e.s),i=$m(e.v),t=Rnt(e.h,r,i),a=!0,s="hsv"):Du(e.h)&&Du(e.s)&&Du(e.l)&&(r=$m(e.s),o=$m(e.l),t=Ont(e.h,r,o),a=!0,s="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=Rce(n),{ok:a,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}function Nnt(e,t,n){return{r:rn(e,255)*255,g:rn(t,255)*255,b:rn(n,255)*255}}function QH(e,t,n){e=rn(e,255),t=rn(t,255),n=rn(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o,a,s=(r+i)/2;if(r==i)o=a=0;else{var u=r-i;switch(a=s>.5?u/(2-r-i):u/(r+i),r){case e:o=(t-n)/u+(t<n?6:0);break;case t:o=(n-e)/u+2;break;case n:o=(e-t)/u+4;break}o/=6}return{h:o,s:a,l:s}}function Ont(e,t,n){var r,i,o;e=rn(e,360),t=rn(t,100),n=rn(n,100);function a(l,c,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?l+(c-l)*6*f:f<1/2?c:f<2/3?l+(c-l)*(2/3-f)*6:l}if(t===0)r=i=o=n;else{var s=n<.5?n*(1+t):n+t-n*t,u=2*n-s;r=a(u,s,e+1/3),i=a(u,s,e),o=a(u,s,e-1/3)}return{r:r*255,g:i*255,b:o*255}}function ZH(e,t,n){e=rn(e,255),t=rn(t,255),n=rn(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o,a,s=r,u=r-i;if(a=r===0?0:u/r,r==i)o=0;else{switch(r){case e:o=(t-n)/u+(t<n?6:0);break;case t:o=(n-e)/u+2;break;case n:o=(e-t)/u+4;break}o/=6}return{h:o,s:a,v:s}}function Rnt(e,t,n){e=rn(e,360)*6,t=rn(t,100),n=rn(n,100);var r=Math.floor(e),i=e-r,o=n*(1-t),a=n*(1-i*t),s=n*(1-(1-i)*t),u=r%6,l=[n,a,o,o,s,n][u],c=[s,n,n,a,o,o][u],f=[o,o,s,n,n,a][u];return{r:l*255,g:c*255,b:f*255}}function eq(e,t,n,r){var i=[Ga(Math.round(e).toString(16)),Ga(Math.round(t).toString(16)),Ga(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function Fnt(e,t,n,r,i){var o=[Ga(Math.round(e).toString(16)),Ga(Math.round(t).toString(16)),Ga(Math.round(n).toString(16)),Ga(Fce(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function tq(e,t,n,r){var i=[Ga(Fce(r)),Ga(Math.round(e).toString(16)),Ga(Math.round(t).toString(16)),Ga(Math.round(n).toString(16))];return i.join("")}De.equals=function(e,t){return!e||!t?!1:De(e).toRgbString()==De(t).toRgbString()};De.random=function(){return De.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function Dnt(e,t){t=t===0?0:t||10;var n=De(e).toHsl();return n.s-=t/100,n.s=NS(n.s),De(n)}function Lnt(e,t){t=t===0?0:t||10;var n=De(e).toHsl();return n.s+=t/100,n.s=NS(n.s),De(n)}function Pnt(e){return De(e).desaturate(100)}function Int(e,t){t=t===0?0:t||10;var n=De(e).toHsl();return n.l+=t/100,n.l=NS(n.l),De(n)}function znt(e,t){t=t===0?0:t||10;var n=De(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),De(n)}function Bnt(e,t){t=t===0?0:t||10;var n=De(e).toHsl();return n.l-=t/100,n.l=NS(n.l),De(n)}function Unt(e,t){var n=De(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,De(n)}function jnt(e){var t=De(e).toHsl();return t.h=(t.h+180)%360,De(t)}function nq(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=De(e).toHsl(),r=[De(e)],i=360/t,o=1;o<t;o++)r.push(De({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function Wnt(e){var t=De(e).toHsl(),n=t.h;return[De(e),De({h:(n+72)%360,s:t.s,l:t.l}),De({h:(n+216)%360,s:t.s,l:t.l})]}function Hnt(e,t,n){t=t||6,n=n||30;var r=De(e).toHsl(),i=360/n,o=[De(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(De(r));return o}function qnt(e,t){t=t||6;for(var n=De(e).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/t;t--;)a.push(De({h:r,s:i,v:o})),o=(o+s)%1;return a}De.mix=function(e,t,n){n=n===0?0:n||50;var r=De(e).toRgb(),i=De(t).toRgb(),o=n/100,a={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return De(a)};De.readability=function(e,t){var n=De(e),r=De(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};De.isReadable=function(e,t,n){var r=De.readability(e,t),i,o;switch(o=!1,i=Knt(n),i.level+i.size){case"AAsmall":case"AAAlarge":o=r>=4.5;break;case"AAlarge":o=r>=3;break;case"AAAsmall":o=r>=7;break}return o};De.mostReadable=function(e,t,n){var r=null,i=0,o,a,s,u;n=n||{},a=n.includeFallbackColors,s=n.level,u=n.size;for(var l=0;l<t.length;l++)o=De.readability(e,t[l]),o>i&&(i=o,r=De(t[l]));return De.isReadable(e,r,{level:s,size:u})||!a?r:(n.includeFallbackColors=!1,De.mostReadable(e,["#fff","#000"],n))};var J$=De.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Gnt=De.hexNames=Vnt(J$);function Vnt(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Rce(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function rn(e,t){Ynt(e)&&(e="100%");var n=Jnt(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function NS(e){return Math.min(1,Math.max(0,e))}function ro(e){return parseInt(e,16)}function Ynt(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function Jnt(e){return typeof e=="string"&&e.indexOf("%")!=-1}function Ga(e){return e.length==1?"0"+e:""+e}function $m(e){return e<=1&&(e=e*100+"%"),e}function Fce(e){return Math.round(parseFloat(e)*255).toString(16)}function rq(e){return ro(e)/255}var Ma=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Du(e){return!!Ma.CSS_UNIT.exec(e)}function Xnt(e){e=e.replace(knt,"").replace(Tnt,"").toLowerCase();var t=!1;if(J$[e])e=J$[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Ma.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=Ma.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Ma.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=Ma.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Ma.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=Ma.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Ma.hex8.exec(e))?{r:ro(n[1]),g:ro(n[2]),b:ro(n[3]),a:rq(n[4]),format:t?"name":"hex8"}:(n=Ma.hex6.exec(e))?{r:ro(n[1]),g:ro(n[2]),b:ro(n[3]),format:t?"name":"hex"}:(n=Ma.hex4.exec(e))?{r:ro(n[1]+""+n[1]),g:ro(n[2]+""+n[2]),b:ro(n[3]+""+n[3]),a:rq(n[4]+""+n[4]),format:t?"name":"hex8"}:(n=Ma.hex3.exec(e))?{r:ro(n[1]+""+n[1]),g:ro(n[2]+""+n[2]),b:ro(n[3]+""+n[3]),format:t?"name":"hex"}:!1}function Knt(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:t,size:n}}function Qnt(e){return Znt(e)||ert(e)||trt(e)||nrt()}function Znt(e){if(Array.isArray(e))return X$(e)}function ert(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function trt(e,t){if(e){if(typeof e=="string")return X$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X$(e,t)}}function X$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nrt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _w=ms({props:{bbox:{default:{width:null,height:null}},passes:{default:3}},init:function(t,n){n.el=t},update:function(t){Qnt(Array(t.passes).keys()).some(function(){var n=parseInt(t.el.style["font-size"].split("px")[0])||20,r=t.el.getBBox(),i=Math.floor(n*Math.min(t.bbox.width/r.width,t.bbox.height/r.height));if(i===n)return!0;t.el.style["font-size"]=i+"px"})}});ms({props:{maxWidth:{default:1/0}},init:function(t,n){n.el=t},update:function(t){for(var n=t.el.textContent,r=Math.round(n.length*t.maxWidth/t.el.getBBox().width*1.2);--r&&t.maxWidth/t.el.getBBox().width<1;)t.el.textContent=i(n,r);function i(o,a){return o.length<=a?o:o.substring(0,a*2/3)+"..."+o.substring(o.length-a/3,o.length)}}});ms({init:function(t){t.parentNode.appendChild(t)}});var rrt=ms({props:{id:{},colorScale:{default:Hc().range(["black","white"])},angle:{default:0}},init:function(t,n){n.id="areaGradient".concat(Math.round(Math.random()*1e4)),n.gradient=It(t).append("linearGradient")},update:function(t){var n=Math.PI*t.angle/180;t.gradient.attr("y1",Math.round(100*Math.max(0,Math.sin(n)))+"%").attr("y2",Math.round(100*Math.max(0,-Math.sin(n)))+"%").attr("x1",Math.round(100*Math.max(0,-Math.cos(n)))+"%").attr("x2",Math.round(100*Math.max(0,Math.cos(n)))+"%").attr("id",t.id);var r=Hc().domain([0,100]).range(t.colorScale.domain()),i=t.gradient.selectAll("stop").data(Pn(0,100.01,20));i.exit().remove(),i.merge(i.enter().append("stop")).attr("offset",function(o){return"".concat(o,"%")}).attr("stop-color",function(o){return t.colorScale(r(o))})}});ms({props:{id:{default:"areaGradient".concat(Math.round(Math.random()*1e4))}},init:function(t,n){n.filter=It(t).append("defs").append("filter").attr("height","130%"),n.filter.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation",3),n.filter.append("feOffset").attr("dx",2).attr("dy",2).attr("result","offsetblur");var r=n.filter.append("feMerge");r.append("feMergeNode"),r.append("feMergeNode").attr("in","SourceGraphic")},update:function(t){t.filter.attr("id",t.id)}});ms({props:{x:{default:0},y:{default:0},r:{default:8},color:{default:"darkblue"},duration:{default:.7},angleFull:{default:120}},init:function(t,n){t=It(t),n.path=t.append("path"),n.transform=n.path.append("animateTransform").attr("attributeName","transform").attr("attributeType","XML").attr("type","rotate").attr("begin","0s").attr("fill","freeze").attr("repeatCount","indefinite")},update:function(t){t.path.attr("d",n(t.x,t.y,t.r,t.r/3,0,t.angleFull)).attr("fill",t.color),t.transform.attr("from","0 "+t.x+" "+t.y).attr("to","360 "+t.x+" "+t.y).attr("dur",t.duration+"s");function n(r,i,o,a,s,u){s=s/180*Math.PI,u=u/180*Math.PI;var l=o,c=o-a,f=[[r+l*Math.cos(s),i+l*Math.sin(s)],[r+l*Math.cos(u),i+l*Math.sin(u)],[r+c*Math.cos(u),i+c*Math.sin(u)],[r+c*Math.cos(s),i+c*Math.sin(s)]],d=u-s,p=d%(Math.PI*2)>Math.PI?1:0,g=[];return g.push("M"+f[0].join()),g.push("A"+[l,l,0,p,1,f[1]].join()),g.push("L"+f[2].join()),g.push("A"+[c,c,0,p,0,f[3]].join()),g.push("z"),g.join(" ")}}});ms({props:{imgUrl:{},x:{default:0},y:{default:0},maxWidth:{default:20},maxHeight:{default:20},svgAlign:{default:"xMidYMid"}},methods:{show:function(t){return t.img.attr("width",t.maxWidth).attr("height",t.maxHeight),this},hide:function(t){return t.img.attr("width",0).attr("height",0),this}},init:function(t,n){n.img=It(t).append("image")},update:function(t){t.img.attr("xlink:href",t.imgUrl).attr("x",t.x).attr("y",t.y).attr("width",t.maxW).attr("height",t.maxH).attr("preserveAspectRatio",t.svgAlign+" meet")}});ms({props:{selection:{default:{x:[null,null],y:[null,null]}},xDomain:{onChange:function(t,n){n.xScale.domain(t)}},yDomain:{onChange:function(t,n){n.yScale.domain(t)}},transitionDuration:700},stateInit:{xScale:Hc(),yScale:Hc()},init:function(t,n,r){var i=r.width,o=r.height,a=r.margin,s=a===void 0?{top:2,right:2,bottom:2,left:2}:a;n.xScale.range([s.left,i-n.margin.right]),n.yScale.range([s.top,o-n.margin.bottom]),n.svg=It(t).append("svg").attr("width",i).attr("height",o),n.outerBox=n.svg.append("rect").attr("x",n.xScale.range()[0]).attr("y",n.yScale.range()[0]).attr("rx",2).attr("ry",2).attr("width",n.xScale.range()[1]).attr("height",n.yScale.range()[1]).style("fill","#EEE").style("stroke","grey"),n.selectionBox=n.svg.append("rect").attr("rx",1).attr("ry",1).attr("width",0).attr("height",0).style("stroke","blue").style("stroke-opacity",.6).style("fill","blue").style("fill-opacity",.3)},update:function(t){t.outerBox.attr("x",t.xScale.range()[0]).attr("y",t.yScale.range()[0]).attr("width",t.xScale.range()[1]).attr("height",t.yScale.range()[1]),t.selectionBox.attr("x",t.xScale(t.selection.x[0])).attr("y",t.yScale(t.selection.y[0])).attr("width",t.xScale(t.selection.x[1]-t.selection.x[0])).attr("height",t.yScale(t.selection.y[1]-t.selection.y[0]))}});var irt=ms({props:{width:{},height:{},scale:{},label:{}},init:function(t,n){n.gradient=rrt()(t),n.el=It(t),n.box=n.el.append("rect").attr("x",0).attr("y",0).attr("rx",3).attr("ry",3).attr("stroke","black").attr("stroke-width",.5),n.unitLabel=n.el.append("text").attr("class","legendText").style("text-anchor","middle").style("dominant-baseline","central"),n.labelFitText=_w()(n.unitLabel.node()),n.startLabel=n.el.append("text").style("text-anchor","start").style("dominant-baseline","central"),n.startLabelFitText=_w()(n.startLabel.node()),n.endLabel=n.el.append("text").style("text-anchor","end").style("dominant-baseline","central"),n.endLabelFitText=_w()(n.endLabel.node())},update:function(t){t.gradient.colorScale(t.scale),t.box.attr("width",t.width).attr("height",t.height).style("fill","url(#".concat(t.gradient.id(),")")),t.unitLabel.text(t.label).attr("x",t.width*.5).attr("y",t.height*.5).style("text-anchor","middle").style("dominant-baseline","central").style("fill",De(t.scale((t.scale.domain()[t.scale.domain().length-1]-t.scale.domain()[0])/2)).isLight()?"#444":"#CCC"),t.labelFitText.bbox({width:t.width*.8,height:t.height*.9}),t.startLabel.text(t.scale.domain()[0]).attr("x",t.width*.02).attr("y",t.height*.5).style("fill",De(t.scale(t.scale.domain()[0])).isLight()?"#444":"#CCC"),t.startLabelFitText.bbox({width:t.width*.3,height:t.height*.7}),t.endLabel.text(t.scale.domain()[t.scale.domain().length-1]).attr("x",t.width*.98).attr("y",t.height*.5).style("fill",De(t.scale(t.scale.domain()[t.scale.domain().length-1])).isLight()?"#444":"#CCC"),t.endLabelFitText.bbox({width:t.width*.3,height:t.height*.7})}}),ort=ms({props:{width:{},height:{},scale:{},label:{}},init:function(t,n){n.el=It(t)},update:function(t){var n=t.width/t.scale.domain().length,r=t.el.selectAll(".color-slot").data(t.scale.domain());r.exit().remove();var i=r.enter().append("g").attr("class","color-slot");i.append("rect").attr("y",0).attr("rx",0).attr("ry",0).attr("stroke-width",0),i.append("text").style("text-anchor","middle").style("dominant-baseline","central"),i.append("title"),r=r.merge(i),r.select("rect").attr("width",n).attr("height",t.height).attr("x",function(o,a){return n*a}).attr("fill",function(o){return t.scale(o)}),r.select("text").text(function(o){return o}).attr("x",function(o,a){return n*(a+.5)}).attr("y",t.height*.5).style("fill",function(o){return De(t.scale(o)).isLight()?"#333":"#DDD"}).each(function(o){_w().bbox({width:n*.9,height:t.height*.8})(this)}),r.select("title").text(function(o){return"".concat(o," ").concat(t.label)})}});ms({props:{width:{},height:{},scale:{},label:{}},init:function(t,n){n.legend=It(t).append("g").attr("class","legend")},update:function(t){if(t.scale){var n=!t.scale.hasOwnProperty("interpolate")&&!t.scale.hasOwnProperty("interpolator");t.legend.html(""),(n?ort:irt)().width(t.width).height(t.height).scale(t.scale).label(t.label)(t.legend.node())}}});const art="/COMP4462-Project/assets/legendChoroplethMap-5DF7JFdz.png";function srt({selectedProfId:e,setSelectedProfId:t}){const n=J.useRef(null);J.useState(!1),J.useEffect(()=>{n.current.innerHTML="";let a={};e||(a={GBR:26,SGP:29,CHN:468,USA:334,FRA:5,CAN:32,DEU:12,TUR:2,CHE:8,KOR:16,AUS:29,JPN:5,FIN:4,NLD:5,BEL:3,ISR:5,ARE:1,NZL:2,NOR:4,AUT:6,DNK:6,IRN:5,ITA:8,POL:2,CYP:1,GRC:12,EGY:1,IRL:1,IND:3,BRA:2});for(let S=0;S<Gl.data.length;S++)Gl.data[S].id===e&&(console.log("matched in useeffect"),a=Gl.data[S].coauthor);const s=450,u=300,l=It("#viz_container").append("svg").attr("width","780").attr("height","100%").attr("viewBox","0 0  450 300").attr("preserveAspectRatio","xMinYMin"),c=O7().scale(s/2.5/Math.PI).rotate([0,0]).center([0,0]).translate([s/2,u/2*1.3]),f=k2().projection(c),d=A3().domain([10,50,100,150]).range(["#DCE9FF","#8EBEFF","#589BE5","#0072BC"]).unknown("#E6E6E6"),p=l.append("g"),g=l.append("g"),y="https://raw.githubusercontent.com/GDS-ODSSS/unhcr-dataviz-platform/master/data/geospatial/choropleth_map.csv",v="https://raw.githubusercontent.com/GDS-ODSSS/unhcr-dataviz-platform/master/data/geospatial/world_polygons_simplified.json",b="https://raw.githubusercontent.com/GDS-ODSSS/unhcr-dataviz-platform/master/data/geospatial/world_lines_simplified.json",x=[JI(v),J5e(y)];Promise.all(x).then(_);function _([S,C]){const E={};C.forEach(function(N){E[N.iso3]=+N.refugees}),console.log(E);const k=function(N){SI(".countries").transition().duration(100).style("opacity",.3),It(this).transition().duration(100).style("opacity",1)},O=function(N){SI(".countries").transition().duration(100).style("opacity",1),It(this).transition().duration(100).style("opacity",1)};p.selectAll("path").data(dC(S,S.objects.world_polygons_simplified).features).join("path").attr("fill",function(N){return d(N.refugees=a[N.properties.color_code])}).attr("d",f).attr("class",function(N){return"countries"}).on("mouseover",k).on("mouseleave",O).append("title").text(function(N){return`${N.properties.gis_name} 
No. of Coauthors: ${vf(",")(N.refugees)}`})}JI(b).then(function(S){g.selectAll("path").data(dC(S,S.objects.world_lines_simplified).features).enter().append("path").attr("d",f).style("fill","none").attr("class",function(C){return C.properties.type})});{var A=X8e().scaleExtent([1,8]).on("zoom",function(S){p.selectAll("path").attr("transform",S.transform),g.selectAll("path").attr("transform",S.transform)});l.call(A)}l.append("g").attr("class","legendThreshold").attr("transform","translate(5,255)")},[e]);const r=a=>{for(let s=0;s<_d.length;s++)if(_d[s].scholar_id==a)return _d[s].name;return""},i=()=>{console.log("in getAuthor",e,Gl.data.length);for(let a=0;a<Gl.data.length;a++)if(console.log(Gl.data[a].id," vs ",e),Gl.data[a].id===e)return console.log("matched"),Gl.data[a].coauthorLong;return console.log("null!"),null},o=()=>{const a=r(e),s=i();return console.log("coauthorNetwork",s),V.jsx(kc,{children:V.jsxs("div",{style:{textAlign:"justify"},children:[V.jsxs("p",{style:{fontWeight:"bold",fontSize:"18px"},children:["Prof. ",a]}),Object.keys(s).length!==0?V.jsxs("div",{style:{fontWeight:"bold",fontSize:"14px"},children:[V.jsx("div",{style:{float:"left",minWidth:"150px"},children:"Country/Region"}),V.jsx("div",{children:"Number"})]}):V.jsx("div",{children:"No data from Goolge Scholar for external collaboration."}),V.jsx("div",{children:Object.entries(s).map(([u,l])=>V.jsxs("div",{children:[V.jsx("div",{style:{float:"left",minWidth:"150px"},children:u}),V.jsx("div",{children:l})]},u))})]})})};return console.log(e),V.jsx("div",{children:V.jsxs(kc,{children:[V.jsxs(Wo,{children:[V.jsx(kc,{children:V.jsx("p",{style:{textAlign:"justify"},children:"HKUST CSE researchers often collaborate with other researchers outside of the department and the instituition. Here is a choropleth map that shows the number of coauthorship with external instuition in different countries and regions. Feel free to zoom in, and hover on the regions to view the respective collaboration."})}),e?o():V.jsx(V.Fragment,{})]}),V.jsx(Wo,{children:V.jsxs("div",{children:[V.jsx("div",{className:"",id:"viz_container",ref:n}),V.jsx("img",{style:{height:"100px"},src:art})]})})]})})}const urt=["Sunil ARYA","Brahim BENSAOU","Gary Shueng Han CHAN","Hao CHEN","Kai CHEN","Lei CHEN","Long CHEN","Qifeng CHEN","Minhao CHENG","Siu Wing CHENG","Shing Chi CHEUNG","Albert Chi Shing CHUNG","Cunsheng DING","Amir KAFSHDAR GOHARSHADY","Mordecai Jay GOLIN","Song GUO","Yike GUO","Junxian HE","Andrew Brian HORNER","Sung Hun KIM","James Tin Yau KWOK","Bo LI","Mo LI","Fangzhen LIN","Qiong LUO","Xiaojuan MA","Brian Kan Wing MAK","Wilfred Siu Hung NG","Dimitris PAPADIAS","Dimitris PAPADOPOULOS","Lionel PARREAUX","Huamin QU","Long QUAN","Pedro SANDER","Dongdong SHE","Jiasi SHEN","Yangqiu SONG","Chiew Lan TAI","Chi Keung TANG","Shuai WANG","Wei WANG","Raymond Chi Wing WONG","Dekai WU","Dan XU","Dit Yan YEUNG","Ke YI","Binhang YUAN","Charles Chuan ZHANG","Nevin Lianwen ZHANG","Qian ZHANG","Xiaofang ZHOU","","Artificial Intelligence","Cybersecurity","Data, Knowledge & Info Mgmt","Human-Computer Interaction","Networking and Computer Systems","Software Engg and Prog Lang","Theoretical Computer Science","Vision and Graphics",""],lrt=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68],[0,0,0,1,0,0,1,1,1,0,0,1,0,0,0,0,0,1,0,1,1,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,1,0,0,0,1,1,0,0,0,0,0,1,0,0,0,1,1,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0],[1,0,0,0,0,0,0,0,0,1,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,1,0,0,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,0,0,0,0,0,0,0,0,0]],iq={Names:urt,matrix:lrt};function crt({selectedProfId:e,setSelectedProfId:t}){const n=J.useRef(null);return J.useEffect(()=>{const r=function(){var G=Math.PI,ee=2*G,ne={},de,me,ce,be,re=0,_e,Ae,te;function Le(){var Ue={},dt=[],$t=Pn(be),xr=[],Mn,ke,yt,wt,kt;for(de=[],me=[],Mn=0,wt=-1;++wt<be;){for(ke=0,kt=-1;++kt<be;)ke+=ce[wt][kt];dt.push(ke),xr.push(Pn(be).reverse()),Mn+=ke}for(_e&&$t.sort(function(Ff,Fl){return _e(dt[Ff],dt[Fl])}),Ae&&xr.forEach(function(Ff,Fl){Ff.sort(function(Yg,Jg){return Ae(ce[Fl][Yg],ce[Fl][Jg])})}),Mn=(ee-re*be)/Mn,ke=0,wt=-1;++wt<be;){for(yt=ke,kt=-1;++kt<be;){var wr=$t[wt],Wn=xr[wr][kt],ba=ce[wr][Wn],bi=ke,xa=ke+=ba*Mn;Ue[wr+"-"+Wn]={index:wr,subindex:Wn,startAngle:bi,endAngle:xa,value:ba}}me[wr]={index:wr,startAngle:yt,endAngle:ke,value:(ke-yt)/Mn},ke+=re}for(wt=-1;++wt<be;)for(kt=wt-1;++kt<be;){var Ol=Ue[wt+"-"+kt],Rl=Ue[kt+"-"+wt];(Ol.value||Rl.value)&&de.push(Ol.value<Rl.value?{source:Rl,target:Ol}:{source:Ol,target:Rl})}te&&Te()}function Te(){de.sort(function(Ue,dt){return te((Ue.source.value+Ue.target.value)/2,(dt.source.value+dt.target.value)/2)})}return ne.matrix=function(Ue){return arguments.length?(be=(ce=Ue)&&ce.length,de=me=null,ne):ce},ne.padding=function(Ue){return arguments.length?(re=Ue,de=me=null,ne):re},ne.sortGroups=function(Ue){return arguments.length?(_e=Ue,de=me=null,ne):_e},ne.sortSubgroups=function(Ue){return arguments.length?(Ae=Ue,de=null,ne):Ae},ne.sortChords=function(Ue){return arguments.length?(te=Ue,de&&Te(),ne):te},ne.chords=function(){return de||Le(),de},ne.groups=function(){return me||Le(),me},ne},i=function(){var G=Ue,ee=dt,ne=Te,de=$t,me=xr,ce=0,be=Math.PI,re=be/2;function _e(ke,yt,wt,kt){var wr=yt.call(ke,wt,kt),Wn=ne.call(ke,wr,kt),ba=de.call(ke,wr,kt)-re,bi=me.call(ke,wr,kt)-re;return{r:Wn,a0:[ba],a1:[bi],p0:[Wn*Math.cos(ba),Wn*Math.sin(ba)],p1:[Wn*Math.cos(bi),Wn*Math.sin(bi)]}}function Ae(ke,yt,wt){var kt=yt[0]>=0?1:-1;return"A"+ke+","+ke+" 0 "+ +(wt>be)+",1 "+(yt[0]+kt*ce)+","+yt[1]}function te(ke){var yt=ke[0]>=0?1:-1;return"Q 0,0 "+(ke[0]+yt*ce)+","+ke[1]}function Le(ke,yt){var wt=_e(this,G,ke,yt),kt=_e(this,ee,ke,yt);return"M"+(wt.p0[0]+ce)+","+wt.p0[1]+Ae(wt.r,wt.p1,wt.a1-wt.a0)+te(kt.p0)+Ae(kt.r,kt.p1,kt.a1-kt.a0)+te(wt.p0)+"Z"}Le.radius=function(ke){return arguments.length?(ne=Mn(ke),Le):ne},Le.pullOutSize=function(ke){return arguments.length?(ce=ke,Le):ce},Le.source=function(ke){return arguments.length?(G=Mn(ke),Le):G},Le.target=function(ke){return arguments.length?(ee=Mn(ke),Le):ee},Le.startAngle=function(ke){return arguments.length?(de=Mn(ke),Le):de},Le.endAngle=function(ke){return arguments.length?(me=Mn(ke),Le):me};function Te(ke){return ke.radius}function Ue(ke){return ke.source}function dt(ke){return ke.target}function $t(ke){return ke.startAngle}function xr(ke){return ke.endAngle}function Mn(ke){return typeof ke=="function"?ke:function(){return ke}}return Le},o=It(n.current);o.selectAll("*").remove();const a={left:40,top:10,right:0,bottom:10},s=800-a.left-a.right,u=650-a.top-a.bottom,l=o.append("svg").attr("width",s+a.left+a.right).attr("height",u+a.top+a.bottom);var c=l.append("g").attr("class","chordWrapper").attr("transform","translate("+(s/2+a.left)+","+(u/2+a.top)+")"),f=Math.min(s,u)/2-100+0,d=f*.95,p=.9,g=.02,y=0,v=l.append("g").attr("class","chordTitleWrapper"),b=40,x=0;v.append("text").attr("class","title left").style("font-size","16px").attr("x",s/2+a.left-f-x).attr("y",b).text("Interest"),v.append("line").attr("class","titleLine left").attr("x1",(s/2+a.left-f-x)*.6).attr("x2",(s/2+a.left-f-x)*1.4).attr("y1",b+8).attr("y2",b+8),v.append("text").attr("class","title right").style("font-size","16px").attr("x",s/2+a.left+f+x).attr("y",b).text("Professor"),v.append("line").attr("class","titleLine right").attr("x1",(s/2+a.left-f-x)*.6+2*(f+x)).attr("x2",(s/2+a.left-f-x)*1.4+2*(f+x)).attr("y1",b+8).attr("y2",b+8);var _=c.append("defs"),A=_.append("linearGradient").attr("id","animatedGradient").attr("x1","0%").attr("y1","0%").attr("x2","100%").attr("y2","0").attr("spreadMethod","reflect");A.append("animate").attr("attributeName","x1").attr("values","0%;100%").attr("dur","7s").attr("repeatCount","indefinite"),A.append("animate").attr("attributeName","x2").attr("values","100%;200%").attr("dur","7s").attr("repeatCount","indefinite"),A.append("stop").attr("offset","5%").attr("stop-color","#E8E8E8"),A.append("stop").attr("offset","45%").attr("stop-color","#A3A3A3"),A.append("stop").attr("offset","55%").attr("stop-color","#A3A3A3"),A.append("stop").attr("offset","95%").attr("stop-color","#E8E8E8");var S=iq.Names,C=68,E=.5,k=Math.round(C*E),O=iq.matrix,N=2*Math.PI*(k/(C+k))/4,F=r().padding(.02).sortChords(yg).matrix(O),W=lZ().innerRadius(d).outerRadius(f).startAngle(P).endAngle(U),I=i().radius(d).startAngle(P).endAngle(U).pullOutSize(y),M=c.selectAll("g.group").data(F.groups).enter().append("g").attr("class","group").on("click",X);M.append("path").style("stroke",function(G,ee){return S[ee]===""?"none":H(S[ee])}).style("fill",function(G,ee){return S[ee]===""?"none":H(S[ee])}).style("pointer-events",function(G,ee){return S[ee]===""?"none":"auto"}).attr("d",W).attr("transform",function(G,ee){return G.pullOutSize=y*(G.startAngle+.001>Math.PI?-1:1),"translate("+G.pullOutSize+",0)"}),M.append("text").each(function(G){G.angle=(G.startAngle+G.endAngle)/2+N}).attr("dy",".35em").attr("class","titles").style("font-size","10px").attr("text-anchor",function(G){return G.angle>Math.PI?"end":null}).attr("transform",function(G,ee){var ne=W.centroid(G);return"translate("+(ne[0]+G.pullOutSize)+","+ne[1]+")rotate("+(G.angle*180/Math.PI-90)+")translate(20,0)"+(G.angle>Math.PI?"rotate(180)":"")}).text(function(G,ee){return S[ee]}).call(z,200),c.selectAll("path.chord").data(F.chords).enter().append("path").attr("class","chord").style("stroke","none").style("fill",function(G,ee){return e===""||_d.findIndex(D),H(S[G.target.index])}).style("opacity",function(G){if(S[G.source.index]==="")return 0;if(e==="")return p;var ee=_d.findIndex(D);return G.source.index==ee?p:g}).style("pointer-events",function(G,ee){return S[G.source.index]===""?"none":"auto"}).attr("d",I).on("click",j).transition();function D(G){return G.scholar_id==e}function P(G){return G.startAngle+N}function U(G){return G.endAngle+N}function z(G,ee){G.each(function(){for(var ne=It(this),de=ne.text().split(/\s+/).reverse(),me,ce=[],be=0,re=1.1,_e=0,Ae=0,te=parseFloat(ne.attr("dy")),Le=ne.text(null).append("tspan").attr("x",Ae).attr("y",_e).attr("dy",te+"em");me=de.pop();)ce.push(me),Le.text(ce.join(" ")),Le.node().getComputedTextLength()>ee&&(ce.pop(),Le.text(ce.join(" ")),ce=[me],Le=ne.append("tspan").attr("x",Ae).attr("y",_e).attr("dy",++be*re+te+"em").text(me))})}function H(G){switch(G){case"Artificial Intelligence":return"#5778a4";case"Cybersecurity":return"#e7ca60";case"Data, Knowledge & Info Mgmt":return"#85b6b2";case"Human-Computer Interaction":return"#f1a2a9";case"Networking and Computer Systems":return"#6a9f58";case"Software Engg and Prog Lang":return"#e49444";case"Theoretical Computer Science":return"#a87c9f";case"Vision and Graphics":return"#d1615d";case"":return"none"}return"#999"}function j(G,ee){t(_d[ee.source.index].scholar_id)}function X(G,ee){t(_d[ee.index].scholar_id)}},[e]),V.jsx("div",{children:V.jsxs(kc,{children:[V.jsxs(Wo,{children:[V.jsx("p",{style:{textAlign:"justify"},children:"Understanding professors' research interests helps you choose relevant courses, seize research opportunities, and gain valuable knowledge and insights. It enables you to align your interests with specialized professors, pursue research collaborations, and deepen your understanding of the field."}),V.jsx("p",{children:"Feel free to click on the path or professors' names to view their interests."}),V.jsx("div",{className:"mt-3",style:{color:"red"}})]}),V.jsx(Wo,{style:{padding:"0px"},children:V.jsx("div",{className:"research-interest",ref:n})})]})})}const frt=()=>{const[e,t]=J.useState("perfTab"),[n,r]=J.useState(""),[i,o]=J.useState(""),[a,s]=J.useState(""),u=J.useCallback(A=>{o(A)},[]),l=J.useMemo(()=>wy.find(A=>A.gs_id==i),[i]),c=J.useMemo(()=>wy.filter(A=>{var S=n==""||A.name.toLowerCase().includes(n.toLowerCase()),C=a==""||A.rank.split(" and ").find(E=>E==a);return S&&C}),[n,a]),f=J.useMemo(()=>V.jsx(EKe,{profData:l}),[l]),d=J.useMemo(()=>V.jsx(CKe,{profData:l}),[l]),p=J.useMemo(()=>V.jsx(K8e,{selectedProfId:i,setSelectedProfId:u}),[i]),g=J.useMemo(()=>V.jsx(srt,{selectedProfId:i,setSelectedProfId:u}),[i]),y=J.useMemo(()=>V.jsx(crt,{selectedProfId:i,setSelectedProfId:u}),[i]),v=J.useMemo(()=>V.jsx(Btt,{selectedProfId:i,setSelectedProfId:u}),[i]),b=A=>{t(A)},x=A=>{r(A.target.value)},_=A=>{s(A)};return V.jsx(tI,{fluid:!0,children:V.jsxs(kc,{children:[V.jsxs(Wo,{style:{padding:"20px 0px 20px 20px"},children:[V.jsx("h2",{children:"HKUST CSE Department Google Scholar Visualization"}),V.jsx("p",{children:"This visualization aims to act as a visual aid to evaluate HKUST CSE Department's regular faculty members' performance, research interest and co-authorship network in overall and individual view. Select a faculty member for more indivdual details. Click “Deselect“ to view overall visualisation. (The data is updated up to 16 Nov 2023)"}),V.jsxs(sh.Container,{activeKey:e,onSelect:b,children:[V.jsxs(Cu,{variant:"tabs",className:"mb-3",children:[V.jsx(Cu.Item,{children:V.jsx(Cu.Link,{eventKey:"perfTab",children:"Performance"})}),V.jsx(Cu.Item,{children:V.jsx(Cu.Link,{eventKey:"interestTab",children:"Research Interests"})}),V.jsx(Cu.Item,{children:V.jsx(Cu.Link,{eventKey:"interCoauthorTab",children:"Internal co-authorship Network"})}),V.jsx(Cu.Item,{children:V.jsx(Cu.Link,{eventKey:"exterCoauthorTab",children:"External co-authorship Network"})})]}),V.jsxs(sh.Content,{children:[V.jsxs(sh.Pane,{eventKey:"perfTab",children:[V.jsxs("p",{children:["The i10-index and h-index are important indicators of the productivity and the citation impact of publication of an author. On the left side, the two indicators are used to plot a scatterplot. You may choose the overall view or the 5-year view. You can hover each point for details, or click to select a faculty member.",V.jsx("br",{}),V.jsx("br",{}),"The number of citations and publications also provide significant insight into analysing research impact and rank of all professors in the CSE department at HKUST.  On the right side, line charts for total citation per year and total publication per year are displayed. You can select a specific author on the author panel to view the charts for his/her respective citation per year and publication per year."]}),V.jsxs(kc,{children:[V.jsx(Wo,{children:V.jsx("div",{style:{width:"500px"},children:v})}),V.jsx(Wo,{children:V.jsxs("div",{className:"d-flex flex-column align-items-end",children:[f,d,V.jsx("p",{children:"Note: The values for 2023 are still counting."})]})})]})]}),V.jsx(sh.Pane,{eventKey:"interestTab",children:y}),V.jsx(sh.Pane,{eventKey:"interCoauthorTab",children:V.jsx("div",{children:p})}),V.jsx(sh.Pane,{eventKey:"exterCoauthorTab",children:g})]})]})]}),V.jsx(Wo,{sm:3,style:{maxHeight:"100vh",width:"350px"},children:V.jsxs(tI,{className:"d-flex flex-column",style:{height:"100vh",padding:"20px 10px 20px 10px"},children:[l&&V.jsxs(x9,{className:"mb-3 p-0",children:[V.jsx(x9.Header,{children:V.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:["Selected Faculty Member",V.jsx(Jk,{variant:"outline-secondary",onClick:()=>o(""),children:"Deselect"})]})}),V.jsx(x9.Body,{children:V.jsxs(kc,{children:[V.jsx(Wo,{xs:2,style:{width:"120px"},children:V.jsx("img",{src:l.url_picture?l.url_picture:$Ke,className:"avatar"})}),V.jsxs(Wo,{children:[V.jsx("span",{style:{fontWeight:"bold"},children:"Name:"})," ",l.name," ",V.jsx("br",{}),V.jsx("span",{style:{fontWeight:"bold"},children:"Tel:"})," ",l.tel," ",V.jsx("br",{}),V.jsx("span",{style:{fontWeight:"bold"},children:"Email:"})," ",l.email," ",V.jsx("br",{}),V.jsx("span",{style:{fontWeight:"bold"},children:"Google Scholar ID:"})," ",l.gs_id," ",V.jsx("br",{})]})]})})]}),V.jsxs("div",{className:"mb-3 d-flex",children:[V.jsx(Hxe,{type:"text",placeholder:"Search Name",onChange:fwe.debounce(x,200)}),V.jsxs(Lb,{style:{marginLeft:"16px"},children:[V.jsx(Lb.Toggle,{variant:"secondary",id:"dropdown-basic",children:"Filter"}),V.jsx(Lb.Menu,{children:rJ.map((A,S)=>V.jsxs(Lb.Item,{onClick:()=>_(A),children:[V.jsx("svg",{width:"20",height:"10",children:V.jsx("circle",{cx:"5",cy:"5",r:"5",fill:Bm(A)})}),A]},`rank${S}`))})]})]}),a!=""&&V.jsxs("div",{className:"d-flex mb-3",children:[V.jsx("div",{className:"align-self-center",style:{marginRight:"16px",fontSize:"16px"},children:"Filter: "}),V.jsxs(Dve,{bg:"light",className:"p-2",children:[V.jsx("span",{style:{fontSize:"14px",color:"GrayText"},children:a}),V.jsx(Fve,{onClick:()=>s("")})]})]}),V.jsx("div",{className:"flex-grow-1",style:{overflowY:"scroll"},children:V.jsx(xI,{children:c.map((A,S)=>V.jsxs(xI.Item,{onClick:()=>{o(A.gs_id)},active:i==A.gs_id,action:!0,children:[V.jsxs("svg",{width:"20",height:"20",children:[V.jsx("circle",{cx:"7",cy:"10",r:"7",fill:"white"}),V.jsx("circle",{cx:"7",cy:"10",r:"5",fill:Bm(A.rank)})]}),A.name]},S))})})]})})]})})};v8.createRoot(document.getElementById("root")).render(V.jsx(frt,{}))});export default drt();
